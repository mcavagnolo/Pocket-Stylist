(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Yl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function JA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ZA={exports:{}},xm={},eP={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph=Symbol.for("react.element"),BV=Symbol.for("react.portal"),UV=Symbol.for("react.fragment"),jV=Symbol.for("react.strict_mode"),$V=Symbol.for("react.profiler"),zV=Symbol.for("react.provider"),WV=Symbol.for("react.context"),HV=Symbol.for("react.forward_ref"),qV=Symbol.for("react.suspense"),KV=Symbol.for("react.memo"),GV=Symbol.for("react.lazy"),ZT=Symbol.iterator;function XV(t){return t===null||typeof t!="object"?null:(t=ZT&&t[ZT]||t["@@iterator"],typeof t=="function"?t:null)}var tP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nP=Object.assign,rP={};function Ql(t,e,n){this.props=t,this.context=e,this.refs=rP,this.updater=n||tP}Ql.prototype.isReactComponent={};Ql.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ql.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iP(){}iP.prototype=Ql.prototype;function s0(t,e,n){this.props=t,this.context=e,this.refs=rP,this.updater=n||tP}var o0=s0.prototype=new iP;o0.constructor=s0;nP(o0,Ql.prototype);o0.isPureReactComponent=!0;var eb=Array.isArray,sP=Object.prototype.hasOwnProperty,a0={current:null},oP={key:!0,ref:!0,__self:!0,__source:!0};function aP(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)sP.call(e,r)&&!oP.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ph,type:t,key:s,ref:o,props:i,_owner:a0.current}}function YV(t,e){return{$$typeof:Ph,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function l0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ph}function QV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tb=/\/+/g;function $g(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QV(""+t.key):e.toString(36)}function wf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ph:case BV:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+$g(o,0):r,eb(i)?(n="",t!=null&&(n=t.replace(tb,"$&/")+"/"),wf(i,e,n,"",function(u){return u})):i!=null&&(l0(i)&&(i=YV(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(tb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",eb(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+$g(s,a);o+=wf(s,e,n,l,i)}else if(l=XV(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+$g(s,a++),o+=wf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xd(t,e,n){if(t==null)return t;var r=[],i=0;return wf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function JV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},Sf={transition:null},ZV={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:Sf,ReactCurrentOwner:a0};function lP(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:xd,forEach:function(t,e,n){xd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xd(t,function(){e++}),e},toArray:function(t){return xd(t,function(e){return e})||[]},only:function(t){if(!l0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=Ql;ve.Fragment=UV;ve.Profiler=$V;ve.PureComponent=s0;ve.StrictMode=jV;ve.Suspense=qV;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZV;ve.act=lP;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=nP({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=a0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)sP.call(e,l)&&!oP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ph,type:t.type,key:i,ref:s,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:WV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zV,_context:t},t.Consumer=t};ve.createElement=aP;ve.createFactory=function(t){var e=aP.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:HV,render:t}};ve.isValidElement=l0;ve.lazy=function(t){return{$$typeof:GV,_payload:{_status:-1,_result:t},_init:JV}};ve.memo=function(t,e){return{$$typeof:KV,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=Sf.transition;Sf.transition={};try{t()}finally{Sf.transition=e}};ve.unstable_act=lP;ve.useCallback=function(t,e){return dn.current.useCallback(t,e)};ve.useContext=function(t){return dn.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};ve.useEffect=function(t,e){return dn.current.useEffect(t,e)};ve.useId=function(){return dn.current.useId()};ve.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return dn.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};ve.useRef=function(t){return dn.current.useRef(t)};ve.useState=function(t){return dn.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return dn.current.useTransition()};ve.version="18.3.1";eP.exports=ve;var R=eP.exports;const ht=Yl(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eF=R,tF=Symbol.for("react.element"),nF=Symbol.for("react.fragment"),rF=Object.prototype.hasOwnProperty,iF=eF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sF={key:!0,ref:!0,__self:!0,__source:!0};function uP(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)rF.call(e,r)&&!sF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tF,type:t,key:s,ref:o,props:i,_owner:iF.current}}xm.Fragment=nF;xm.jsx=uP;xm.jsxs=uP;ZA.exports=xm;var M=ZA.exports,Cv={},cP={exports:{}},zn={},hP={exports:{}},dP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,Y){var ee=j.length;j.push(Y);e:for(;0<ee;){var ye=ee-1>>>1,xe=j[ye];if(0<i(xe,Y))j[ye]=Y,j[ee]=xe,ee=ye;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var Y=j[0],ee=j.pop();if(ee!==Y){j[0]=ee;e:for(var ye=0,xe=j.length,rn=xe>>>1;ye<rn;){var rt=2*(ye+1)-1,Nt=j[rt],ut=rt+1,je=j[ut];if(0>i(Nt,ee))ut<xe&&0>i(je,Nt)?(j[ye]=je,j[ut]=ee,ye=ut):(j[ye]=Nt,j[rt]=ee,ye=rt);else if(ut<xe&&0>i(je,ee))j[ye]=je,j[ut]=ee,ye=ut;else break e}}return Y}function i(j,Y){var ee=j.sortIndex-Y.sortIndex;return ee!==0?ee:j.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,f=3,p=!1,g=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(j){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=j)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function x(j){if(E=!1,S(j),!g)if(n(l)!==null)g=!0,Le(D);else{var Y=n(u);Y!==null&&be(x,Y.startTime-j)}}function D(j,Y){g=!1,E&&(E=!1,w(y),y=-1),p=!0;var ee=f;try{for(S(Y),d=n(l);d!==null&&(!(d.expirationTime>Y)||j&&!A());){var ye=d.callback;if(typeof ye=="function"){d.callback=null,f=d.priorityLevel;var xe=ye(d.expirationTime<=Y);Y=t.unstable_now(),typeof xe=="function"?d.callback=xe:d===n(l)&&r(l),S(Y)}else r(l);d=n(l)}if(d!==null)var rn=!0;else{var rt=n(u);rt!==null&&be(x,rt.startTime-Y),rn=!1}return rn}finally{d=null,f=ee,p=!1}}var O=!1,T=null,y=-1,C=5,I=-1;function A(){return!(t.unstable_now()-I<C)}function L(){if(T!==null){var j=t.unstable_now();I=j;var Y=!0;try{Y=T(!0,j)}finally{Y?k():(O=!1,T=null)}}else O=!1}var k;if(typeof v=="function")k=function(){v(L)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,he=le.port2;le.port1.onmessage=L,k=function(){he.postMessage(null)}}else k=function(){b(L,0)};function Le(j){T=j,O||(O=!0,k())}function be(j,Y){y=b(function(){j(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,Le(D))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var ee=f;f=Y;try{return j()}finally{f=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,Y){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ee=f;f=j;try{return Y()}finally{f=ee}},t.unstable_scheduleCallback=function(j,Y,ee){var ye=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ye+ee:ye):ee=ye,j){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ee+xe,j={id:h++,callback:Y,priorityLevel:j,startTime:ee,expirationTime:xe,sortIndex:-1},ee>ye?(j.sortIndex=ee,e(u,j),n(l)===null&&j===n(u)&&(E?(w(y),y=-1):E=!0,be(x,ee-ye))):(j.sortIndex=xe,e(l,j),g||p||(g=!0,Le(D))),j},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(j){var Y=f;return function(){var ee=f;f=Y;try{return j.apply(this,arguments)}finally{f=ee}}}})(dP);hP.exports=dP;var oF=hP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aF=R,$n=oF;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fP=new Set,Wc={};function ma(t,e){Ml(t,e),Ml(t+"Capture",e)}function Ml(t,e){for(Wc[t]=e,t=0;t<e.length;t++)fP.add(e[t])}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Iv=Object.prototype.hasOwnProperty,lF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nb={},rb={};function uF(t){return Iv.call(rb,t)?!0:Iv.call(nb,t)?!1:lF.test(t)?rb[t]=!0:(nb[t]=!0,!1)}function cF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hF(t,e,n,r){if(e===null||typeof e>"u"||cF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var u0=/[\-:]([a-z])/g;function c0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(u0,c0);Wt[e]=new fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(u0,c0);Wt[e]=new fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(u0,c0);Wt[e]=new fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new fn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function h0(t,e,n,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hF(e,n,i,r)&&(n=null),r||i===null?uF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ki=aF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ad=Symbol.for("react.element"),Za=Symbol.for("react.portal"),el=Symbol.for("react.fragment"),d0=Symbol.for("react.strict_mode"),xv=Symbol.for("react.profiler"),pP=Symbol.for("react.provider"),mP=Symbol.for("react.context"),f0=Symbol.for("react.forward_ref"),Av=Symbol.for("react.suspense"),Pv=Symbol.for("react.suspense_list"),p0=Symbol.for("react.memo"),bs=Symbol.for("react.lazy"),gP=Symbol.for("react.offscreen"),ib=Symbol.iterator;function Vu(t){return t===null||typeof t!="object"?null:(t=ib&&t[ib]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,zg;function Ju(t){if(zg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zg=e&&e[1]||""}return`
`+zg+t}var Wg=!1;function Hg(t,e){if(!t||Wg)return"";Wg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ju(t):""}function dF(t){switch(t.tag){case 5:return Ju(t.type);case 16:return Ju("Lazy");case 13:return Ju("Suspense");case 19:return Ju("SuspenseList");case 0:case 2:case 15:return t=Hg(t.type,!1),t;case 11:return t=Hg(t.type.render,!1),t;case 1:return t=Hg(t.type,!0),t;default:return""}}function kv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case el:return"Fragment";case Za:return"Portal";case xv:return"Profiler";case d0:return"StrictMode";case Av:return"Suspense";case Pv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mP:return(t.displayName||"Context")+".Consumer";case pP:return(t._context.displayName||"Context")+".Provider";case f0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case p0:return e=t.displayName||null,e!==null?e:kv(t.type)||"Memo";case bs:e=t._payload,t=t._init;try{return kv(t(e))}catch{}}return null}function fF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kv(e);case 8:return e===d0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pF(t){var e=yP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pd(t){t._valueTracker||(t._valueTracker=pF(t))}function vP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function up(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ov(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _P(t,e){e=e.checked,e!=null&&h0(t,"checked",e,!1)}function Dv(t,e){_P(t,e);var n=Xs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mv(t,e.type,Xs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ob(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mv(t,e,n){(e!=="number"||up(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zu=Array.isArray;function _l(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ab(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Zu(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xs(n)}}function wP(t,e){var n=Xs(e.value),r=Xs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function SP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?SP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kd,EP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kd=kd||document.createElement("div"),kd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mF=["Webkit","ms","Moz","O"];Object.keys(vc).forEach(function(t){mF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vc[e]=vc[t]})});function TP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vc.hasOwnProperty(t)&&vc[t]?(""+e).trim():e+"px"}function bP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=TP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var gF=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vv(t,e){if(e){if(gF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Fv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bv=null;function m0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Uv=null,wl=null,Sl=null;function ub(t){if(t=Dh(t)){if(typeof Uv!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Dm(e),Uv(t.stateNode,t.type,e))}}function RP(t){wl?Sl?Sl.push(t):Sl=[t]:wl=t}function CP(){if(wl){var t=wl,e=Sl;if(Sl=wl=null,ub(t),e)for(t=0;t<e.length;t++)ub(e[t])}}function IP(t,e){return t(e)}function xP(){}var qg=!1;function AP(t,e,n){if(qg)return t(e,n);qg=!0;try{return IP(t,e,n)}finally{qg=!1,(wl!==null||Sl!==null)&&(xP(),CP())}}function qc(t,e){var n=t.stateNode;if(n===null)return null;var r=Dm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var jv=!1;if(Li)try{var Fu={};Object.defineProperty(Fu,"passive",{get:function(){jv=!0}}),window.addEventListener("test",Fu,Fu),window.removeEventListener("test",Fu,Fu)}catch{jv=!1}function yF(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var _c=!1,cp=null,hp=!1,$v=null,vF={onError:function(t){_c=!0,cp=t}};function _F(t,e,n,r,i,s,o,a,l){_c=!1,cp=null,yF.apply(vF,arguments)}function wF(t,e,n,r,i,s,o,a,l){if(_F.apply(this,arguments),_c){if(_c){var u=cp;_c=!1,cp=null}else throw Error(z(198));hp||(hp=!0,$v=u)}}function ga(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function PP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cb(t){if(ga(t)!==t)throw Error(z(188))}function SF(t){var e=t.alternate;if(!e){if(e=ga(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return cb(i),t;if(s===r)return cb(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function kP(t){return t=SF(t),t!==null?OP(t):null}function OP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=OP(t);if(e!==null)return e;t=t.sibling}return null}var DP=$n.unstable_scheduleCallback,hb=$n.unstable_cancelCallback,EF=$n.unstable_shouldYield,TF=$n.unstable_requestPaint,dt=$n.unstable_now,bF=$n.unstable_getCurrentPriorityLevel,g0=$n.unstable_ImmediatePriority,MP=$n.unstable_UserBlockingPriority,dp=$n.unstable_NormalPriority,RF=$n.unstable_LowPriority,LP=$n.unstable_IdlePriority,Am=null,Jr=null;function CF(t){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(Am,t,void 0,(t.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:AF,IF=Math.log,xF=Math.LN2;function AF(t){return t>>>=0,t===0?32:31-(IF(t)/xF|0)|0}var Od=64,Dd=4194304;function ec(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ec(a):(s&=o,s!==0&&(r=ec(s)))}else o=n&~i,o!==0?r=ec(o):s!==0&&(r=ec(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cr(e),i=1<<n,r|=t[n],e&=~i;return r}function PF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Cr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=PF(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function zv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NP(){var t=Od;return Od<<=1,!(Od&4194240)&&(Od=64),t}function Kg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cr(e),t[e]=n}function OF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Cr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function y0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function VP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var FP,v0,BP,UP,jP,Wv=!1,Md=[],Vs=null,Fs=null,Bs=null,Kc=new Map,Gc=new Map,Is=[],DF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function db(t,e){switch(t){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Kc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(e.pointerId)}}function Bu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Dh(e),e!==null&&v0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function MF(t,e,n,r,i){switch(e){case"focusin":return Vs=Bu(Vs,t,e,n,r,i),!0;case"dragenter":return Fs=Bu(Fs,t,e,n,r,i),!0;case"mouseover":return Bs=Bu(Bs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Kc.set(s,Bu(Kc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Gc.set(s,Bu(Gc.get(s)||null,t,e,n,r,i)),!0}return!1}function $P(t){var e=Bo(t.target);if(e!==null){var n=ga(e);if(n!==null){if(e=n.tag,e===13){if(e=PP(n),e!==null){t.blockedOn=e,jP(t.priority,function(){BP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ef(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bv=r,n.target.dispatchEvent(r),Bv=null}else return e=Dh(n),e!==null&&v0(e),t.blockedOn=n,!1;e.shift()}return!0}function fb(t,e,n){Ef(t)&&n.delete(e)}function LF(){Wv=!1,Vs!==null&&Ef(Vs)&&(Vs=null),Fs!==null&&Ef(Fs)&&(Fs=null),Bs!==null&&Ef(Bs)&&(Bs=null),Kc.forEach(fb),Gc.forEach(fb)}function Uu(t,e){t.blockedOn===e&&(t.blockedOn=null,Wv||(Wv=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,LF)))}function Xc(t){function e(i){return Uu(i,t)}if(0<Md.length){Uu(Md[0],t);for(var n=1;n<Md.length;n++){var r=Md[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vs!==null&&Uu(Vs,t),Fs!==null&&Uu(Fs,t),Bs!==null&&Uu(Bs,t),Kc.forEach(e),Gc.forEach(e),n=0;n<Is.length;n++)r=Is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Is.length&&(n=Is[0],n.blockedOn===null);)$P(n),n.blockedOn===null&&Is.shift()}var El=Ki.ReactCurrentBatchConfig,pp=!0;function NF(t,e,n,r){var i=De,s=El.transition;El.transition=null;try{De=1,_0(t,e,n,r)}finally{De=i,El.transition=s}}function VF(t,e,n,r){var i=De,s=El.transition;El.transition=null;try{De=4,_0(t,e,n,r)}finally{De=i,El.transition=s}}function _0(t,e,n,r){if(pp){var i=Hv(t,e,n,r);if(i===null)ry(t,e,r,mp,n),db(t,r);else if(MF(i,t,e,n,r))r.stopPropagation();else if(db(t,r),e&4&&-1<DF.indexOf(t)){for(;i!==null;){var s=Dh(i);if(s!==null&&FP(s),s=Hv(t,e,n,r),s===null&&ry(t,e,r,mp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ry(t,e,r,null,n)}}var mp=null;function Hv(t,e,n,r){if(mp=null,t=m0(r),t=Bo(t),t!==null)if(e=ga(t),e===null)t=null;else if(n=e.tag,n===13){if(t=PP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mp=t,null}function zP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bF()){case g0:return 1;case MP:return 4;case dp:case RF:return 16;case LP:return 536870912;default:return 16}default:return 16}}var Ms=null,w0=null,Tf=null;function WP(){if(Tf)return Tf;var t,e=w0,n=e.length,r,i="value"in Ms?Ms.value:Ms.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Tf=i.slice(t,1<r?1-r:void 0)}function bf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ld(){return!0}function pb(){return!1}function Wn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ld:pb,this.isPropagationStopped=pb,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ld)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ld)},persist:function(){},isPersistent:Ld}),e}var Jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},S0=Wn(Jl),Oh=et({},Jl,{view:0,detail:0}),FF=Wn(Oh),Gg,Xg,ju,Pm=et({},Oh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ju&&(ju&&t.type==="mousemove"?(Gg=t.screenX-ju.screenX,Xg=t.screenY-ju.screenY):Xg=Gg=0,ju=t),Gg)},movementY:function(t){return"movementY"in t?t.movementY:Xg}}),mb=Wn(Pm),BF=et({},Pm,{dataTransfer:0}),UF=Wn(BF),jF=et({},Oh,{relatedTarget:0}),Yg=Wn(jF),$F=et({},Jl,{animationName:0,elapsedTime:0,pseudoElement:0}),zF=Wn($F),WF=et({},Jl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HF=Wn(WF),qF=et({},Jl,{data:0}),gb=Wn(qF),KF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XF[t])?!!e[t]:!1}function E0(){return YF}var QF=et({},Oh,{key:function(t){if(t.key){var e=KF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E0,charCode:function(t){return t.type==="keypress"?bf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JF=Wn(QF),ZF=et({},Pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yb=Wn(ZF),eB=et({},Oh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E0}),tB=Wn(eB),nB=et({},Jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),rB=Wn(nB),iB=et({},Pm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sB=Wn(iB),oB=[9,13,27,32],T0=Li&&"CompositionEvent"in window,wc=null;Li&&"documentMode"in document&&(wc=document.documentMode);var aB=Li&&"TextEvent"in window&&!wc,HP=Li&&(!T0||wc&&8<wc&&11>=wc),vb=" ",_b=!1;function qP(t,e){switch(t){case"keyup":return oB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tl=!1;function lB(t,e){switch(t){case"compositionend":return KP(e);case"keypress":return e.which!==32?null:(_b=!0,vb);case"textInput":return t=e.data,t===vb&&_b?null:t;default:return null}}function uB(t,e){if(tl)return t==="compositionend"||!T0&&qP(t,e)?(t=WP(),Tf=w0=Ms=null,tl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return HP&&e.locale!=="ko"?null:e.data;default:return null}}var cB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cB[t.type]:e==="textarea"}function GP(t,e,n,r){RP(r),e=gp(e,"onChange"),0<e.length&&(n=new S0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sc=null,Yc=null;function hB(t){s1(t,0)}function km(t){var e=il(t);if(vP(e))return t}function dB(t,e){if(t==="change")return e}var XP=!1;if(Li){var Qg;if(Li){var Jg="oninput"in document;if(!Jg){var Sb=document.createElement("div");Sb.setAttribute("oninput","return;"),Jg=typeof Sb.oninput=="function"}Qg=Jg}else Qg=!1;XP=Qg&&(!document.documentMode||9<document.documentMode)}function Eb(){Sc&&(Sc.detachEvent("onpropertychange",YP),Yc=Sc=null)}function YP(t){if(t.propertyName==="value"&&km(Yc)){var e=[];GP(e,Yc,t,m0(t)),AP(hB,e)}}function fB(t,e,n){t==="focusin"?(Eb(),Sc=e,Yc=n,Sc.attachEvent("onpropertychange",YP)):t==="focusout"&&Eb()}function pB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return km(Yc)}function mB(t,e){if(t==="click")return km(e)}function gB(t,e){if(t==="input"||t==="change")return km(e)}function yB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ar=typeof Object.is=="function"?Object.is:yB;function Qc(t,e){if(Ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Iv.call(e,i)||!Ar(t[i],e[i]))return!1}return!0}function Tb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bb(t,e){var n=Tb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tb(n)}}function QP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function JP(){for(var t=window,e=up();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=up(t.document)}return e}function b0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vB(t){var e=JP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&QP(n.ownerDocument.documentElement,n)){if(r!==null&&b0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=bb(n,s);var o=bb(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _B=Li&&"documentMode"in document&&11>=document.documentMode,nl=null,qv=null,Ec=null,Kv=!1;function Rb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kv||nl==null||nl!==up(r)||(r=nl,"selectionStart"in r&&b0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ec&&Qc(Ec,r)||(Ec=r,r=gp(qv,"onSelect"),0<r.length&&(e=new S0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nl)))}function Nd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var rl={animationend:Nd("Animation","AnimationEnd"),animationiteration:Nd("Animation","AnimationIteration"),animationstart:Nd("Animation","AnimationStart"),transitionend:Nd("Transition","TransitionEnd")},Zg={},ZP={};Li&&(ZP=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function Om(t){if(Zg[t])return Zg[t];if(!rl[t])return t;var e=rl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ZP)return Zg[t]=e[n];return t}var e1=Om("animationend"),t1=Om("animationiteration"),n1=Om("animationstart"),r1=Om("transitionend"),i1=new Map,Cb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(t,e){i1.set(t,e),ma(e,[t])}for(var ey=0;ey<Cb.length;ey++){var ty=Cb[ey],wB=ty.toLowerCase(),SB=ty[0].toUpperCase()+ty.slice(1);oo(wB,"on"+SB)}oo(e1,"onAnimationEnd");oo(t1,"onAnimationIteration");oo(n1,"onAnimationStart");oo("dblclick","onDoubleClick");oo("focusin","onFocus");oo("focusout","onBlur");oo(r1,"onTransitionEnd");Ml("onMouseEnter",["mouseout","mouseover"]);Ml("onMouseLeave",["mouseout","mouseover"]);Ml("onPointerEnter",["pointerout","pointerover"]);Ml("onPointerLeave",["pointerout","pointerover"]);ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ma("onBeforeInput",["compositionend","keypress","textInput","paste"]);ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EB=new Set("cancel close invalid load scroll toggle".split(" ").concat(tc));function Ib(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wF(r,e,void 0,t),t.currentTarget=null}function s1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ib(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ib(i,a,u),s=l}}}if(hp)throw t=$v,hp=!1,$v=null,t}function ze(t,e){var n=e[Jv];n===void 0&&(n=e[Jv]=new Set);var r=t+"__bubble";n.has(r)||(o1(e,t,2,!1),n.add(r))}function ny(t,e,n){var r=0;e&&(r|=4),o1(n,t,r,e)}var Vd="_reactListening"+Math.random().toString(36).slice(2);function Jc(t){if(!t[Vd]){t[Vd]=!0,fP.forEach(function(n){n!=="selectionchange"&&(EB.has(n)||ny(n,!1,t),ny(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vd]||(e[Vd]=!0,ny("selectionchange",!1,e))}}function o1(t,e,n,r){switch(zP(e)){case 1:var i=NF;break;case 4:i=VF;break;default:i=_0}n=i.bind(null,e,n,t),i=void 0,!jv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ry(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Bo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}AP(function(){var u=s,h=m0(n),d=[];e:{var f=i1.get(t);if(f!==void 0){var p=S0,g=t;switch(t){case"keypress":if(bf(n)===0)break e;case"keydown":case"keyup":p=JF;break;case"focusin":g="focus",p=Yg;break;case"focusout":g="blur",p=Yg;break;case"beforeblur":case"afterblur":p=Yg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=mb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=UF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tB;break;case e1:case t1:case n1:p=zF;break;case r1:p=rB;break;case"scroll":p=FF;break;case"wheel":p=sB;break;case"copy":case"cut":case"paste":p=HF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yb}var E=(e&4)!==0,b=!E&&t==="scroll",w=E?f!==null?f+"Capture":null:f;E=[];for(var v=u,S;v!==null;){S=v;var x=S.stateNode;if(S.tag===5&&x!==null&&(S=x,w!==null&&(x=qc(v,w),x!=null&&E.push(Zc(v,x,S)))),b)break;v=v.return}0<E.length&&(f=new p(f,g,null,n,h),d.push({event:f,listeners:E}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Bv&&(g=n.relatedTarget||n.fromElement)&&(Bo(g)||g[Ni]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Bo(g):null,g!==null&&(b=ga(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(E=mb,x="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(E=yb,x="onPointerLeave",w="onPointerEnter",v="pointer"),b=p==null?f:il(p),S=g==null?f:il(g),f=new E(x,v+"leave",p,n,h),f.target=b,f.relatedTarget=S,x=null,Bo(h)===u&&(E=new E(w,v+"enter",g,n,h),E.target=S,E.relatedTarget=b,x=E),b=x,p&&g)t:{for(E=p,w=g,v=0,S=E;S;S=Ua(S))v++;for(S=0,x=w;x;x=Ua(x))S++;for(;0<v-S;)E=Ua(E),v--;for(;0<S-v;)w=Ua(w),S--;for(;v--;){if(E===w||w!==null&&E===w.alternate)break t;E=Ua(E),w=Ua(w)}E=null}else E=null;p!==null&&xb(d,f,p,E,!1),g!==null&&b!==null&&xb(d,b,g,E,!0)}}e:{if(f=u?il(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var D=dB;else if(wb(f))if(XP)D=gB;else{D=pB;var O=fB}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=mB);if(D&&(D=D(t,u))){GP(d,D,n,h);break e}O&&O(t,f,u),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Mv(f,"number",f.value)}switch(O=u?il(u):window,t){case"focusin":(wb(O)||O.contentEditable==="true")&&(nl=O,qv=u,Ec=null);break;case"focusout":Ec=qv=nl=null;break;case"mousedown":Kv=!0;break;case"contextmenu":case"mouseup":case"dragend":Kv=!1,Rb(d,n,h);break;case"selectionchange":if(_B)break;case"keydown":case"keyup":Rb(d,n,h)}var T;if(T0)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else tl?qP(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(HP&&n.locale!=="ko"&&(tl||y!=="onCompositionStart"?y==="onCompositionEnd"&&tl&&(T=WP()):(Ms=h,w0="value"in Ms?Ms.value:Ms.textContent,tl=!0)),O=gp(u,y),0<O.length&&(y=new gb(y,t,null,n,h),d.push({event:y,listeners:O}),T?y.data=T:(T=KP(n),T!==null&&(y.data=T)))),(T=aB?lB(t,n):uB(t,n))&&(u=gp(u,"onBeforeInput"),0<u.length&&(h=new gb("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=T))}s1(d,e)})}function Zc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=qc(t,n),s!=null&&r.unshift(Zc(t,s,i)),s=qc(t,e),s!=null&&r.push(Zc(t,s,i))),t=t.return}return r}function Ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xb(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=qc(n,s),l!=null&&o.unshift(Zc(n,l,a))):i||(l=qc(n,s),l!=null&&o.push(Zc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TB=/\r\n?/g,bB=/\u0000|\uFFFD/g;function Ab(t){return(typeof t=="string"?t:""+t).replace(TB,`
`).replace(bB,"")}function Fd(t,e,n){if(e=Ab(e),Ab(t)!==e&&n)throw Error(z(425))}function yp(){}var Gv=null,Xv=null;function Yv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qv=typeof setTimeout=="function"?setTimeout:void 0,RB=typeof clearTimeout=="function"?clearTimeout:void 0,Pb=typeof Promise=="function"?Promise:void 0,CB=typeof queueMicrotask=="function"?queueMicrotask:typeof Pb<"u"?function(t){return Pb.resolve(null).then(t).catch(IB)}:Qv;function IB(t){setTimeout(function(){throw t})}function iy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Xc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xc(e)}function Us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zl=Math.random().toString(36).slice(2),qr="__reactFiber$"+Zl,eh="__reactProps$"+Zl,Ni="__reactContainer$"+Zl,Jv="__reactEvents$"+Zl,xB="__reactListeners$"+Zl,AB="__reactHandles$"+Zl;function Bo(t){var e=t[qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ni]||n[qr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kb(t);t!==null;){if(n=t[qr])return n;t=kb(t)}return e}t=n,n=t.parentNode}return null}function Dh(t){return t=t[qr]||t[Ni],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function il(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Dm(t){return t[eh]||null}var Zv=[],sl=-1;function ao(t){return{current:t}}function He(t){0>sl||(t.current=Zv[sl],Zv[sl]=null,sl--)}function Ue(t,e){sl++,Zv[sl]=t.current,t.current=e}var Ys={},en=ao(Ys),En=ao(!1),na=Ys;function Ll(t,e){var n=t.type.contextTypes;if(!n)return Ys;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tn(t){return t=t.childContextTypes,t!=null}function vp(){He(En),He(en)}function Ob(t,e,n){if(en.current!==Ys)throw Error(z(168));Ue(en,e),Ue(En,n)}function a1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,fF(t)||"Unknown",i));return et({},n,r)}function _p(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ys,na=en.current,Ue(en,t),Ue(En,En.current),!0}function Db(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=a1(t,e,na),r.__reactInternalMemoizedMergedChildContext=t,He(En),He(en),Ue(en,t)):He(En),Ue(En,n)}var bi=null,Mm=!1,sy=!1;function l1(t){bi===null?bi=[t]:bi.push(t)}function PB(t){Mm=!0,l1(t)}function lo(){if(!sy&&bi!==null){sy=!0;var t=0,e=De;try{var n=bi;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bi=null,Mm=!1}catch(i){throw bi!==null&&(bi=bi.slice(t+1)),DP(g0,lo),i}finally{De=e,sy=!1}}return null}var ol=[],al=0,wp=null,Sp=0,Yn=[],Qn=0,ra=null,Ri=1,Ci="";function Do(t,e){ol[al++]=Sp,ol[al++]=wp,wp=t,Sp=e}function u1(t,e,n){Yn[Qn++]=Ri,Yn[Qn++]=Ci,Yn[Qn++]=ra,ra=t;var r=Ri;t=Ci;var i=32-Cr(r)-1;r&=~(1<<i),n+=1;var s=32-Cr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ri=1<<32-Cr(e)+i|n<<i|r,Ci=s+t}else Ri=1<<s|n<<i|r,Ci=t}function R0(t){t.return!==null&&(Do(t,1),u1(t,1,0))}function C0(t){for(;t===wp;)wp=ol[--al],ol[al]=null,Sp=ol[--al],ol[al]=null;for(;t===ra;)ra=Yn[--Qn],Yn[Qn]=null,Ci=Yn[--Qn],Yn[Qn]=null,Ri=Yn[--Qn],Yn[Qn]=null}var Un=null,Vn=null,Ke=!1,Er=null;function c1(t,e){var n=Zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Mb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Un=t,Vn=Us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Un=t,Vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ra!==null?{id:Ri,overflow:Ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Un=t,Vn=null,!0):!1;default:return!1}}function e_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function t_(t){if(Ke){var e=Vn;if(e){var n=e;if(!Mb(t,e)){if(e_(t))throw Error(z(418));e=Us(n.nextSibling);var r=Un;e&&Mb(t,e)?c1(r,n):(t.flags=t.flags&-4097|2,Ke=!1,Un=t)}}else{if(e_(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ke=!1,Un=t}}}function Lb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Un=t}function Bd(t){if(t!==Un)return!1;if(!Ke)return Lb(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yv(t.type,t.memoizedProps)),e&&(e=Vn)){if(e_(t))throw h1(),Error(z(418));for(;e;)c1(t,e),e=Us(e.nextSibling)}if(Lb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vn=Us(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vn=null}}else Vn=Un?Us(t.stateNode.nextSibling):null;return!0}function h1(){for(var t=Vn;t;)t=Us(t.nextSibling)}function Nl(){Vn=Un=null,Ke=!1}function I0(t){Er===null?Er=[t]:Er.push(t)}var kB=Ki.ReactCurrentBatchConfig;function $u(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Ud(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Nb(t){var e=t._init;return e(t._payload)}function d1(t){function e(w,v){if(t){var S=w.deletions;S===null?(w.deletions=[v],w.flags|=16):S.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=Ws(w,v),w.index=0,w.sibling=null,w}function s(w,v,S){return w.index=S,t?(S=w.alternate,S!==null?(S=S.index,S<v?(w.flags|=2,v):S):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,S,x){return v===null||v.tag!==6?(v=dy(S,w.mode,x),v.return=w,v):(v=i(v,S),v.return=w,v)}function l(w,v,S,x){var D=S.type;return D===el?h(w,v,S.props.children,x,S.key):v!==null&&(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===bs&&Nb(D)===v.type)?(x=i(v,S.props),x.ref=$u(w,v,S),x.return=w,x):(x=kf(S.type,S.key,S.props,null,w.mode,x),x.ref=$u(w,v,S),x.return=w,x)}function u(w,v,S,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=fy(S,w.mode,x),v.return=w,v):(v=i(v,S.children||[]),v.return=w,v)}function h(w,v,S,x,D){return v===null||v.tag!==7?(v=Qo(S,w.mode,x,D),v.return=w,v):(v=i(v,S),v.return=w,v)}function d(w,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=dy(""+v,w.mode,S),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ad:return S=kf(v.type,v.key,v.props,null,w.mode,S),S.ref=$u(w,null,v),S.return=w,S;case Za:return v=fy(v,w.mode,S),v.return=w,v;case bs:var x=v._init;return d(w,x(v._payload),S)}if(Zu(v)||Vu(v))return v=Qo(v,w.mode,S,null),v.return=w,v;Ud(w,v)}return null}function f(w,v,S,x){var D=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:a(w,v,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ad:return S.key===D?l(w,v,S,x):null;case Za:return S.key===D?u(w,v,S,x):null;case bs:return D=S._init,f(w,v,D(S._payload),x)}if(Zu(S)||Vu(S))return D!==null?null:h(w,v,S,x,null);Ud(w,S)}return null}function p(w,v,S,x,D){if(typeof x=="string"&&x!==""||typeof x=="number")return w=w.get(S)||null,a(v,w,""+x,D);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ad:return w=w.get(x.key===null?S:x.key)||null,l(v,w,x,D);case Za:return w=w.get(x.key===null?S:x.key)||null,u(v,w,x,D);case bs:var O=x._init;return p(w,v,S,O(x._payload),D)}if(Zu(x)||Vu(x))return w=w.get(S)||null,h(v,w,x,D,null);Ud(v,x)}return null}function g(w,v,S,x){for(var D=null,O=null,T=v,y=v=0,C=null;T!==null&&y<S.length;y++){T.index>y?(C=T,T=null):C=T.sibling;var I=f(w,T,S[y],x);if(I===null){T===null&&(T=C);break}t&&T&&I.alternate===null&&e(w,T),v=s(I,v,y),O===null?D=I:O.sibling=I,O=I,T=C}if(y===S.length)return n(w,T),Ke&&Do(w,y),D;if(T===null){for(;y<S.length;y++)T=d(w,S[y],x),T!==null&&(v=s(T,v,y),O===null?D=T:O.sibling=T,O=T);return Ke&&Do(w,y),D}for(T=r(w,T);y<S.length;y++)C=p(T,w,y,S[y],x),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?y:C.key),v=s(C,v,y),O===null?D=C:O.sibling=C,O=C);return t&&T.forEach(function(A){return e(w,A)}),Ke&&Do(w,y),D}function E(w,v,S,x){var D=Vu(S);if(typeof D!="function")throw Error(z(150));if(S=D.call(S),S==null)throw Error(z(151));for(var O=D=null,T=v,y=v=0,C=null,I=S.next();T!==null&&!I.done;y++,I=S.next()){T.index>y?(C=T,T=null):C=T.sibling;var A=f(w,T,I.value,x);if(A===null){T===null&&(T=C);break}t&&T&&A.alternate===null&&e(w,T),v=s(A,v,y),O===null?D=A:O.sibling=A,O=A,T=C}if(I.done)return n(w,T),Ke&&Do(w,y),D;if(T===null){for(;!I.done;y++,I=S.next())I=d(w,I.value,x),I!==null&&(v=s(I,v,y),O===null?D=I:O.sibling=I,O=I);return Ke&&Do(w,y),D}for(T=r(w,T);!I.done;y++,I=S.next())I=p(T,w,y,I.value,x),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?y:I.key),v=s(I,v,y),O===null?D=I:O.sibling=I,O=I);return t&&T.forEach(function(L){return e(w,L)}),Ke&&Do(w,y),D}function b(w,v,S,x){if(typeof S=="object"&&S!==null&&S.type===el&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ad:e:{for(var D=S.key,O=v;O!==null;){if(O.key===D){if(D=S.type,D===el){if(O.tag===7){n(w,O.sibling),v=i(O,S.props.children),v.return=w,w=v;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===bs&&Nb(D)===O.type){n(w,O.sibling),v=i(O,S.props),v.ref=$u(w,O,S),v.return=w,w=v;break e}n(w,O);break}else e(w,O);O=O.sibling}S.type===el?(v=Qo(S.props.children,w.mode,x,S.key),v.return=w,w=v):(x=kf(S.type,S.key,S.props,null,w.mode,x),x.ref=$u(w,v,S),x.return=w,w=x)}return o(w);case Za:e:{for(O=S.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(w,v.sibling),v=i(v,S.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=fy(S,w.mode,x),v.return=w,w=v}return o(w);case bs:return O=S._init,b(w,v,O(S._payload),x)}if(Zu(S))return g(w,v,S,x);if(Vu(S))return E(w,v,S,x);Ud(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(w,v.sibling),v=i(v,S),v.return=w,w=v):(n(w,v),v=dy(S,w.mode,x),v.return=w,w=v),o(w)):n(w,v)}return b}var Vl=d1(!0),f1=d1(!1),Ep=ao(null),Tp=null,ll=null,x0=null;function A0(){x0=ll=Tp=null}function P0(t){var e=Ep.current;He(Ep),t._currentValue=e}function n_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Tl(t,e){Tp=t,x0=ll=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function sr(t){var e=t._currentValue;if(x0!==t)if(t={context:t,memoizedValue:e,next:null},ll===null){if(Tp===null)throw Error(z(308));ll=t,Tp.dependencies={lanes:0,firstContext:t}}else ll=ll.next=t;return e}var Uo=null;function k0(t){Uo===null?Uo=[t]:Uo.push(t)}function p1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,k0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vi(t,r)}function Vi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rs=!1;function O0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function js(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vi(t,n)}return i=r.interleaved,i===null?(e.next=e,k0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vi(t,n)}function Rf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,y0(t,n)}}function Vb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bp(t,e,n,r){var i=t.updateQueue;Rs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,E=a;switch(f=e,p=n,E.tag){case 1:if(g=E.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=E.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=et({},d,f);break e;case 2:Rs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=p,l=d):h=h.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);sa|=o,t.lanes=o,t.memoizedState=d}}function Fb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Mh={},Zr=ao(Mh),th=ao(Mh),nh=ao(Mh);function jo(t){if(t===Mh)throw Error(z(174));return t}function D0(t,e){switch(Ue(nh,e),Ue(th,t),Ue(Zr,Mh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nv(e,t)}He(Zr),Ue(Zr,e)}function Fl(){He(Zr),He(th),He(nh)}function g1(t){jo(nh.current);var e=jo(Zr.current),n=Nv(e,t.type);e!==n&&(Ue(th,t),Ue(Zr,n))}function M0(t){th.current===t&&(He(Zr),He(th))}var Ye=ao(0);function Rp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oy=[];function L0(){for(var t=0;t<oy.length;t++)oy[t]._workInProgressVersionPrimary=null;oy.length=0}var Cf=Ki.ReactCurrentDispatcher,ay=Ki.ReactCurrentBatchConfig,ia=0,Je=null,bt=null,Mt=null,Cp=!1,Tc=!1,rh=0,OB=0;function Kt(){throw Error(z(321))}function N0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ar(t[n],e[n]))return!1;return!0}function V0(t,e,n,r,i,s){if(ia=s,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cf.current=t===null||t.memoizedState===null?NB:VB,t=n(r,i),Tc){s=0;do{if(Tc=!1,rh=0,25<=s)throw Error(z(301));s+=1,Mt=bt=null,e.updateQueue=null,Cf.current=FB,t=n(r,i)}while(Tc)}if(Cf.current=Ip,e=bt!==null&&bt.next!==null,ia=0,Mt=bt=Je=null,Cp=!1,e)throw Error(z(300));return t}function F0(){var t=rh!==0;return rh=0,t}function zr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Je.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function or(){if(bt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=Mt===null?Je.memoizedState:Mt.next;if(e!==null)Mt=e,bt=t;else{if(t===null)throw Error(z(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Mt===null?Je.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function ih(t,e){return typeof e=="function"?e(t):e}function ly(t){var e=or(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=bt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((ia&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Je.lanes|=h,sa|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ar(r,e.memoizedState)||(wn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Je.lanes|=s,sa|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uy(t){var e=or(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ar(s,e.memoizedState)||(wn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function y1(){}function v1(t,e){var n=Je,r=or(),i=e(),s=!Ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wn=!0),r=r.queue,B0(S1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,sh(9,w1.bind(null,n,r,i,e),void 0,null),Lt===null)throw Error(z(349));ia&30||_1(n,e,i)}return i}function _1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function w1(t,e,n,r){e.value=n,e.getSnapshot=r,E1(e)&&T1(t)}function S1(t,e,n){return n(function(){E1(e)&&T1(t)})}function E1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ar(t,n)}catch{return!0}}function T1(t){var e=Vi(t,1);e!==null&&Ir(e,t,1,-1)}function Bb(t){var e=zr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ih,lastRenderedState:t},e.queue=t,t=t.dispatch=LB.bind(null,Je,t),[e.memoizedState,t]}function sh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function b1(){return or().memoizedState}function If(t,e,n,r){var i=zr();Je.flags|=t,i.memoizedState=sh(1|e,n,void 0,r===void 0?null:r)}function Lm(t,e,n,r){var i=or();r=r===void 0?null:r;var s=void 0;if(bt!==null){var o=bt.memoizedState;if(s=o.destroy,r!==null&&N0(r,o.deps)){i.memoizedState=sh(e,n,s,r);return}}Je.flags|=t,i.memoizedState=sh(1|e,n,s,r)}function Ub(t,e){return If(8390656,8,t,e)}function B0(t,e){return Lm(2048,8,t,e)}function R1(t,e){return Lm(4,2,t,e)}function C1(t,e){return Lm(4,4,t,e)}function I1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function x1(t,e,n){return n=n!=null?n.concat([t]):null,Lm(4,4,I1.bind(null,e,t),n)}function U0(){}function A1(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&N0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function P1(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&N0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function k1(t,e,n){return ia&21?(Ar(n,e)||(n=NP(),Je.lanes|=n,sa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=n)}function DB(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=ay.transition;ay.transition={};try{t(!1),e()}finally{De=n,ay.transition=r}}function O1(){return or().memoizedState}function MB(t,e,n){var r=zs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},D1(t))M1(e,n);else if(n=p1(t,e,n,r),n!==null){var i=cn();Ir(n,t,r,i),L1(n,e,r)}}function LB(t,e,n){var r=zs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(D1(t))M1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ar(a,o)){var l=e.interleaved;l===null?(i.next=i,k0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=p1(t,e,i,r),n!==null&&(i=cn(),Ir(n,t,r,i),L1(n,e,r))}}function D1(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function M1(t,e){Tc=Cp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function L1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,y0(t,n)}}var Ip={readContext:sr,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},NB={readContext:sr,useCallback:function(t,e){return zr().memoizedState=[t,e===void 0?null:e],t},useContext:sr,useEffect:Ub,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,If(4194308,4,I1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return If(4194308,4,t,e)},useInsertionEffect:function(t,e){return If(4,2,t,e)},useMemo:function(t,e){var n=zr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=MB.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=zr();return t={current:t},e.memoizedState=t},useState:Bb,useDebugValue:U0,useDeferredValue:function(t){return zr().memoizedState=t},useTransition:function(){var t=Bb(!1),e=t[0];return t=DB.bind(null,t[1]),zr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,i=zr();if(Ke){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Lt===null)throw Error(z(349));ia&30||_1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ub(S1.bind(null,r,s,t),[t]),r.flags|=2048,sh(9,w1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=zr(),e=Lt.identifierPrefix;if(Ke){var n=Ci,r=Ri;n=(r&~(1<<32-Cr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VB={readContext:sr,useCallback:A1,useContext:sr,useEffect:B0,useImperativeHandle:x1,useInsertionEffect:R1,useLayoutEffect:C1,useMemo:P1,useReducer:ly,useRef:b1,useState:function(){return ly(ih)},useDebugValue:U0,useDeferredValue:function(t){var e=or();return k1(e,bt.memoizedState,t)},useTransition:function(){var t=ly(ih)[0],e=or().memoizedState;return[t,e]},useMutableSource:y1,useSyncExternalStore:v1,useId:O1,unstable_isNewReconciler:!1},FB={readContext:sr,useCallback:A1,useContext:sr,useEffect:B0,useImperativeHandle:x1,useInsertionEffect:R1,useLayoutEffect:C1,useMemo:P1,useReducer:uy,useRef:b1,useState:function(){return uy(ih)},useDebugValue:U0,useDeferredValue:function(t){var e=or();return bt===null?e.memoizedState=t:k1(e,bt.memoizedState,t)},useTransition:function(){var t=uy(ih)[0],e=or().memoizedState;return[t,e]},useMutableSource:y1,useSyncExternalStore:v1,useId:O1,unstable_isNewReconciler:!1};function _r(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function r_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nm={isMounted:function(t){return(t=t._reactInternals)?ga(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cn(),i=zs(t),s=Pi(r,i);s.payload=e,n!=null&&(s.callback=n),e=js(t,s,i),e!==null&&(Ir(e,t,i,r),Rf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cn(),i=zs(t),s=Pi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=js(t,s,i),e!==null&&(Ir(e,t,i,r),Rf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),r=zs(t),i=Pi(n,r);i.tag=2,e!=null&&(i.callback=e),e=js(t,i,r),e!==null&&(Ir(e,t,r,n),Rf(e,t,r))}};function jb(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Qc(n,r)||!Qc(i,s):!0}function N1(t,e,n){var r=!1,i=Ys,s=e.contextType;return typeof s=="object"&&s!==null?s=sr(s):(i=Tn(e)?na:en.current,r=e.contextTypes,s=(r=r!=null)?Ll(t,i):Ys),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function $b(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Nm.enqueueReplaceState(e,e.state,null)}function i_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},O0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=sr(s):(s=Tn(e)?na:en.current,i.context=Ll(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(r_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Nm.enqueueReplaceState(i,i.state,null),bp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Bl(t,e){try{var n="",r=e;do n+=dF(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function cy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function s_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BB=typeof WeakMap=="function"?WeakMap:Map;function V1(t,e,n){n=Pi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ap||(Ap=!0,m_=r),s_(t,e)},n}function F1(t,e,n){n=Pi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){s_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){s_(t,e),typeof r!="function"&&($s===null?$s=new Set([this]):$s.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function zb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ZB.bind(null,t,e,n),e.then(t,t))}function Wb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pi(-1,1),e.tag=2,js(n,e,1))),n.lanes|=1),t)}var UB=Ki.ReactCurrentOwner,wn=!1;function ln(t,e,n,r){e.child=t===null?f1(e,null,n,r):Vl(e,t.child,n,r)}function qb(t,e,n,r,i){n=n.render;var s=e.ref;return Tl(e,i),r=V0(t,e,n,r,s,i),n=F0(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fi(t,e,i)):(Ke&&n&&R0(e),e.flags|=1,ln(t,e,r,i),e.child)}function Kb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!G0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,B1(t,e,s,r,i)):(t=kf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Qc,n(o,r)&&t.ref===e.ref)return Fi(t,e,i)}return e.flags|=1,t=Ws(s,r),t.ref=e.ref,t.return=e,e.child=t}function B1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Qc(s,r)&&t.ref===e.ref)if(wn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,Fi(t,e,i)}return o_(t,e,n,r,i)}function U1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(cl,Mn),Mn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(cl,Mn),Mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ue(cl,Mn),Mn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ue(cl,Mn),Mn|=r;return ln(t,e,i,n),e.child}function j1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function o_(t,e,n,r,i){var s=Tn(n)?na:en.current;return s=Ll(e,s),Tl(e,i),n=V0(t,e,n,r,s,i),r=F0(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fi(t,e,i)):(Ke&&r&&R0(e),e.flags|=1,ln(t,e,n,i),e.child)}function Gb(t,e,n,r,i){if(Tn(n)){var s=!0;_p(e)}else s=!1;if(Tl(e,i),e.stateNode===null)xf(t,e),N1(e,n,r),i_(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=sr(u):(u=Tn(n)?na:en.current,u=Ll(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&$b(e,o,r,u),Rs=!1;var f=e.memoizedState;o.state=f,bp(e,r,o,i),l=e.memoizedState,a!==r||f!==l||En.current||Rs?(typeof h=="function"&&(r_(e,n,h,r),l=e.memoizedState),(a=Rs||jb(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,m1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:_r(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=sr(l):(l=Tn(n)?na:en.current,l=Ll(e,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&$b(e,o,r,l),Rs=!1,f=e.memoizedState,o.state=f,bp(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||En.current||Rs?(typeof p=="function"&&(r_(e,n,p,r),g=e.memoizedState),(u=Rs||jb(e,n,u,r,f,g,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return a_(t,e,n,r,s,i)}function a_(t,e,n,r,i,s){j1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Db(e,n,!1),Fi(t,e,s);r=e.stateNode,UB.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Vl(e,t.child,null,s),e.child=Vl(e,null,a,s)):ln(t,e,a,s),e.memoizedState=r.state,i&&Db(e,n,!0),e.child}function $1(t){var e=t.stateNode;e.pendingContext?Ob(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ob(t,e.context,!1),D0(t,e.containerInfo)}function Xb(t,e,n,r,i){return Nl(),I0(i),e.flags|=256,ln(t,e,n,r),e.child}var l_={dehydrated:null,treeContext:null,retryLane:0};function u_(t){return{baseLanes:t,cachePool:null,transitions:null}}function z1(t,e,n){var r=e.pendingProps,i=Ye.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Ye,i&1),t===null)return t_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bm(o,r,0,null),t=Qo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=u_(n),e.memoizedState=l_,t):j0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return jB(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ws(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ws(a,s):(s=Qo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?u_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=l_,r}return s=t.child,t=s.sibling,r=Ws(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function j0(t,e){return e=Bm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jd(t,e,n,r){return r!==null&&I0(r),Vl(e,t.child,null,n),t=j0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jB(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=cy(Error(z(422))),jd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bm({mode:"visible",children:r.children},i,0,null),s=Qo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Vl(e,t.child,null,o),e.child.memoizedState=u_(o),e.memoizedState=l_,s);if(!(e.mode&1))return jd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=cy(s,r,void 0),jd(t,e,o,r)}if(a=(o&t.childLanes)!==0,wn||a){if(r=Lt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vi(t,i),Ir(r,t,i,-1))}return K0(),r=cy(Error(z(421))),jd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eU.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Vn=Us(i.nextSibling),Un=e,Ke=!0,Er=null,t!==null&&(Yn[Qn++]=Ri,Yn[Qn++]=Ci,Yn[Qn++]=ra,Ri=t.id,Ci=t.overflow,ra=e),e=j0(e,r.children),e.flags|=4096,e)}function Yb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),n_(t.return,e,n)}function hy(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function W1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ln(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yb(t,n,e);else if(t.tag===19)Yb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Rp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),hy(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Rp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}hy(e,!0,n,null,s);break;case"together":hy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),sa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Ws(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ws(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $B(t,e,n){switch(e.tag){case 3:$1(e),Nl();break;case 5:g1(e);break;case 1:Tn(e.type)&&_p(e);break;case 4:D0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(Ep,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?z1(t,e,n):(Ue(Ye,Ye.current&1),t=Fi(t,e,n),t!==null?t.sibling:null);Ue(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return W1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,U1(t,e,n)}return Fi(t,e,n)}var H1,c_,q1,K1;H1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};c_=function(){};q1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,jo(Zr.current);var s=null;switch(n){case"input":i=Ov(t,i),r=Ov(t,r),s=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),s=[];break;case"textarea":i=Lv(t,i),r=Lv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yp)}Vv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ze("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};K1=function(t,e,n,r){n!==r&&(e.flags|=4)};function zu(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zB(t,e,n){var r=e.pendingProps;switch(C0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return Tn(e.type)&&vp(),Gt(e),null;case 3:return r=e.stateNode,Fl(),He(En),He(en),L0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Er!==null&&(v_(Er),Er=null))),c_(t,e),Gt(e),null;case 5:M0(e);var i=jo(nh.current);if(n=e.type,t!==null&&e.stateNode!=null)q1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Gt(e),null}if(t=jo(Zr.current),Bd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qr]=e,r[eh]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<tc.length;i++)ze(tc[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":sb(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":ab(r,s),ze("invalid",r)}Vv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Fd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Fd(r.textContent,a,t),i=["children",""+a]):Wc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":Pd(r),ob(r,s,!0);break;case"textarea":Pd(r),lb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=SP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qr]=e,t[eh]=r,H1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fv(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<tc.length;i++)ze(tc[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":sb(t,r),i=Ov(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),ze("invalid",t);break;case"textarea":ab(t,r),i=Lv(t,r),ze("invalid",t);break;default:i=r}Vv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?bP(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&EP(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Hc(t,l):typeof l=="number"&&Hc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ze("scroll",t):l!=null&&h0(t,s,l,o))}switch(n){case"input":Pd(t),ob(t,r,!1);break;case"textarea":Pd(t),lb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?_l(t,!!r.multiple,s,!1):r.defaultValue!=null&&_l(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)K1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=jo(nh.current),jo(Zr.current),Bd(e)){if(r=e.stateNode,n=e.memoizedProps,r[qr]=e,(s=r.nodeValue!==n)&&(t=Un,t!==null))switch(t.tag){case 3:Fd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qr]=e,e.stateNode=r}return Gt(e),null;case 13:if(He(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&Vn!==null&&e.mode&1&&!(e.flags&128))h1(),Nl(),e.flags|=98560,s=!1;else if(s=Bd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[qr]=e}else Nl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),s=!1}else Er!==null&&(v_(Er),Er=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?Rt===0&&(Rt=3):K0())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return Fl(),c_(t,e),t===null&&Jc(e.stateNode.containerInfo),Gt(e),null;case 10:return P0(e.type._context),Gt(e),null;case 17:return Tn(e.type)&&vp(),Gt(e),null;case 19:if(He(Ye),s=e.memoizedState,s===null)return Gt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)zu(s,!1);else{if(Rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Rp(t),o!==null){for(e.flags|=128,zu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Ye,Ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&dt()>Ul&&(e.flags|=128,r=!0,zu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Rp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ke)return Gt(e),null}else 2*dt()-s.renderingStartTime>Ul&&n!==1073741824&&(e.flags|=128,r=!0,zu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,n=Ye.current,Ue(Ye,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return q0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mn&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function WB(t,e){switch(C0(e),e.tag){case 1:return Tn(e.type)&&vp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fl(),He(En),He(en),L0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return M0(e),null;case 13:if(He(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Ye),null;case 4:return Fl(),null;case 10:return P0(e.type._context),null;case 22:case 23:return q0(),null;case 24:return null;default:return null}}var $d=!1,Qt=!1,HB=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ul(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,e,r)}else n.current=null}function h_(t,e,n){try{n()}catch(r){ot(t,e,r)}}var Qb=!1;function qB(t,e){if(Gv=pp,t=JP(),b0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++h===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xv={focusedElem:t,selectionRange:n},pp=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var E=g.memoizedProps,b=g.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?E:_r(e.type,E),b);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(x){ot(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return g=Qb,Qb=!1,g}function bc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&h_(e,n,s)}i=i.next}while(i!==r)}}function Vm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function d_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function G1(t){var e=t.alternate;e!==null&&(t.alternate=null,G1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qr],delete e[eh],delete e[Jv],delete e[xB],delete e[AB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function X1(t){return t.tag===5||t.tag===3||t.tag===4}function Jb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||X1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function f_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yp));else if(r!==4&&(t=t.child,t!==null))for(f_(t,e,n),t=t.sibling;t!==null;)f_(t,e,n),t=t.sibling}function p_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(p_(t,e,n),t=t.sibling;t!==null;)p_(t,e,n),t=t.sibling}var Vt=null,Sr=!1;function ms(t,e,n){for(n=n.child;n!==null;)Y1(t,e,n),n=n.sibling}function Y1(t,e,n){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(Am,n)}catch{}switch(n.tag){case 5:Qt||ul(n,e);case 6:var r=Vt,i=Sr;Vt=null,ms(t,e,n),Vt=r,Sr=i,Vt!==null&&(Sr?(t=Vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(Sr?(t=Vt,n=n.stateNode,t.nodeType===8?iy(t.parentNode,n):t.nodeType===1&&iy(t,n),Xc(t)):iy(Vt,n.stateNode));break;case 4:r=Vt,i=Sr,Vt=n.stateNode.containerInfo,Sr=!0,ms(t,e,n),Vt=r,Sr=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&h_(n,e,o),i=i.next}while(i!==r)}ms(t,e,n);break;case 1:if(!Qt&&(ul(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ot(n,e,a)}ms(t,e,n);break;case 21:ms(t,e,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,ms(t,e,n),Qt=r):ms(t,e,n);break;default:ms(t,e,n)}}function Zb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HB),e.forEach(function(r){var i=tU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Vt=a.stateNode,Sr=!1;break e;case 3:Vt=a.stateNode.containerInfo,Sr=!0;break e;case 4:Vt=a.stateNode.containerInfo,Sr=!0;break e}a=a.return}if(Vt===null)throw Error(z(160));Y1(s,o,i),Vt=null,Sr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ot(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Q1(e,t),e=e.sibling}function Q1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fr(e,t),Ur(t),r&4){try{bc(3,t,t.return),Vm(3,t)}catch(E){ot(t,t.return,E)}try{bc(5,t,t.return)}catch(E){ot(t,t.return,E)}}break;case 1:fr(e,t),Ur(t),r&512&&n!==null&&ul(n,n.return);break;case 5:if(fr(e,t),Ur(t),r&512&&n!==null&&ul(n,n.return),t.flags&32){var i=t.stateNode;try{Hc(i,"")}catch(E){ot(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&_P(i,s),Fv(a,o);var u=Fv(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?bP(i,d):h==="dangerouslySetInnerHTML"?EP(i,d):h==="children"?Hc(i,d):h0(i,h,d,u)}switch(a){case"input":Dv(i,s);break;case"textarea":wP(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?_l(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?_l(i,!!s.multiple,s.defaultValue,!0):_l(i,!!s.multiple,s.multiple?[]:"",!1))}i[eh]=s}catch(E){ot(t,t.return,E)}}break;case 6:if(fr(e,t),Ur(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){ot(t,t.return,E)}}break;case 3:if(fr(e,t),Ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xc(e.containerInfo)}catch(E){ot(t,t.return,E)}break;case 4:fr(e,t),Ur(t);break;case 13:fr(e,t),Ur(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(W0=dt())),r&4&&Zb(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(u=Qt)||h,fr(e,t),Qt=u):fr(e,t),Ur(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Q=t,h=t.child;h!==null;){for(d=Q=h;Q!==null;){switch(f=Q,p=f.child,f.tag){case 0:case 11:case 14:case 15:bc(4,f,f.return);break;case 1:ul(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(E){ot(r,n,E)}}break;case 5:ul(f,f.return);break;case 22:if(f.memoizedState!==null){tR(d);continue}}p!==null?(p.return=f,Q=p):tR(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=TP("display",o))}catch(E){ot(t,t.return,E)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(E){ot(t,t.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fr(e,t),Ur(t),r&4&&Zb(t);break;case 21:break;default:fr(e,t),Ur(t)}}function Ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(X1(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Hc(i,""),r.flags&=-33);var s=Jb(t);p_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Jb(t);f_(t,a,o);break;default:throw Error(z(161))}}catch(l){ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function KB(t,e,n){Q=t,J1(t)}function J1(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$d;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qt;a=$d;var u=Qt;if($d=o,(Qt=l)&&!u)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?nR(i):l!==null?(l.return=o,Q=l):nR(i);for(;s!==null;)Q=s,J1(s),s=s.sibling;Q=i,$d=a,Qt=u}eR(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):eR(t)}}function eR(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||Vm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_r(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Fb(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Xc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Qt||e.flags&512&&d_(e)}catch(f){ot(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function tR(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function nR(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vm(4,e)}catch(l){ot(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ot(e,i,l)}}var s=e.return;try{d_(e)}catch(l){ot(e,s,l)}break;case 5:var o=e.return;try{d_(e)}catch(l){ot(e,o,l)}}}catch(l){ot(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var GB=Math.ceil,xp=Ki.ReactCurrentDispatcher,$0=Ki.ReactCurrentOwner,nr=Ki.ReactCurrentBatchConfig,Ce=0,Lt=null,gt=null,zt=0,Mn=0,cl=ao(0),Rt=0,oh=null,sa=0,Fm=0,z0=0,Rc=null,vn=null,W0=0,Ul=1/0,Ei=null,Ap=!1,m_=null,$s=null,zd=!1,Ls=null,Pp=0,Cc=0,g_=null,Af=-1,Pf=0;function cn(){return Ce&6?dt():Af!==-1?Af:Af=dt()}function zs(t){return t.mode&1?Ce&2&&zt!==0?zt&-zt:kB.transition!==null?(Pf===0&&(Pf=NP()),Pf):(t=De,t!==0||(t=window.event,t=t===void 0?16:zP(t.type)),t):1}function Ir(t,e,n,r){if(50<Cc)throw Cc=0,g_=null,Error(z(185));kh(t,n,r),(!(Ce&2)||t!==Lt)&&(t===Lt&&(!(Ce&2)&&(Fm|=n),Rt===4&&xs(t,zt)),bn(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Ul=dt()+500,Mm&&lo()))}function bn(t,e){var n=t.callbackNode;kF(t,e);var r=fp(t,t===Lt?zt:0);if(r===0)n!==null&&hb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hb(n),e===1)t.tag===0?PB(rR.bind(null,t)):l1(rR.bind(null,t)),CB(function(){!(Ce&6)&&lo()}),n=null;else{switch(VP(r)){case 1:n=g0;break;case 4:n=MP;break;case 16:n=dp;break;case 536870912:n=LP;break;default:n=dp}n=ok(n,Z1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Z1(t,e){if(Af=-1,Pf=0,Ce&6)throw Error(z(327));var n=t.callbackNode;if(bl()&&t.callbackNode!==n)return null;var r=fp(t,t===Lt?zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kp(t,r);else{e=r;var i=Ce;Ce|=2;var s=tk();(Lt!==t||zt!==e)&&(Ei=null,Ul=dt()+500,Yo(t,e));do try{QB();break}catch(a){ek(t,a)}while(!0);A0(),xp.current=s,Ce=i,gt!==null?e=0:(Lt=null,zt=0,e=Rt)}if(e!==0){if(e===2&&(i=zv(t),i!==0&&(r=i,e=y_(t,i))),e===1)throw n=oh,Yo(t,0),xs(t,r),bn(t,dt()),n;if(e===6)xs(t,r);else{if(i=t.current.alternate,!(r&30)&&!XB(i)&&(e=kp(t,r),e===2&&(s=zv(t),s!==0&&(r=s,e=y_(t,s))),e===1))throw n=oh,Yo(t,0),xs(t,r),bn(t,dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Mo(t,vn,Ei);break;case 3:if(xs(t,r),(r&130023424)===r&&(e=W0+500-dt(),10<e)){if(fp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qv(Mo.bind(null,t,vn,Ei),e);break}Mo(t,vn,Ei);break;case 4:if(xs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Cr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GB(r/1960))-r,10<r){t.timeoutHandle=Qv(Mo.bind(null,t,vn,Ei),r);break}Mo(t,vn,Ei);break;case 5:Mo(t,vn,Ei);break;default:throw Error(z(329))}}}return bn(t,dt()),t.callbackNode===n?Z1.bind(null,t):null}function y_(t,e){var n=Rc;return t.current.memoizedState.isDehydrated&&(Yo(t,e).flags|=256),t=kp(t,e),t!==2&&(e=vn,vn=n,e!==null&&v_(e)),t}function v_(t){vn===null?vn=t:vn.push.apply(vn,t)}function XB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ar(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xs(t,e){for(e&=~z0,e&=~Fm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cr(e),r=1<<n;t[n]=-1,e&=~r}}function rR(t){if(Ce&6)throw Error(z(327));bl();var e=fp(t,0);if(!(e&1))return bn(t,dt()),null;var n=kp(t,e);if(t.tag!==0&&n===2){var r=zv(t);r!==0&&(e=r,n=y_(t,r))}if(n===1)throw n=oh,Yo(t,0),xs(t,e),bn(t,dt()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mo(t,vn,Ei),bn(t,dt()),null}function H0(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Ul=dt()+500,Mm&&lo())}}function oa(t){Ls!==null&&Ls.tag===0&&!(Ce&6)&&bl();var e=Ce;Ce|=1;var n=nr.transition,r=De;try{if(nr.transition=null,De=1,t)return t()}finally{De=r,nr.transition=n,Ce=e,!(Ce&6)&&lo()}}function q0(){Mn=cl.current,He(cl)}function Yo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RB(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(C0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vp();break;case 3:Fl(),He(En),He(en),L0();break;case 5:M0(r);break;case 4:Fl();break;case 13:He(Ye);break;case 19:He(Ye);break;case 10:P0(r.type._context);break;case 22:case 23:q0()}n=n.return}if(Lt=t,gt=t=Ws(t.current,null),zt=Mn=e,Rt=0,oh=null,z0=Fm=sa=0,vn=Rc=null,Uo!==null){for(e=0;e<Uo.length;e++)if(n=Uo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Uo=null}return t}function ek(t,e){do{var n=gt;try{if(A0(),Cf.current=Ip,Cp){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cp=!1}if(ia=0,Mt=bt=Je=null,Tc=!1,rh=0,$0.current=null,n===null||n.return===null){Rt=1,oh=e,gt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Wb(o);if(p!==null){p.flags&=-257,Hb(p,o,a,s,e),p.mode&1&&zb(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var E=new Set;E.add(l),e.updateQueue=E}else g.add(l);break e}else{if(!(e&1)){zb(s,u,e),K0();break e}l=Error(z(426))}}else if(Ke&&a.mode&1){var b=Wb(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Hb(b,o,a,s,e),I0(Bl(l,a));break e}}s=l=Bl(l,a),Rt!==4&&(Rt=2),Rc===null?Rc=[s]:Rc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=V1(s,l,e);Vb(s,w);break e;case 1:a=l;var v=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&($s===null||!$s.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=F1(s,a,e);Vb(s,x);break e}}s=s.return}while(s!==null)}rk(n)}catch(D){e=D,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function tk(){var t=xp.current;return xp.current=Ip,t===null?Ip:t}function K0(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Lt===null||!(sa&268435455)&&!(Fm&268435455)||xs(Lt,zt)}function kp(t,e){var n=Ce;Ce|=2;var r=tk();(Lt!==t||zt!==e)&&(Ei=null,Yo(t,e));do try{YB();break}catch(i){ek(t,i)}while(!0);if(A0(),Ce=n,xp.current=r,gt!==null)throw Error(z(261));return Lt=null,zt=0,Rt}function YB(){for(;gt!==null;)nk(gt)}function QB(){for(;gt!==null&&!EF();)nk(gt)}function nk(t){var e=sk(t.alternate,t,Mn);t.memoizedProps=t.pendingProps,e===null?rk(t):gt=e,$0.current=null}function rk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WB(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rt=6,gt=null;return}}else if(n=zB(n,e,Mn),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);Rt===0&&(Rt=5)}function Mo(t,e,n){var r=De,i=nr.transition;try{nr.transition=null,De=1,JB(t,e,n,r)}finally{nr.transition=i,De=r}return null}function JB(t,e,n,r){do bl();while(Ls!==null);if(Ce&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(OF(t,s),t===Lt&&(gt=Lt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zd||(zd=!0,ok(dp,function(){return bl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=nr.transition,nr.transition=null;var o=De;De=1;var a=Ce;Ce|=4,$0.current=null,qB(t,n),Q1(n,t),vB(Xv),pp=!!Gv,Xv=Gv=null,t.current=n,KB(n),TF(),Ce=a,De=o,nr.transition=s}else t.current=n;if(zd&&(zd=!1,Ls=t,Pp=i),s=t.pendingLanes,s===0&&($s=null),CF(n.stateNode),bn(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ap)throw Ap=!1,t=m_,m_=null,t;return Pp&1&&t.tag!==0&&bl(),s=t.pendingLanes,s&1?t===g_?Cc++:(Cc=0,g_=t):Cc=0,lo(),null}function bl(){if(Ls!==null){var t=VP(Pp),e=nr.transition,n=De;try{if(nr.transition=null,De=16>t?16:t,Ls===null)var r=!1;else{if(t=Ls,Ls=null,Pp=0,Ce&6)throw Error(z(331));var i=Ce;for(Ce|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:bc(8,h,s)}var d=h.child;if(d!==null)d.return=h,Q=d;else for(;Q!==null;){h=Q;var f=h.sibling,p=h.return;if(G1(h),h===u){Q=null;break}if(f!==null){f.return=p,Q=f;break}Q=p}}}var g=s.alternate;if(g!==null){var E=g.child;if(E!==null){g.child=null;do{var b=E.sibling;E.sibling=null,E=b}while(E!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:bc(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Q=w;break e}Q=s.return}}var v=t.current;for(Q=v;Q!==null;){o=Q;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Q=S;else e:for(o=v;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vm(9,a)}}catch(D){ot(a,a.return,D)}if(a===o){Q=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Q=x;break e}Q=a.return}}if(Ce=i,lo(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(Am,t)}catch{}r=!0}return r}finally{De=n,nr.transition=e}}return!1}function iR(t,e,n){e=Bl(n,e),e=V1(t,e,1),t=js(t,e,1),e=cn(),t!==null&&(kh(t,1,e),bn(t,e))}function ot(t,e,n){if(t.tag===3)iR(t,t,n);else for(;e!==null;){if(e.tag===3){iR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($s===null||!$s.has(r))){t=Bl(n,t),t=F1(e,t,1),e=js(e,t,1),t=cn(),e!==null&&(kh(e,1,t),bn(e,t));break}}e=e.return}}function ZB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,Lt===t&&(zt&n)===n&&(Rt===4||Rt===3&&(zt&130023424)===zt&&500>dt()-W0?Yo(t,0):z0|=n),bn(t,e)}function ik(t,e){e===0&&(t.mode&1?(e=Dd,Dd<<=1,!(Dd&130023424)&&(Dd=4194304)):e=1);var n=cn();t=Vi(t,e),t!==null&&(kh(t,e,n),bn(t,n))}function eU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ik(t,n)}function tU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),ik(t,n)}var sk;sk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wn=!1,$B(t,e,n);wn=!!(t.flags&131072)}else wn=!1,Ke&&e.flags&1048576&&u1(e,Sp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xf(t,e),t=e.pendingProps;var i=Ll(e,en.current);Tl(e,n),i=V0(null,e,r,t,i,n);var s=F0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tn(r)?(s=!0,_p(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,O0(e),i.updater=Nm,e.stateNode=i,i._reactInternals=e,i_(e,r,t,n),e=a_(null,e,r,!0,s,n)):(e.tag=0,Ke&&s&&R0(e),ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rU(r),t=_r(r,t),i){case 0:e=o_(null,e,r,t,n);break e;case 1:e=Gb(null,e,r,t,n);break e;case 11:e=qb(null,e,r,t,n);break e;case 14:e=Kb(null,e,r,_r(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),o_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),Gb(t,e,r,i,n);case 3:e:{if($1(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,m1(t,e),bp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Bl(Error(z(423)),e),e=Xb(t,e,r,n,i);break e}else if(r!==i){i=Bl(Error(z(424)),e),e=Xb(t,e,r,n,i);break e}else for(Vn=Us(e.stateNode.containerInfo.firstChild),Un=e,Ke=!0,Er=null,n=f1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nl(),r===i){e=Fi(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 5:return g1(e),t===null&&t_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Yv(r,i)?o=null:s!==null&&Yv(r,s)&&(e.flags|=32),j1(t,e),ln(t,e,o,n),e.child;case 6:return t===null&&t_(e),null;case 13:return z1(t,e,n);case 4:return D0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vl(e,null,r,n):ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),qb(t,e,r,i,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ue(Ep,r._currentValue),r._currentValue=o,s!==null)if(Ar(s.value,o)){if(s.children===i.children&&!En.current){e=Fi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Pi(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),n_(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),n_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Tl(e,n),i=sr(i),r=r(i),e.flags|=1,ln(t,e,r,n),e.child;case 14:return r=e.type,i=_r(r,e.pendingProps),i=_r(r.type,i),Kb(t,e,r,i,n);case 15:return B1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),xf(t,e),e.tag=1,Tn(r)?(t=!0,_p(e)):t=!1,Tl(e,n),N1(e,r,i),i_(e,r,i,n),a_(null,e,r,!0,t,n);case 19:return W1(t,e,n);case 22:return U1(t,e,n)}throw Error(z(156,e.tag))};function ok(t,e){return DP(t,e)}function nU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,e,n,r){return new nU(t,e,n,r)}function G0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rU(t){if(typeof t=="function")return G0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===f0)return 11;if(t===p0)return 14}return 2}function Ws(t,e){var n=t.alternate;return n===null?(n=Zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")G0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case el:return Qo(n.children,i,s,e);case d0:o=8,i|=8;break;case xv:return t=Zn(12,n,e,i|2),t.elementType=xv,t.lanes=s,t;case Av:return t=Zn(13,n,e,i),t.elementType=Av,t.lanes=s,t;case Pv:return t=Zn(19,n,e,i),t.elementType=Pv,t.lanes=s,t;case gP:return Bm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pP:o=10;break e;case mP:o=9;break e;case f0:o=11;break e;case p0:o=14;break e;case bs:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Zn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Qo(t,e,n,r){return t=Zn(7,t,r,e),t.lanes=n,t}function Bm(t,e,n,r){return t=Zn(22,t,r,e),t.elementType=gP,t.lanes=n,t.stateNode={isHidden:!1},t}function dy(t,e,n){return t=Zn(6,t,null,e),t.lanes=n,t}function fy(t,e,n){return e=Zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kg(0),this.expirationTimes=Kg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function X0(t,e,n,r,i,s,o,a,l){return t=new iU(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},O0(s),t}function sU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Za,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ak(t){if(!t)return Ys;t=t._reactInternals;e:{if(ga(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Tn(n))return a1(t,n,e)}return e}function lk(t,e,n,r,i,s,o,a,l){return t=X0(n,r,!0,t,i,s,o,a,l),t.context=ak(null),n=t.current,r=cn(),i=zs(n),s=Pi(r,i),s.callback=e??null,js(n,s,i),t.current.lanes=i,kh(t,i,r),bn(t,r),t}function Um(t,e,n,r){var i=e.current,s=cn(),o=zs(i);return n=ak(n),e.context===null?e.context=n:e.pendingContext=n,e=Pi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=js(i,e,o),t!==null&&(Ir(t,i,o,s),Rf(t,i,o)),o}function Op(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Y0(t,e){sR(t,e),(t=t.alternate)&&sR(t,e)}function oU(){return null}var uk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Q0(t){this._internalRoot=t}jm.prototype.render=Q0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Um(t,e,null,null)};jm.prototype.unmount=Q0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oa(function(){Um(null,t,null,null)}),e[Ni]=null}};function jm(t){this._internalRoot=t}jm.prototype.unstable_scheduleHydration=function(t){if(t){var e=UP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Is.length&&e!==0&&e<Is[n].priority;n++);Is.splice(n,0,t),n===0&&$P(t)}};function J0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $m(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oR(){}function aU(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Op(o);s.call(u)}}var o=lk(e,r,t,0,null,!1,!1,"",oR);return t._reactRootContainer=o,t[Ni]=o.current,Jc(t.nodeType===8?t.parentNode:t),oa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Op(l);a.call(u)}}var l=X0(t,0,!1,null,null,!1,!1,"",oR);return t._reactRootContainer=l,t[Ni]=l.current,Jc(t.nodeType===8?t.parentNode:t),oa(function(){Um(e,l,n,r)}),l}function zm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Op(o);a.call(l)}}Um(e,o,t,i)}else o=aU(n,e,t,i,r);return Op(o)}FP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ec(e.pendingLanes);n!==0&&(y0(e,n|1),bn(e,dt()),!(Ce&6)&&(Ul=dt()+500,lo()))}break;case 13:oa(function(){var r=Vi(t,1);if(r!==null){var i=cn();Ir(r,t,1,i)}}),Y0(t,1)}};v0=function(t){if(t.tag===13){var e=Vi(t,134217728);if(e!==null){var n=cn();Ir(e,t,134217728,n)}Y0(t,134217728)}};BP=function(t){if(t.tag===13){var e=zs(t),n=Vi(t,e);if(n!==null){var r=cn();Ir(n,t,e,r)}Y0(t,e)}};UP=function(){return De};jP=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Uv=function(t,e,n){switch(e){case"input":if(Dv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Dm(r);if(!i)throw Error(z(90));vP(r),Dv(r,i)}}}break;case"textarea":wP(t,n);break;case"select":e=n.value,e!=null&&_l(t,!!n.multiple,e,!1)}};IP=H0;xP=oa;var lU={usingClientEntryPoint:!1,Events:[Dh,il,Dm,RP,CP,H0]},Wu={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uU={bundleType:Wu.bundleType,version:Wu.version,rendererPackageName:Wu.rendererPackageName,rendererConfig:Wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kP(t),t===null?null:t.stateNode},findFiberByHostInstance:Wu.findFiberByHostInstance||oU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{Am=Wd.inject(uU),Jr=Wd}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lU;zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!J0(e))throw Error(z(200));return sU(t,e,null,n)};zn.createRoot=function(t,e){if(!J0(t))throw Error(z(299));var n=!1,r="",i=uk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=X0(t,1,!1,null,null,n,!1,r,i),t[Ni]=e.current,Jc(t.nodeType===8?t.parentNode:t),new Q0(e)};zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=kP(e),t=t===null?null:t.stateNode,t};zn.flushSync=function(t){return oa(t)};zn.hydrate=function(t,e,n){if(!$m(e))throw Error(z(200));return zm(null,t,e,!0,n)};zn.hydrateRoot=function(t,e,n){if(!J0(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=uk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=lk(e,null,t,1,n??null,i,!1,s,o),t[Ni]=e.current,Jc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new jm(e)};zn.render=function(t,e,n){if(!$m(e))throw Error(z(200));return zm(null,t,e,!1,n)};zn.unmountComponentAtNode=function(t){if(!$m(t))throw Error(z(40));return t._reactRootContainer?(oa(function(){zm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ni]=null})}),!0):!1};zn.unstable_batchedUpdates=H0;zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$m(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return zm(t,e,n,!1,r)};zn.version="18.3.1-next-f1338f8080-20240426";function ck(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ck)}catch(t){console.error(t)}}ck(),cP.exports=zn;var hk=cP.exports;const cU=Yl(hk);var aR=hk;Cv.createRoot=aR.createRoot,Cv.hydrateRoot=aR.hydrateRoot;var hU=t=>t.disabled||Array.isArray(t.accessibilityStates)&&t.accessibilityStates.indexOf("disabled")>-1,dU={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null},dk=t=>{var e=t.accessibilityRole,n=t.role,r=n||e;if(r){var i=dU[r];if(i!==null)return i||r}},fU={article:"article",banner:"header",blockquote:"blockquote",button:"button",code:"code",complementary:"aside",contentinfo:"footer",deletion:"del",emphasis:"em",figure:"figure",insertion:"ins",form:"form",list:"ul",listitem:"li",main:"main",navigation:"nav",paragraph:"p",region:"section",strong:"strong"},pU={},mU=function(e){e===void 0&&(e=pU);var n=e.role||e.accessibilityRole;if(n==="label")return"label";var r=dk(e);if(r){if(r==="heading"){var i=e.accessibilityLevel||e["aria-level"];return i!=null?"h"+i:"h1"}return fU[r]}},fk={isDisabled:hU,propsToAccessibilityComponent:mU,propsToAriaRole:dk};function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function gU(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yU(t){var e=gU(t,"string");return ah(e)=="symbol"?e:e+""}function vU(t,e,n){return(e=yU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){vU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rn(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Of={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},_U=["ms","Moz","O","Webkit"],wU=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1);Object.keys(Of).forEach(t=>{_U.forEach(e=>{Of[wU(e,t)]=Of[t]})});var SU=t=>t==="currentcolor"||t==="currentColor"||t==="inherit"||t.indexOf("var(")===0;function EU(t){if(typeof t=="number")return t>>>0===t&&t>=0&&t<=4294967295?t:null;if(typeof t!="string")return null;const e=bU();let n;if(n=e.hex6.exec(t))return parseInt(n[1]+"ff",16)>>>0;const r=RU(t);return r??((n=e.rgb.exec(t))?(_i(n[1])<<24|_i(n[2])<<16|_i(n[3])<<8|255)>>>0:(n=e.rgba.exec(t))?n[6]!==void 0?(_i(n[6])<<24|_i(n[7])<<16|_i(n[8])<<8|qd(n[9]))>>>0:(_i(n[2])<<24|_i(n[3])<<16|_i(n[4])<<8|qd(n[5]))>>>0:(n=e.hex3.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0:(n=e.hex8.exec(t))?parseInt(n[1],16)>>>0:(n=e.hex4.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0:(n=e.hsl.exec(t))?(py(Hd(n[1]),ys(n[2]),ys(n[3]))|255)>>>0:(n=e.hsla.exec(t))?n[6]!==void 0?(py(Hd(n[6]),ys(n[7]),ys(n[8]))|qd(n[9]))>>>0:(py(Hd(n[2]),ys(n[3]),ys(n[4]))|qd(n[5]))>>>0:(n=e.hwb.exec(t))?(TU(Hd(n[1]),ys(n[2]),ys(n[3]))|255)>>>0:null)}function Rl(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function py(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=Rl(i,r,t+1/3),o=Rl(i,r,t),a=Rl(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function TU(t,e,n){if(e+n>=1){const o=Math.round(e*255/(e+n));return o<<24|o<<16|o<<8}const r=Rl(0,1,t+1/3)*(1-e-n)+e,i=Rl(0,1,t)*(1-e-n)+e,s=Rl(0,1,t-1/3)*(1-e-n)+e;return Math.round(r*255)<<24|Math.round(i*255)<<16|Math.round(s*255)<<8}const kt="[-+]?\\d*\\.?\\d+",gs=kt+"%";function my(...t){return"\\(\\s*("+t.join(")\\s*,?\\s*(")+")\\s*\\)"}function uR(...t){return"\\(\\s*("+t.slice(0,t.length-1).join(")\\s*,?\\s*(")+")\\s*/\\s*("+t[t.length-1]+")\\s*\\)"}function cR(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}let gy;function bU(){return gy===void 0&&(gy={rgb:new RegExp("rgb"+my(kt,kt,kt)),rgba:new RegExp("rgba("+cR(kt,kt,kt,kt)+"|"+uR(kt,kt,kt,kt)+")"),hsl:new RegExp("hsl"+my(kt,gs,gs)),hsla:new RegExp("hsla("+cR(kt,gs,gs,kt)+"|"+uR(kt,gs,gs,kt)+")"),hwb:new RegExp("hwb"+my(kt,gs,gs)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/}),gy}function _i(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function Hd(t){return(parseFloat(t)%360+360)%360/360}function qd(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function ys(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function RU(t){switch(t){case"transparent":return 0;case"aliceblue":return 4042850303;case"antiquewhite":return 4209760255;case"aqua":return 16777215;case"aquamarine":return 2147472639;case"azure":return 4043309055;case"beige":return 4126530815;case"bisque":return 4293182719;case"black":return 255;case"blanchedalmond":return 4293643775;case"blue":return 65535;case"blueviolet":return 2318131967;case"brown":return 2771004159;case"burlywood":return 3736635391;case"burntsienna":return 3934150143;case"cadetblue":return 1604231423;case"chartreuse":return 2147418367;case"chocolate":return 3530104575;case"coral":return 4286533887;case"cornflowerblue":return 1687547391;case"cornsilk":return 4294499583;case"crimson":return 3692313855;case"cyan":return 16777215;case"darkblue":return 35839;case"darkcyan":return 9145343;case"darkgoldenrod":return 3095792639;case"darkgray":return 2846468607;case"darkgreen":return 6553855;case"darkgrey":return 2846468607;case"darkkhaki":return 3182914559;case"darkmagenta":return 2332068863;case"darkolivegreen":return 1433087999;case"darkorange":return 4287365375;case"darkorchid":return 2570243327;case"darkred":return 2332033279;case"darksalmon":return 3918953215;case"darkseagreen":return 2411499519;case"darkslateblue":return 1211993087;case"darkslategray":return 793726975;case"darkslategrey":return 793726975;case"darkturquoise":return 13554175;case"darkviolet":return 2483082239;case"deeppink":return 4279538687;case"deepskyblue":return 12582911;case"dimgray":return 1768516095;case"dimgrey":return 1768516095;case"dodgerblue":return 512819199;case"firebrick":return 2988581631;case"floralwhite":return 4294635775;case"forestgreen":return 579543807;case"fuchsia":return 4278255615;case"gainsboro":return 3705462015;case"ghostwhite":return 4177068031;case"gold":return 4292280575;case"goldenrod":return 3668254975;case"gray":return 2155905279;case"green":return 8388863;case"greenyellow":return 2919182335;case"grey":return 2155905279;case"honeydew":return 4043305215;case"hotpink":return 4285117695;case"indianred":return 3445382399;case"indigo":return 1258324735;case"ivory":return 4294963455;case"khaki":return 4041641215;case"lavender":return 3873897215;case"lavenderblush":return 4293981695;case"lawngreen":return 2096890111;case"lemonchiffon":return 4294626815;case"lightblue":return 2916673279;case"lightcoral":return 4034953471;case"lightcyan":return 3774873599;case"lightgoldenrodyellow":return 4210742015;case"lightgray":return 3553874943;case"lightgreen":return 2431553791;case"lightgrey":return 3553874943;case"lightpink":return 4290167295;case"lightsalmon":return 4288707327;case"lightseagreen":return 548580095;case"lightskyblue":return 2278488831;case"lightslategray":return 2005441023;case"lightslategrey":return 2005441023;case"lightsteelblue":return 2965692159;case"lightyellow":return 4294959359;case"lime":return 16711935;case"limegreen":return 852308735;case"linen":return 4210091775;case"magenta":return 4278255615;case"maroon":return 2147483903;case"mediumaquamarine":return 1724754687;case"mediumblue":return 52735;case"mediumorchid":return 3126187007;case"mediumpurple":return 2473647103;case"mediumseagreen":return 1018393087;case"mediumslateblue":return 2070474495;case"mediumspringgreen":return 16423679;case"mediumturquoise":return 1221709055;case"mediumvioletred":return 3340076543;case"midnightblue":return 421097727;case"mintcream":return 4127193855;case"mistyrose":return 4293190143;case"moccasin":return 4293178879;case"navajowhite":return 4292783615;case"navy":return 33023;case"oldlace":return 4260751103;case"olive":return 2155872511;case"olivedrab":return 1804477439;case"orange":return 4289003775;case"orangered":return 4282712319;case"orchid":return 3664828159;case"palegoldenrod":return 4008225535;case"palegreen":return 2566625535;case"paleturquoise":return 2951671551;case"palevioletred":return 3681588223;case"papayawhip":return 4293907967;case"peachpuff":return 4292524543;case"peru":return 3448061951;case"pink":return 4290825215;case"plum":return 3718307327;case"powderblue":return 2967529215;case"purple":return 2147516671;case"rebeccapurple":return 1714657791;case"red":return 4278190335;case"rosybrown":return 3163525119;case"royalblue":return 1097458175;case"saddlebrown":return 2336560127;case"salmon":return 4202722047;case"sandybrown":return 4104413439;case"seagreen":return 780883967;case"seashell":return 4294307583;case"sienna":return 2689740287;case"silver":return 3233857791;case"skyblue":return 2278484991;case"slateblue":return 1784335871;case"slategray":return 1887473919;case"slategrey":return 1887473919;case"snow":return 4294638335;case"springgreen":return 16744447;case"steelblue":return 1182971135;case"tan":return 3535047935;case"teal":return 8421631;case"thistle":return 3636451583;case"tomato":return 4284696575;case"turquoise":return 1088475391;case"violet":return 4001558271;case"wheat":return 4125012991;case"white":return 4294967295;case"whitesmoke":return 4126537215;case"yellow":return 4294902015;case"yellowgreen":return 2597139199}return null}var CU=EU;const IU=Yl(CU);var xU=t=>{if(t==null)return t;var e=IU(t);if(e!=null)return e=(e<<24|e>>>8)>>>0,e},pk=function(e,n){if(n===void 0&&(n=1),e!=null){if(typeof e=="string"&&SU(e))return e;var r=xU(e);if(r!=null){var i=r>>16&255,s=r>>8&255,o=r&255,a=(r>>24&255)/255,l=(a*n).toFixed(2);return"rgba("+i+","+s+","+o+","+l+")"}}},AU={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function Xr(t,e){var n=t;return(e==null||!Of[e])&&typeof t=="number"?n=t+"px":e!=null&&AU[e]&&(n=pk(t)),n}var Ct=!!(typeof window<"u"&&window.document&&window.document.createElement),PU={},kU=!Ct||window.CSS!=null&&window.CSS.supports!=null&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),OU="monospace,monospace",hR='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',DU={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderBlockColor:["borderTopColor","borderBottomColor"],borderInlineColor:["borderRightColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderInlineStyle:["borderRightStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderInlineWidth:["borderRightWidth","borderLeftWidth"],insetBlock:["top","bottom"],insetInline:["left","right"],marginBlock:["marginTop","marginBottom"],marginInline:["marginRight","marginLeft"],paddingBlock:["paddingTop","paddingBottom"],paddingInline:["paddingRight","paddingLeft"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],borderBlockStartColor:["borderTopColor"],borderBlockStartStyle:["borderTopStyle"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndColor:["borderBottomColor"],borderBlockEndStyle:["borderBottomStyle"],borderBlockEndWidth:["borderBottomWidth"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],insetBlockEnd:["bottom"],insetBlockStart:["top"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"]},mk=(t,e)=>{if(!t)return PU;var n={},r=function(){var a=t[i];if(a==null)return"continue";if(i==="backgroundClip")a==="text"&&(n.backgroundClip=a,n.WebkitBackgroundClip=a);else if(i==="flex")a===-1?(n.flexGrow=0,n.flexShrink=1,n.flexBasis="auto"):n.flex=a;else if(i==="font")n[i]=a.replace("System",hR);else if(i==="fontFamily")if(a.indexOf("System")>-1){var l=a.split(/,\s*/);l[l.indexOf("System")]=hR,n[i]=l.join(",")}else a==="monospace"?n[i]=OU:n[i]=a;else if(i==="textDecorationLine")kU?n.textDecorationLine=a:n.textDecoration=a;else if(i==="writingDirection")n.direction=a;else{var u=Xr(t[i],i),h=DU[i];e&&i==="inset"?(t.insetInline==null&&(n.left=u,n.right=u),t.insetBlock==null&&(n.top=u,n.bottom=u)):e&&i==="margin"?(t.marginInline==null&&(n.marginLeft=u,n.marginRight=u),t.marginBlock==null&&(n.marginTop=u,n.marginBottom=u)):e&&i==="padding"?(t.paddingInline==null&&(n.paddingLeft=u,n.paddingRight=u),t.paddingBlock==null&&(n.paddingTop=u,n.paddingBottom=u)):h?h.forEach((d,f)=>{t[d]==null&&(n[d]=u)}):n[i]=u}};for(var i in t)var s=r();return n};function MU(t,e){for(var n=t.length,r=e^n,i=0,s;n>=4;)s=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,s=(s&65535)*1540483477+(((s>>>16)*1540483477&65535)<<16),s^=s>>>24,s=(s&65535)*1540483477+(((s>>>16)*1540483477&65535)<<16),r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16)^s,n-=4,++i;switch(n){case 3:r^=(t.charCodeAt(i+2)&255)<<16;case 2:r^=(t.charCodeAt(i+1)&255)<<8;case 1:r^=t.charCodeAt(i)&255,r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16)}return r^=r>>>13,r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16),r^=r>>>15,r>>>0}var LU=t=>MU(t,1).toString(36),NU=/[A-Z]/g,VU=/^ms-/,yy={};function FU(t){return"-"+t.toLowerCase()}function BU(t){if(t in yy)return yy[t];var e=t.replace(NU,FU);return yy[t]=VU.test(e)?"-"+e:e}var gk={},Z0={},Wm={};Object.defineProperty(Wm,"__esModule",{value:!0});Wm.default=UU;function UU(t){return t.charAt(0).toUpperCase()+t.slice(1)}Object.defineProperty(Z0,"__esModule",{value:!0});Z0.default=WU;var jU=Wm,$U=zU(jU);function zU(t){return t&&t.__esModule?t:{default:t}}function WU(t,e,n){var r=t[e];if(r&&n.hasOwnProperty(e))for(var i=(0,$U.default)(e),s=0;s<r.length;++s){var o=r[s]+i;n[o]||(n[o]=n[e])}return n}var eS={};Object.defineProperty(eS,"__esModule",{value:!0});eS.default=HU;function HU(t,e,n,r,i){for(var s=0,o=t.length;s<o;++s){var a=t[s](e,n,r,i);if(a)return a}}var tS={};Object.defineProperty(tS,"__esModule",{value:!0});tS.default=qU;function dR(t,e){t.indexOf(e)===-1&&t.push(e)}function qU(t,e){if(Array.isArray(e))for(var n=0,r=e.length;n<r;++n)dR(t,e[n]);else dR(t,e)}var nS={};Object.defineProperty(nS,"__esModule",{value:!0});nS.default=KU;function KU(t){return t instanceof Object&&!Array.isArray(t)}Object.defineProperty(gk,"__esModule",{value:!0});var GU=gk.default=nj,XU=Z0,YU=Hm(XU),QU=eS,fR=Hm(QU),JU=tS,ZU=Hm(JU),ej=nS,tj=Hm(ej);function Hm(t){return t&&t.__esModule?t:{default:t}}function nj(t){var e=t.prefixMap,n=t.plugins;return function r(i){for(var s in i){var o=i[s];if((0,tj.default)(o))i[s]=r(o);else if(Array.isArray(o)){for(var a=[],l=0,u=o.length;l<u;++l){var h=(0,fR.default)(n,s,o[l],i,e);(0,ZU.default)(a,h||o[l])}a.length>0&&(i[s]=a)}else{var d=(0,fR.default)(n,s,o,i,e);d&&(i[s]=d),i=(0,YU.default)(e,s,i)}}return i}}var yk={};Object.defineProperty(yk,"__esModule",{value:!0});var rj=yk.default=ij;function ij(){return null}var vk={};function Df(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Df=function(n){return typeof n}:Df=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Df(t)}function sj(t){return uj(t)||lj(t)||aj(t)||oj()}function oj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aj(t,e){if(t){if(typeof t=="string")return __(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return __(t,e)}}function lj(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function uj(t){if(Array.isArray(t))return __(t)}function __(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pR(t){return t.filter(function(e,n){return t.lastIndexOf(e)===n})}function _k(t){for(var e=0,n=arguments.length<=1?0:arguments.length-1;e<n;++e){var r=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];for(var i in r){var s=r[i],o=t[i];if(o&&s){if(Array.isArray(o)){t[i]=pR(o.concat(s));continue}if(Array.isArray(s)){t[i]=pR([o].concat(sj(s)));continue}if(Df(s)==="object"){t[i]=_k({},o,s);continue}}t[i]=s}}return t}var cj=/-([a-z])/g,hj=/^Ms/g,vy={};function dj(t){return t[1].toUpperCase()}function wk(t){if(vy.hasOwnProperty(t))return vy[t];var e=t.replace(cj,dj).replace(hj,"ms");return vy[t]=e,e}var fj=/[A-Z]/g,pj=/^ms-/,_y={};function mj(t){return"-"+t.toLowerCase()}function Sk(t){if(_y.hasOwnProperty(t))return _y[t];var e=t.replace(fj,mj);return _y[t]=pj.test(e)?"-"+e:e}const gj=Object.freeze(Object.defineProperty({__proto__:null,default:Sk},Symbol.toStringTag,{value:"Module"}));function qm(t){return Sk(t)}function Ek(t,e){return qm(t)+":"+e}function yj(t){var e="";for(var n in t){var r=t[n];typeof r!="string"&&typeof r!="number"||(e&&(e+=";"),e+=Ek(n,r))}return e}var vj=/^(Webkit|Moz|O|ms)/;function _j(t){return vj.test(t)}var wj=/-webkit-|-moz-|-ms-/;function Sj(t){return typeof t=="string"&&wj.test(t)}var lh={borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mR=["animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineClamp","order"],gR=["Webkit","ms","Moz","O"];function Ej(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)}for(var wy=0,Tj=mR.length;wy<Tj;++wy){var yR=mR[wy];lh[yR]=!0;for(var Sy=0,bj=gR.length;Sy<bj;++Sy)lh[Ej(gR[Sy],yR)]=!0}for(var Rj in lh)lh[qm(Rj)]=!0;function Cj(t){return lh.hasOwnProperty(t)}var Ij=/^(ms|Webkit|Moz|O)/;function Tk(t){var e=t.replace(Ij,"");return e.charAt(0).toLowerCase()+e.slice(1)}function xj(t){return Tk(wk(t))}function Aj(t,e){return e.join(";"+qm(t)+":")}var Pj=/(-ms-|-webkit-|-moz-|-o-)/g;function kj(t){return typeof t=="string"?t.replace(Pj,""):t}const Oj=Object.freeze(Object.defineProperty({__proto__:null,assignStyle:_k,camelCaseProperty:wk,cssifyDeclaration:Ek,cssifyObject:yj,hyphenateProperty:qm,isPrefixedProperty:_j,isPrefixedValue:Sj,isUnitlessProperty:Cj,normalizeProperty:xj,resolveArrayValue:Aj,unprefixProperty:Tk,unprefixValue:kj},Symbol.toStringTag,{value:"Module"})),bk=JA(Oj);Object.defineProperty(vk,"__esModule",{value:!0});var Dj=vk.default=Vj,Mj=bk,Lj=/cross-fade\(/g,Nj=["-webkit-",""];function Vj(t,e){if(typeof e=="string"&&!(0,Mj.isPrefixedValue)(e)&&e.indexOf("cross-fade(")!==-1)return Nj.map(function(n){return e.replace(Lj,n+"cross-fade(")})}var Rk={};Object.defineProperty(Rk,"__esModule",{value:!0});var Fj=Rk.default=jj,Bj=["-webkit-","-moz-",""],Uj={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};function jj(t,e){if(t==="cursor"&&Uj.hasOwnProperty(e))return Bj.map(function(n){return n+e})}var Ck={};Object.defineProperty(Ck,"__esModule",{value:!0});var $j=Ck.default=qj,zj=bk,Wj=/filter\(/g,Hj=["-webkit-",""];function qj(t,e){if(typeof e=="string"&&!(0,zj.isPrefixedValue)(e)&&e.indexOf("filter(")!==-1)return Hj.map(function(n){return e.replace(Wj,n+"filter(")})}var Ik={},rS={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var e=/-webkit-|-moz-|-ms-/;function n(r){return typeof r=="string"&&e.test(r)}})(rS);Object.defineProperty(Ik,"__esModule",{value:!0});var Kj=Ik.default=Jj,Gj=rS,Xj=Yj(Gj);function Yj(t){return t&&t.__esModule?t:{default:t}}var Qj=["-webkit-",""];function Jj(t,e){if(typeof e=="string"&&!(0,Xj.default)(e)&&e.indexOf("image-set(")>-1)return Qj.map(function(n){return e.replace(/image-set\(/g,n+"image-set(")})}var xk={};Object.defineProperty(xk,"__esModule",{value:!0});var Zj=xk.default=e4,vR={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]};function e4(t,e,n){if(Object.prototype.hasOwnProperty.call(vR,t))for(var r=vR[t],i=0,s=r.length;i<s;++i)n[r[i]]=e}var Ak={};Object.defineProperty(Ak,"__esModule",{value:!0});var t4=Ak.default=n4;function n4(t,e){if(t==="position"&&e==="sticky")return["-webkit-sticky","sticky"]}var Pk={};Object.defineProperty(Pk,"__esModule",{value:!0});var r4=Pk.default=a4,i4=["-webkit-","-moz-",""],s4={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},o4={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};function a4(t,e){if(s4.hasOwnProperty(t)&&o4.hasOwnProperty(e))return i4.map(function(n){return n+e})}var kk={},Ok={};const l4=JA(gj);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var e=l4,n=r(e);function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,n.default)(s)}})(Ok);Object.defineProperty(kk,"__esModule",{value:!0});var u4=kk.default=v4,c4=Ok,h4=iS(c4),d4=rS,f4=iS(d4),p4=Wm,_R=iS(p4);function iS(t){return t&&t.__esModule?t:{default:t}}var m4={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},g4={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};function y4(t,e){if((0,f4.default)(t))return t;for(var n=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g),r=0,i=n.length;r<i;++r){var s=n[r],o=[s];for(var a in e){var l=(0,h4.default)(a);if(s.indexOf(l)>-1&&l!=="order")for(var u=e[a],h=0,d=u.length;h<d;++h)o.unshift(s.replace(l,g4[u[h]]+l))}n[r]=o.join(",")}return n.join(",")}function v4(t,e,n,r){if(typeof e=="string"&&m4.hasOwnProperty(t)){var i=y4(e,r),s=i.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(a){return!/-moz-|-ms-/.test(a)}).join(",");if(t.indexOf("Webkit")>-1)return s;var o=i.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(a){return!/-webkit-|-ms-/.test(a)}).join(",");return t.indexOf("Moz")>-1?o:(n["Webkit"+(0,_R.default)(t)]=s,n["Moz"+(0,_R.default)(t)]=o,i)}}var Fe=["Webkit"],_4=["Moz"],w4=["Webkit","Moz"],it=["Webkit","ms"],S4=["Webkit","Moz","ms"];const E4={plugins:[rj,Dj,Fj,$j,Kj,Zj,t4,r4,u4],prefixMap:{appearance:S4,userSelect:w4,textEmphasisPosition:it,textEmphasis:it,textEmphasisStyle:it,textEmphasisColor:it,boxDecorationBreak:it,clipPath:Fe,maskImage:it,maskMode:it,maskRepeat:it,maskPosition:it,maskClip:it,maskOrigin:it,maskSize:it,maskComposite:it,mask:it,maskBorderSource:it,maskBorderMode:it,maskBorderSlice:it,maskBorderWidth:it,maskBorderOutset:it,maskBorderRepeat:it,maskBorder:it,maskType:it,textDecorationStyle:Fe,textDecorationSkip:Fe,textDecorationLine:Fe,textDecorationColor:Fe,filter:Fe,breakAfter:Fe,breakBefore:Fe,breakInside:Fe,columnCount:Fe,columnFill:Fe,columnGap:Fe,columnRule:Fe,columnRuleColor:Fe,columnRuleStyle:Fe,columnRuleWidth:Fe,columns:Fe,columnSpan:Fe,columnWidth:Fe,backdropFilter:Fe,hyphens:Fe,flowInto:Fe,flowFrom:Fe,regionFragment:Fe,textOrientation:Fe,tabSize:_4,fontKerning:Fe,textSizeAdjust:Fe}};var T4=GU(E4),b4=["animationKeyframes"],wR=new Map,R4={},C4=1,I4=3,x4={borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,inset:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,insetBlock:2.1,insetInline:2.1,marginInline:2.1,marginBlock:2.1,paddingInline:2.1,paddingBlock:2.1,borderBlockStartColor:2.2,borderBlockStartStyle:2.2,borderBlockStartWidth:2.2,borderBlockEndColor:2.2,borderBlockEndStyle:2.2,borderBlockEndWidth:2.2,borderInlineStartColor:2.2,borderInlineStartStyle:2.2,borderInlineStartWidth:2.2,borderInlineEndColor:2.2,borderInlineEndStyle:2.2,borderInlineEndWidth:2.2,borderEndStartRadius:2.2,borderEndEndRadius:2.2,borderStartStartRadius:2.2,borderStartEndRadius:2.2,insetBlockEnd:2.2,insetBlockStart:2.2,insetInlineEnd:2.2,insetInlineStart:2.2,marginBlockStart:2.2,marginBlockEnd:2.2,marginInlineStart:2.2,marginInlineEnd:2.2,paddingBlockStart:2.2,paddingBlockEnd:2.2,paddingInlineStart:2.2,paddingInlineEnd:2.2},w_="borderTopLeftRadius",S_="borderTopRightRadius",E_="borderBottomLeftRadius",T_="borderBottomRightRadius",b_="borderLeftColor",R_="borderLeftStyle",C_="borderLeftWidth",I_="borderRightColor",x_="borderRightStyle",A_="borderRightWidth",P_="right",k_="marginLeft",O_="marginRight",D_="paddingLeft",M_="paddingRight",L_="left",Dp={[w_]:S_,[S_]:w_,[E_]:T_,[T_]:E_,[b_]:I_,[R_]:x_,[C_]:A_,[I_]:b_,[x_]:R_,[A_]:C_,[L_]:P_,[k_]:O_,[O_]:k_,[D_]:M_,[M_]:D_,[P_]:L_},Ic={borderStartStartRadius:w_,borderStartEndRadius:S_,borderEndStartRadius:E_,borderEndEndRadius:T_,borderInlineStartColor:b_,borderInlineStartStyle:R_,borderInlineStartWidth:C_,borderInlineEndColor:I_,borderInlineEndStyle:x_,borderInlineEndWidth:A_,insetInlineEnd:P_,insetInlineStart:L_,marginInlineStart:k_,marginInlineEnd:O_,paddingInlineStart:D_,paddingInlineEnd:M_},Dk=["clear","float","textAlign"];function A4(t){var e={$$css:!0},n=[];function r(i,s,o){var a=O4(o,s),l=s+a,u=wR.get(l),h;if(u!=null)h=u[0],n.push(u[1]);else{var d=i!==s?l:a;h=sS("r",i,d);var f=x4[i]||I4,p=D4(h,s,o),g=[p,f];n.push(g),wR.set(l,[h,g])}return h}return Object.keys(t).sort().forEach(i=>{var s=t[i];if(s!=null){var o;if(Dk.indexOf(i)>-1){var a=r(i,i,"left"),l=r(i,i,"right");s==="start"?o=[a,l]:s==="end"&&(o=[l,a])}var u=Ic[i];if(u!=null){var h=r(i,u,s),d=r(i,Dp[u],s);o=[h,d]}if(i==="transitionProperty"){for(var f=Array.isArray(s)?s:[s],p=[],g=0;g<f.length;g++){var E=f[g];typeof E=="string"&&Ic[E]!=null&&p.push(g)}if(p.length>0){var b=[...f],w=[...f];p.forEach(v=>{var S=b[v];if(typeof S=="string"){var x=Ic[S],D=Dp[x];b[v]=x,w[v]=D;var O=r(i,i,b),T=r(i,i,w);o=[O,T]}})}}o==null?o=r(i,i,s):e.$$css$localize=!0,e[i]=o}}),[e,n]}function P4(t,e){var n={$$css:!0},r=[],i=t.animationKeyframes,s=Rn(t,b4),o=sS("css",e,JSON.stringify(t)),a="."+o,l;if(i!=null){var u=Mk(i),h=u[0],d=u[1];l=h.join(","),r.push(...d)}var f=Ti(me(me({},s),{},{animationName:l}));return r.push(""+a+f),n[o]=o,[n,[[r,C4]]]}function k4(t,e){var n=t||R4,r={},i={},s=function(){var u=n[o],h=o,d=u;if(!Object.prototype.hasOwnProperty.call(n,o)||u==null)return"continue";Dk.indexOf(o)>-1&&(u==="start"?d=e?"right":"left":u==="end"&&(d=e?"left":"right"));var f=Ic[o];if(f!=null&&(h=e?Dp[f]:f),o==="transitionProperty"){var p=Array.isArray(u)?u:[u];p.forEach((g,E)=>{if(typeof g=="string"){var b=Ic[g];b!=null&&(p[E]=e?Dp[b]:b,d=p.join(" "))}})}r[h]||(i[h]=d),h===o&&(r[h]=!0)};for(var o in n)var a=s();return mk(i,!0)}function O4(t,e){var n=Xr(t,e);return typeof n!="string"?JSON.stringify(n||""):n}function D4(t,e,n){var r=[],i="."+t;switch(e){case"animationKeyframes":{var s=Mk(n),o=s[0],a=s[1],l=Ti({animationName:o.join(",")});r.push(""+i+l,...a);break}case"placeholderTextColor":{var u=Ti({color:n,opacity:1});r.push(i+"::-webkit-input-placeholder"+u,i+"::-moz-placeholder"+u,i+":-ms-input-placeholder"+u,i+"::placeholder"+u);break}case"pointerEvents":{var h=n;if(n==="auto"||n==="box-only"){if(h="auto!important",n==="box-only"){var d=Ti({pointerEvents:"none"});r.push(i+">*"+d)}}else if((n==="none"||n==="box-none")&&(h="none!important",n==="box-none")){var f=Ti({pointerEvents:"auto"});r.push(i+">*"+f)}var p=Ti({pointerEvents:h});r.push(""+i+p);break}case"scrollbarWidth":{n==="none"&&r.push(i+"::-webkit-scrollbar{display:none}");var g=Ti({scrollbarWidth:n});r.push(""+i+g);break}default:{var E=Ti({[e]:n});r.push(""+i+E);break}}return r}function Ti(t){var e=T4(mk(t)),n=Object.keys(e).map(r=>{var i=e[r],s=BU(r);return Array.isArray(i)?i.map(o=>s+":"+o).join(";"):s+":"+i}).sort().join(";");return"{"+n+";}"}function sS(t,e,n){var r=LU(e+n);return t+"-"+r}function M4(t){var e=["-webkit-",""],n=sS("r","animation",JSON.stringify(t)),r="{"+Object.keys(t).map(s=>{var o=t[s],a=Ti(o);return""+s+a}).join("")+"}",i=e.map(s=>"@"+s+"keyframes "+n+r);return[n,i]}function Mk(t){if(typeof t=="number")throw new Error("Invalid CSS keyframes type: "+typeof t);var e=[],n=[],r=Array.isArray(t)?t:[t];return r.forEach(i=>{if(typeof i=="string")e.push(i);else{var s=M4(i),o=s[0],a=s[1];e.push(o),n.push(...a)}}),[e,n]}function Ey(t,e,n){if(Ct){var r=e??document,i=r.getElementById(t);if(i==null)if(i=document.createElement("style"),i.setAttribute("id",t),typeof n=="string"&&i.appendChild(document.createTextNode(n)),r instanceof ShadowRoot)r.insertBefore(i,r.firstChild);else{var s=r.head;s&&s.insertBefore(i,s.firstChild)}return i.sheet}else return null}var L4=Array.prototype.slice;function Ty(t){var e={},n={};if(t!=null){var r;L4.call(t.cssRules).forEach((o,a)=>{var l=o.cssText;if(l.indexOf("stylesheet-group")>-1)r=F4(o),e[r]={start:a,rules:[l]};else{var u=ER(l);u!=null&&(n[u]=!0,e[r].rules.push(l))}})}function i(o,a,l){var u=SR(e),h=u.indexOf(a),d=h+1,f=u[d],p=f!=null&&e[f].start!=null?e[f].start:o.cssRules.length,g=U4(o,l,p);if(g){e[a].start==null&&(e[a].start=p);for(var E=d;E<u.length;E+=1){var b=u[E],w=e[b].start||0;e[b].start=w+1}}return g}var s={getTextContent(){return SR(e).map(o=>{var a=e[o].rules,l=a.shift();return a.sort(),a.unshift(l),a.join(`
`)}).join(`
`)},insert(o,a){var l=Number(a);if(e[l]==null){var u=N4(l);e[l]={start:null,rules:[u]},t!=null&&i(t,l,u)}var h=ER(o);if(h!=null&&n[h]==null&&(n[h]=!0,e[l].rules.push(o),t!=null)){var d=i(t,l,o);d||e[l].rules.pop()}}};return s}function N4(t){return'[stylesheet-group="'+t+'"]{}'}var V4=/["']/g;function F4(t){return Number(t.selectorText.split(V4)[1])}function SR(t){return Object.keys(t).map(Number).sort((e,n)=>e>n?1:-1)}var B4=/\s*([,])\s*/g;function ER(t){var e=t.split("{")[0].trim();return e!==""?e.replace(B4,"$1"):null}function U4(t,e,n){try{return t.insertRule(e,n),!0}catch{return!1}}var j4="react-native-stylesheet",by=new WeakMap,pr=[],TR=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"];function $4(t,e){e===void 0&&(e=j4);var n;if(Ct){var r=document;if(pr.length===0)n=Ty(Ey(e)),TR.forEach(a=>{n.insert(a,0)}),by.set(r,pr.length),pr.push(n);else{var i=by.get(r);if(i==null){var s=pr[0],o=s!=null?s.getTextContent():"";n=Ty(Ey(e,r,o)),by.set(r,pr.length),pr.push(n)}else n=pr[i]}}else pr.length===0?(n=Ty(Ey(e)),TR.forEach(a=>{n.insert(a,0)}),pr.push(n)):n=pr[0];return{getTextContent(){return n.getTextContent()},id:e,insert(a,l){pr.forEach(u=>{u.insert(a,l)})}}}var oS={};Object.defineProperty(oS,"__esModule",{value:!0});oS.localizeStyle=z4;var Kd=new WeakMap,Lk="$$css$localize";function bR(t,e){var n={};for(var r in t)if(r!==Lk){var i=t[r];Array.isArray(i)?n[r]=e?i[1]:i[0]:n[r]=i}return n}function z4(t,e){if(t[Lk]!=null){var n=e?1:0;if(Kd.has(t)){var r=Kd.get(t),i=r[n];return i==null&&(i=bR(t,e),r[n]=i,Kd.set(t,r)),i}var s=bR(t,e),o=new Array(2);return o[n]=s,Kd.set(t,o),s}return t}var W4=oS,H4={},Nk={height:0,width:0},Vk=t=>{var e=t.shadowColor,n=t.shadowOffset,r=t.shadowOpacity,i=t.shadowRadius,s=n||Nk,o=s.height,a=s.width,l=Xr(a),u=Xr(o),h=Xr(i||0),d=pk(e||"black",r);if(d!=null&&l!=null&&u!=null&&h!=null)return l+" "+u+" "+h+" "+d},q4=t=>{var e=t.textShadowColor,n=t.textShadowOffset,r=t.textShadowRadius,i=n||Nk,s=i.height,o=i.width,a=r||0,l=Xr(o),u=Xr(s),h=Xr(a),d=Xr(e,"textShadowColor");if(d&&(s!==0||o!==0||a!==0)&&l!=null&&u!=null&&h!=null)return l+" "+u+" "+h+" "+d},K4=t=>{var e=Object.keys(t)[0],n=t[e];if(e==="matrix"||e==="matrix3d")return e+"("+n.join(",")+")";var r=Xr(n,e);return e+"("+r+")"},G4=t=>t.map(K4).join(" "),X4={borderBottomEndRadius:"borderEndEndRadius",borderBottomStartRadius:"borderEndStartRadius",borderTopEndRadius:"borderStartEndRadius",borderTopStartRadius:"borderStartStartRadius",borderEndColor:"borderInlineEndColor",borderEndStyle:"borderInlineEndStyle",borderEndWidth:"borderInlineEndWidth",borderStartColor:"borderInlineStartColor",borderStartStyle:"borderInlineStartStyle",borderStartWidth:"borderInlineStartWidth",end:"insetInlineEnd",marginEnd:"marginInlineEnd",marginHorizontal:"marginInline",marginStart:"marginInlineStart",marginVertical:"marginBlock",paddingEnd:"paddingInlineEnd",paddingHorizontal:"paddingInline",paddingStart:"paddingInlineStart",paddingVertical:"paddingBlock",start:"insetInlineStart"},Y4={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},Fk=function(e,n){n===void 0&&(n={});var r=e||H4,i={};if(n.shadow,r.shadowColor!=null||r.shadowOffset!=null||r.shadowOpacity!=null||r.shadowRadius!=null){var s=Vk(r);if(s!=null&&i.boxShadow==null){var o=r.boxShadow,a=o?o+", "+s:s;i.boxShadow=a}}if(n.textShadow,r.textShadowColor!=null||r.textShadowOffset!=null||r.textShadowRadius!=null){var l=q4(r);if(l!=null&&i.textShadow==null){var u=r.textShadow,h=u?u+", "+l:l;i.textShadow=h}}for(var d in r)if(!(Y4[d]!=null||d==="shadowColor"||d==="shadowOffset"||d==="shadowOpacity"||d==="shadowRadius"||d==="textShadowColor"||d==="textShadowOffset"||d==="textShadowRadius")){var f=r[d],p=X4[d]||d,g=f;!Object.prototype.hasOwnProperty.call(r,d)||p!==d&&r[p]!=null||(p==="aspectRatio"&&typeof g=="number"?i[p]=g.toString():p==="fontVariant"?(Array.isArray(g)&&g.length>0&&(g=g.join(" ")),i[p]=g):p==="textAlignVertical"?r.verticalAlign==null&&(i.verticalAlign=g==="center"?"middle":g):p==="transform"?(Array.isArray(g)&&(g=G4(g)),i.transform=g):i[p]=g)}return i},aS={};Object.defineProperty(aS,"__esModule",{value:!0});var Bk=aS.styleq=void 0,Q4=new WeakMap,J4="$$css";function Uk(t){var e,n,r;return t!=null&&(e=t.disableCache===!0,n=t.disableMix===!0,r=t.transform),function(){for(var s=[],o="",a=null,l=e?null:Q4,u=new Array(arguments.length),h=0;h<arguments.length;h++)u[h]=arguments[h];for(;u.length>0;){var d=u.pop();if(!(d==null||d===!1)){if(Array.isArray(d)){for(var f=0;f<d.length;f++)u.push(d[f]);continue}var p=r!=null?r(d):d;if(p.$$css){var g="";if(l!=null&&l.has(p)){var E=l.get(p);E!=null&&(g=E[0],s.push.apply(s,E[1]),l=E[2])}else{var b=[];for(var w in p){var v=p[w];w!==J4&&(typeof v=="string"||v===null?s.includes(w)||(s.push(w),l!=null&&b.push(w),typeof v=="string"&&(g+=g?" "+v:v)):console.error("styleq: ".concat(w," typeof ").concat(String(v),' is not "string" or "null".')))}if(l!=null){var S=new WeakMap;l.set(p,[g,b,S]),l=S}}g&&(o=o?g+" "+o:g)}else if(n)a==null&&(a={}),a=Object.assign({},p,a);else{var x=null;for(var D in p){var O=p[D];O!==void 0&&(s.includes(D)||(O!=null&&(a==null&&(a={}),x==null&&(x={}),x[D]=O),s.push(D),l=null))}x!=null&&(a=Object.assign(x,a))}}}var T=[o,a];return T}}var jk=Uk();Bk=aS.styleq=jk;jk.factory=Uk;var Z4=["writingDirection"],$k=new WeakMap,Mp=$4(),zk={shadow:!0,textShadow:!0};function e$(t,e){e===void 0&&(e={});var n=e,r=n.writingDirection,i=Rn(n,Z4),s=r==="rtl";return Bk.factory({transform(o){var a=$k.get(o);return a!=null?W4.localizeStyle(a,s):Fk(o,me(me({},zk),i))}})(t)}function Wk(t){t.forEach(e=>{var n=e[0],r=e[1];Mp!=null&&n.forEach(i=>{Mp.insert(i,r)})})}function t$(t){var e=A4(Fk(t,zk)),n=e[0],r=e[1];return Wk(r),n}function n$(t,e){var n=P4(t,e),r=n[0],i=n[1];return Wk(i),r}var Hk={position:"absolute",left:0,right:0,top:0,bottom:0},r$=qk({x:me({},Hk)}).x;function qk(t){return Object.keys(t).forEach(e=>{var n=t[e];if(n!=null&&n.$$css!==!0){var r;e.indexOf("$raw")>-1?r=n$(n,e.split("$raw")[0]):r=t$(n),$k.set(n,r)}}),t}function i$(t,e){return[t,e]}function s$(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.flat(1/0),i={},s=0;s<r.length;s++){var o=r[s];o!=null&&typeof o=="object"&&Object.assign(i,o)}return i}function o$(){return{id:Mp.id,textContent:Mp.getTextContent()}}function Gi(t,e){e===void 0&&(e={});var n=e.writingDirection==="rtl",r=e$(t,e);return Array.isArray(r)&&r[1]!=null&&(r[1]=k4(r[1],n)),r}Gi.absoluteFill=r$;Gi.absoluteFillObject=Hk;Gi.create=qk;Gi.compose=i$;Gi.flatten=s$;Gi.getSheet=o$;Gi.hairlineWidth=1;Ct&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=Gi.flatten);var Ie=Gi,a$=["aria-activedescendant","accessibilityActiveDescendant","aria-atomic","accessibilityAtomic","aria-autocomplete","accessibilityAutoComplete","aria-busy","accessibilityBusy","aria-checked","accessibilityChecked","aria-colcount","accessibilityColumnCount","aria-colindex","accessibilityColumnIndex","aria-colspan","accessibilityColumnSpan","aria-controls","accessibilityControls","aria-current","accessibilityCurrent","aria-describedby","accessibilityDescribedBy","aria-details","accessibilityDetails","aria-disabled","accessibilityDisabled","aria-errormessage","accessibilityErrorMessage","aria-expanded","accessibilityExpanded","aria-flowto","accessibilityFlowTo","aria-haspopup","accessibilityHasPopup","aria-hidden","accessibilityHidden","aria-invalid","accessibilityInvalid","aria-keyshortcuts","accessibilityKeyShortcuts","aria-label","accessibilityLabel","aria-labelledby","accessibilityLabelledBy","aria-level","accessibilityLevel","aria-live","accessibilityLiveRegion","aria-modal","accessibilityModal","aria-multiline","accessibilityMultiline","aria-multiselectable","accessibilityMultiSelectable","aria-orientation","accessibilityOrientation","aria-owns","accessibilityOwns","aria-placeholder","accessibilityPlaceholder","aria-posinset","accessibilityPosInSet","aria-pressed","accessibilityPressed","aria-readonly","accessibilityReadOnly","aria-required","accessibilityRequired","role","accessibilityRole","aria-roledescription","accessibilityRoleDescription","aria-rowcount","accessibilityRowCount","aria-rowindex","accessibilityRowIndex","aria-rowspan","accessibilityRowSpan","aria-selected","accessibilitySelected","aria-setsize","accessibilitySetSize","aria-sort","accessibilitySort","aria-valuemax","accessibilityValueMax","aria-valuemin","accessibilityValueMin","aria-valuenow","accessibilityValueNow","aria-valuetext","accessibilityValueText","dataSet","focusable","id","nativeID","pointerEvents","style","tabIndex","testID"],l$={},u$=Object.prototype.hasOwnProperty,c$=Array.isArray,h$=/[A-Z]/g;function d$(t){return"-"+t.toLowerCase()}function f$(t){return t.replace(h$,d$)}function ja(t){return c$(t)?t.join(" "):t}var p$=Ie.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}}),m$=(t,e,n)=>{e||(e=l$);var r=e,i=r["aria-activedescendant"],s=r.accessibilityActiveDescendant,o=r["aria-atomic"],a=r.accessibilityAtomic,l=r["aria-autocomplete"],u=r.accessibilityAutoComplete,h=r["aria-busy"],d=r.accessibilityBusy,f=r["aria-checked"],p=r.accessibilityChecked,g=r["aria-colcount"],E=r.accessibilityColumnCount,b=r["aria-colindex"],w=r.accessibilityColumnIndex,v=r["aria-colspan"],S=r.accessibilityColumnSpan,x=r["aria-controls"],D=r.accessibilityControls,O=r["aria-current"],T=r.accessibilityCurrent,y=r["aria-describedby"],C=r.accessibilityDescribedBy,I=r["aria-details"],A=r.accessibilityDetails,L=r["aria-disabled"],k=r.accessibilityDisabled,le=r["aria-errormessage"],he=r.accessibilityErrorMessage,Le=r["aria-expanded"],be=r.accessibilityExpanded,j=r["aria-flowto"],Y=r.accessibilityFlowTo,ee=r["aria-haspopup"],ye=r.accessibilityHasPopup,xe=r["aria-hidden"],rn=r.accessibilityHidden,rt=r["aria-invalid"],Nt=r.accessibilityInvalid,ut=r["aria-keyshortcuts"],je=r.accessibilityKeyShortcuts,xt=r["aria-label"],Cn=r.accessibilityLabel,fi=r["aria-labelledby"],Zi=r.accessibilityLabelledBy,lr=r["aria-level"],Dr=r.accessibilityLevel,Hn=r["aria-live"],go=r.accessibilityLiveRegion,es=r["aria-modal"],yo=r.accessibilityModal,ts=r["aria-multiline"],Pe=r.accessibilityMultiline,Xe=r["aria-multiselectable"],In=r.accessibilityMultiSelectable,qn=r["aria-orientation"],ns=r.accessibilityOrientation,vo=r["aria-owns"],ur=r.accessibilityOwns,_o=r["aria-placeholder"],Ta=r.accessibilityPlaceholder,rs=r["aria-posinset"],gu=r.accessibilityPosInSet,ba=r["aria-pressed"],Ra=r.accessibilityPressed,wo=r["aria-readonly"],pi=r.accessibilityReadOnly,is=r["aria-required"],Ne=r.accessibilityRequired;r.role,r.accessibilityRole;var Kn=r["aria-roledescription"],Ca=r.accessibilityRoleDescription,mi=r["aria-rowcount"],Ia=r.accessibilityRowCount,Mr=r["aria-rowindex"],xa=r.accessibilityRowIndex,J=r["aria-rowspan"],qe=r.accessibilityRowSpan,At=r["aria-selected"],cr=r.accessibilitySelected,Lr=r["aria-setsize"],Aa=r.accessibilitySetSize,gi=r["aria-sort"],Ng=r.accessibilitySort,sd=r["aria-valuemax"],Pa=r.accessibilityValueMax,yu=r["aria-valuemin"],od=r.accessibilityValueMin,ka=r["aria-valuenow"],So=r.accessibilityValueNow,ad=r["aria-valuetext"],Nr=r.accessibilityValueText,Eo=r.dataSet,To=r.focusable,Oa=r.id,vu=r.nativeID,_u=r.pointerEvents,Vg=r.style,ss=r.tabIndex,ld=r.testID,X=Rn(r,a$),ud=L||k,xn=fk.propsToAriaRole(e),os=i??s;os!=null&&(X["aria-activedescendant"]=os);var Vr=o!=null?i:a;Vr!=null&&(X["aria-atomic"]=Vr);var Da=l??u;Da!=null&&(X["aria-autocomplete"]=Da);var cd=h??d;cd!=null&&(X["aria-busy"]=cd);var wu=f??p;wu!=null&&(X["aria-checked"]=wu);var Su=g??E;Su!=null&&(X["aria-colcount"]=Su);var Eu=b??w;Eu!=null&&(X["aria-colindex"]=Eu);var Ma=v??S;Ma!=null&&(X["aria-colspan"]=Ma);var La=x??D;La!=null&&(X["aria-controls"]=ja(La));var Tu=O??T;Tu!=null&&(X["aria-current"]=Tu);var bu=y??C;bu!=null&&(X["aria-describedby"]=ja(bu));var Ru=I??A;Ru!=null&&(X["aria-details"]=Ru),ud===!0&&(X["aria-disabled"]=!0,(t==="button"||t==="form"||t==="input"||t==="select"||t==="textarea")&&(X.disabled=!0));var hd=le??he;hd!=null&&(X["aria-errormessage"]=hd);var hr=Le??be;hr!=null&&(X["aria-expanded"]=hr);var An=j??Y;An!=null&&(X["aria-flowto"]=ja(An));var as=ee??ye;as!=null&&(X["aria-haspopup"]=as);var ls=xe??rn;ls===!0&&(X["aria-hidden"]=ls);var Na=rt??Nt;Na!=null&&(X["aria-invalid"]=Na);var Me=ut??je;Me!=null&&(X["aria-keyshortcuts"]=ja(Me));var bo=xt??Cn;bo!=null&&(X["aria-label"]=bo);var us=fi??Zi;us!=null&&(X["aria-labelledby"]=ja(us));var cs=lr??Dr;cs!=null&&(X["aria-level"]=cs);var Cu=Hn??go;Cu!=null&&(X["aria-live"]=Cu==="none"?"off":Cu);var Iu=es??yo;Iu!=null&&(X["aria-modal"]=Iu);var dd=ts??Pe;dd!=null&&(X["aria-multiline"]=dd);var fd=Xe??In;fd!=null&&(X["aria-multiselectable"]=fd);var pd=qn??ns;pd!=null&&(X["aria-orientation"]=pd);var md=vo??ur;md!=null&&(X["aria-owns"]=ja(md));var hs=_o??Ta;hs!=null&&(X["aria-placeholder"]=hs);var Fr=rs??gu;Fr!=null&&(X["aria-posinset"]=Fr);var xu=ba??Ra;xu!=null&&(X["aria-pressed"]=xu);var Au=wo??pi;Au!=null&&(X["aria-readonly"]=Au,(t==="input"||t==="select"||t==="textarea")&&(X.readOnly=!0));var Pu=is??Ne;Pu!=null&&(X["aria-required"]=Pu,(t==="input"||t==="select"||t==="textarea")&&(X.required=Ne)),xn!=null&&(X.role=xn==="none"?"presentation":xn);var ku=Kn??Ca;ku!=null&&(X["aria-roledescription"]=ku);var Ou=mi??Ia;Ou!=null&&(X["aria-rowcount"]=Ou);var yi=Mr??xa;yi!=null&&(X["aria-rowindex"]=yi);var gd=J??qe;gd!=null&&(X["aria-rowspan"]=gd);var yd=At??cr;yd!=null&&(X["aria-selected"]=yd);var vd=Lr??Aa;vd!=null&&(X["aria-setsize"]=vd);var dr=gi??Ng;dr!=null&&(X["aria-sort"]=dr);var _d=sd??Pa;_d!=null&&(X["aria-valuemax"]=_d);var Va=yu??od;Va!=null&&(X["aria-valuemin"]=Va);var Ro=ka??So;Ro!=null&&(X["aria-valuenow"]=Ro);var Du=ad??Nr;if(Du!=null&&(X["aria-valuetext"]=Du),Eo!=null){for(var vi in Eo)if(u$.call(Eo,vi)){var Co=f$(vi),Mu=Eo[vi];Mu!=null&&(X["data-"+Co]=Mu)}}ss===0||ss==="0"||ss===-1||ss==="-1"?X.tabIndex=ss:(To===!1&&(X.tabIndex="-1"),t==="a"||t==="button"||t==="input"||t==="select"||t==="textarea"?(To===!1||k===!0)&&(X.tabIndex="-1"):xn==="button"||xn==="checkbox"||xn==="link"||xn==="radio"||xn==="textbox"||xn==="switch"?To!==!1&&(X.tabIndex="0"):To===!0&&(X.tabIndex="0"));var Fa=Ie([Vg,_u&&p$[_u]],me({writingDirection:"ltr"},n)),$e=Fa[0],wd=Fa[1];$e&&(X.className=$e),wd&&(X.style=wd);var Sd=Oa??vu;return Sd!=null&&(X.id=Sd),ld!=null&&(X["data-testid"]=ld),X.type==null&&t==="button"&&(X.type="button"),X},g$=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),RR=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","far","glk","he","iw","khw","ks","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),CR=new Map;function y$(t){var e=CR.get(t);if(e)return e;var n=!1;if(Intl.Locale)try{var r=new Intl.Locale(t).maximize().script;n=g$.has(r)}catch{var i=t.split("-")[0];n=RR.has(i)}else{var s=t.split("-")[0];n=RR.has(s)}return CR.set(t,n),n}var v$={direction:"ltr",locale:"en-US"},Kk=R.createContext(v$);function Km(t){return y$(t)?"rtl":"ltr"}function _$(t){var e=t.direction,n=t.locale,r=t.children,i=e||n;return i?ht.createElement(Kk.Provider,{children:r,value:{direction:n?Km(n):e,locale:n}}):r}function lS(){return R.useContext(Kk)}var eu=(t,e,n)=>{var r;t&&t.constructor===String&&(r=fk.propsToAccessibilityComponent(e));var i=r||t,s=m$(i,e,n),o=ht.createElement(i,s),a=s.dir?ht.createElement(_$,{children:o,direction:s.dir,locale:s.lang}):o;return a},N_=t=>{if(t!=null){var e=t.nodeType===1;if(e&&typeof t.getBoundingClientRect=="function")return t.getBoundingClientRect()}},xc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},w$=["ms","Moz","O","Webkit"],S$=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1);Object.keys(xc).forEach(t=>{w$.forEach(e=>{xc[S$(e,t)]=xc[t]})});function E$(t,e,n){var r=e==null||typeof e=="boolean"||e==="";return r?"":!n&&typeof e=="number"&&e!==0&&!(xc.hasOwnProperty(t)&&xc[t])?e+"px":(""+e).trim()}function T$(t,e){var n=t.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=E$(r,e[r],i);r==="float"&&(r="cssFloat"),i?n.setProperty(r,s):n[r]=s}}var IR=t=>{var e=t.offsetHeight,n=t.offsetWidth,r=t.offsetLeft,i=t.offsetTop;for(t=t.offsetParent;t&&t.nodeType===1;)r+=t.offsetLeft+t.clientLeft-t.scrollLeft,i+=t.offsetTop+t.clientTop-t.scrollTop,t=t.offsetParent;return i-=window.scrollY,r-=window.scrollX,{width:n,height:e,top:i,left:r}},xR=(t,e,n)=>{var r=e||t&&t.parentNode;t&&r&&setTimeout(()=>{if(t.isConnected&&r.isConnected){var i=IR(r),s=IR(t),o=s.height,a=s.left,l=s.top,u=s.width,h=a-i.left,d=l-i.top;n(h,d,u,o,a,l)}},0)},b$={A:!0,BODY:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0},ki={blur(t){try{t.blur()}catch{}},focus(t){try{var e=t.nodeName;t.getAttribute("tabIndex")==null&&t.isContentEditable!==!0&&b$[e]==null&&t.setAttribute("tabIndex","-1"),t.focus()}catch{}},measure(t,e){xR(t,null,e)},measureInWindow(t,e){t&&setTimeout(()=>{var n=N_(t),r=n.height,i=n.left,s=n.top,o=n.width;e(i,s,o,r)},0)},measureLayout(t,e,n,r){xR(t,e,r)},updateView(t,e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];switch(n){case"style":{T$(t,r);break}case"class":case"className":{t.setAttribute("class",r);break}case"text":case"value":t.value=r;break;default:t.setAttribute(n,r)}}},configureNextLayoutAnimation(t,e){e()},setLayoutAnimationEnabledExperimental(){}},R$={OS:"web"};function tn(){return tn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tn.apply(null,arguments)}var uS={children:!0,dataSet:!0,dir:!0,id:!0,ref:!0,suppressHydrationWarning:!0,tabIndex:!0,testID:!0,focusable:!0,nativeID:!0},cS={"aria-activedescendant":!0,"aria-atomic":!0,"aria-autocomplete":!0,"aria-busy":!0,"aria-checked":!0,"aria-colcount":!0,"aria-colindex":!0,"aria-colspan":!0,"aria-controls":!0,"aria-current":!0,"aria-describedby":!0,"aria-details":!0,"aria-disabled":!0,"aria-errormessage":!0,"aria-expanded":!0,"aria-flowto":!0,"aria-haspopup":!0,"aria-hidden":!0,"aria-invalid":!0,"aria-keyshortcuts":!0,"aria-label":!0,"aria-labelledby":!0,"aria-level":!0,"aria-live":!0,"aria-modal":!0,"aria-multiline":!0,"aria-multiselectable":!0,"aria-orientation":!0,"aria-owns":!0,"aria-placeholder":!0,"aria-posinset":!0,"aria-pressed":!0,"aria-readonly":!0,"aria-required":!0,role:!0,"aria-roledescription":!0,"aria-rowcount":!0,"aria-rowindex":!0,"aria-rowspan":!0,"aria-selected":!0,"aria-setsize":!0,"aria-sort":!0,"aria-valuemax":!0,"aria-valuemin":!0,"aria-valuenow":!0,"aria-valuetext":!0,accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0},hS={onClick:!0,onAuxClick:!0,onContextMenu:!0,onGotPointerCapture:!0,onLostPointerCapture:!0,onPointerCancel:!0,onPointerDown:!0,onPointerEnter:!0,onPointerMove:!0,onPointerLeave:!0,onPointerOut:!0,onPointerOver:!0,onPointerUp:!0},dS={onBlur:!0,onFocus:!0},fS={onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0},pS={onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},mS={onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},gS={style:!0};function yS(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&e[r]===!0&&(n[r]=t[r]);return n}var V_=Ct?R.useLayoutEffect:R.useEffect,F_="__reactLayoutHandler",Ry=null;function C$(){return Ct&&typeof window.ResizeObserver<"u"&&Ry==null&&(Ry=new window.ResizeObserver(function(t){t.forEach(e=>{var n=e.target,r=n[F_];typeof r=="function"&&ki.measure(n,(i,s,o,a,l,u)=>{var h={nativeEvent:{layout:{x:i,y:s,width:o,height:a,left:l,top:u}},timeStamp:Date.now()};Object.defineProperty(h.nativeEvent,"target",{enumerable:!0,get:()=>e.target}),r(h)})})})),Ry}function vS(t,e){var n=C$();V_(()=>{var r=t.current;r!=null&&(r[F_]=e)},[t,e]),V_(()=>{var r=t.current;return r!=null&&n!=null&&(typeof r[F_]=="function"?n.observe(r):n.unobserve(r)),()=>{r!=null&&n!=null&&n.unobserve(r)}},[t,n])}function Gk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){e.forEach(s=>{if(s!=null){if(typeof s=="function"){s(i);return}if(typeof s=="object"){s.current=i;return}console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(s))}})}}function Lh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return R.useMemo(()=>Gk(...e),[...e])}var AR=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():Object.freeze({});function I$(t){var e=R.useRef(AR);return e.current===AR&&(e.current=t()),e.current}function _S(t){t.pointerEvents,t.style;var e=I$(()=>n=>{n!=null&&(n.measure=r=>ki.measure(n,r),n.measureLayout=(r,i,s)=>ki.measureLayout(n,r,s,i),n.measureInWindow=r=>ki.measureInWindow(n,r))});return e}var PR=()=>{},x$={},A$=[];function kR(t){return t>20?t%20:t}function Xk(t,e){var n,r=!1,i,s,o=t.changedTouches,a=t.type,l=t.metaKey===!0,u=t.shiftKey===!0,h=o&&o[0].force||0,d=kR(o&&o[0].identifier||0),f=o&&o[0].clientX||t.clientX,p=o&&o[0].clientY||t.clientY,g=o&&o[0].pageX||t.pageX,E=o&&o[0].pageY||t.pageY,b=typeof t.preventDefault=="function"?t.preventDefault.bind(t):PR,w=t.timeStamp;function v(T){return Array.prototype.slice.call(T).map(y=>({force:y.force,identifier:kR(y.identifier),get locationX(){return D(y.clientX)},get locationY(){return O(y.clientY)},pageX:y.pageX,pageY:y.pageY,target:y.target,timestamp:w}))}if(o!=null)i=v(o),s=v(t.touches);else{var S=[{force:h,identifier:d,get locationX(){return D(f)},get locationY(){return O(p)},pageX:g,pageY:E,target:t.target,timestamp:w}];i=S,s=a==="mouseup"||a==="dragstart"?A$:S}var x={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:t.defaultPrevented,dispatchConfig:x$,eventPhase:t.eventPhase,isDefaultPrevented(){return t.defaultPrevented},isPropagationStopped(){return r},isTrusted:t.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:l,shiftKey:u,changedTouches:i,force:h,identifier:d,get locationX(){return D(f)},get locationY(){return O(p)},pageX:g,pageY:E,target:t.target,timestamp:w,touches:s,type:a},persist:PR,preventDefault:b,stopPropagation(){r=!0},target:t.target,timeStamp:w,touchHistory:e.touchHistory};function D(T){if(n=n||N_(x.currentTarget),n)return T-n.left}function O(T){if(n=n||N_(x.currentTarget),n)return T-n.top}return x}var P$="mousedown",k$="mousemove",O$="mouseup",D$="dragstart",M$="touchstart",L$="touchmove",N$="touchend",V$="touchcancel",F$="scroll",B$="select",U$="selectionchange";function Yk(t){return t===M$||t===P$}function Qk(t){return t===L$||t===k$}function Jk(t){return t===N$||t===O$||Zk(t)}function Zk(t){return t===V$||t===D$}function j$(t){return t===F$}function $$(t){return t===B$||t===U$}function z$(){var t=window.getSelection(),e=t.toString(),n=t.anchorNode,r=t.focusNode,i=n&&n.nodeType===window.Node.TEXT_NODE||r&&r.nodeType===window.Node.TEXT_NODE;return e.length>=1&&e!==`
`&&i}var eO="__reactResponderId";function W$(t){if(t.type==="selectionchange"){var e=window.getSelection().anchorNode;return OR(e)}else{var n=t.composedPath!=null?t.composedPath():OR(t.target);return n}}function OR(t){for(var e=[];t!=null&&t!==document.body;)e.push(t),t=t.parentNode;return e}function H$(t){return t!=null?t[eO]:null}function q$(t,e){t!=null&&(t[eO]=e)}function K$(t){for(var e=[],n=[],r=W$(t),i=0;i<r.length;i++){var s=r[i],o=H$(s);o!=null&&(e.push(o),n.push(s))}return{idPath:e,nodePath:n}}function G$(t,e){var n=t.length,r=e.length;if(n===0||r===0||t[n-1]!==e[r-1])return null;var i=t[0],s=0,o=e[0],a=0;n-r>0&&(s=n-r,i=t[s],n=r),r-n>0&&(a=r-n,o=e[a],r=n);for(var l=n;l--;){if(i===o)return i;i=t[s++],o=e[a++]}return null}function X$(t,e){if(!e||e.length===0)return!1;for(var n=0;n<e.length;n++){var r=e[n].target;if(r!=null&&t.contains(r))return!0}return!1}function Y$(t){return t.type==="selectionchange"?z$():t.type==="select"}function Q$(t){var e=t.altKey,n=t.button,r=t.buttons,i=t.ctrlKey,s=t.type,o=s==="touchstart"||s==="touchmove",a=s==="mousedown"&&(n===0||r===1),l=s==="mousemove"&&r===1,u=e===!1&&i===!1;return!!(o||a&&u||l&&u)}var DR=20;function rr(t){return t.timeStamp||t.timestamp}function J$(t){return{touchActive:!0,startPageX:t.pageX,startPageY:t.pageY,startTimeStamp:rr(t),currentPageX:t.pageX,currentPageY:t.pageY,currentTimeStamp:rr(t),previousPageX:t.pageX,previousPageY:t.pageY,previousTimeStamp:rr(t)}}function Z$(t,e){t.touchActive=!0,t.startPageX=e.pageX,t.startPageY=e.pageY,t.startTimeStamp=rr(e),t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=rr(e),t.previousPageX=e.pageX,t.previousPageY=e.pageY,t.previousTimeStamp=rr(e)}function wS(t){var e=t.identifier;return e==null&&console.error("Touch object is missing identifier."),e}function e3(t,e){var n=wS(t),r=e.touchBank[n];r?Z$(r,t):e.touchBank[n]=J$(t),e.mostRecentTimeStamp=rr(t)}function t3(t,e){var n=e.touchBank[wS(t)];n?(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=t.pageX,n.currentPageY=t.pageY,n.currentTimeStamp=rr(t),e.mostRecentTimeStamp=rr(t)):console.warn(`Cannot record touch move without a touch start.
`,"Touch Move: "+tO(t)+`
`,"Touch Bank: "+nO(e))}function n3(t,e){var n=e.touchBank[wS(t)];n?(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=t.pageX,n.currentPageY=t.pageY,n.currentTimeStamp=rr(t),e.mostRecentTimeStamp=rr(t)):console.warn(`Cannot record touch end without a touch start.
`,"Touch End: "+tO(t)+`
`,"Touch Bank: "+nO(e))}function tO(t){return JSON.stringify({identifier:t.identifier,pageX:t.pageX,pageY:t.pageY,timestamp:rr(t)})}function nO(t){var e=t.touchBank,n=JSON.stringify(e.slice(0,DR));return e.length>DR&&(n+=" (original size: "+e.length+")"),n}class r3{constructor(){this._touchHistory={touchBank:[],numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0}}recordTouchTrack(e,n){var r=this._touchHistory;if(Qk(e))n.changedTouches.forEach(a=>t3(a,r));else if(Yk(e))n.changedTouches.forEach(a=>e3(a,r)),r.numberActiveTouches=n.touches.length,r.numberActiveTouches===1&&(r.indexOfSingleActiveTouch=n.touches[0].identifier);else if(Jk(e)&&(n.changedTouches.forEach(a=>n3(a,r)),r.numberActiveTouches=n.touches.length,r.numberActiveTouches===1))for(var i=r.touchBank,s=0;s<i.length;s++){var o=i[s];if(o!=null&&o.touchActive){r.indexOfSingleActiveTouch=s;break}}}get touchHistory(){return this._touchHistory}}var i3={},MR=["onStartShouldSetResponderCapture","onStartShouldSetResponder",{bubbles:!0}],LR=["onMoveShouldSetResponderCapture","onMoveShouldSetResponder",{bubbles:!0}],s3=["onScrollShouldSetResponderCapture","onScrollShouldSetResponder",{bubbles:!1}],o3={touchstart:MR,mousedown:MR,touchmove:LR,mousemove:LR,scroll:s3},B_={id:null,idPath:null,node:null},Lp=new Map,Es=!1,$r=0,Kr={id:null,node:null,idPath:null},U_=new r3;function uh(t){Kr=t}function ch(t){var e=Lp.get(t);return e??i3}function Cy(t){var e=t.type,n=t.target;if(e==="touchstart"&&(Es=!0),(e==="touchmove"||$r>1)&&(Es=!1),!(e==="mousedown"&&Es||e==="mousemove"&&Es||e==="mousemove"&&$r<1)){if(Es&&e==="mouseup"){$r===0&&(Es=!1);return}var r=Yk(e)&&Q$(t),i=Qk(e),s=Jk(e),o=j$(e),a=$$(e),l=Xk(t,U_);(r||i||s)&&(t.touches?$r=t.touches.length:r?$r=1:s&&($r=0),U_.recordTouchTrack(e,l.nativeEvent));var u=K$(t),h=!1,d;if(r||i||o&&$r>0){var f=Kr.idPath,p=u.idPath;if(f!=null&&p!=null){var g=G$(f,p);if(g!=null){var E=p.indexOf(g),b=E+(g===Kr.id?1:0);u={idPath:p.slice(b),nodePath:u.nodePath.slice(b)}}else u=null}u!=null&&(d=a3(u,t,l),d!=null&&(l3(l,d),h=!0))}if(Kr.id!=null&&Kr.node!=null){var w=Kr,v=w.id,S=w.node,x=ch(v),D=x.onResponderStart,O=x.onResponderMove,T=x.onResponderEnd,y=x.onResponderRelease,C=x.onResponderTerminate,I=x.onResponderTerminationRequest;if(l.bubbles=!1,l.cancelable=!1,l.currentTarget=S,r)D!=null&&(l.dispatchConfig.registrationName="onResponderStart",D(l));else if(i)O!=null&&(l.dispatchConfig.registrationName="onResponderMove",O(l));else{var A=Zk(e)||e==="contextmenu"||e==="blur"&&n===window||e==="blur"&&n.contains(S)&&t.relatedTarget!==S||o&&$r===0||o&&n.contains(S)&&n!==S||a&&Y$(t),L=s&&!A&&!X$(S,t.touches);if(s&&T!=null&&(l.dispatchConfig.registrationName="onResponderEnd",T(l)),L&&(y!=null&&(l.dispatchConfig.registrationName="onResponderRelease",y(l)),uh(B_)),A){var k=!0;(e==="contextmenu"||e==="scroll"||e==="selectionchange")&&(h?k=!1:I!=null&&(l.dispatchConfig.registrationName="onResponderTerminationRequest",I(l)===!1&&(k=!1))),k&&(C!=null&&(l.dispatchConfig.registrationName="onResponderTerminate",C(l)),uh(B_),Es=!1,$r=0)}}}}}function a3(t,e,n){var r=o3[e.type];if(r!=null){for(var i=t.idPath,s=t.nodePath,o=r[0],a=r[1],l=r[2].bubbles,u=function(O,T,y){var C=ch(O),I=C[y];if(I!=null&&(n.currentTarget=T,I(n)===!0)){var A=i.slice(i.indexOf(O));return{id:O,node:T,idPath:A}}},h=i.length-1;h>=0;h--){var d=i[h],f=s[h],p=u(d,f,o);if(p!=null)return p;if(n.isPropagationStopped()===!0)return}if(l)for(var g=0;g<i.length;g++){var E=i[g],b=s[g],w=u(E,b,a);if(w!=null)return w;if(n.isPropagationStopped()===!0)return}else{var v=i[0],S=s[0],x=e.target;if(x===S)return u(v,S,a)}}}function l3(t,e){var n=Kr,r=n.id,i=n.node,s=e.id,o=e.node,a=ch(s),l=a.onResponderGrant,u=a.onResponderReject;if(t.bubbles=!1,t.cancelable=!1,t.currentTarget=o,r==null)l!=null&&(t.currentTarget=o,t.dispatchConfig.registrationName="onResponderGrant",l(t)),uh(e);else{var h=ch(r),d=h.onResponderTerminate,f=h.onResponderTerminationRequest,p=!0;f!=null&&(t.currentTarget=i,t.dispatchConfig.registrationName="onResponderTerminationRequest",f(t)===!1&&(p=!1)),p?(d!=null&&(t.currentTarget=i,t.dispatchConfig.registrationName="onResponderTerminate",d(t)),l!=null&&(t.currentTarget=o,t.dispatchConfig.registrationName="onResponderGrant",l(t)),uh(e)):u!=null&&(t.currentTarget=o,t.dispatchConfig.registrationName="onResponderReject",u(t))}}var u3=["blur","scroll"],c3=["mousedown","mousemove","mouseup","dragstart","touchstart","touchmove","touchend","touchcancel","contextmenu","select","selectionchange"];function h3(){Ct&&window.__reactResponderSystemActive==null&&(window.addEventListener("blur",Cy),c3.forEach(t=>{document.addEventListener(t,Cy)}),u3.forEach(t=>{document.addEventListener(t,Cy,!0)}),window.__reactResponderSystemActive=!0)}function d3(t,e,n){q$(e,t),Lp.set(t,n)}function NR(t){Kr.id===t&&f3(),Lp.has(t)&&Lp.delete(t)}function f3(){var t=Kr,e=t.id,n=t.node;if(e!=null&&n!=null){var r=ch(e),i=r.onResponderTerminate;if(i!=null){var s=Xk({},U_);s.currentTarget=n,i(s)}uh(B_)}Es=!1,$r=0}function p3(){return Kr.node}var m3={},g3=0;function y3(t){var e=R.useRef(null);return e.current==null&&(e.current=t()),e.current}function SS(t,e){e===void 0&&(e=m3);var n=y3(()=>g3++),r=R.useRef(!1);R.useEffect(()=>(h3(),()=>{NR(n)}),[n]),R.useEffect(()=>{var i=e,s=i.onMoveShouldSetResponder,o=i.onMoveShouldSetResponderCapture,a=i.onScrollShouldSetResponder,l=i.onScrollShouldSetResponderCapture,u=i.onSelectionChangeShouldSetResponder,h=i.onSelectionChangeShouldSetResponderCapture,d=i.onStartShouldSetResponder,f=i.onStartShouldSetResponderCapture,p=s!=null||o!=null||a!=null||l!=null||u!=null||h!=null||d!=null||f!=null,g=t.current;p?(d3(n,g,e),r.current=!0):r.current&&(NR(n),r.current=!1)},[e,t,n]),R.useDebugValue({isResponder:t.current===p3()}),R.useDebugValue(e)}var Np=R.createContext(!1),v3=["hrefAttrs","onLayout","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture"],_3=Object.assign({},uS,cS,hS,dS,fS,pS,mS,gS,{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),w3=t=>yS(t,_3),K=R.forwardRef((t,e)=>{var n=t.hrefAttrs,r=t.onLayout,i=t.onMoveShouldSetResponder,s=t.onMoveShouldSetResponderCapture,o=t.onResponderEnd,a=t.onResponderGrant,l=t.onResponderMove,u=t.onResponderReject,h=t.onResponderRelease,d=t.onResponderStart,f=t.onResponderTerminate,p=t.onResponderTerminationRequest,g=t.onScrollShouldSetResponder,E=t.onScrollShouldSetResponderCapture,b=t.onSelectionChangeShouldSetResponder,w=t.onSelectionChangeShouldSetResponderCapture,v=t.onStartShouldSetResponder,S=t.onStartShouldSetResponderCapture,x=Rn(t,v3),D=R.useContext(Np),O=R.useRef(null),T=lS(),y=T.direction;vS(O,r),SS(O,{onMoveShouldSetResponder:i,onMoveShouldSetResponderCapture:s,onResponderEnd:o,onResponderGrant:a,onResponderMove:l,onResponderReject:u,onResponderRelease:h,onResponderStart:d,onResponderTerminate:f,onResponderTerminationRequest:p,onScrollShouldSetResponder:g,onScrollShouldSetResponderCapture:E,onSelectionChangeShouldSetResponder:b,onSelectionChangeShouldSetResponderCapture:w,onStartShouldSetResponder:v,onStartShouldSetResponderCapture:S});var C="div",I=t.lang!=null?Km(t.lang):null,A=t.dir||I,L=A||y,k=w3(x);if(k.dir=A,k.style=[VR.view$raw,D&&VR.inline,t.style],t.href!=null&&(C="a",n!=null)){var le=n.download,he=n.rel,Le=n.target;le!=null&&(k.download=le),he!=null&&(k.rel=he),typeof Le=="string"&&(k.target=Le.charAt(0)!=="_"?"_"+Le:Le)}var be=_S(k),j=Lh(O,be,e);return k.ref=j,eu(C,k,{writingDirection:L})});K.displayName="View";var VR=Ie.create({view$raw:{alignItems:"stretch",backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,listStyle:"none",margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",textDecoration:"none",zIndex:0},inline:{display:"inline-flex"}}),S3=function t(e,n,r){if(r===void 0&&(r=-1),r===0)return!0;if(e===n||typeof e=="function"&&typeof n=="function")return!1;if(typeof e!="object"||e===null)return e!==n;if(typeof n!="object"||n===null||e.constructor!==n.constructor)return!0;if(Array.isArray(e)){var i=e.length;if(n.length!==i)return!0;for(var s=0;s<i;s++)if(t(e[s],n[s],r-1))return!0}else{for(var o in e)if(t(e[o],n[o],r-1))return!0;for(var a in n)if(e[a]===void 0&&n[a]!==void 0)return!0}return!1};function E3(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!t){var s;if(e===void 0)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;s=new Error(e.replace(/%s/g,function(){return String(r[o++])})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}var T3=E3;const pe=Yl(T3);function FR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function b3(t,e){if(t){if(typeof t=="string")return FR(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FR(t,e):void 0}}function $o(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=b3(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R3=["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"];function C3(t){t.colors,t.enabled,t.onRefresh,t.progressBackgroundColor,t.progressViewOffset,t.refreshing,t.size,t.tintColor,t.title,t.titleColor;var e=Rn(t,R3);return ht.createElement(K,e)}var zo={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},Cs={},BR=Ct;function rO(){if(Ct){var t=window,e,n;if(t.visualViewport){var r=t.visualViewport;e=Math.round(r.height*r.scale),n=Math.round(r.width*r.scale)}else{var i=t.document.documentElement;e=i.clientHeight,n=i.clientWidth}zo.window={fontScale:1,height:e,scale:t.devicePixelRatio||1,width:n},zo.screen={fontScale:1,height:t.screen.height,scale:t.devicePixelRatio||1,width:t.screen.width}}}function UR(){rO(),Array.isArray(Cs.change)&&Cs.change.forEach(t=>t(zo))}class Vp{static get(e){return BR&&(BR=!1,rO()),pe(zo[e],"No dimension set for key "+e),zo[e]}static set(e){e&&(Ct?pe(!1,"Dimensions cannot be set in the browser"):(e.screen!=null&&(zo.screen=e.screen),e.window!=null&&(zo.window=e.window)))}static addEventListener(e,n){return Cs[e]=Cs[e]||[],Cs[e].push(n),{remove:()=>{this.removeEventListener(e,n)}}}static removeEventListener(e,n){Array.isArray(Cs[e])&&(Cs[e]=Cs[e].filter(r=>r!==n))}}Ct&&(window.visualViewport?window.visualViewport.addEventListener("resize",UR,!1):window.addEventListener("resize",UR,!1));var Ii={_currentlyFocusedNode:null,currentlyFocusedField(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput(t){t!==null&&(this._currentlyFocusedNode=t,document.activeElement!==t&&ki.focus(t))},blurTextInput(t){t!==null&&(this._currentlyFocusedNode=null,document.activeElement===t&&ki.blur(t))}},I3=()=>{Ii.blurTextInput(Ii.currentlyFocusedField())},x3=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function jR(t){return{nativeEvent:{contentOffset:{get x(){return t.target.scrollLeft},get y(){return t.target.scrollTop}},contentSize:{get height(){return t.target.scrollHeight},get width(){return t.target.scrollWidth}},layoutMeasurement:{get height(){return t.target.offsetHeight},get width(){return t.target.offsetWidth}}},timeStamp:Date.now()}}function A3(t,e){var n=Date.now()-t;return e>0&&n>=e}var P3=R.forwardRef((t,e)=>{var n=t.onScroll,r=t.onTouchMove,i=t.onWheel,s=t.scrollEnabled,o=s===void 0?!0:s,a=t.scrollEventThrottle,l=a===void 0?0:a,u=t.showsHorizontalScrollIndicator,h=t.showsVerticalScrollIndicator,d=t.style,f=Rn(t,x3),p=R.useRef({isScrolling:!1,scrollLastTick:0}),g=R.useRef(null),E=R.useRef(null);function b(O){return T=>{o&&O&&O(T)}}function w(O){O.stopPropagation(),O.target===E.current&&(O.persist(),g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{x(O)},100),p.current.isScrolling?A3(p.current.scrollLastTick,l)&&S(O):v(O))}function v(O){p.current.isScrolling=!0,S(O)}function S(O){p.current.scrollLastTick=Date.now(),n&&n(jR(O))}function x(O){p.current.isScrolling=!1,n&&n(jR(O))}var D=u===!1||h===!1;return R.createElement(K,tn({},f,{onScroll:w,onTouchMove:b(r),onWheel:b(i),ref:Lh(E,e),style:[d,!o&&$R.scrollDisabled,D&&$R.hideScrollbar]}))}),$R=Ie.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}});function Gm(t){return function(){return t}}var ya=function(){};ya.thatReturns=Gm;ya.thatReturnsFalse=Gm(!1);ya.thatReturnsTrue=Gm(!0);ya.thatReturnsNull=Gm(null);ya.thatReturnsThis=function(){return this};ya.thatReturnsArgument=function(t){return t};var k3=ya,O3=k3,D3=O3,M3=D3;const L3=Yl(M3);var N3=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],zR={},V3=16;class F3 extends ht.Component{constructor(){super(...arguments),this._scrollNodeRef=null,this._innerViewRef=null,this.isTouching=!1,this.lastMomentumScrollBeginTime=0,this.lastMomentumScrollEndTime=0,this.observedScrollSinceBecomingResponder=!1,this.becameResponderWhileAnimating=!1,this.scrollResponderHandleScrollShouldSetResponder=()=>this.isTouching,this.scrollResponderHandleStartShouldSetResponderCapture=e=>this.scrollResponderIsAnimating(),this.scrollResponderHandleTerminationRequest=()=>!this.observedScrollSinceBecomingResponder,this.scrollResponderHandleTouchEnd=e=>{var n=e.nativeEvent;this.isTouching=n.touches.length!==0,this.props.onTouchEnd&&this.props.onTouchEnd(e)},this.scrollResponderHandleResponderRelease=e=>{this.props.onResponderRelease&&this.props.onResponderRelease(e);var n=Ii.currentlyFocusedField();!this.props.keyboardShouldPersistTaps&&n!=null&&e.target!==n&&!this.observedScrollSinceBecomingResponder&&!this.becameResponderWhileAnimating&&(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),Ii.blurTextInput(n))},this.scrollResponderHandleScroll=e=>{this.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},this.scrollResponderHandleResponderGrant=e=>{this.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},this.scrollResponderHandleScrollBeginDrag=e=>{this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this.scrollResponderHandleScrollEndDrag=e=>{this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this.scrollResponderHandleMomentumScrollBegin=e=>{this.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this.scrollResponderHandleMomentumScrollEnd=e=>{this.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this.scrollResponderHandleTouchStart=e=>{this.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},this.scrollResponderHandleTouchMove=e=>{this.props.onTouchMove&&this.props.onTouchMove(e)},this.scrollResponderIsAnimating=()=>{var e=Date.now(),n=e-this.lastMomentumScrollEndTime,r=n<V3||this.lastMomentumScrollEndTime<this.lastMomentumScrollBeginTime;return r},this.scrollResponderScrollTo=(e,n,r)=>{if(typeof e=="number")console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var i=e||zR;e=i.x,n=i.y,r=i.animated}var s=this.getScrollableNode(),o=e||0,a=n||0;s!=null&&(typeof s.scroll=="function"?s.scroll({top:a,left:o,behavior:r?"smooth":"auto"}):(s.scrollLeft=o,s.scrollTop=a))},this.scrollResponderZoomTo=(e,n)=>{pe("zoomToRect is not implemented")},this.scrollResponderScrollNativeHandleToKeyboard=(e,n,r)=>{this.additionalScrollOffset=n||0,this.preventNegativeScrollOffset=!!r,ki.measureLayout(e,this.getInnerViewNode(),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},this.scrollResponderInputMeasureAndScrollToKeyboard=(e,n,r,i)=>{var s=Vp.get("window").height;this.keyboardWillOpenTo&&(s=this.keyboardWillOpenTo.endCoordinates.screenY);var o=n-s+i+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(o=Math.max(0,o)),this.scrollResponderScrollTo({x:0,y:o,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},this.scrollResponderKeyboardWillShow=e=>{this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},this.scrollResponderKeyboardWillHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},this.scrollResponderKeyboardDidShow=e=>{e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},this.scrollResponderKeyboardDidHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)},this.flashScrollIndicators=()=>{this.scrollResponderFlashScrollIndicators()},this.getScrollResponder=()=>this,this.getScrollableNode=()=>this._scrollNodeRef,this.getInnerViewRef=()=>this._innerViewRef,this.getInnerViewNode=()=>this._innerViewRef,this.getNativeScrollRef=()=>this._scrollNodeRef,this.scrollTo=(e,n,r)=>{if(typeof e=="number")console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var i=e||zR;n=i.x,e=i.y,r=i.animated}this.scrollResponderScrollTo({x:n||0,y:e||0,animated:r!==!1})},this.scrollToEnd=e=>{var n=(e&&e.animated)!==!1,r=this.props.horizontal,i=this.getScrollableNode(),s=r?i.scrollWidth:0,o=r?0:i.scrollHeight;this.scrollResponderScrollTo({x:s,y:o,animated:n})},this._handleContentOnLayout=e=>{var n=e.nativeEvent.layout,r=n.width,i=n.height;this.props.onContentSizeChange(r,i)},this._handleScroll=e=>{this.props.keyboardDismissMode==="on-drag"&&I3(),this.scrollResponderHandleScroll(e)},this._setInnerViewRef=e=>{this._innerViewRef=e},this._setScrollNodeRef=e=>{this._scrollNodeRef=e,e!=null&&(e.getScrollResponder=this.getScrollResponder,e.getInnerViewNode=this.getInnerViewNode,e.getInnerViewRef=this.getInnerViewRef,e.getNativeScrollRef=this.getNativeScrollRef,e.getScrollableNode=this.getScrollableNode,e.scrollTo=this.scrollTo,e.scrollToEnd=this.scrollToEnd,e.flashScrollIndicators=this.flashScrollIndicators,e.scrollResponderZoomTo=this.scrollResponderZoomTo,e.scrollResponderScrollNativeHandleToKeyboard=this.scrollResponderScrollNativeHandleToKeyboard);var n=Gk(this.props.forwardedRef);n(e)}}scrollResponderHandleStartShouldSetResponder(){return!1}scrollResponderHandleResponderReject(){L3(!1,"ScrollView doesn't take rejection well - scrolls anyway")}scrollResponderFlashScrollIndicators(){}scrollResponderTextInputFocusError(e){console.error("Error measuring text field: ",e)}render(){var e=this.props,n=e.contentContainerStyle,r=e.horizontal,i=e.onContentSizeChange,s=e.refreshControl,o=e.stickyHeaderIndices,a=e.pagingEnabled;e.forwardedRef,e.keyboardDismissMode,e.onScroll;var l=e.centerContent,u=Rn(e,N3),h={};i&&(h={onLayout:this._handleContentOnLayout});var d=!r&&Array.isArray(o),f=d||a?ht.Children.map(this.props.children,(S,x)=>{var D=d&&o.indexOf(x)>-1;return S!=null&&(D||a)?ht.createElement(K,{style:[D&&vs.stickyHeader,a&&vs.pagingEnabledChild]},S):S}):this.props.children,p=ht.createElement(K,tn({},h,{children:f,collapsable:!1,ref:this._setInnerViewRef,style:[r&&vs.contentContainerHorizontal,l&&vs.contentContainerCenterContent,n]})),g=r?vs.baseHorizontal:vs.baseVertical,E=r?vs.pagingEnabledHorizontal:vs.pagingEnabledVertical,b=me(me({},u),{},{style:[g,a&&E,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),w=P3;pe(w!==void 0,"ScrollViewClass must not be undefined");var v=ht.createElement(w,tn({},b,{ref:this._setScrollNodeRef}),p);return s?ht.cloneElement(s,{style:b.style},v):v}}var WR={flexGrow:1,flexShrink:1,transform:"translateZ(0)",WebkitOverflowScrolling:"touch"},vs=Ie.create({baseVertical:me(me({},WR),{},{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:me(me({},WR),{},{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},contentContainerCenterContent:{justifyContent:"center",flexGrow:1},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),Tr=ht.forwardRef((t,e)=>ht.createElement(F3,tn({},t,{forwardedRef:e})));Tr.displayName="ScrollView";class B3{constructor(e){var n=e.onMoreTasks;this._onMoreTasks=n,this._queueStack=[{tasks:[],popable:!0}]}enqueue(e){this._getCurrentQueue().push(e)}enqueueTasks(e){e.forEach(n=>this.enqueue(n))}cancelTasks(e){this._queueStack=this._queueStack.map(n=>me(me({},n),{},{tasks:n.tasks.filter(r=>e.indexOf(r)===-1)})).filter((n,r)=>n.tasks.length>0||r===0)}hasTasksToProcess(){return this._getCurrentQueue().length>0}processNext(){var e=this._getCurrentQueue();if(e.length){var n=e.shift();try{typeof n=="object"&&n.gen?this._genPromise(n):typeof n=="object"&&n.run?n.run():(pe(typeof n=="function",`Expected Function, SimpleTask, or PromiseTask, but got:
`+JSON.stringify(n,null,2)),n())}catch(r){throw r.message="TaskQueue: Error with task "+(n.name||"")+": "+r.message,r}}}_getCurrentQueue(){var e=this._queueStack.length-1,n=this._queueStack[e];return n.popable&&n.tasks.length===0&&e>0?(this._queueStack.pop(),this._getCurrentQueue()):n.tasks}_genPromise(e){var n=this._queueStack.push({tasks:[],popable:!1}),r=n-1,i=this._queueStack[r];e.gen().then(()=>{i.popable=!0,this.hasTasksToProcess()&&this._onMoreTasks()}).catch(s=>{setTimeout(()=>{throw s.message="TaskQueue: Error resolving Promise in task "+e.name+": "+s.message,s},0)})}}class U3{constructor(){this._registry={}}addListener(e,n,r){var i=j3(this._registry,e),s={context:r,listener:n,remove(){i.delete(s)}};return i.add(s),s}emit(e){var n=this._registry[e];if(n!=null){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];for(var o=0,a=[...n];o<a.length;o++){var l=a[o];l.listener.apply(l.context,i)}}}removeAllListeners(e){e==null?this._registry={}:delete this._registry[e]}listenerCount(e){var n=this._registry[e];return n==null?0:n.size}}function j3(t,e){var n=t[e];return n==null&&(n=new Set,t[e]=n),n}var $3=function(e,n){return setTimeout(()=>{var r=Date.now();e({didTimeout:!1,timeRemaining(){return Math.max(0,50-(Date.now()-r))}})},1)},z3=Ct&&typeof window.requestIdleCallback<"u",W3=z3?window.requestIdleCallback:$3,Fp=new U3,j_={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions(t){var e=[],n=new Promise(r=>{Ac(),t&&e.push(t),e.push({run:r,name:"resolve "+(t&&t.name||"?")}),Up.enqueueTasks(e)});return{then:n.then.bind(n),done:n.then.bind(n),cancel:()=>{Up.cancelTasks(e)}}},createInteractionHandle(){Ac();var t=++H3;return Bp.add(t),t},clearInteractionHandle(t){pe(!!t,"Must provide a handle to clear."),Ac(),Bp.delete(t),$_.add(t)},addListener:Fp.addListener.bind(Fp),setDeadline(t){jp=t}},Gd=new Set,Bp=new Set,$_=new Set,Up=new B3({onMoreTasks:Ac}),Mf=0,H3=0,jp=-1;function Ac(){Mf||(jp>0?Mf=setTimeout(HR):Mf=W3(HR))}function HR(){Mf=0;var t=Gd.size;Bp.forEach(r=>Gd.add(r)),$_.forEach(r=>Gd.delete(r));var e=Gd.size;if(t!==0&&e===0?Fp.emit(j_.Events.interactionComplete):t===0&&e!==0&&Fp.emit(j_.Events.interactionStart),e===0){for(var n=Date.now();Up.hasTasksToProcess();)if(Up.processNext(),jp>0&&Date.now()-n>=jp){Ac();break}}Bp.clear(),$_.clear()}class q3{constructor(e,n){this._delay=n,this._callback=e}dispose(e){e===void 0&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)}schedule(){if(!this._taskHandle){var e=setTimeout(()=>{this._taskHandle=j_.runAfterInteractions(()=>{this._taskHandle=null,this._callback()})},this._delay);this._taskHandle={cancel:()=>clearTimeout(e)}}}}function qR(t,e,n){return e<t?t:e>n?n:e}function K3(){return console.log(...arguments)}class G3{constructor(e){pe(e>=0,"CellRenderMask must contain a non-negative number os cells"),this._numCells=e,e===0?this._regions=[]:this._regions=[{first:0,last:e-1,isSpacer:!0}]}enumerateRegions(){return this._regions}addCells(e){if(pe(e.first>=0&&e.first<this._numCells&&e.last>=-1&&e.last<this._numCells&&e.last>=e.first-1,"CellRenderMask.addCells called with invalid cell range"),!(e.last<e.first)){var n=this._findRegion(e.first),r=n[0],i=n[1],s=this._findRegion(e.last),o=s[0],a=s[1];if(!(i===a&&!r.isSpacer)){var l=[],u=[],h=me(me({},e),{},{isSpacer:!1});r.first<h.first&&(r.isSpacer?l.push({first:r.first,last:h.first-1,isSpacer:!0}):h.first=r.first),o.last>h.last&&(o.isSpacer?u.push({first:h.last+1,last:o.last,isSpacer:!0}):h.last=o.last);var d=[...l,h,...u],f=a-i+1;this._regions.splice(i,f,...d)}}}numCells(){return this._numCells}equals(e){return this._numCells===e._numCells&&this._regions.length===e._regions.length&&this._regions.every((n,r)=>n.first===e._regions[r].first&&n.last===e._regions[r].last&&n.isSpacer===e._regions[r].isSpacer)}_findRegion(e){for(var n=0,r=this._regions.length-1;n<=r;){var i=Math.floor((n+r)/2),s=this._regions[i];if(e>=s.first&&e<=s.last)return[s,i];e<s.first?r=i-1:e>s.last&&(n=i+1)}pe(!1,"A region was not found containing cellIdx "+e)}}class X3{constructor(){this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map}add(e,n){var r;pe(!this._childrenToCellKey.has(e),"Trying to add already present child list");var i=(r=this._cellKeyToChildren.get(n))!==null&&r!==void 0?r:new Set;i.add(e),this._cellKeyToChildren.set(n,i),this._childrenToCellKey.set(e,n)}remove(e){var n=this._childrenToCellKey.get(e);pe(n!=null,"Trying to remove non-present child list"),this._childrenToCellKey.delete(e);var r=this._cellKeyToChildren.get(n);pe(r,"_cellKeyToChildren should contain cellKey"),r.delete(e),r.size===0&&this._cellKeyToChildren.delete(n)}forEach(e){for(var n=$o(this._cellKeyToChildren.values()),r;!(r=n()).done;)for(var i=r.value,s=$o(i),o;!(o=s()).done;){var a=o.value;e(a)}}forEachInCell(e,n){for(var r,i=(r=this._cellKeyToChildren.get(e))!==null&&r!==void 0?r:[],s=$o(i),o;!(o=s()).done;){var a=o.value;n(a)}}anyInCell(e,n){for(var r,i=(r=this._cellKeyToChildren.get(e))!==null&&r!==void 0?r:[],s=$o(i),o;!(o=s()).done;){var a=o.value;if(n(a))return!0}return!1}size(){return this._childrenToCellKey.size}}class KR{constructor(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}}var Xd=[],GR=10,Iy=null;class Y3{static addListener(e){return Iy===null&&console.warn("Call `FillRateHelper.setSampleRate` before `addListener`."),Xd.push(e),{remove:()=>{Xd=Xd.filter(n=>e!==n)}}}static setSampleRate(e){Iy=e}static setMinSampleCount(e){GR=e}constructor(e){this._anyBlankStartTime=null,this._enabled=!1,this._info=new KR,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=e,this._enabled=(Iy||0)>Math.random(),this._resetData()}activate(){this._enabled&&this._samplesStartTime==null&&(this._samplesStartTime=global.performance.now())}deactivateAndFlush(){if(this._enabled){var e=this._samplesStartTime;if(e!=null){if(this._info.sample_count<GR){this._resetData();return}var n=global.performance.now()-e,r=me(me({},this._info),{},{total_time_spent:n});Xd.forEach(i=>i(r)),this._resetData()}}}computeBlankness(e,n,r){if(!this._enabled||e.getItemCount(e.data)===0||n.last<n.first||this._samplesStartTime==null)return 0;var i=r.dOffset,s=r.offset,o=r.velocity,a=r.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(a),this._info.pixels_scrolled+=Math.round(Math.abs(i));var l=Math.round(Math.abs(o)*1e3),u=global.performance.now();this._anyBlankStartTime!=null&&(this._info.any_blank_ms+=u-this._anyBlankStartTime),this._anyBlankStartTime=null,this._mostlyBlankStartTime!=null&&(this._info.mostly_blank_ms+=u-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var h=0,d=n.first,f=this._getFrameMetrics(d,e);d<=n.last&&(!f||!f.inLayout);)f=this._getFrameMetrics(d,e),d++;f&&d>0&&(h=Math.min(a,Math.max(0,f.offset-s)));for(var p=0,g=n.last,E=this._getFrameMetrics(g,e);g>=n.first&&(!E||!E.inLayout);)E=this._getFrameMetrics(g,e),g--;if(E&&g<e.getItemCount(e.data)-1){var b=E.offset+E.length;p=Math.min(a,Math.max(0,s+a-b))}var w=Math.round(h+p),v=w/a;return v>0?(this._anyBlankStartTime=u,this._info.any_blank_speed_sum+=l,this._info.any_blank_count++,this._info.pixels_blank+=w,v>.5&&(this._mostlyBlankStartTime=u,this._info.mostly_blank_count++)):(l<.01||Math.abs(i)<1)&&this.deactivateAndFlush(),v}enabled(){return this._enabled}_resetData(){this._anyBlankStartTime=null,this._info=new KR,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}class Q3 extends R.PureComponent{constructor(e){super(e),this._inAsyncStateUpdate=!1,this._installSetStateHooks()}setState(e,n){typeof e=="function"?super.setState((r,i)=>{this._inAsyncStateUpdate=!0;var s;try{s=e(r,i)}catch(o){throw o}finally{this._inAsyncStateUpdate=!1}return s},n):super.setState(e,n)}_installSetStateHooks(){var e=this,n=this.props,r=this.state;Object.defineProperty(this,"props",{get(){return pe(!e._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),n},set(i){n=i}}),Object.defineProperty(this,"state",{get(){return pe(!e._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),r},set(i){r=i}})}}class XR{constructor(e){e===void 0&&(e={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=e}dispose(){this._timers.forEach(clearTimeout)}computeViewableItems(e,n,r,i,s){var o=e.getItemCount(e.data),a=this._config,l=a.itemVisiblePercentThreshold,u=a.viewAreaCoveragePercentThreshold,h=u!=null,d=h?u:l;pe(d!=null&&l!=null!=(u!=null),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var f=[];if(o===0)return f;var p=-1,g=s||{first:0,last:o-1},E=g.first,b=g.last;if(b>=o)return console.warn("Invalid render range computing viewability "+JSON.stringify({renderRange:s,itemCount:o})),[];for(var w=E;w<=b;w++){var v=i(w,e);if(v){var S=v.offset-n,x=S+v.length;if(S<r&&x>0)p=w,J3(h,d,S,x,r,v.length)&&f.push(w);else if(p>=0)break}}return f}onUpdate(e,n,r,i,s,o,a){var l=e.getItemCount(e.data);if(!(this._config.waitForInteraction&&!this._hasInteracted||l===0||!i(0,e))){var u=[];if(l&&(u=this.computeViewableItems(e,n,r,i,a)),!(this._viewableIndices.length===u.length&&this._viewableIndices.every((d,f)=>d===u[f])))if(this._viewableIndices=u,this._config.minimumViewTime){var h=setTimeout(()=>{this._timers.delete(h),this._onUpdateSync(e,u,o,s)},this._config.minimumViewTime);this._timers.add(h)}else this._onUpdateSync(e,u,o,s)}}resetViewableIndices(){this._viewableIndices=[]}recordInteraction(){this._hasInteracted=!0}_onUpdateSync(e,n,r,i){n=n.filter(v=>this._viewableIndices.includes(v));for(var s=this._viewableItems,o=new Map(n.map(v=>{var S=i(v,!0,e);return[S.key,S]})),a=[],l=$o(o),u;!(u=l()).done;){var h=u.value,d=h[0],f=h[1];s.has(d)||a.push(f)}for(var p=$o(s),g;!(g=p()).done;){var E=g.value,b=E[0],w=E[1];o.has(b)||a.push(me(me({},w),{},{isViewable:!1}))}a.length>0&&(this._viewableItems=o,r({viewableItems:Array.from(o.values()),changed:a,viewabilityConfig:this._config}))}}function J3(t,e,n,r,i,s){if(e6(n,r,i))return!0;var o=Z3(n,r,i),a=100*(t?o/i:o/s);return a>=e}function Z3(t,e,n){var r=Math.min(e,n)-Math.max(t,0);return Math.max(0,r)}function e6(t,e,n){return t>=0&&e<=n&&e>t}var $p=R.createContext(null);function t6(t){var e=t.children,n=t.value,r=R.useMemo(()=>({cellKey:null,getScrollMetrics:n.getScrollMetrics,horizontal:n.horizontal,getOutermostParentListRef:n.getOutermostParentListRef,registerAsNestedChild:n.registerAsNestedChild,unregisterAsNestedChild:n.unregisterAsNestedChild}),[n.getScrollMetrics,n.horizontal,n.getOutermostParentListRef,n.registerAsNestedChild,n.unregisterAsNestedChild]);return R.createElement($p.Provider,{value:r},e)}function Lf(t){var e=t.cellKey,n=t.children,r=R.useContext($p),i=R.useMemo(()=>r==null?null:me(me({},r),{},{cellKey:e}),[r,e]);return R.createElement($p.Provider,{value:i},n)}class n6 extends R.Component{constructor(){super(...arguments),this.state={separatorProps:{highlighted:!1,leadingItem:this.props.item}},this._separators={highlight:()=>{var e=this.props,n=e.cellKey,r=e.prevCellKey;this.props.onUpdateSeparators([n,r],{highlighted:!0})},unhighlight:()=>{var e=this.props,n=e.cellKey,r=e.prevCellKey;this.props.onUpdateSeparators([n,r],{highlighted:!1})},updateProps:(e,n)=>{var r=this.props,i=r.cellKey,s=r.prevCellKey;this.props.onUpdateSeparators([e==="leading"?s:i],n)}},this._onLayout=e=>{this.props.onCellLayout&&this.props.onCellLayout(e,this.props.cellKey,this.props.index)}}static getDerivedStateFromProps(e,n){return{separatorProps:me(me({},n.separatorProps),{},{leadingItem:e.item})}}updateSeparatorProps(e){this.setState(n=>({separatorProps:me(me({},n.separatorProps),e)}))}componentWillUnmount(){this.props.onUnmount(this.props.cellKey)}_renderElement(e,n,r,i){if(e&&n&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),n)return R.createElement(n,{item:r,index:i,separators:this._separators});if(e)return e({item:r,index:i,separators:this._separators});pe(!1,"VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.")}render(){var e=this.props,n=e.CellRendererComponent,r=e.ItemSeparatorComponent,i=e.ListItemComponent,s=e.cellKey,o=e.horizontal,a=e.item,l=e.index,u=e.inversionStyle,h=e.onCellFocusCapture,d=e.onCellLayout,f=e.renderItem,p=this._renderElement(f,i,a,l),g=R.isValidElement(r)?r:r&&R.createElement(r,this.state.separatorProps),E=u?o?[xy.rowReverse,u]:[xy.columnReverse,u]:o?[xy.row,u]:u,b=n?R.createElement(n,tn({cellKey:s,index:l,item:a,style:E,onFocusCapture:h},d&&{onLayout:this._onLayout}),p,g):R.createElement(K,tn({style:E,onFocusCapture:h},d&&{onLayout:this._onLayout}),p,g);return R.createElement(Lf,{cellKey:this.props.cellKey},b)}}var xy=Ie.create({row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"}});function r6(t,e,n,r){r===void 0&&(r=1);for(var i=e.getItemCount(e.data),s=[],o=0;o<t.length;o++)for(var a=t[o],l=0,u=i-1;l<=u;){var h=l+(u-l>>>1),d=n(h,e),f=d.offset*r,p=(d.offset+d.length)*r;if(h===0&&a<f||h!==0&&a<=f)u=h-1;else if(a>p)l=h+1;else{s[o]=h;break}}return s}function i6(t,e){return e.last-e.first+1-Math.max(0,1+Math.min(e.last,t.last)-Math.max(e.first,t.first))}function s6(t,e,n,r,i,s){var o=t.getItemCount(t.data);if(o===0)return{first:0,last:-1};var a=s.offset,l=s.velocity,u=s.visibleLength,h=s.zoomScale,d=h===void 0?1:h,f=Math.max(0,a),p=f+u,g=(n-1)*u,E=.5,b=l>1?"after":l<-1?"before":"none",w=Math.max(0,f-(1-E)*g),v=Math.max(0,p+E*g),S=i(o-1,t).offset*d;if(S<w)return{first:Math.max(0,o-1-e),last:o-1};var x=r6([w,f,p,v],t,i,d),D=x[0],O=x[1],T=x[2],y=x[3];D=D??0,O=O??Math.max(0,D),y=y??o-1,T=T??Math.min(y,O+e-1);for(var C={first:O,last:T},I=i6(r,C);!(O<=D&&T>=y);){var A=I>=e,L=O<=r.first||O>r.last,k=O>D&&(!A||!L),le=T>=r.last||T<r.first,he=T<y&&(!A||!le);if(A&&!k&&!he)break;k&&!(b==="after"&&he&&le)&&(L&&I++,O--),he&&!(b==="before"&&k&&L)&&(le&&I++,T++)}if(!(T>=O&&O>=0&&T<o&&O>=D&&T<=y&&O<=C.first&&T>=C.last))throw new Error("Bad window calculation "+JSON.stringify({first:O,last:T,itemCount:o,overscanFirst:D,overscanLast:y,visible:C}));return{first:O,last:T}}function z_(t,e){return typeof t=="object"&&(t==null?void 0:t.key)!=null?t.key:typeof t=="object"&&(t==null?void 0:t.id)!=null?t.id:String(e)}var Xm={exports:{}};function iO(t,e){if(t!=null)return t;var n=new Error(e!==void 0?e:"Got unexpected "+t);throw n.framesToPop=1,n}Xm.exports=iO;Xm.exports.default=iO;Object.defineProperty(Xm.exports,"__esModule",{value:!0});var o6=Xm.exports;const a6=Yl(o6);var YR=.001,Ay=!1,Py="";function Ao(t){return t??!1}function l6(t){return t??10}function ky(t){return t??10}function u6(t){return t??2}function QR(t){return t??2}function JR(t,e){return t*e/2}function c6(t){return t??50}function ZR(t){return t??21}function h6(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null}class Xn extends Q3{scrollToEnd(e){var n=e?e.animated:!0,r=this.props.getItemCount(this.props.data)-1;if(!(r<0)){var i=this.__getFrameMetricsApprox(r,this.props),s=Math.max(0,i.offset+i.length+this._footerLength-this._scrollMetrics.visibleLength);if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(Ao(this.props.horizontal)?{x:s,animated:n}:{y:s,animated:n})}}}scrollToIndex(e){var n=this.props,r=n.data,i=n.horizontal,s=n.getItemCount,o=n.getItemLayout,a=n.onScrollToIndexFailed,l=e.animated,u=e.index,h=e.viewOffset,d=e.viewPosition;if(pe(u>=0,"scrollToIndex out of range: requested index "+u+" but minimum is 0"),pe(s(r)>=1,"scrollToIndex out of range: item length "+s(r)+" but minimum is 1"),pe(u<s(r),"scrollToIndex out of range: requested index "+u+" is out of 0 to "+(s(r)-1)),!o&&u>this._highestMeasuredFrameIndex){pe(!!a,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),a({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:u});return}var f=this.__getFrameMetricsApprox(Math.floor(u),this.props),p=Math.max(0,this._getOffsetApprox(u,this.props)-(d||0)*(this._scrollMetrics.visibleLength-f.length))-(h||0);if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(i?{x:p,animated:l}:{y:p,animated:l})}}scrollToItem(e){for(var n=e.item,r=this.props,i=r.data,s=r.getItem,o=r.getItemCount,a=o(i),l=0;l<a;l++)if(s(i,l)===n){this.scrollToIndex(me(me({},e),{},{index:l}));break}}scrollToOffset(e){var n=e.animated,r=e.offset;if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(Ao(this.props.horizontal)?{x:r,animated:n}:{y:r,animated:n})}}recordInteraction(){this._nestedChildLists.forEach(e=>{e.recordInteraction()}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}flashScrollIndicators(){this._scrollRef!=null&&this._scrollRef.flashScrollIndicators()}getScrollResponder(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}getScrollableNode(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():this._scrollRef}getScrollRef(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}_getCellKey(){var e;return((e=this.context)==null?void 0:e.cellKey)||"rootList"}hasMore(){return this._hasMore}constructor(e){var n;if(super(e),this._getScrollMetrics=()=>this._scrollMetrics,this._getOutermostParentListRef=()=>this._isNestedWithSameOrientation()?this.context.getOutermostParentListRef():this,this._registerAsNestedChild=a=>{this._nestedChildLists.add(a.ref,a.cellKey),this._hasInteracted&&a.ref.recordInteraction()},this._unregisterAsNestedChild=a=>{this._nestedChildLists.remove(a.ref)},this._onUpdateSeparators=(a,l)=>{a.forEach(u=>{var h=u!=null&&this._cellRefs[u];h&&h.updateSeparatorProps(l)})},this._getSpacerKey=a=>a?"height":"width",this._averageCellLength=0,this._cellRefs={},this._frames={},this._footerLength=0,this._hasTriggeredInitialScrollToIndex=!1,this._hasInteracted=!1,this._hasMore=!1,this._hasWarned={},this._headerLength=0,this._hiPriInProgress=!1,this._highestMeasuredFrameIndex=0,this._indicesToKeys=new Map,this._lastFocusedCellKey=null,this._nestedChildLists=new X3,this._offsetFromParentVirtualizedList=0,this._prevParentOffset=0,this._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},this._scrollRef=null,this._sentStartForContentLength=0,this._sentEndForContentLength=0,this._totalCellLength=0,this._totalCellsMeasured=0,this._viewabilityTuples=[],this._captureScrollRef=a=>{this._scrollRef=a},this._defaultRenderScrollComponent=a=>{var l=a.onRefresh;if(this._isNestedWithSameOrientation())return R.createElement(K,a);if(l){var u;return pe(typeof a.refreshing=="boolean","`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify((u=a.refreshing)!==null&&u!==void 0?u:"undefined")+"`"),R.createElement(Tr,tn({},a,{refreshControl:a.refreshControl==null?R.createElement(C3,{refreshing:a.refreshing,onRefresh:l,progressViewOffset:a.progressViewOffset}):a.refreshControl}))}else return R.createElement(Tr,a)},this._onCellLayout=(a,l,u)=>{var h=a.nativeEvent.layout,d={offset:this._selectOffset(h),length:this._selectLength(h),index:u,inLayout:!0},f=this._frames[l];!f||d.offset!==f.offset||d.length!==f.length||u!==f.index?(this._totalCellLength+=d.length-(f?f.length:0),this._totalCellsMeasured+=f?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[l]=d,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,u),this._scheduleCellsToRenderUpdate()):this._frames[l].inLayout=!0,this._triggerRemeasureForChildListsInCell(l),this._computeBlankness(),this._updateViewableItems(this.props,this.state.cellsAroundViewport)},this._onCellUnmount=a=>{delete this._cellRefs[a];var l=this._frames[a];l&&(this._frames[a]=me(me({},l),{},{inLayout:!1}))},this._onLayout=a=>{this._isNestedWithSameOrientation()?this.measureLayoutRelativeToContainingList():this._scrollMetrics.visibleLength=this._selectLength(a.nativeEvent.layout),this.props.onLayout&&this.props.onLayout(a),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._onLayoutEmpty=a=>{this.props.onLayout&&this.props.onLayout(a)},this._onLayoutFooter=a=>{this._triggerRemeasureForChildListsInCell(this._getFooterCellKey()),this._footerLength=this._selectLength(a.nativeEvent.layout)},this._onLayoutHeader=a=>{this._headerLength=this._selectLength(a.nativeEvent.layout)},this._onContentSizeChange=(a,l)=>{a>0&&l>0&&this.props.initialScrollIndex!=null&&this.props.initialScrollIndex>0&&!this._hasTriggeredInitialScrollToIndex&&(this.props.contentOffset==null&&(this.props.initialScrollIndex<this.props.getItemCount(this.props.data)?this.scrollToIndex({animated:!1,index:a6(this.props.initialScrollIndex)}):this.scrollToEnd({animated:!1})),this._hasTriggeredInitialScrollToIndex=!0),this.props.onContentSizeChange&&this.props.onContentSizeChange(a,l),this._scrollMetrics.contentLength=this._selectLength({height:l,width:a}),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._convertParentScrollMetrics=a=>{var l=a.offset-this._offsetFromParentVirtualizedList,u=a.visibleLength,h=l-this._scrollMetrics.offset,d=this._scrollMetrics.contentLength;return{visibleLength:u,contentLength:d,offset:l,dOffset:h}},this._onScroll=a=>{this._nestedChildLists.forEach(w=>{w._onScroll(a)}),this.props.onScroll&&this.props.onScroll(a);var l=a.timeStamp,u=this._selectLength(a.nativeEvent.layoutMeasurement),h=this._selectLength(a.nativeEvent.contentSize),d=this._selectOffset(a.nativeEvent.contentOffset),f=d-this._scrollMetrics.offset;if(this._isNestedWithSameOrientation()){if(this._scrollMetrics.contentLength===0)return;var p=this._convertParentScrollMetrics({visibleLength:u,offset:d});u=p.visibleLength,h=p.contentLength,d=p.offset,f=p.dOffset}var g=this._scrollMetrics.timestamp?Math.max(1,l-this._scrollMetrics.timestamp):1,E=f/g;g>500&&this._scrollMetrics.dt>500&&h>5*u&&!this._hasWarned.perf&&(K3("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:g,prevDt:this._scrollMetrics.dt,contentLength:h}),this._hasWarned.perf=!0);var b=a.nativeEvent.zoomScale<0?1:a.nativeEvent.zoomScale;this._scrollMetrics={contentLength:h,dt:g,dOffset:f,offset:d,timestamp:l,velocity:E,visibleLength:u,zoomScale:b},this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.props&&(this._maybeCallOnEdgeReached(),E!==0&&this._fillRateHelper.activate(),this._computeBlankness(),this._scheduleCellsToRenderUpdate())},this._onScrollBeginDrag=a=>{this._nestedChildLists.forEach(l=>{l._onScrollBeginDrag(a)}),this._viewabilityTuples.forEach(l=>{l.viewabilityHelper.recordInteraction()}),this._hasInteracted=!0,this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(a)},this._onScrollEndDrag=a=>{this._nestedChildLists.forEach(u=>{u._onScrollEndDrag(a)});var l=a.nativeEvent.velocity;l&&(this._scrollMetrics.velocity=this._selectOffset(l)),this._computeBlankness(),this.props.onScrollEndDrag&&this.props.onScrollEndDrag(a)},this._onMomentumScrollBegin=a=>{this._nestedChildLists.forEach(l=>{l._onMomentumScrollBegin(a)}),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(a)},this._onMomentumScrollEnd=a=>{this._nestedChildLists.forEach(l=>{l._onMomentumScrollEnd(a)}),this._scrollMetrics.velocity=0,this._computeBlankness(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(a)},this._updateCellsToRender=()=>{this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.setState((a,l)=>{var u=this._adjustCellsAroundViewport(l,a.cellsAroundViewport),h=Xn._createRenderMask(l,u,this._getNonViewportRenderRegions(l));return u.first===a.cellsAroundViewport.first&&u.last===a.cellsAroundViewport.last&&h.equals(a.renderMask)?null:{cellsAroundViewport:u,renderMask:h}})},this._createViewToken=(a,l,u)=>{var h=u.data,d=u.getItem,f=d(h,a);return{index:a,item:f,key:this._keyExtractor(f,a,u),isViewable:l}},this._getOffsetApprox=(a,l)=>{if(Number.isInteger(a))return this.__getFrameMetricsApprox(a,l).offset;var u=this.__getFrameMetricsApprox(Math.floor(a),l),h=a-Math.floor(a);return u.offset+h*u.length},this.__getFrameMetricsApprox=(a,l)=>{var u=this._getFrameMetrics(a,l);if(u&&u.index===a)return u;var h=l.data,d=l.getItemCount,f=l.getItemLayout;return pe(a>=0&&a<d(h),"Tried to get frame for out of range index "+a),pe(!f,"Should not have to estimate frames when a measurement metrics function is provided"),{length:this._averageCellLength,offset:this._averageCellLength*a}},this._getFrameMetrics=(a,l)=>{var u=l.data,h=l.getItem,d=l.getItemCount,f=l.getItemLayout;pe(a>=0&&a<d(u),"Tried to get frame for out of range index "+a);var p=h(u,a),g=this._frames[this._keyExtractor(p,a,l)];return(!g||g.index!==a)&&f?f(u,a):g},this._getNonViewportRenderRegions=a=>{if(!(this._lastFocusedCellKey&&this._cellRefs[this._lastFocusedCellKey]))return[];var l=this._cellRefs[this._lastFocusedCellKey],u=l.props.index,h=a.getItemCount(a.data);if(u>=h||this._keyExtractor(a.getItem(a.data,u),u,a)!==this._lastFocusedCellKey)return[];for(var d=u,f=0,p=d-1;p>=0&&f<this._scrollMetrics.visibleLength;p--)d--,f+=this.__getFrameMetricsApprox(p,a).length;for(var g=u,E=0,b=g+1;b<h&&E<this._scrollMetrics.visibleLength;b++)g++,E+=this.__getFrameMetricsApprox(b,a).length;return[{first:d,last:g}]},this._checkProps(e),this._fillRateHelper=new Y3(this._getFrameMetrics),this._updateCellsToRenderBatcher=new q3(this._updateCellsToRender,(n=this.props.updateCellsBatchingPeriod)!==null&&n!==void 0?n:50),this.props.viewabilityConfigCallbackPairs)this._viewabilityTuples=this.props.viewabilityConfigCallbackPairs.map(a=>({viewabilityHelper:new XR(a.viewabilityConfig),onViewableItemsChanged:a.onViewableItemsChanged}));else{var r=this.props,i=r.onViewableItemsChanged,s=r.viewabilityConfig;i&&this._viewabilityTuples.push({viewabilityHelper:new XR(s),onViewableItemsChanged:i})}var o=Xn._initialRenderRegion(e);this.state={cellsAroundViewport:o,renderMask:Xn._createRenderMask(e,o)},this.invertedWheelEventHandler=a=>{var l=this.props.horizontal?a.target.scrollLeft:a.target.scrollTop,u=this.props.horizontal?a.target.scrollWidth:a.target.scrollHeight,h=this.props.horizontal?a.target.clientWidth:a.target.clientHeight,d=u>h,f=this.props.horizontal?a.deltaX||a.wheelDeltaX:a.deltaY||a.wheelDeltaY,p=f;d&&(p=f<0?Math.min(f+l,0):Math.max(f-(u-h-l),0));var g=f-p;if(this.props.inverted&&this._scrollRef&&this._scrollRef.getScrollableNode){var E=this._scrollRef.getScrollableNode();if(this.props.horizontal){a.target.scrollLeft+=g;var b=E.scrollLeft-p;E.scrollLeft=this.props.getItemLayout?b:Math.min(b,this._totalCellLength)}else{a.target.scrollTop+=g;var w=E.scrollTop-p;E.scrollTop=this.props.getItemLayout?w:Math.min(w,this._totalCellLength)}a.preventDefault()}}}_checkProps(e){var n=e.onScroll,r=e.windowSize,i=e.getItemCount,s=e.data,o=e.initialScrollIndex;pe(!n||!n.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),pe(ZR(r)>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),pe(i,'VirtualizedList: The "getItemCount" prop must be provided');var a=i(s);o!=null&&!this._hasTriggeredInitialScrollToIndex&&(o<0||a>0&&o>=a)&&!this._hasWarned.initialScrollIndex&&(console.warn('initialScrollIndex "'+o+'" is not valid (list has '+a+" items)"),this._hasWarned.initialScrollIndex=!0)}static _createRenderMask(e,n,r){var i=e.getItemCount(e.data);pe(n.first>=0&&n.last>=n.first-1&&n.last<i,'Invalid cells around viewport "['+n.first+", "+n.last+']" was passed to VirtualizedList._createRenderMask');var s=new G3(i);if(i>0){for(var o=[n,...r??[]],a=0,l=o;a<l.length;a++){var u=l[a];s.addCells(u)}if(e.initialScrollIndex==null||e.initialScrollIndex<=0){var h=Xn._initialRenderRegion(e);s.addCells(h)}var d=new Set(e.stickyHeaderIndices);Xn._ensureClosestStickyHeader(e,d,s,n.first)}return s}static _initialRenderRegion(e){var n,r=e.getItemCount(e.data),i=Math.max(0,Math.min(r-1,Math.floor((n=e.initialScrollIndex)!==null&&n!==void 0?n:0))),s=Math.min(r,i+l6(e.initialNumToRender))-1;return{first:i,last:s}}static _ensureClosestStickyHeader(e,n,r,i){for(var s=e.ListHeaderComponent?1:0,o=i-1;o>=0;o--)if(n.has(o+s)){r.addCells({first:o,last:o});break}}_adjustCellsAroundViewport(e,n){var r=e.data,i=e.getItemCount,s=QR(e.onEndReachedThreshold),o=this._scrollMetrics,a=o.contentLength,l=o.offset,u=o.visibleLength,h=a-u-l;if(u<=0||a<=0)return n.last>=i(r)?Xn._constrainToItemCount(n,e):n;var d;if(e.disableVirtualization){var f=h<s*u?ky(e.maxToRenderPerBatch):0;d={first:0,last:Math.min(n.last+f,i(r)-1)}}else{if(e.initialScrollIndex&&!this._scrollMetrics.offset&&Math.abs(h)>=Number.EPSILON)return n.last>=i(r)?Xn._constrainToItemCount(n,e):n;d=s6(e,ky(e.maxToRenderPerBatch),ZR(e.windowSize),n,this.__getFrameMetricsApprox,this._scrollMetrics),pe(d.last<i(r),"computeWindowedRenderLimits() should return range in-bounds")}if(this._nestedChildLists.size()>0){var p=this._findFirstChildWithMore(d.first,d.last);d.last=p??d.last}return d}_findFirstChildWithMore(e,n){for(var r=e;r<=n;r++){var i=this._indicesToKeys.get(r);if(i!=null&&this._nestedChildLists.anyInCell(i,s=>s.hasMore()))return r}return null}componentDidMount(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey}),this.setupWebWheelHandler()}componentWillUnmount(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}setupWebWheelHandler(){if(this._scrollRef&&this._scrollRef.getScrollableNode)this._scrollRef.getScrollableNode().addEventListener("wheel",this.invertedWheelEventHandler);else{setTimeout(()=>this.setupWebWheelHandler(),50);return}}teardownWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener("wheel",this.invertedWheelEventHandler)}static getDerivedStateFromProps(e,n){var r=e.getItemCount(e.data);if(r===n.renderMask.numCells())return n;var i=Xn._constrainToItemCount(n.cellsAroundViewport,e);return{cellsAroundViewport:i,renderMask:Xn._createRenderMask(e,i)}}_pushCells(e,n,r,i,s,o){var a=this,l=this.props,u=l.CellRendererComponent,h=l.ItemSeparatorComponent,d=l.ListHeaderComponent,f=l.ListItemComponent,p=l.data,g=l.debug,E=l.getItem,b=l.getItemCount,w=l.getItemLayout,v=l.horizontal,S=l.renderItem,x=d?1:0,D=b(p)-1,O;s=Math.min(D,s);for(var T=function(){var I=E(p,y),A=a._keyExtractor(I,y,a.props);a._indicesToKeys.set(y,A),r.has(y+x)&&n.push(e.length);var L=w==null||g||a._fillRateHelper.enabled();e.push(R.createElement(n6,tn({CellRendererComponent:u,ItemSeparatorComponent:y<D?h:void 0,ListItemComponent:f,cellKey:A,horizontal:v,index:y,inversionStyle:o,item:I,key:A,prevCellKey:O,onUpdateSeparators:a._onUpdateSeparators,onCellFocusCapture:k=>a._onCellFocusCapture(A),onUnmount:a._onCellUnmount,ref:k=>{a._cellRefs[A]=k},renderItem:S},L&&{onCellLayout:a._onCellLayout}))),O=A},y=i;y<=s;y++)T()}static _constrainToItemCount(e,n){var r=n.getItemCount(n.data),i=Math.min(r-1,e.last),s=ky(n.maxToRenderPerBatch);return{first:qR(0,r-1-s,e.first),last:i}}_isNestedWithSameOrientation(){var e=this.context;return!!(e&&!!e.horizontal===Ao(this.props.horizontal))}_keyExtractor(e,n,r){if(r.keyExtractor!=null)return r.keyExtractor(e,n);var i=z_(e,n);return i===String(n)&&(Ay=!0,e.type&&e.type.displayName&&(Py=e.type.displayName)),i}render(){this._checkProps(this.props);var e=this.props,n=e.ListEmptyComponent,r=e.ListFooterComponent,i=e.ListHeaderComponent,s=this.props,o=s.data,a=s.horizontal,l=this.props.inverted?Ao(this.props.horizontal)?mr.horizontallyInverted:mr.verticallyInverted:null,u=[],h=new Set(this.props.stickyHeaderIndices),d=[];if(i){h.has(0)&&d.push(0);var f=R.isValidElement(i)?i:R.createElement(i,null);u.push(R.createElement(Lf,{cellKey:this._getCellKey()+"-header",key:"$header"},R.createElement(K,{onLayout:this._onLayoutHeader,style:[l,this.props.ListHeaderComponentStyle]},f)))}var p=this.props.getItemCount(o);if(p===0&&n){var g=R.isValidElement(n)?n:R.createElement(n,null);u.push(R.createElement(Lf,{cellKey:this._getCellKey()+"-empty",key:"$empty"},R.cloneElement(g,{onLayout:he=>{this._onLayoutEmpty(he),g.props.onLayout&&g.props.onLayout(he)},style:[l,g.props.style]})))}if(p>0){Ay=!1,Py="";for(var E=this._getSpacerKey(!a),b=this.state.renderMask.enumerateRegions(),w=h6(b,he=>he.isSpacer),v=$o(b),S;!(S=v()).done;){var x=S.value;if(x.isSpacer){if(this.props.disableVirtualization)continue;var D=x===w,O=D&&!this.props.getItemLayout,T=O?qR(x.first-1,x.last,this._highestMeasuredFrameIndex):x.last,y=this.__getFrameMetricsApprox(x.first,this.props),C=this.__getFrameMetricsApprox(T,this.props),I=C.offset+C.length-y.offset;u.push(R.createElement(K,{key:"$spacer-"+x.first,style:{[E]:I}}))}else this._pushCells(u,d,h,x.first,x.last,l)}!this._hasWarned.keys&&Ay&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",Py),this._hasWarned.keys=!0)}if(r){var A=R.isValidElement(r)?r:R.createElement(r,null);u.push(R.createElement(Lf,{cellKey:this._getFooterCellKey(),key:"$footer"},R.createElement(K,{onLayout:this._onLayoutFooter,style:[l,this.props.ListFooterComponentStyle]},A)))}var L=me(me({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:c6(this.props.scrollEventThrottle),invertStickyHeaders:this.props.invertStickyHeaders!==void 0?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:d,style:l?[l,this.props.style]:this.props.style});this._hasMore=this.state.cellsAroundViewport.last<p-1;var k=R.createElement(t6,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:Ao(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}},R.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(L),{ref:this._captureScrollRef},u)),le=k;return this.props.debug?R.createElement(K,{style:mr.debug},le,this._renderDebugOverlay()):le}componentDidUpdate(e){var n=this.props,r=n.data,i=n.extraData;(r!==e.data||i!==e.extraData)&&this._viewabilityTuples.forEach(o=>{o.viewabilityHelper.resetViewableIndices()});var s=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),s&&(this._hiPriInProgress=!1)}_computeBlankness(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}_onCellFocusCapture(e){this._lastFocusedCellKey=e,this._updateCellsToRender()}_triggerRemeasureForChildListsInCell(e){this._nestedChildLists.forEachInCell(e,n=>{n.measureLayoutRelativeToContainingList()})}measureLayoutRelativeToContainingList(){try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),(e,n,r,i)=>{this._offsetFromParentVirtualizedList=this._selectOffset({x:e,y:n}),this._scrollMetrics.contentLength=this._selectLength({width:r,height:i});var s=this._convertParentScrollMetrics(this.context.getScrollMetrics()),o=this._scrollMetrics.visibleLength!==s.visibleLength||this._scrollMetrics.offset!==s.offset;o&&(this._scrollMetrics.visibleLength=s.visibleLength,this._scrollMetrics.offset=s.offset,this._nestedChildLists.forEach(a=>{a.measureLayoutRelativeToContainingList()}))},e=>{console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(e){console.warn("measureLayoutRelativeToContainingList threw an error",e.stack)}}_getFooterCellKey(){return this._getCellKey()+"-footer"}_renderDebugOverlay(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),n=[],r=this.props.getItemCount(this.props.data),i=0;i<r;i++){var s=this.__getFrameMetricsApprox(i,this.props);s.inLayout&&n.push(s)}var o=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,a=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last,this.props),l=a.offset+a.length-o,u=this._scrollMetrics.offset,h=this._scrollMetrics.visibleLength;return R.createElement(K,{style:[mr.debugOverlayBase,mr.debugOverlay]},n.map((d,f)=>R.createElement(K,{key:"f"+f,style:[mr.debugOverlayBase,mr.debugOverlayFrame,{top:d.offset*e,height:d.length*e}]})),R.createElement(K,{style:[mr.debugOverlayBase,mr.debugOverlayFrameLast,{top:o*e,height:l*e}]}),R.createElement(K,{style:[mr.debugOverlayBase,mr.debugOverlayFrameVis,{top:u*e,height:h*e}]}))}_selectLength(e){return Ao(this.props.horizontal)?e.width:e.height}_selectOffset(e){return Ao(this.props.horizontal)?e.x:e.y}_maybeCallOnEdgeReached(){var e=this.props,n=e.data,r=e.getItemCount,i=e.onStartReached,s=e.onStartReachedThreshold,o=e.onEndReached,a=e.onEndReachedThreshold,l=e.initialScrollIndex,u=this._scrollMetrics,h=u.contentLength,d=u.visibleLength,f=u.offset,p=f,g=h-d-f;p<YR&&(p=0),g<YR&&(g=0);var E=2,b=s!=null?s*d:E,w=a!=null?a*d:E,v=p<=b,S=g<=w;o&&this.state.cellsAroundViewport.last===r(n)-1&&S&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,o({distanceFromEnd:g})):i!=null&&this.state.cellsAroundViewport.first===0&&v&&this._scrollMetrics.contentLength!==this._sentStartForContentLength?(!l||this._scrollMetrics.timestamp!==0)&&(this._sentStartForContentLength=this._scrollMetrics.contentLength,i({distanceFromStart:p})):(this._sentStartForContentLength=v?this._sentStartForContentLength:0,this._sentEndForContentLength=S?this._sentEndForContentLength:0)}_scheduleCellsToRenderUpdate(){var e=this.state.cellsAroundViewport,n=e.first,r=e.last,i=this._scrollMetrics,s=i.offset,o=i.visibleLength,a=i.velocity,l=this.props.getItemCount(this.props.data),u=!1,h=u6(this.props.onStartReachedThreshold),d=QR(this.props.onEndReachedThreshold);if(n>0){var f=s-this.__getFrameMetricsApprox(n,this.props).offset;u=f<0||a<-2&&f<JR(h,o)}if(!u&&r>=0&&r<l-1){var p=this.__getFrameMetricsApprox(r,this.props).offset-(s+o);u=p<0||a>2&&p<JR(d,o)}if(u&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress){this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),this._updateCellsToRender();return}else this._updateCellsToRenderBatcher.schedule()}_updateViewableItems(e,n){this._viewabilityTuples.forEach(r=>{r.viewabilityHelper.onUpdate(e,this._scrollMetrics.offset,this._scrollMetrics.visibleLength,this._getFrameMetrics,this._createViewToken,r.onViewableItemsChanged,n)})}}Xn.contextType=$p;var mr=Ie.create({verticallyInverted:{transform:"scaleY(-1)"},horizontallyInverted:{transform:"scaleX(-1)"},debug:{flex:1},debugOverlayBase:{position:"absolute",top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:"blue",borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:"orange"},debugOverlayFrameLast:{left:0,borderColor:"green",borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:"red",borderWidth:2}}),eC=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function d6(t,e){return!!(t===e||eC(t)&&eC(e))}function f6(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!d6(t[n],e[n]))return!1;return!0}function p6(t,e){e===void 0&&(e=f6);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var m6=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function g6(t){return t??R$.OS==="android"}function Po(t){return t??1}function y6(t){return typeof Object(t).length=="number"}class v6 extends R.PureComponent{scrollToEnd(e){this._listRef&&this._listRef.scrollToEnd(e)}scrollToIndex(e){this._listRef&&this._listRef.scrollToIndex(e)}scrollToItem(e){this._listRef&&this._listRef.scrollToItem(e)}scrollToOffset(e){this._listRef&&this._listRef.scrollToOffset(e)}recordInteraction(){this._listRef&&this._listRef.recordInteraction()}flashScrollIndicators(){this._listRef&&this._listRef.flashScrollIndicators()}getScrollResponder(){if(this._listRef)return this._listRef.getScrollResponder()}getNativeScrollRef(){if(this._listRef)return this._listRef.getScrollRef()}getScrollableNode(){if(this._listRef)return this._listRef.getScrollableNode()}constructor(e){super(e),this._virtualizedListPairs=[],this._captureRef=n=>{this._listRef=n},this._getItem=(n,r)=>{var i=Po(this.props.numColumns);if(i>1){for(var s=[],o=0;o<i;o++){var a=r*i+o;if(a<n.length){var l=n[a];s.push(l)}}return s}else return n[r]},this._getItemCount=n=>{if(n!=null&&y6(n)){var r=Po(this.props.numColumns);return r>1?Math.ceil(n.length/r):n.length}else return 0},this._keyExtractor=(n,r)=>{var i,s=Po(this.props.numColumns),o=(i=this.props.keyExtractor)!==null&&i!==void 0?i:z_;return s>1?(pe(Array.isArray(n),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",s),n.map((a,l)=>o(a,r*s+l)).join(":")):o(n,r)},this._renderer=(n,r,i,s,o)=>{var a=Po(s),l=h=>n?R.createElement(n,h):r?r(h):null,u=h=>{if(a>1){var d=h.item,f=h.index;return pe(Array.isArray(d),"Expected array of items with numColumns > 1"),R.createElement(K,{style:[_6.row,i]},d.map((p,g)=>{var E=l({item:p,index:f*a+g,separators:h.separators});return E!=null?R.createElement(R.Fragment,{key:g},E):null}))}else return l(h)};return n?{ListItemComponent:u}:{renderItem:u}},this._memoizedRenderer=p6(this._renderer),this._checkProps(this.props),this.props.viewabilityConfigCallbackPairs?this._virtualizedListPairs=this.props.viewabilityConfigCallbackPairs.map(n=>({viewabilityConfig:n.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(n.onViewableItemsChanged)})):this.props.onViewableItemsChanged&&this._virtualizedListPairs.push({viewabilityConfig:this.props.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(this.props.onViewableItemsChanged)})}componentDidUpdate(e){pe(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),pe(e.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),pe(!S3(e.viewabilityConfig,this.props.viewabilityConfig),"Changing viewabilityConfig on the fly is not supported"),pe(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(this.props)}_checkProps(e){var n=e.getItem,r=e.getItemCount,i=e.horizontal,s=e.columnWrapperStyle,o=e.onViewableItemsChanged,a=e.viewabilityConfigCallbackPairs,l=Po(this.props.numColumns);pe(!n&&!r,"FlatList does not support custom data formats."),l>1?pe(!i,"numColumns does not support horizontal."):pe(!s,"columnWrapperStyle not supported for single column lists"),pe(!(o&&a),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}_pushMultiColumnViewable(e,n){var r,i=Po(this.props.numColumns),s=(r=this.props.keyExtractor)!==null&&r!==void 0?r:z_;n.item.forEach((o,a)=>{pe(n.index!=null,"Missing index!");var l=n.index*i+a;e.push(me(me({},n),{},{item:o,key:s(o,l),index:l}))})}_createOnViewableItemsChanged(e){return n=>{var r=Po(this.props.numColumns);if(e)if(r>1){var i=[],s=[];n.viewableItems.forEach(o=>this._pushMultiColumnViewable(s,o)),n.changed.forEach(o=>this._pushMultiColumnViewable(i,o)),e({viewableItems:s,changed:i})}else e(n)}}render(){var e=this.props,n=e.numColumns,r=e.columnWrapperStyle,i=e.removeClippedSubviews,s=e.strictMode,o=s===void 0?!1:s,a=Rn(e,m6),l=o?this._memoizedRenderer:this._renderer;return R.createElement(Xn,tn({},a,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:g6(i)},l(this.props.ListItemComponent,this.props.renderItem,r,n,this.props.extraData)))}}var _6=Ie.create({row:{flexDirection:"row"}}),w6=[];function sO(t){return w6[t-1]}var S6=/^data:/;class Ln{static has(e){var n=Ln._entries,r=S6.test(e);return r||!!n[e]}static add(e){var n=Ln._entries,r=Date.now();n[e]?(n[e].lastUsedTimestamp=r,n[e].refCount+=1):n[e]={lastUsedTimestamp:r,refCount:1}}static remove(e){var n=Ln._entries;n[e]&&(n[e].refCount-=1),Ln._cleanUpIfNeeded()}static _cleanUpIfNeeded(){var e=Ln._entries,n=Object.keys(e);if(n.length+1>Ln._maximumEntries){var r,i;n.forEach(s=>{var o=e[s];(!i||o.lastUsedTimestamp<i.lastUsedTimestamp)&&o.refCount===0&&(r=s,i=o)}),r&&delete e[r]}}}Ln._maximumEntries=256;Ln._entries={};var Oy=0,Yd={},Yr={abort(t){var e=Yd[""+t];e&&(e.onerror=null,e.onload=null,e=null,delete Yd[""+t])},getSize(t,e,n){var r=!1,i=setInterval(o,16),s=Yr.load(t,o,a);function o(){var l=Yd[""+s];if(l){var u=l.naturalHeight,h=l.naturalWidth;u&&h&&(e(h,u),r=!0)}r&&(Yr.abort(s),clearInterval(i))}function a(){typeof n=="function"&&n(),Yr.abort(s),clearInterval(i)}},has(t){return Ln.has(t)},load(t,e,n){Oy+=1;var r=new window.Image;return r.onerror=n,r.onload=i=>{var s=()=>e({nativeEvent:i});typeof r.decode=="function"?r.decode().then(s,s):setTimeout(s,0)},r.src=t,Yd[""+Oy]=r,Oy},prefetch(t){return new Promise((e,n)=>{Yr.load(t,()=>{Ln.add(t),Ln.remove(t),e()},n)})},queryCache(t){var e={};return t.forEach(n=>{Ln.has(n)&&(e[n]="disk/memory")}),Promise.resolve(e)}};class Pc{static get(){return Vp.get("window").scale}static getFontScale(){return Vp.get("window").fontScale||Pc.get()}static getPixelSizeForLayoutSize(e){return Math.round(e*Pc.get())}static roundToNearestPixel(e){var n=Pc.get();return Math.round(e*n)/n}}var E6=["aria-label","accessibilityLabel","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"],T6="ERRORED",Dy="LOADED",tC="LOADING",b6="IDLE",R6=0,C6=/^(data:image\/svg\+xml;utf8,)(.*)/;function I6(t,e){return t&&e!=null?R.createElement("svg",{style:{position:"absolute",height:0,visibility:"hidden",width:0}},R.createElement("defs",null,R.createElement("filter",{id:"tint-"+e,suppressHydrationWarning:!0},R.createElement("feFlood",{floodColor:""+t,key:t}),R.createElement("feComposite",{in2:"SourceAlpha",operator:"in"})))):null}function x6(t,e,n,r){var i=Ie.flatten(t),s=i.filter,o=i.resizeMode,a=i.shadowOffset,l=i.tintColor;i.resizeMode,i.tintColor;var u=[],h=null;if(s&&u.push(s),e&&u.push("blur("+e+"px)"),a){var d=Vk(i);d&&u.push("drop-shadow("+d+")")}return(r||l)&&n!=null&&u.push("url(#tint-"+n+")"),u.length>0&&(h=u.join(" ")),[o,h,l]}function A6(t){if(typeof t=="number"){var e=sO(t),n=e.height,r=e.width;return{height:n,width:r}}else if(t!=null&&!Array.isArray(t)&&typeof t=="object"){var i=t.height,s=t.width;return{height:i,width:s}}}function My(t){var e=null;if(typeof t=="number"){var n=sO(t);if(n==null)throw new Error('Image: asset with ID "'+t+'" could not be found. Please check the image source or packager.');var r=n.scales[0];if(n.scales.length>1){var i=Pc.get();r=n.scales.reduce((h,d)=>Math.abs(d-i)<Math.abs(h-i)?d:h)}var s=r!==1?"@"+r+"x":"";e=n?n.httpServerLocation+"/"+n.name+s+"."+n.type:""}else typeof t=="string"?e=t:t&&typeof t.uri=="string"&&(e=t.uri);if(e){var o=e.match(C6);if(o){var a=o[1],l=o[2],u=encodeURIComponent(l);return""+a+u}}return e}var oO=R.forwardRef((t,e)=>{var n=t["aria-label"],r=t.accessibilityLabel,i=t.blurRadius,s=t.defaultSource,o=t.draggable,a=t.onError,l=t.onLayout,u=t.onLoad,h=t.onLoadEnd,d=t.onLoadStart,f=t.pointerEvents,p=t.source,g=t.style,E=Rn(t,E6),b=n||r,w=R.useState(()=>{var je=My(p);if(je!=null){var xt=Yr.has(je);if(xt)return Dy}return b6}),v=w[0],S=w[1],x=R.useState({}),D=x[0],O=x[1],T=R.useContext(Np),y=R.useRef(null),C=R.useRef(R6++),I=R.useRef(null),A=v===Dy||v===tC&&s==null,L=x6(g,i,C.current,t.tintColor),k=L[0],le=L[1],he=L[2],Le=t.resizeMode||k||"cover",be=t.tintColor||he,j=A?p:s,Y=My(j),ee=A6(j),ye=Y?'url("'+Y+'")':null,xe=rt(),rn=Y?eu("img",{alt:b||"",style:Hu.accessibilityImage$raw,draggable:o||!1,ref:y,src:Y}):null;function rt(){if(y.current!=null&&(Le==="center"||Le==="repeat")){var je=y.current,xt=je.naturalHeight,Cn=je.naturalWidth,fi=D.height,Zi=D.width;if(xt&&Cn&&fi&&Zi){var lr=Math.min(1,Zi/Cn,fi/xt),Dr=Math.ceil(lr*Cn),Hn=Math.ceil(lr*xt);return Dr+"px "+Hn+"px"}}}function Nt(je){if(Le==="center"||Le==="repeat"||l){var xt=je.nativeEvent.layout;l&&l(je),O(xt)}}var ut=My(p);return R.useEffect(()=>{je(),ut!=null&&(S(tC),d&&d(),I.current=Yr.load(ut,function(Cn){S(Dy),u&&u(Cn),h&&h()},function(){S(T6),a&&a({nativeEvent:{error:"Failed to load resource "+ut}}),h&&h()}));function je(){I.current!=null&&(Yr.abort(I.current),I.current=null)}return je},[ut,I,S,a,u,h,d]),R.createElement(K,tn({},E,{"aria-label":b,onLayout:Nt,pointerEvents:f,ref:e,style:[Hu.root,T&&Hu.inline,ee,g,Hu.undo,{boxShadow:null}]}),R.createElement(K,{style:[Hu.image,P6[Le],{backgroundImage:ye,filter:le},xe!=null&&{backgroundSize:xe}],suppressHydrationWarning:!0}),rn,I6(be,C.current))});oO.displayName="Image";var ui=oO;ui.getSize=function(t,e,n){Yr.getSize(t,e,n)};ui.prefetch=function(t){return Yr.prefetch(t)};ui.queryCache=function(t){return Yr.queryCache(t)};var Hu=Ie.create({root:{flexBasis:"auto",overflow:"hidden",zIndex:0},inline:{display:"inline-flex"},undo:{blurRadius:null,shadowColor:null,shadowOpacity:null,shadowOffset:null,shadowRadius:null,tintColor:null,overlayColor:null,resizeMode:null},image:me(me({},Ie.absoluteFillObject),{},{backgroundColor:"transparent",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",width:"100%",zIndex:-1}),accessibilityImage$raw:me(me({},Ie.absoluteFillObject),{},{height:"100%",opacity:0,width:"100%",zIndex:-1})}),P6=Ie.create({center:{backgroundSize:"auto"},contain:{backgroundSize:"contain"},cover:{backgroundSize:"cover"},none:{backgroundPosition:"0",backgroundSize:"auto"},repeat:{backgroundPosition:"0",backgroundRepeat:"repeat",backgroundSize:"auto"},stretch:{backgroundSize:"100% 100%"}}),k6=["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"],O6=Object.assign({},uS,cS,hS,dS,fS,pS,mS,gS,{href:!0,lang:!0,pointerEvents:!0}),D6=t=>yS(t,O6),q=R.forwardRef((t,e)=>{var n=t.hrefAttrs,r=t.numberOfLines,i=t.onClick,s=t.onLayout,o=t.onPress,a=t.onMoveShouldSetResponder,l=t.onMoveShouldSetResponderCapture,u=t.onResponderEnd,h=t.onResponderGrant,d=t.onResponderMove,f=t.onResponderReject,p=t.onResponderRelease,g=t.onResponderStart,E=t.onResponderTerminate,b=t.onResponderTerminationRequest,w=t.onScrollShouldSetResponder,v=t.onScrollShouldSetResponderCapture,S=t.onSelectionChangeShouldSetResponder,x=t.onSelectionChangeShouldSetResponderCapture,D=t.onStartShouldSetResponder,O=t.onStartShouldSetResponderCapture,T=t.selectable,y=Rn(t,k6),C=R.useContext(Np),I=R.useRef(null),A=lS(),L=A.direction;vS(I,s),SS(I,{onMoveShouldSetResponder:a,onMoveShouldSetResponderCapture:l,onResponderEnd:u,onResponderGrant:h,onResponderMove:d,onResponderReject:f,onResponderRelease:p,onResponderStart:g,onResponderTerminate:E,onResponderTerminationRequest:b,onScrollShouldSetResponder:w,onScrollShouldSetResponderCapture:v,onSelectionChangeShouldSetResponder:S,onSelectionChangeShouldSetResponderCapture:x,onStartShouldSetResponder:D,onStartShouldSetResponderCapture:O});var k=R.useCallback(Nt=>{i!=null?i(Nt):o!=null&&(Nt.stopPropagation(),o(Nt))},[i,o]),le=C?"span":"div",he=t.lang!=null?Km(t.lang):null,Le=t.dir||he,be=Le||L,j=D6(y);if(j.dir=Le,C||(j.dir=Le??"auto"),(i||o)&&(j.onClick=k),j.style=[r!=null&&r>1&&{WebkitLineClamp:r},C===!0?ko.textHasAncestor$raw:ko.text$raw,r===1&&ko.textOneLine,r!=null&&r>1&&ko.textMultiLine,t.style,T===!0&&ko.selectable,T===!1&&ko.notSelectable,o&&ko.pressable],t.href!=null&&(le="a",n!=null)){var Y=n.download,ee=n.rel,ye=n.target;Y!=null&&(j.download=Y),ee!=null&&(j.rel=ee),typeof ye=="string"&&(j.target=ye.charAt(0)!=="_"?"_"+ye:ye)}var xe=_S(j),rn=Lh(I,xe,e);j.ref=rn;var rt=eu(le,j,{writingDirection:be});return C?rt:R.createElement(Np.Provider,{value:!0},rt)});q.displayName="Text";var nC={backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",listStyle:"none",margin:0,padding:0,position:"relative",textAlign:"start",textDecoration:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},ko=Ie.create({text$raw:nC,textHasAncestor$raw:me(me({},nC),{},{color:"inherit",font:"inherit",textAlign:"inherit",whiteSpace:"inherit"}),textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}}),M6=["animating","color","hidesWhenStopped","size","style"],rC=t=>R.createElement("circle",{cx:"16",cy:"16",fill:"none",r:"14",strokeWidth:"4",style:t}),Nh=R.forwardRef((t,e)=>{var n=t.animating,r=n===void 0?!0:n,i=t.color,s=i===void 0?"#1976D2":i,o=t.hidesWhenStopped,a=o===void 0?!0:o,l=t.size,u=l===void 0?"small":l,h=t.style,d=Rn(t,M6),f=R.createElement("svg",{height:"100%",viewBox:"0 0 32 32",width:"100%"},rC({stroke:s,opacity:.2}),rC({stroke:s,strokeDasharray:80,strokeDashoffset:60}));return R.createElement(K,tn({},d,{"aria-valuemax":1,"aria-valuemin":0,ref:e,role:"progressbar",style:[Qd.container,h]}),R.createElement(K,{children:f,style:[typeof u=="number"?{height:u,width:u}:L6[u],Qd.animation,!r&&Qd.animationPause,!r&&a&&Qd.hidesWhenStopped]}))});Nh.displayName="ActivityIndicator";var Qd=Ie.create({container:{alignItems:"center",justifyContent:"center"},hidesWhenStopped:{visibility:"hidden"},animation:{animationDuration:"0.75s",animationKeyframes:[{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}],animationTimingFunction:"linear",animationIterationCount:"infinite"},animationPause:{animationPlayState:"paused"}}),L6=Ie.create({small:{width:20,height:20},large:{width:36,height:36}}),iC="DELAY",yr="ERROR",sC="LONG_PRESS_DETECTED",an="NOT_RESPONDER",jl="RESPONDER_ACTIVE_LONG_PRESS_START",Ym="RESPONDER_ACTIVE_PRESS_START",W_="RESPONDER_INACTIVE_PRESS_START",N6="RESPONDER_GRANT",Nf="RESPONDER_RELEASE",aO="RESPONDER_TERMINATED",oC=Object.freeze({NOT_RESPONDER:{DELAY:yr,RESPONDER_GRANT:W_,RESPONDER_RELEASE:yr,RESPONDER_TERMINATED:yr,LONG_PRESS_DETECTED:yr},RESPONDER_INACTIVE_PRESS_START:{DELAY:Ym,RESPONDER_GRANT:yr,RESPONDER_RELEASE:an,RESPONDER_TERMINATED:an,LONG_PRESS_DETECTED:yr},RESPONDER_ACTIVE_PRESS_START:{DELAY:yr,RESPONDER_GRANT:yr,RESPONDER_RELEASE:an,RESPONDER_TERMINATED:an,LONG_PRESS_DETECTED:jl},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:yr,RESPONDER_GRANT:yr,RESPONDER_RELEASE:an,RESPONDER_TERMINATED:an,LONG_PRESS_DETECTED:jl},ERROR:{DELAY:an,RESPONDER_GRANT:W_,RESPONDER_RELEASE:an,RESPONDER_TERMINATED:an,LONG_PRESS_DETECTED:an}}),lO=t=>t.getAttribute("role"),H_=t=>t.tagName.toLowerCase(),aC=t=>t===Ym||t===jl,Vf=t=>lO(t)==="button",lC=t=>t===W_||t===Ym||t===jl,V6=t=>t===aO||t===Nf,uC=t=>{var e=t.key,n=t.target,r=e===" "||e==="Spacebar",i=H_(n)==="button"||Vf(n);return e==="Enter"||r&&i},F6=450,B6=50;class U6{constructor(e){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=an,this._responderElement=null,this.configure(e)}configure(e){this._config=e}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return this._eventHandlers==null&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var e=(i,s)=>{i.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=an,this._isPointerTouch=i.nativeEvent.type==="touchstart",this._receiveSignal(N6,i);var o=Ly(this._config.delayPressStart,0,B6);s!==!1&&o>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(iC,i)},o):this._receiveSignal(iC,i);var a=Ly(this._config.delayLongPress,10,F6);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(i)},a+o)},n=i=>{this._receiveSignal(Nf,i)},r=i=>{var s=this._config.onPress,o=i.target;if(this._touchState!==an&&uC(i)){n(i),document.removeEventListener("keyup",r);var a=o.getAttribute("role"),l=H_(o),u=a==="link"||l==="a"||l==="button"||l==="input"||l==="select"||l==="textarea",h=this._responderElement===o;s!=null&&!u&&h&&s(i),this._responderElement=null}};return{onStartShouldSetResponder:i=>{var s=this._config.disabled;return s&&Vf(i.currentTarget)&&i.stopPropagation(),s==null?!0:!s},onKeyDown:i=>{var s=this._config.disabled,o=i.key,a=i.target;if(!s&&uC(i)){this._touchState===an&&(e(i,!1),this._responderElement=a,document.addEventListener("keyup",r));var l=o===" "||o==="Spacebar",u=lO(a),h=u==="button"||u==="menuitem";l&&h&&H_(a)!=="button"&&i.preventDefault(),i.stopPropagation()}},onResponderGrant:i=>e(i),onResponderMove:i=>{this._config.onPressMove!=null&&this._config.onPressMove(i);var s=cC(i);if(this._touchActivatePosition!=null){var o=this._touchActivatePosition.pageX-s.pageX,a=this._touchActivatePosition.pageY-s.pageY;Math.hypot(o,a)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:i=>n(i),onResponderTerminate:i=>{i.nativeEvent.type==="selectionchange"&&(this._selectionTerminated=!0),this._receiveSignal(aO,i)},onResponderTerminationRequest:i=>{var s=this._config,o=s.cancelable,a=s.disabled,l=s.onLongPress;return!a&&l!=null&&this._isPointerTouch&&i.nativeEvent.type==="contextmenu"?!1:o??!0},onClick:i=>{var s=this._config,o=s.disabled,a=s.onPress;o?Vf(i.currentTarget)&&i.stopPropagation():(i.stopPropagation(),this._longPressDispatched||this._selectionTerminated?i.preventDefault():a!=null&&i.altKey===!1&&a(i))},onContextMenu:i=>{var s=this._config,o=s.disabled,a=s.onLongPress;o?Vf(i.currentTarget)&&i.stopPropagation():a!=null&&this._isPointerTouch&&!i.defaultPrevented&&(i.preventDefault(),i.stopPropagation())}}}_receiveSignal(e,n){var r=this._touchState,i=null;oC[r]!=null&&(i=oC[r][e]),!(this._touchState===an&&e===Nf)&&(i==null||i===yr?console.error("PressResponder: Invalid signal "+e+" for state "+r+" on responder"):r!==i&&(this._performTransitionSideEffects(r,i,e,n),this._touchState=i))}_performTransitionSideEffects(e,n,r,i){if(V6(r)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),lC(e)&&r===sC){var s=this._config.onLongPress;s!=null&&i.nativeEvent.key==null&&(s(i),this._longPressDispatched=!0)}var o=aC(e),a=aC(n);if(!o&&a?this._activate(i):o&&!a&&this._deactivate(i),lC(e)&&r===Nf){var l=this._config,u=l.onLongPress,h=l.onPress;if(h!=null){var d=u!=null&&e===jl;d||!a&&!o&&(this._activate(i),this._deactivate(i))}}this._cancelPressDelayTimeout()}_activate(e){var n=this._config,r=n.onPressChange,i=n.onPressStart,s=cC(e);this._touchActivatePosition={pageX:s.pageX,pageY:s.pageY},i!=null&&i(e),r!=null&&r(!0)}_deactivate(e){var n=this._config,r=n.onPressChange,i=n.onPressEnd;function s(){i!=null&&i(e),r!=null&&r(!1)}var o=Ly(this._config.delayPressEnd);o>0?this._pressOutDelayTimeout=setTimeout(()=>{s()},o):s()}_handleLongPress(e){(this._touchState===Ym||this._touchState===jl)&&this._receiveSignal(sC,e)}_cancelLongPressDelayTimeout(){this._longPressDelayTimeout!=null&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){this._pressDelayTimeout!=null&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){this._pressOutDelayTimeout!=null&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}function Ly(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=0),Math.max(e,t??n)}function cC(t){var e=t.nativeEvent,n=e.changedTouches,r=e.touches;return r!=null&&r.length>0?r[0]:n!=null&&n.length>0?n[0]:t.nativeEvent}function j6(t,e){var n=R.useRef(null);n.current==null&&(n.current=new U6(e));var r=n.current;return R.useEffect(()=>{r.configure(e)},[e,r]),R.useEffect(()=>()=>{r.reset()},[r]),R.useDebugValue(e),r.getEventHandlers()}var $6=["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"];function z6(t,e){var n=t.activeOpacity,r=t.delayPressIn,i=t.delayPressOut,s=t.delayLongPress,o=t.disabled,a=t.focusable,l=t.onLongPress,u=t.onPress,h=t.onPressIn,d=t.onPressOut,f=t.rejectResponderTermination,p=t.style,g=Rn(t,$6),E=R.useRef(null),b=Lh(e,E),w=R.useState("0s"),v=w[0],S=w[1],x=R.useState(null),D=x[0],O=x[1],T=R.useCallback((L,k)=>{O(L),S(k?k/1e3+"s":"0s")},[O,S]),y=R.useCallback(L=>{T(n??.2,L)},[n,T]),C=R.useCallback(L=>{T(null,L)},[T]),I=R.useMemo(()=>({cancelable:!f,disabled:o,delayLongPress:s,delayPressStart:r,delayPressEnd:i,onLongPress:l,onPress:u,onPressStart(L){var k=L.dispatchConfig!=null?L.dispatchConfig.registrationName==="onResponderGrant":L.type==="keydown";y(k?0:150),h!=null&&h(L)},onPressEnd(L){C(250),d!=null&&d(L)}}),[s,r,i,o,l,u,h,d,f,y,C]),A=j6(E,I);return R.createElement(K,tn({},g,A,{accessibilityDisabled:o,focusable:!o&&a!==!1,pointerEvents:o?"box-none":void 0,ref:b,style:[hC.root,!o&&hC.actionable,p,D!=null&&{opacity:D},{transitionDuration:v}]}))}var hC=Ie.create({root:{transitionProperty:"opacity",transitionDuration:"0.15s",userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),Re=R.memo(R.forwardRef(z6));Re.displayName="TouchableOpacity";function W6(t){var e=t.children,n=R.useRef(null);if(Ct&&!n.current){var r=document.createElement("div");r&&document.body&&(document.body.appendChild(r),n.current=r)}return R.useEffect(()=>{if(Ct)return()=>{document.body&&n.current&&(document.body.removeChild(n.current),n.current=null)}},[]),n.current&&Ct?cU.createPortal(e,n.current):null}var dC=300;function H6(t,e){return t==="slide"?e?K6:G6:t==="fade"?e?X6:Y6:e?hn.container:hn.hidden}function q6(t){var e=t.animationType,n=t.children,r=t.onDismiss,i=t.onShow,s=t.visible,o=R.useState(!1),a=o[0],l=o[1],u=R.useRef(!1),h=R.useRef(!1),d=e&&e!=="none",f=R.useCallback(p=>{p&&p.currentTarget!==p.target||(s?i&&i():l(!1))},[i,s]);return R.useEffect(()=>{h.current&&!a&&r&&r(),h.current=a},[a,r]),R.useEffect(()=>{s&&l(!0),s!==u.current&&!d&&f(),u.current=s},[d,s,f]),a||s?eu("div",{style:a?H6(e,s):hn.hidden,onAnimationEnd:f,children:n}):null}var hn=Ie.create({container:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:9999},animatedIn:{animationDuration:dC+"ms",animationTimingFunction:"ease-in"},animatedOut:{pointerEvents:"none",animationDuration:dC+"ms",animationTimingFunction:"ease-out"},fadeIn:{opacity:1,animationKeyframes:{"0%":{opacity:0},"100%":{opacity:1}}},fadeOut:{opacity:0,animationKeyframes:{"0%":{opacity:1},"100%":{opacity:0}}},slideIn:{transform:"translateY(0%)",animationKeyframes:{"0%":{transform:"translateY(100%)"},"100%":{transform:"translateY(0%)"}}},slideOut:{transform:"translateY(100%)",animationKeyframes:{"0%":{transform:"translateY(0%)"},"100%":{transform:"translateY(100%)"}}},hidden:{opacity:0}}),K6=[hn.container,hn.animatedIn,hn.slideIn],G6=[hn.container,hn.animatedOut,hn.slideOut],X6=[hn.container,hn.animatedIn,hn.fadeIn],Y6=[hn.container,hn.animatedOut,hn.fadeOut],Q6=["active","children","onRequestClose","transparent"],J6=R.forwardRef((t,e)=>{var n=t.active,r=t.children,i=t.onRequestClose,s=t.transparent,o=Rn(t,Q6);R.useEffect(()=>{if(Ct){var l=u=>{n&&u.key==="Escape"&&(u.stopPropagation(),i&&i())};return document.addEventListener("keyup",l,!1),()=>document.removeEventListener("keyup",l,!1)}},[n,i]);var a=R.useMemo(()=>[Jd.modal,s?Jd.modalTransparent:Jd.modalOpaque],[s]);return R.createElement(K,tn({},o,{"aria-modal":!0,ref:e,role:n?"dialog":null,style:a}),R.createElement(K,{style:Jd.container},r))}),Jd=Ie.create({modal:{position:"fixed",top:0,right:0,bottom:0,left:0},modalTransparent:{backgroundColor:"transparent"},modalOpaque:{backgroundColor:"white"},container:{top:0,flex:1}}),fC=()=>eu("div",{role:"none",tabIndex:0,style:e5.focusBracket});function uO(t){if(!Ct)return!1;try{t.focus()}catch{}return document.activeElement===t}function cO(t){for(var e=0;e<t.childNodes.length;e++){var n=t.childNodes[e];if(uO(n)||cO(n))return!0}return!1}function hO(t){for(var e=t.childNodes.length-1;e>=0;e--){var n=t.childNodes[e];if(uO(n)||hO(n))return!0}return!1}var Z6=t=>{var e=t.active,n=t.children,r=R.useRef(),i=R.useRef({trapFocusInProgress:!1,lastFocusedElement:null});return R.useEffect(()=>{if(Ct){var s=()=>{if(!(r.current==null||i.current.trapFocusInProgress||!e)){try{if(i.current.trapFocusInProgress=!0,document.activeElement instanceof Node&&!r.current.contains(document.activeElement)){var o=cO(r.current);i.current.lastFocusedElement===document.activeElement&&(o=hO(r.current)),!o&&r.current!=null&&document.activeElement&&ki.focus(r.current)}}finally{i.current.trapFocusInProgress=!1}i.current.lastFocusedElement=document.activeElement}};return s(),document.addEventListener("focus",s,!0),()=>document.removeEventListener("focus",s,!0)}},[e]),R.useEffect(function(){if(Ct){var s=document.activeElement;return function(){s&&document.contains(s)&&ki.focus(s)}}},[]),R.createElement(R.Fragment,null,R.createElement(fC,null),R.createElement(K,{ref:r},n),R.createElement(fC,null))},e5=Ie.create({focusBracket:{outlineStyle:"none"}}),t5=["animationType","children","onDismiss","onRequestClose","onShow","transparent","visible"],n5=0,Wo=[],Cl={};function dO(){if(Wo.length!==0){var t=Wo[Wo.length-1];Wo.forEach(e=>{e in Cl&&Cl[e](e===t)})}}function q_(t){t in Cl&&(Cl[t](!1),delete Cl[t]);var e=Wo.indexOf(t);e!==-1&&(Wo.splice(e,1),dO())}function r5(t,e){q_(t),Wo.push(t),Cl[t]=e,dO()}var hh=R.forwardRef((t,e)=>{var n=t.animationType,r=t.children,i=t.onDismiss,s=t.onRequestClose,o=t.onShow,a=t.transparent,l=t.visible,u=l===void 0?!0:l,h=Rn(t,t5),d=R.useMemo(()=>n5++,[]),f=R.useState(!1),p=f[0],g=f[1],E=R.useCallback(()=>{q_(d),i&&i()},[d,i]),b=R.useCallback(()=>{r5(d,g),o&&o()},[d,o]);return R.useEffect(()=>()=>q_(d),[d]),R.createElement(W6,null,R.createElement(q6,{animationType:n,onDismiss:E,onShow:b,visible:u},R.createElement(Z6,{active:p},R.createElement(J6,tn({},h,{active:p,onRequestClose:s,ref:e,transparent:a}),r))))}),i5=(t,e)=>{var n=t.selectionEnd,r=t.selectionStart,i=e.start,s=e.end;return i!==r||s!==n},pC=(t,e)=>{if(i5(t,e)){var n=e.start,r=e.end;try{t.setSelectionRange(n,r||n)}catch{}}},s5=Object.assign({},uS,cS,hS,dS,fS,pS,mS,gS,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0}),o5=t=>yS(t,s5);function a5(t){return t.isComposing||t.keyCode===229}var Ny=null,jn=R.forwardRef((t,e)=>{var n=t.autoCapitalize,r=n===void 0?"sentences":n,i=t.autoComplete,s=t.autoCompleteType,o=t.autoCorrect,a=o===void 0?!0:o,l=t.blurOnSubmit,u=t.caretHidden,h=t.clearTextOnFocus,d=t.dir,f=t.editable,p=t.enterKeyHint,g=t.inputMode,E=t.keyboardType,b=t.multiline,w=b===void 0?!1:b,v=t.numberOfLines,S=t.onBlur,x=t.onChange,D=t.onChangeText,O=t.onContentSizeChange,T=t.onFocus,y=t.onKeyPress,C=t.onLayout,I=t.onMoveShouldSetResponder,A=t.onMoveShouldSetResponderCapture,L=t.onResponderEnd,k=t.onResponderGrant,le=t.onResponderMove,he=t.onResponderReject,Le=t.onResponderRelease,be=t.onResponderStart,j=t.onResponderTerminate,Y=t.onResponderTerminationRequest,ee=t.onScrollShouldSetResponder,ye=t.onScrollShouldSetResponderCapture,xe=t.onSelectionChange,rn=t.onSelectionChangeShouldSetResponder,rt=t.onSelectionChangeShouldSetResponderCapture,Nt=t.onStartShouldSetResponder,ut=t.onStartShouldSetResponderCapture,je=t.onSubmitEditing,xt=t.placeholderTextColor,Cn=t.readOnly,fi=Cn===void 0?!1:Cn,Zi=t.returnKeyType,lr=t.rows,Dr=t.secureTextEntry,Hn=Dr===void 0?!1:Dr,go=t.selection,es=t.selectTextOnFocus,yo=t.showSoftInputOnFocus,ts=t.spellCheck,Pe,Xe;if(g!=null)Xe=g,g==="email"?Pe="email":g==="tel"?Pe="tel":g==="search"?Pe="search":g==="url"?Pe="url":Pe="text";else if(E!=null)switch(E){case"email-address":Pe="email";break;case"number-pad":case"numeric":Xe="numeric";break;case"decimal-pad":Xe="decimal";break;case"phone-pad":Pe="tel";break;case"search":case"web-search":Pe="search";break;case"url":Pe="url";break;default:Pe="text"}Hn&&(Pe="password");var In=R.useRef({height:null,width:null}),qn=R.useRef(null),ns=R.useRef(null),vo=R.useRef(!1);R.useEffect(()=>{qn.current&&ns.current&&pC(qn.current,ns.current),vo.current=Hn},[Hn]);var ur=R.useCallback(J=>{if(w&&O&&J!=null){var qe=J.scrollHeight,At=J.scrollWidth;(qe!==In.current.height||At!==In.current.width)&&(In.current.height=qe,In.current.width=At,O({nativeEvent:{contentSize:{height:In.current.height,width:In.current.width}}}))}},[w,O]),_o=R.useMemo(()=>J=>{J!=null&&(J.clear=function(){J!=null&&(J.value="")},J.isFocused=function(){return J!=null&&Ii.currentlyFocusedField()===J},ur(J))},[ur]);function Ta(J){Ii._currentlyFocusedNode=null,S&&(J.nativeEvent.text=J.target.value,S(J))}function rs(J){var qe=J.target,At=qe.value;J.nativeEvent.text=At,ur(qe),x&&x(J),D&&D(At)}function gu(J){var qe=J.target;T&&(J.nativeEvent.text=qe.value,T(J)),qe!=null&&(Ii._currentlyFocusedNode=qe,h&&(qe.value=""),es&&(Ny!=null&&clearTimeout(Ny),Ny=setTimeout(()=>{qe!=null&&document.activeElement===qe&&qe.select()},0)))}function ba(J){var qe=J.target;J.stopPropagation();var At=!w,cr=l??At,Lr=J.nativeEvent,Aa=a5(Lr);y&&y(J),J.key==="Enter"&&!J.shiftKey&&!Aa&&!J.isDefaultPrevented()&&((l||!w)&&je&&(J.preventDefault(),Lr.text=J.target.value,je(J)),cr&&qe!=null&&setTimeout(()=>qe.blur(),0))}function Ra(J){try{var qe=J.target,At=qe.selectionStart,cr=qe.selectionEnd,Lr={start:At,end:cr};xe&&(J.nativeEvent.selection=Lr,J.nativeEvent.text=J.target.value,xe(J)),vo.current===Hn&&(ns.current=Lr)}catch{}}V_(()=>{var J=qn.current;J!=null&&go!=null&&pC(J,go),document.activeElement===J&&(Ii._currentlyFocusedNode=J)},[qn,go]);var wo=w?"textarea":"input";vS(qn,C),SS(qn,{onMoveShouldSetResponder:I,onMoveShouldSetResponderCapture:A,onResponderEnd:L,onResponderGrant:k,onResponderMove:le,onResponderReject:he,onResponderRelease:Le,onResponderStart:be,onResponderTerminate:j,onResponderTerminationRequest:Y,onScrollShouldSetResponder:ee,onScrollShouldSetResponderCapture:ye,onSelectionChangeShouldSetResponder:rn,onSelectionChangeShouldSetResponderCapture:rt,onStartShouldSetResponder:Nt,onStartShouldSetResponderCapture:ut});var pi=lS(),is=pi.direction,Ne=o5(t);Ne.autoCapitalize=r,Ne.autoComplete=i||s||"on",Ne.autoCorrect=a?"on":"off",Ne.dir=d!==void 0?d:"auto",Ne.enterKeyHint=p||Zi,Ne.inputMode=Xe,Ne.onBlur=Ta,Ne.onChange=rs,Ne.onFocus=gu,Ne.onKeyDown=ba,Ne.onSelect=Ra,Ne.readOnly=fi===!0||f===!1,Ne.rows=w?lr??v:1,Ne.spellCheck=ts??a,Ne.style=[{"--placeholderTextColor":xt},Vy.textinput$raw,Vy.placeholder,t.style,u&&Vy.caretHidden],Ne.type=w?void 0:Pe,Ne.virtualkeyboardpolicy=yo===!1?"manual":"auto";var Kn=_S(Ne),Ca=Lh(qn,Kn,_o,e);Ne.ref=Ca;var mi=t.lang!=null?Km(t.lang):null,Ia=t.dir||mi,Mr=Ia||is,xa=eu(wo,Ne,{writingDirection:Mr});return xa});jn.displayName="TextInput";jn.State=Ii;var Vy=Ie.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mC="popstate";function l5(t={}){function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=va(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),K_("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:dh(s))}function r(i,s){ar(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return c5(e,n,r,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ar(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u5(){return Math.random().toString(36).substring(2,10)}function gC(t,e){return{usr:t.state,key:t.key,idx:e}}function K_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?va(e):e,state:n,key:e&&e.key||r||u5()}}function dh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function va(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function c5(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function d(){a="POP";let b=h(),w=b==null?null:b-u;u=b,l&&l({action:a,location:E.location,delta:w})}function f(b,w){a="PUSH";let v=K_(E.location,b,w);n&&n(v,b),u=h()+1;let S=gC(v,u),x=E.createHref(v);try{o.pushState(S,"",x)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(x)}s&&l&&l({action:a,location:E.location,delta:1})}function p(b,w){a="REPLACE";let v=K_(E.location,b,w);n&&n(v,b),u=h();let S=gC(v,u),x=E.createHref(v);o.replaceState(S,"",x),s&&l&&l({action:a,location:E.location,delta:0})}function g(b){return h5(b)}let E={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(mC,d),l=b,()=>{i.removeEventListener(mC,d),l=null}},createHref(b){return e(i,b)},createURL:g,encodeLocation(b){let w=g(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:p,go(b){return o.go(b)}};return E}function h5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:dh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function fO(t,e,n="/"){return d5(t,e,n,!1)}function d5(t,e,n,r){let i=typeof e=="string"?va(e):e,s=Bi(i.pathname||"/",n);if(s==null)return null;let o=pO(t);f5(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=b5(s);a=E5(o[l],u,r)}return a}function pO(t,e=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&l)return;Ze(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let d=Oi([r,h.relativePath]),f=n.concat(h);o.children&&o.children.length>0&&(Ze(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),pO(o.children,e,f,d,l)),!(o.path==null&&!o.index)&&e.push({path:d,score:w5(d,o.index),routesMeta:f})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of mO(o.path))s(o,a,!0,u)}),e}function mO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=mO(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function f5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:S5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var p5=/^:[\w-]+$/,m5=3,g5=2,y5=1,v5=10,_5=-2,yC=t=>t==="*";function w5(t,e){let n=t.split("/"),r=n.length;return n.some(yC)&&(r+=_5),e&&(r+=g5),n.filter(i=>!yC(i)).reduce((i,s)=>i+(p5.test(s)?m5:s===""?y5:v5),r)}function S5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function E5(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=zp({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=zp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Oi([s,d.pathname]),pathnameBase:A5(Oi([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Oi([s,d.pathnameBase]))}return o}function zp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=T5(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:d},f)=>{if(h==="*"){let g=a[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[f];return d&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function T5(t,e=!1,n=!0){ar(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function b5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ar(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var R5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,C5=t=>R5.test(t);function I5(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?va(t):t,s;if(n)if(C5(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),ar(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?s=vC(n.substring(1),"/"):s=vC(n,e)}else s=e;return{pathname:s,search:P5(r),hash:k5(i)}}function vC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gO(t){let e=x5(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function yO(t,e,n,r=!1){let i;typeof t=="string"?i=va(t):(i={...t},Ze(!i.pathname||!i.pathname.includes("?"),Fy("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),Fy("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),Fy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=I5(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var Oi=t=>t.join("/").replace(/\/\/+/g,"/"),A5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),P5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,k5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function O5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function D5(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vO=["POST","PUT","PATCH","DELETE"];new Set(vO);var M5=["GET",...vO];new Set(M5);var tu=R.createContext(null);tu.displayName="DataRouter";var Qm=R.createContext(null);Qm.displayName="DataRouterState";R.createContext(!1);var _O=R.createContext({isTransitioning:!1});_O.displayName="ViewTransition";var L5=R.createContext(new Map);L5.displayName="Fetchers";var N5=R.createContext(null);N5.displayName="Await";var Or=R.createContext(null);Or.displayName="Navigation";var Vh=R.createContext(null);Vh.displayName="Location";var Xi=R.createContext({outlet:null,matches:[],isDataRoute:!1});Xi.displayName="Route";var ES=R.createContext(null);ES.displayName="RouteError";function V5(t,{relative:e}={}){Ze(Fh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(Or),{hash:i,pathname:s,search:o}=Bh(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Oi([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Fh(){return R.useContext(Vh)!=null}function hi(){return Ze(Fh(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Vh).location}var wO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SO(t){R.useContext(Or).static||R.useLayoutEffect(t)}function nu(){let{isDataRoute:t}=R.useContext(Xi);return t?Y5():F5()}function F5(){Ze(Fh(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(tu),{basename:e,navigator:n}=R.useContext(Or),{matches:r}=R.useContext(Xi),{pathname:i}=hi(),s=JSON.stringify(gO(r)),o=R.useRef(!1);return SO(()=>{o.current=!0}),R.useCallback((l,u={})=>{if(ar(o.current,wO),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=yO(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Oi([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,s,i,t])}R.createContext(null);function Bh(t,{relative:e}={}){let{matches:n}=R.useContext(Xi),{pathname:r}=hi(),i=JSON.stringify(gO(n));return R.useMemo(()=>yO(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function B5(t,e){return EO(t,e)}function EO(t,e,n,r,i){var v;Ze(Fh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=R.useContext(Or),{matches:o}=R.useContext(Xi),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",h=a?a.pathnameBase:"/",d=a&&a.route;{let S=d&&d.path||"";TO(u,!d||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let f=hi(),p;if(e){let S=typeof e=="string"?va(e):e;Ze(h==="/"||((v=S.pathname)==null?void 0:v.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${S.pathname}" was given in the \`location\` prop.`),p=S}else p=f;let g=p.pathname||"/",E=g;if(h!=="/"){let S=h.replace(/^\//,"").split("/");E="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=fO(t,{pathname:E});ar(d||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ar(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=W5(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:Oi([h,s.encodeLocation?s.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:Oi([h,s.encodeLocation?s.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,n,r,i);return e&&w?R.createElement(Vh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},w):w}function U5(){let t=X5(),e=O5(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:s},"ErrorBoundary")," or"," ",R.createElement("code",{style:s},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,o)}var j5=R.createElement(U5,null),$5=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(Xi.Provider,{value:this.props.routeContext},R.createElement(ES.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function z5({routeContext:t,match:e,children:n}){let r=R.useContext(tu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Xi.Provider,{value:t},n)}function W5(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let h=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Ze(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let a=!1,l=-1;if(n)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=h),d.route.id){let{loaderData:f,errors:p}=n,g=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=n&&r?(h,d)=>{var f,p;r(h,{location:n.location,params:((p=(f=n.matches)==null?void 0:f[0])==null?void 0:p.params)??{},unstable_pattern:D5(n.matches),errorInfo:d})}:void 0;return s.reduceRight((h,d,f)=>{let p,g=!1,E=null,b=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,E=d.route.errorElement||j5,a&&(l<0&&f===0?(TO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,b=null):l===f&&(g=!0,b=d.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,f+1)),v=()=>{let S;return p?S=E:g?S=b:d.route.Component?S=R.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=h,R.createElement(z5,{match:d,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?R.createElement($5,{location:n.location,revalidation:n.revalidation,component:E,error:p,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:u}):v()},null)}function TS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H5(t){let e=R.useContext(tu);return Ze(e,TS(t)),e}function q5(t){let e=R.useContext(Qm);return Ze(e,TS(t)),e}function K5(t){let e=R.useContext(Xi);return Ze(e,TS(t)),e}function bS(t){let e=K5(t),n=e.matches[e.matches.length-1];return Ze(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function G5(){return bS("useRouteId")}function X5(){var r;let t=R.useContext(ES),e=q5("useRouteError"),n=bS("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Y5(){let{router:t}=H5("useNavigate"),e=bS("useNavigate"),n=R.useRef(!1);return SO(()=>{n.current=!0}),R.useCallback(async(i,s={})=>{ar(n.current,wO),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var _C={};function TO(t,e,n){!e&&!_C[t]&&(_C[t]=!0,ar(!1,n))}R.memo(Q5);function Q5({routes:t,future:e,state:n,unstable_onError:r}){return EO(t,void 0,n,r,e)}function Ha(t){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function J5({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:o}){Ze(!Fh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=R.useMemo(()=>({basename:a,navigator:i,static:s,unstable_useTransitions:o,future:{}}),[a,i,s,o]);typeof n=="string"&&(n=va(n));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=n,g=R.useMemo(()=>{let E=Bi(u,a);return E==null?null:{location:{pathname:E,search:h,hash:d,state:f,key:p},navigationType:r}},[a,u,h,d,f,p,r]);return ar(g!=null,`<Router basename="${a}"> is not able to match the URL "${u}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:R.createElement(Or.Provider,{value:l},R.createElement(Vh.Provider,{children:e,value:g}))}function Z5({children:t,location:e}){return B5(G_(t),e)}function G_(t,e=[]){let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let s=[...e,i];if(r.type===R.Fragment){n.push.apply(n,G_(r.props.children,s));return}Ze(r.type===Ha,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=G_(r.props.children,s)),n.push(o)}),n}var Ff="get",Bf="application/x-www-form-urlencoded";function Jm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function ez(t){return Jm(t)&&t.tagName.toLowerCase()==="button"}function tz(t){return Jm(t)&&t.tagName.toLowerCase()==="form"}function nz(t){return Jm(t)&&t.tagName.toLowerCase()==="input"}function rz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iz(t,e){return t.button===0&&(!e||e==="_self")&&!rz(t)}var Zd=null;function sz(){if(Zd===null)try{new FormData(document.createElement("form"),0),Zd=!1}catch{Zd=!0}return Zd}var oz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function By(t){return t!=null&&!oz.has(t)?(ar(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bf}"`),null):t}function az(t,e){let n,r,i,s,o;if(tz(t)){let a=t.getAttribute("action");r=a?Bi(a,e):null,n=t.getAttribute("method")||Ff,i=By(t.getAttribute("enctype"))||Bf,s=new FormData(t)}else if(ez(t)||nz(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Bi(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Ff,i=By(t.getAttribute("formenctype"))||By(a.getAttribute("enctype"))||Bf,s=new FormData(a,t),!sz()){let{name:u,type:h,value:d}=t;if(h==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,d)}}else{if(Jm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ff,r=null,i=Bf,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function RS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lz(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Bi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function uz(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cz(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function hz(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await uz(s,n);return o.links?o.links():[]}return[]}));return mz(r.flat(1).filter(cz).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function wC(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var h;return n[u].pathname!==l.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var d;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function dz(t,e,{includeHydrateFallback:n}={}){return fz(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function fz(t){return[...new Set(t)]}function pz(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function mz(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(pz(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function bO(){let t=R.useContext(tu);return RS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function gz(){let t=R.useContext(Qm);return RS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var CS=R.createContext(void 0);CS.displayName="FrameworkContext";function RO(){let t=R.useContext(CS);return RS(t,"You must render this element inside a <HydratedRouter> element"),t}function yz(t,e){let n=R.useContext(CS),[r,i]=R.useState(!1),[s,o]=R.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=e,f=R.useRef(null);R.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let E=w=>{w.forEach(v=>{o(v.isIntersecting)})},b=new IntersectionObserver(E,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[t]),R.useEffect(()=>{if(r){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[r]);let p=()=>{i(!0)},g=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:qu(a,p),onBlur:qu(l,g),onMouseEnter:qu(u,p),onMouseLeave:qu(h,g),onTouchStart:qu(d,p)}]:[!1,f,{}]}function qu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function vz({page:t,...e}){let{router:n}=bO(),r=R.useMemo(()=>fO(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(wz,{page:t,matches:r,...e}):null}function _z(t){let{manifest:e,routeModules:n}=RO(),[r,i]=R.useState([]);return R.useEffect(()=>{let s=!1;return hz(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function wz({page:t,matches:e,...n}){let r=hi(),{manifest:i,routeModules:s}=RO(),{basename:o}=bO(),{loaderData:a,matches:l}=gz(),u=R.useMemo(()=>wC(t,e,l,i,r,"data"),[t,e,l,i,r]),h=R.useMemo(()=>wC(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let g=new Set,E=!1;if(e.forEach(w=>{var S;let v=i.routes[w.route.id];!v||!v.hasLoader||(!u.some(x=>x.route.id===w.route.id)&&w.route.id in a&&((S=s[w.route.id])!=null&&S.shouldRevalidate)||v.hasClientLoader?E=!0:g.add(w.route.id))}),g.size===0)return[];let b=lz(t,o,"data");return E&&g.size>0&&b.searchParams.set("_routes",e.filter(w=>g.has(w.route.id)).map(w=>w.route.id).join(",")),[b.pathname+b.search]},[o,a,r,i,u,e,t,s]),f=R.useMemo(()=>dz(h,i),[h,i]),p=_z(h);return R.createElement(R.Fragment,null,d.map(g=>R.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),f.map(g=>R.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),p.map(({key:g,link:E})=>R.createElement("link",{key:g,nonce:n.nonce,...E})))}function Sz(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var CO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CO&&(window.__reactRouterVersion="7.10.1")}catch{}function Ez({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=R.useRef();i.current==null&&(i.current=l5({window:r,v5Compat:!0}));let s=i.current,[o,a]=R.useState({action:s.action,location:s.location}),l=R.useCallback(u=>{n===!1?a(u):R.startTransition(()=>a(u))},[n]);return R.useLayoutEffect(()=>s.listen(l),[s,l]),R.createElement(J5,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:n===!0})}var IO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xO=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:d,...f},p){let{basename:g,unstable_useTransitions:E}=R.useContext(Or),b=typeof u=="string"&&IO.test(u),w,v=!1;if(typeof u=="string"&&b&&(w=u,CO))try{let I=new URL(window.location.href),A=u.startsWith("//")?new URL(I.protocol+u):new URL(u),L=Bi(A.pathname,g);A.origin===I.origin&&L!=null?u=L+A.search+A.hash:v=!0}catch{ar(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=V5(u,{relative:i}),[x,D,O]=yz(r,f),T=Cz(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:d,unstable_useTransitions:E});function y(I){e&&e(I),I.defaultPrevented||T(I)}let C=R.createElement("a",{...f,...O,href:w||S,onClick:v||s?e:y,ref:Sz(p,D),target:l,"data-discover":!b&&n==="render"?"true":void 0});return x&&!b?R.createElement(R.Fragment,null,C,R.createElement(vz,{page:S})):C});xO.displayName="Link";var Tz=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},h){let d=Bh(o,{relative:u.relative}),f=hi(),p=R.useContext(Qm),{navigator:g,basename:E}=R.useContext(Or),b=p!=null&&kz(d)&&a===!0,w=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,v=f.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(v=v.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&E&&(S=Bi(S,E)||S);const x=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let D=v===w||!i&&v.startsWith(w)&&v.charAt(x)==="/",O=S!=null&&(S===w||!i&&S.startsWith(w)&&S.charAt(w.length)==="/"),T={isActive:D,isPending:O,isTransitioning:b},y=D?e:void 0,C;typeof r=="function"?C=r(T):C=[r,D?"active":null,O?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(T):s;return R.createElement(xO,{...u,"aria-current":y,className:C,ref:h,style:I,to:o,viewTransition:a},typeof l=="function"?l(T):l)});Tz.displayName="NavLink";var bz=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Ff,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:d,...f},p)=>{let{unstable_useTransitions:g}=R.useContext(Or),E=Az(),b=Pz(a,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&IO.test(a),S=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let D=x.nativeEvent.submitter,O=(D==null?void 0:D.getAttribute("formmethod"))||o,T=()=>E(D||x.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:d});g&&n!==!1?R.startTransition(()=>T()):T()};return R.createElement("form",{ref:p,method:w,action:b,onSubmit:r?l:S,...f,"data-discover":!v&&t==="render"?"true":void 0})});bz.displayName="Form";function Rz(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AO(t){let e=R.useContext(tu);return Ze(e,Rz(t)),e}function Cz(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_useTransitions:a}={}){let l=nu(),u=hi(),h=Bh(t,{relative:s});return R.useCallback(d=>{if(iz(d,e)){d.preventDefault();let f=n!==void 0?n:dh(u)===dh(h),p=()=>l(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o});a?R.startTransition(()=>p()):p()}},[u,l,h,n,r,e,t,i,s,o,a])}var Iz=0,xz=()=>`__${String(++Iz)}__`;function Az(){let{router:t}=AO("useSubmit"),{basename:e}=R.useContext(Or),n=G5(),r=t.fetch,i=t.navigate;return R.useCallback(async(s,o={})=>{let{action:a,method:l,encType:u,formData:h,body:d}=az(s,e);if(o.navigate===!1){let f=o.fetcherKey||xz();await r(f,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||l,formEncType:o.encType||u,flushSync:o.flushSync})}else await i(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||l,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,e,n])}function Pz(t,{relative:e}={}){let{basename:n}=R.useContext(Or),r=R.useContext(Xi);Ze(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Bh(t||".",{relative:e})},o=hi();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Oi([n,s.pathname])),dh(s)}function kz(t,{relative:e}={}){let n=R.useContext(_O);Ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=AO("useViewTransitionState"),i=Bh(t,{relative:e});if(!n.isTransitioning)return!1;let s=Bi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Bi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return zp(i.pathname,o)!=null||zp(i.pathname,s)!=null}const Oz=()=>{};var SC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Dz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},kO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[h],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Dz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Mz;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Mz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lz=function(t){const e=PO(t);return kO.encodeByteArray(e,!0)},Wp=function(t){return Lz(t).replace(/\./g,"")},OO=function(t){try{return kO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=()=>Nz().__FIREBASE_DEFAULTS__,Fz=()=>{if(typeof process>"u"||typeof SC>"u")return;const t=SC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Bz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OO(t[1]);return e&&JSON.parse(e)},Zm=()=>{try{return Oz()||Vz()||Fz()||Bz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DO=t=>{var e,n;return(n=(e=Zm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Uz=t=>{const e=DO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MO=()=>{var t;return(t=Zm())==null?void 0:t.config},LO=t=>{var e;return(e=Zm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wp(JSON.stringify(n)),Wp(JSON.stringify(o)),""].join(".")}const kc={};function zz(){const t={prod:[],emulator:[]};for(const e of Object.keys(kc))kc[e]?t.emulator.push(e):t.prod.push(e);return t}function Wz(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let EC=!1;function NO(t,e){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||kc[t]===e||kc[t]||EC)return;kc[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=zz().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{EC=!0,o()},f}function h(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=Wz(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),E=n("learnmore"),b=document.getElementById(E)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const S=f.element;a(S),h(b,E);const x=u();l(v,w),S.append(v,g,b,x),document.body.appendChild(S)}s?(g.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function qz(){var e;const t=(e=Zm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Xz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yz(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Qz(){return!qz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jz(){try{return typeof indexedDB=="object"}catch{return!1}}function Zz(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9="FirebaseError";class di extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=e9,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uh.prototype.create)}}class Uh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?t9(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new di(i,a,r)}}function t9(t,e){return t.replace(n9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const n9=/\{\$([^}]+)}/g;function r9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function aa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(TC(s)&&TC(o)){if(!aa(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function TC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function rc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function i9(t,e){const n=new s9(t,e);return n.subscribe.bind(n)}class s9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");o9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Uy),i.error===void 0&&(i.error=Uy),i.complete===void 0&&(i.complete=Uy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Uy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t){return t&&t._delegate?t._delegate:t}class Qs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u9(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:l9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l9(t){return t===Lo?void 0:t}function u9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const h9={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},d9=_e.INFO,f9={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},p9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=f9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xS{constructor(e){this.name=e,this._logLevel=d9,this._logHandler=p9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const m9=(t,e)=>e.some(n=>t instanceof n);let bC,RC;function g9(){return bC||(bC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y9(){return RC||(RC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VO=new WeakMap,X_=new WeakMap,FO=new WeakMap,jy=new WeakMap,AS=new WeakMap;function v9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Hs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VO.set(n,t)}).catch(()=>{}),AS.set(e,t),e}function _9(t){if(X_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});X_.set(t,e)}let Y_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return X_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function w9(t){Y_=t(Y_)}function S9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($y(this),e,...n);return FO.set(r,e.sort?e.sort():[e]),Hs(r)}:y9().includes(t)?function(...e){return t.apply($y(this),e),Hs(VO.get(this))}:function(...e){return Hs(t.apply($y(this),e))}}function E9(t){return typeof t=="function"?S9(t):(t instanceof IDBTransaction&&_9(t),m9(t,g9())?new Proxy(t,Y_):t)}function Hs(t){if(t instanceof IDBRequest)return v9(t);if(jy.has(t))return jy.get(t);const e=E9(t);return e!==t&&(jy.set(t,e),AS.set(e,t)),e}const $y=t=>AS.get(t);function T9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Hs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Hs(o.result),l.oldVersion,l.newVersion,Hs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const b9=["get","getKey","getAll","getAllKeys","count"],R9=["put","add","delete","clear"],zy=new Map;function CC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zy.get(e))return zy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=R9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||b9.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return zy.set(e,s),s}w9(t=>({...t,get:(e,n,r)=>CC(e,n)||t.get(e,n,r),has:(e,n)=>!!CC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(I9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function I9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Q_="@firebase/app",IC="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new xS("@firebase/app"),x9="@firebase/app-compat",A9="@firebase/analytics-compat",P9="@firebase/analytics",k9="@firebase/app-check-compat",O9="@firebase/app-check",D9="@firebase/auth",M9="@firebase/auth-compat",L9="@firebase/database",N9="@firebase/data-connect",V9="@firebase/database-compat",F9="@firebase/functions",B9="@firebase/functions-compat",U9="@firebase/installations",j9="@firebase/installations-compat",$9="@firebase/messaging",z9="@firebase/messaging-compat",W9="@firebase/performance",H9="@firebase/performance-compat",q9="@firebase/remote-config",K9="@firebase/remote-config-compat",G9="@firebase/storage",X9="@firebase/storage-compat",Y9="@firebase/firestore",Q9="@firebase/ai",J9="@firebase/firestore-compat",Z9="firebase",eW="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="[DEFAULT]",tW={[Q_]:"fire-core",[x9]:"fire-core-compat",[P9]:"fire-analytics",[A9]:"fire-analytics-compat",[O9]:"fire-app-check",[k9]:"fire-app-check-compat",[D9]:"fire-auth",[M9]:"fire-auth-compat",[L9]:"fire-rtdb",[N9]:"fire-data-connect",[V9]:"fire-rtdb-compat",[F9]:"fire-fn",[B9]:"fire-fn-compat",[U9]:"fire-iid",[j9]:"fire-iid-compat",[$9]:"fire-fcm",[z9]:"fire-fcm-compat",[W9]:"fire-perf",[H9]:"fire-perf-compat",[q9]:"fire-rc",[K9]:"fire-rc-compat",[G9]:"fire-gcs",[X9]:"fire-gcs-compat",[Y9]:"fire-fst",[J9]:"fire-fst-compat",[Q9]:"fire-vertex","fire-js":"fire-js",[Z9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=new Map,nW=new Map,Z_=new Map;function xC(t,e){try{t.container.addComponent(e)}catch(n){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function la(t){const e=t.name;if(Z_.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;Z_.set(e,t);for(const n of Hp.values())xC(n,t);for(const n of nW.values())xC(n,t);return!0}function eg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new Uh("app","Firebase",rW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=eW;function BO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:J_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw qs.create("bad-app-name",{appName:String(i)});if(n||(n=MO()),!n)throw qs.create("no-options");const s=Hp.get(i);if(s){if(aa(n,s.options)&&aa(r,s.config))return s;throw qs.create("duplicate-app",{appName:i})}const o=new c9(i);for(const l of Z_.values())o.addComponent(l);const a=new iW(n,r,o);return Hp.set(i,a),a}function UO(t=J_){const e=Hp.get(t);if(!e&&t===J_&&MO())return BO();if(!e)throw qs.create("no-app",{appName:t});return e}function ei(t,e,n){let r=tW[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(o.join(" "));return}la(new Qs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW="firebase-heartbeat-database",oW=1,fh="firebase-heartbeat-store";let Wy=null;function jO(){return Wy||(Wy=T9(sW,oW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fh)}catch(n){console.warn(n)}}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),Wy}async function aW(t){try{const n=(await jO()).transaction(fh),r=await n.objectStore(fh).get($O(t));return await n.done,r}catch(e){if(e instanceof di)Ui.warn(e.message);else{const n=qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(n.message)}}}async function AC(t,e){try{const r=(await jO()).transaction(fh,"readwrite");await r.objectStore(fh).put(e,$O(t)),await r.done}catch(n){if(n instanceof di)Ui.warn(n.message);else{const r=qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ui.warn(r.message)}}}function $O(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW=1024,uW=30;class cW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>uW){const o=fW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ui.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PC(),{heartbeatsToSend:r,unsentEntries:i}=hW(this._heartbeatsCache.heartbeats),s=Wp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ui.warn(n),""}}}function PC(){return new Date().toISOString().substring(0,10)}function hW(t,e=lW){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),kC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jz()?Zz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return AC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return AC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function kC(t){return Wp(JSON.stringify({version:2,heartbeats:t})).length}function fW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pW(t){la(new Qs("platform-logger",e=>new C9(e),"PRIVATE")),la(new Qs("heartbeat",e=>new cW(e),"PRIVATE")),ei(Q_,IC,t),ei(Q_,IC,"esm2020"),ei("fire-js","")}pW("");var mW="firebase",gW="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(mW,gW,"app");var OC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,zO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,y){function C(){}C.prototype=y.prototype,T.F=y.prototype,T.prototype=new C,T.prototype.constructor=T,T.D=function(I,A,L){for(var k=Array(arguments.length-2),le=2;le<arguments.length;le++)k[le-2]=arguments[le];return y.prototype[A].apply(I,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,y,C){C||(C=0);const I=Array(16);if(typeof y=="string")for(var A=0;A<16;++A)I[A]=y.charCodeAt(C++)|y.charCodeAt(C++)<<8|y.charCodeAt(C++)<<16|y.charCodeAt(C++)<<24;else for(A=0;A<16;++A)I[A]=y[C++]|y[C++]<<8|y[C++]<<16|y[C++]<<24;y=T.g[0],C=T.g[1],A=T.g[2];let L=T.g[3],k;k=y+(L^C&(A^L))+I[0]+3614090360&4294967295,y=C+(k<<7&4294967295|k>>>25),k=L+(A^y&(C^A))+I[1]+3905402710&4294967295,L=y+(k<<12&4294967295|k>>>20),k=A+(C^L&(y^C))+I[2]+606105819&4294967295,A=L+(k<<17&4294967295|k>>>15),k=C+(y^A&(L^y))+I[3]+3250441966&4294967295,C=A+(k<<22&4294967295|k>>>10),k=y+(L^C&(A^L))+I[4]+4118548399&4294967295,y=C+(k<<7&4294967295|k>>>25),k=L+(A^y&(C^A))+I[5]+1200080426&4294967295,L=y+(k<<12&4294967295|k>>>20),k=A+(C^L&(y^C))+I[6]+2821735955&4294967295,A=L+(k<<17&4294967295|k>>>15),k=C+(y^A&(L^y))+I[7]+4249261313&4294967295,C=A+(k<<22&4294967295|k>>>10),k=y+(L^C&(A^L))+I[8]+1770035416&4294967295,y=C+(k<<7&4294967295|k>>>25),k=L+(A^y&(C^A))+I[9]+2336552879&4294967295,L=y+(k<<12&4294967295|k>>>20),k=A+(C^L&(y^C))+I[10]+4294925233&4294967295,A=L+(k<<17&4294967295|k>>>15),k=C+(y^A&(L^y))+I[11]+2304563134&4294967295,C=A+(k<<22&4294967295|k>>>10),k=y+(L^C&(A^L))+I[12]+1804603682&4294967295,y=C+(k<<7&4294967295|k>>>25),k=L+(A^y&(C^A))+I[13]+4254626195&4294967295,L=y+(k<<12&4294967295|k>>>20),k=A+(C^L&(y^C))+I[14]+2792965006&4294967295,A=L+(k<<17&4294967295|k>>>15),k=C+(y^A&(L^y))+I[15]+1236535329&4294967295,C=A+(k<<22&4294967295|k>>>10),k=y+(A^L&(C^A))+I[1]+4129170786&4294967295,y=C+(k<<5&4294967295|k>>>27),k=L+(C^A&(y^C))+I[6]+3225465664&4294967295,L=y+(k<<9&4294967295|k>>>23),k=A+(y^C&(L^y))+I[11]+643717713&4294967295,A=L+(k<<14&4294967295|k>>>18),k=C+(L^y&(A^L))+I[0]+3921069994&4294967295,C=A+(k<<20&4294967295|k>>>12),k=y+(A^L&(C^A))+I[5]+3593408605&4294967295,y=C+(k<<5&4294967295|k>>>27),k=L+(C^A&(y^C))+I[10]+38016083&4294967295,L=y+(k<<9&4294967295|k>>>23),k=A+(y^C&(L^y))+I[15]+3634488961&4294967295,A=L+(k<<14&4294967295|k>>>18),k=C+(L^y&(A^L))+I[4]+3889429448&4294967295,C=A+(k<<20&4294967295|k>>>12),k=y+(A^L&(C^A))+I[9]+568446438&4294967295,y=C+(k<<5&4294967295|k>>>27),k=L+(C^A&(y^C))+I[14]+3275163606&4294967295,L=y+(k<<9&4294967295|k>>>23),k=A+(y^C&(L^y))+I[3]+4107603335&4294967295,A=L+(k<<14&4294967295|k>>>18),k=C+(L^y&(A^L))+I[8]+1163531501&4294967295,C=A+(k<<20&4294967295|k>>>12),k=y+(A^L&(C^A))+I[13]+2850285829&4294967295,y=C+(k<<5&4294967295|k>>>27),k=L+(C^A&(y^C))+I[2]+4243563512&4294967295,L=y+(k<<9&4294967295|k>>>23),k=A+(y^C&(L^y))+I[7]+1735328473&4294967295,A=L+(k<<14&4294967295|k>>>18),k=C+(L^y&(A^L))+I[12]+2368359562&4294967295,C=A+(k<<20&4294967295|k>>>12),k=y+(C^A^L)+I[5]+4294588738&4294967295,y=C+(k<<4&4294967295|k>>>28),k=L+(y^C^A)+I[8]+2272392833&4294967295,L=y+(k<<11&4294967295|k>>>21),k=A+(L^y^C)+I[11]+1839030562&4294967295,A=L+(k<<16&4294967295|k>>>16),k=C+(A^L^y)+I[14]+4259657740&4294967295,C=A+(k<<23&4294967295|k>>>9),k=y+(C^A^L)+I[1]+2763975236&4294967295,y=C+(k<<4&4294967295|k>>>28),k=L+(y^C^A)+I[4]+1272893353&4294967295,L=y+(k<<11&4294967295|k>>>21),k=A+(L^y^C)+I[7]+4139469664&4294967295,A=L+(k<<16&4294967295|k>>>16),k=C+(A^L^y)+I[10]+3200236656&4294967295,C=A+(k<<23&4294967295|k>>>9),k=y+(C^A^L)+I[13]+681279174&4294967295,y=C+(k<<4&4294967295|k>>>28),k=L+(y^C^A)+I[0]+3936430074&4294967295,L=y+(k<<11&4294967295|k>>>21),k=A+(L^y^C)+I[3]+3572445317&4294967295,A=L+(k<<16&4294967295|k>>>16),k=C+(A^L^y)+I[6]+76029189&4294967295,C=A+(k<<23&4294967295|k>>>9),k=y+(C^A^L)+I[9]+3654602809&4294967295,y=C+(k<<4&4294967295|k>>>28),k=L+(y^C^A)+I[12]+3873151461&4294967295,L=y+(k<<11&4294967295|k>>>21),k=A+(L^y^C)+I[15]+530742520&4294967295,A=L+(k<<16&4294967295|k>>>16),k=C+(A^L^y)+I[2]+3299628645&4294967295,C=A+(k<<23&4294967295|k>>>9),k=y+(A^(C|~L))+I[0]+4096336452&4294967295,y=C+(k<<6&4294967295|k>>>26),k=L+(C^(y|~A))+I[7]+1126891415&4294967295,L=y+(k<<10&4294967295|k>>>22),k=A+(y^(L|~C))+I[14]+2878612391&4294967295,A=L+(k<<15&4294967295|k>>>17),k=C+(L^(A|~y))+I[5]+4237533241&4294967295,C=A+(k<<21&4294967295|k>>>11),k=y+(A^(C|~L))+I[12]+1700485571&4294967295,y=C+(k<<6&4294967295|k>>>26),k=L+(C^(y|~A))+I[3]+2399980690&4294967295,L=y+(k<<10&4294967295|k>>>22),k=A+(y^(L|~C))+I[10]+4293915773&4294967295,A=L+(k<<15&4294967295|k>>>17),k=C+(L^(A|~y))+I[1]+2240044497&4294967295,C=A+(k<<21&4294967295|k>>>11),k=y+(A^(C|~L))+I[8]+1873313359&4294967295,y=C+(k<<6&4294967295|k>>>26),k=L+(C^(y|~A))+I[15]+4264355552&4294967295,L=y+(k<<10&4294967295|k>>>22),k=A+(y^(L|~C))+I[6]+2734768916&4294967295,A=L+(k<<15&4294967295|k>>>17),k=C+(L^(A|~y))+I[13]+1309151649&4294967295,C=A+(k<<21&4294967295|k>>>11),k=y+(A^(C|~L))+I[4]+4149444226&4294967295,y=C+(k<<6&4294967295|k>>>26),k=L+(C^(y|~A))+I[11]+3174756917&4294967295,L=y+(k<<10&4294967295|k>>>22),k=A+(y^(L|~C))+I[2]+718787259&4294967295,A=L+(k<<15&4294967295|k>>>17),k=C+(L^(A|~y))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(A+(k<<21&4294967295|k>>>11))&4294967295,T.g[2]=T.g[2]+A&4294967295,T.g[3]=T.g[3]+L&4294967295}r.prototype.v=function(T,y){y===void 0&&(y=T.length);const C=y-this.blockSize,I=this.C;let A=this.h,L=0;for(;L<y;){if(A==0)for(;L<=C;)i(this,T,L),L+=this.blockSize;if(typeof T=="string"){for(;L<y;)if(I[A++]=T.charCodeAt(L++),A==this.blockSize){i(this,I),A=0;break}}else for(;L<y;)if(I[A++]=T[L++],A==this.blockSize){i(this,I),A=0;break}}this.h=A,this.o+=y},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;y=this.o*8;for(var C=T.length-8;C<T.length;++C)T[C]=y&255,y/=256;for(this.v(T),T=Array(16),y=0,C=0;C<4;++C)for(let I=0;I<32;I+=8)T[y++]=this.g[C]>>>I&255;return T};function s(T,y){var C=a;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=y(T)}function o(T,y){this.h=y;const C=[];let I=!0;for(let A=T.length-1;A>=0;A--){const L=T[A]|0;I&&L==y||(C[A]=L,I=!1)}this.g=C}var a={};function l(T){return-128<=T&&T<128?s(T,function(y){return new o([y|0],y<0?-1:0)}):new o([T|0],T<0?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(T<0)return b(u(-T));const y=[];let C=1;for(let I=0;T>=C;I++)y[I]=T/C|0,C*=4294967296;return new o(y,0)}function h(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return b(h(T.substring(1),y));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(y,8));let I=d;for(let L=0;L<T.length;L+=8){var A=Math.min(8,T.length-L);const k=parseInt(T.substring(L,L+A),y);A<8?(A=u(Math.pow(y,A)),I=I.j(A).add(u(k))):(I=I.j(C),I=I.add(u(k)))}return I}var d=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-b(this).m();let T=0,y=1;for(let C=0;C<this.g.length;C++){const I=this.i(C);T+=(I>=0?I:4294967296+I)*y,y*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(E(this))return"-"+b(this).toString(T);const y=u(Math.pow(T,6));var C=this;let I="";for(;;){const A=x(C,y).g;C=w(C,A.j(y));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(T);if(C=A,g(C))return L+I;for(;L.length<6;)L="0"+L;I=L+I}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(let y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function E(T){return T.h==-1}t.l=function(T){return T=w(this,T),E(T)?-1:g(T)?0:1};function b(T){const y=T.g.length,C=[];for(let I=0;I<y;I++)C[I]=~T.g[I];return new o(C,~T.h).add(f)}t.abs=function(){return E(this)?b(this):this},t.add=function(T){const y=Math.max(this.g.length,T.g.length),C=[];let I=0;for(let A=0;A<=y;A++){let L=I+(this.i(A)&65535)+(T.i(A)&65535),k=(L>>>16)+(this.i(A)>>>16)+(T.i(A)>>>16);I=k>>>16,L&=65535,k&=65535,C[A]=k<<16|L}return new o(C,C[C.length-1]&-2147483648?-1:0)};function w(T,y){return T.add(b(y))}t.j=function(T){if(g(this)||g(T))return d;if(E(this))return E(T)?b(this).j(b(T)):b(b(this).j(T));if(E(T))return b(this.j(b(T)));if(this.l(p)<0&&T.l(p)<0)return u(this.m()*T.m());const y=this.g.length+T.g.length,C=[];for(var I=0;I<2*y;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(let A=0;A<T.g.length;A++){const L=this.i(I)>>>16,k=this.i(I)&65535,le=T.i(A)>>>16,he=T.i(A)&65535;C[2*I+2*A]+=k*he,v(C,2*I+2*A),C[2*I+2*A+1]+=L*he,v(C,2*I+2*A+1),C[2*I+2*A+1]+=k*le,v(C,2*I+2*A+1),C[2*I+2*A+2]+=L*le,v(C,2*I+2*A+2)}for(T=0;T<y;T++)C[T]=C[2*T+1]<<16|C[2*T];for(T=y;T<2*y;T++)C[T]=0;return new o(C,0)};function v(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function S(T,y){this.g=T,this.h=y}function x(T,y){if(g(y))throw Error("division by zero");if(g(T))return new S(d,d);if(E(T))return y=x(b(T),y),new S(b(y.g),b(y.h));if(E(y))return y=x(T,b(y)),new S(b(y.g),y.h);if(T.g.length>30){if(E(T)||E(y))throw Error("slowDivide_ only works with positive integers.");for(var C=f,I=y;I.l(T)<=0;)C=D(C),I=D(I);var A=O(C,1),L=O(I,1);for(I=O(I,2),C=O(C,2);!g(I);){var k=L.add(I);k.l(T)<=0&&(A=A.add(C),L=k),I=O(I,1),C=O(C,1)}return y=w(T,A.j(y)),new S(A,y)}for(A=d;T.l(y)>=0;){for(C=Math.max(1,Math.floor(T.m()/y.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),L=u(C),k=L.j(y);E(k)||k.l(T)>0;)C-=I,L=u(C),k=L.j(y);g(L)&&(L=f),A=A.add(L),T=w(T,k)}return new S(A,T)}t.B=function(T){return x(this,T).h},t.and=function(T){const y=Math.max(this.g.length,T.g.length),C=[];for(let I=0;I<y;I++)C[I]=this.i(I)&T.i(I);return new o(C,this.h&T.h)},t.or=function(T){const y=Math.max(this.g.length,T.g.length),C=[];for(let I=0;I<y;I++)C[I]=this.i(I)|T.i(I);return new o(C,this.h|T.h)},t.xor=function(T){const y=Math.max(this.g.length,T.g.length),C=[];for(let I=0;I<y;I++)C[I]=this.i(I)^T.i(I);return new o(C,this.h^T.h)};function D(T){const y=T.g.length+1,C=[];for(let I=0;I<y;I++)C[I]=T.i(I)<<1|T.i(I-1)>>>31;return new o(C,T.h)}function O(T,y){const C=y>>5;y%=32;const I=T.g.length-C,A=[];for(let L=0;L<I;L++)A[L]=y>0?T.i(L+C)>>>y|T.i(L+C+1)<<32-y:T.i(L+C);return new o(A,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,zO=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Ks=o}).apply(typeof OC<"u"?OC:typeof self<"u"?self:typeof window<"u"?window:{});var ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WO,ic,HO,Uf,ew,qO,KO,GO;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ef=="object"&&ef];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var _=r;c=c.split(".");for(var P=0;P<c.length-1;P++){var N=c[P];if(!(N in _))break e;_=_[N]}c=c[c.length-1],P=_[c],m=m(P),m!=P&&m!=null&&e(_,c,{configurable:!0,writable:!0,value:m})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(m){var _=[],P;for(P in m)Object.prototype.hasOwnProperty.call(m,P)&&_.push([P,m[P]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function l(c,m,_){return c.call.apply(c.bind,arguments)}function u(c,m,_){return u=l,u.apply(null,arguments)}function h(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var P=_.slice();return P.push.apply(P,arguments),c.apply(this,P)}}function d(c,m){function _(){}_.prototype=m.prototype,c.Z=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(P,N,F){for(var H=Array(arguments.length-2),de=2;de<arguments.length;de++)H[de-2]=arguments[de];return m.prototype[N].apply(P,H)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function p(c){const m=c.length;if(m>0){const _=Array(m);for(let P=0;P<m;P++)_[P]=c[P];return _}return[]}function g(c,m){for(let P=1;P<arguments.length;P++){const N=arguments[P];var _=typeof N;if(_=_!="object"?_:N?Array.isArray(N)?"array":_:"null",_=="array"||_=="object"&&typeof N.length=="number"){_=c.length||0;const F=N.length||0;c.length=_+F;for(let H=0;H<F;H++)c[_+H]=N[H]}else c.push(N)}}class E{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function b(c){o.setTimeout(()=>{throw c},0)}function w(){var c=T;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class v{constructor(){this.h=this.g=null}add(m,_){const P=S.get();P.set(m,_),this.h?this.h.next=P:this.g=P,this.h=P}}var S=new E(()=>new x,c=>c.reset());class x{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let D,O=!1,T=new v,y=()=>{const c=Promise.resolve(void 0);D=()=>{c.then(C)}};function C(){for(var c;c=w();){try{c.h.call(c.g)}catch(_){b(_)}var m=S;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}O=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};o.addEventListener("test",_,m),o.removeEventListener("test",_,m)}catch{}return c}();function k(c){return/^[\s\xa0]*$/.test(c)}function le(c,m){A.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}d(le,A),le.prototype.init=function(c,m){const _=this.type=c.type,P=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(_=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),Le=0;function be(c,m,_,P,N){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!P,this.ha=N,this.key=++Le,this.da=this.fa=!1}function j(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Y(c,m,_){for(const P in c)m.call(_,c[P],P,c)}function ee(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function ye(c){const m={};for(const _ in c)m[_]=c[_];return m}const xe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rn(c,m){let _,P;for(let N=1;N<arguments.length;N++){P=arguments[N];for(_ in P)c[_]=P[_];for(let F=0;F<xe.length;F++)_=xe[F],Object.prototype.hasOwnProperty.call(P,_)&&(c[_]=P[_])}}function rt(c){this.src=c,this.g={},this.h=0}rt.prototype.add=function(c,m,_,P,N){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const H=ut(c,m,P,N);return H>-1?(m=c[H],_||(m.fa=!1)):(m=new be(m,this.src,F,!!P,N),m.fa=_,c.push(m)),m};function Nt(c,m){const _=m.type;if(_ in c.g){var P=c.g[_],N=Array.prototype.indexOf.call(P,m,void 0),F;(F=N>=0)&&Array.prototype.splice.call(P,N,1),F&&(j(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ut(c,m,_,P){for(let N=0;N<c.length;++N){const F=c[N];if(!F.da&&F.listener==m&&F.capture==!!_&&F.ha==P)return N}return-1}var je="closure_lm_"+(Math.random()*1e6|0),xt={};function Cn(c,m,_,P,N){if(Array.isArray(m)){for(let F=0;F<m.length;F++)Cn(c,m[F],_,P,N);return null}return _=ts(_),c&&c[he]?c.J(m,_,a(P)?!!P.capture:!1,N):fi(c,m,_,!1,P,N)}function fi(c,m,_,P,N,F){if(!m)throw Error("Invalid event type");const H=a(N)?!!N.capture:!!N;let de=es(c);if(de||(c[je]=de=new rt(c)),_=de.add(m,_,P,H,F),_.proxy)return _;if(P=Zi(),_.proxy=P,P.src=c,P.listener=_,c.addEventListener)L||(N=H),N===void 0&&(N=!1),c.addEventListener(m.toString(),P,N);else if(c.attachEvent)c.attachEvent(Hn(m.toString()),P);else if(c.addListener&&c.removeListener)c.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Zi(){function c(_){return m.call(c.src,c.listener,_)}const m=go;return c}function lr(c,m,_,P,N){if(Array.isArray(m))for(var F=0;F<m.length;F++)lr(c,m[F],_,P,N);else P=a(P)?!!P.capture:!!P,_=ts(_),c&&c[he]?(c=c.i,F=String(m).toString(),F in c.g&&(m=c.g[F],_=ut(m,_,P,N),_>-1&&(j(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete c.g[F],c.h--)))):c&&(c=es(c))&&(m=c.g[m.toString()],c=-1,m&&(c=ut(m,_,P,N)),(_=c>-1?m[c]:null)&&Dr(_))}function Dr(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[he])Nt(m.i,c);else{var _=c.type,P=c.proxy;m.removeEventListener?m.removeEventListener(_,P,c.capture):m.detachEvent?m.detachEvent(Hn(_),P):m.addListener&&m.removeListener&&m.removeListener(P),(_=es(m))?(Nt(_,c),_.h==0&&(_.src=null,m[je]=null)):j(c)}}}function Hn(c){return c in xt?xt[c]:xt[c]="on"+c}function go(c,m){if(c.da)c=!0;else{m=new le(m,this);const _=c.listener,P=c.ha||c.src;c.fa&&Dr(c),c=_.call(P,m)}return c}function es(c){return c=c[je],c instanceof rt?c:null}var yo="__closure_events_fn_"+(Math.random()*1e9>>>0);function ts(c){return typeof c=="function"?c:(c[yo]||(c[yo]=function(m){return c.handleEvent(m)}),c[yo])}function Pe(){I.call(this),this.i=new rt(this),this.M=this,this.G=null}d(Pe,I),Pe.prototype[he]=!0,Pe.prototype.removeEventListener=function(c,m,_,P){lr(this,c,m,_,P)};function Xe(c,m){var _,P=c.G;if(P)for(_=[];P;P=P.G)_.push(P);if(c=c.M,P=m.type||m,typeof m=="string")m=new A(m,c);else if(m instanceof A)m.target=m.target||c;else{var N=m;m=new A(P,c),rn(m,N)}N=!0;let F,H;if(_)for(H=_.length-1;H>=0;H--)F=m.g=_[H],N=In(F,P,!0,m)&&N;if(F=m.g=c,N=In(F,P,!0,m)&&N,N=In(F,P,!1,m)&&N,_)for(H=0;H<_.length;H++)F=m.g=_[H],N=In(F,P,!1,m)&&N}Pe.prototype.N=function(){if(Pe.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const _=c.g[m];for(let P=0;P<_.length;P++)j(_[P]);delete c.g[m],c.h--}}this.G=null},Pe.prototype.J=function(c,m,_,P){return this.i.add(String(c),m,!1,_,P)},Pe.prototype.K=function(c,m,_,P){return this.i.add(String(c),m,!0,_,P)};function In(c,m,_,P){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let N=!0;for(let F=0;F<m.length;++F){const H=m[F];if(H&&!H.da&&H.capture==_){const de=H.listener,wt=H.ha||H.src;H.fa&&Nt(c.i,H),N=de.call(wt,P)!==!1&&N}}return N&&!P.defaultPrevented}function qn(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(c,m||0)}function ns(c){c.g=qn(()=>{c.g=null,c.i&&(c.i=!1,ns(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class vo extends I{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ns(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(c){I.call(this),this.h=c,this.g={}}d(ur,I);var _o=[];function Ta(c){Y(c.g,function(m,_){this.g.hasOwnProperty(_)&&Dr(m)},c),c.g={}}ur.prototype.N=function(){ur.Z.N.call(this),Ta(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=o.JSON.stringify,gu=o.JSON.parse,ba=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Ra(){}function wo(){}var pi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function is(){A.call(this,"d")}d(is,A);function Ne(){A.call(this,"c")}d(Ne,A);var Kn={},Ca=null;function mi(){return Ca=Ca||new Pe}Kn.Ia="serverreachability";function Ia(c){A.call(this,Kn.Ia,c)}d(Ia,A);function Mr(c){const m=mi();Xe(m,new Ia(m))}Kn.STAT_EVENT="statevent";function xa(c,m){A.call(this,Kn.STAT_EVENT,c),this.stat=m}d(xa,A);function J(c){const m=mi();Xe(m,new xa(m,c))}Kn.Ja="timingevent";function qe(c,m){A.call(this,Kn.Ja,c),this.size=m}d(qe,A);function At(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},m)}function cr(){this.g=!0}cr.prototype.ua=function(){this.g=!1};function Lr(c,m,_,P,N,F){c.info(function(){if(c.g)if(F){var H="",de=F.split("&");for(let Ve=0;Ve<de.length;Ve++){var wt=de[Ve].split("=");if(wt.length>1){const Pt=wt[0];wt=wt[1];const Br=Pt.split("_");H=Br.length>=2&&Br[1]=="type"?H+(Pt+"="+wt+"&"):H+(Pt+"=redacted&")}}}else H=null;else H=F;return"XMLHTTP REQ ("+P+") [attempt "+N+"]: "+m+`
`+_+`
`+H})}function Aa(c,m,_,P,N,F,H){c.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+N+"]: "+m+`
`+_+`
`+F+" "+H})}function gi(c,m,_,P){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+sd(c,_)+(P?" "+P:"")})}function Ng(c,m){c.info(function(){return"TIMEOUT: "+m})}cr.prototype.info=function(){};function sd(c,m){if(!c.g)return m;if(!m)return null;try{const F=JSON.parse(m);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var _=F[c];if(!(_.length<2)){var P=_[1];if(Array.isArray(P)&&!(P.length<1)){var N=P[0];if(N!="noop"&&N!="stop"&&N!="close")for(let H=1;H<P.length;H++)P[H]=""}}}}return rs(F)}catch{return m}}var Pa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},od;function ka(){}d(ka,Ra),ka.prototype.g=function(){return new XMLHttpRequest},od=new ka;function So(c){return encodeURIComponent(String(c))}function ad(c){var m=1;c=c.split(":");const _=[];for(;m>0&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function Nr(c,m,_,P){this.j=c,this.i=m,this.l=_,this.S=P||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Eo}function Eo(){this.i=null,this.g="",this.h=!1}var To={},Oa={};function vu(c,m,_){c.M=1,c.A=bo(An(m)),c.u=_,c.R=!0,_u(c,null)}function _u(c,m){c.F=Date.now(),X(c),c.B=An(c.A);var _=c.B,P=c.S;Array.isArray(P)||(P=[String(P)]),ku(_.i,"t",P),c.C=0,_=c.j.L,c.h=new Eo,c.g=XT(c.j,_?m:null,!c.u),c.P>0&&(c.O=new vo(u(c.Y,c,c.g),c.P)),m=c.V,_=c.g,P=c.ba;var N="readystatechange";Array.isArray(N)||(N&&(_o[0]=N.toString()),N=_o);for(let F=0;F<N.length;F++){const H=Cn(_,N[F],P||m.handleEvent,!1,m.h||m);if(!H)break;m.g[H.key]=H}m=c.J?ye(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),Mr(),Lr(c.i,c.v,c.B,c.l,c.S,c.u)}Nr.prototype.ba=function(c){c=c.target;const m=this.O;m&&ds(c)==3?m.j():this.Y(c)},Nr.prototype.Y=function(c){try{if(c==this.g)e:{const de=ds(this.g),wt=this.g.ya(),Ve=this.g.ca();if(!(de<3)&&(de!=3||this.g&&(this.h.h||this.g.la()||FT(this.g)))){this.K||de!=4||wt==7||(wt==8||Ve<=0?Mr(3):Mr(2)),xn(this);var m=this.g.ca();this.X=m;var _=Vg(this);if(this.o=m==200,Aa(this.i,this.v,this.B,this.l,this.S,de,m),this.o){if(this.U&&!this.L){t:{if(this.g){var P,N=this.g;if((P=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(P)){var F=P;break t}}F=null}if(c=F)gi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Da(this,c);else{this.o=!1,this.m=3,J(12),Vr(this),os(this);break e}}if(this.R){c=!0;let Pt;for(;!this.K&&this.C<_.length;)if(Pt=ld(this,_),Pt==Oa){de==4&&(this.m=4,J(14),c=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==To){this.m=4,J(15),gi(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else gi(this.i,this.l,Pt,null),Da(this,Pt);if(ss(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),de!=4||_.length!=0||this.h.h||(this.m=1,J(16),c=!1),this.o=this.o&&c,!c)gi(this.i,this.l,_,"[Invalid Chunked Response]"),Vr(this),os(this);else if(_.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Ug(H),H.P=!0,J(11))}}else gi(this.i,this.l,_,null),Da(this,_);de==4&&Vr(this),this.o&&!this.K&&(de==4?HT(this.j,this):(this.o=!1,X(this)))}else VV(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,J(12)):(this.m=0,J(13)),Vr(this),os(this)}}}catch{}finally{}};function Vg(c){if(!ss(c))return c.g.la();const m=FT(c.g);if(m==="")return"";let _="";const P=m.length,N=ds(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Vr(c),os(c),"";c.h.i=new o.TextDecoder}for(let F=0;F<P;F++)c.h.h=!0,_+=c.h.i.decode(m[F],{stream:!(N&&F==P-1)});return m.length=0,c.h.g+=_,c.C=0,c.h.g}function ss(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ld(c,m){var _=c.C,P=m.indexOf(`
`,_);return P==-1?Oa:(_=Number(m.substring(_,P)),isNaN(_)?To:(P+=1,P+_>m.length?Oa:(m=m.slice(P,P+_),c.C=P+_,m)))}Nr.prototype.cancel=function(){this.K=!0,Vr(this)};function X(c){c.T=Date.now()+c.H,ud(c,c.H)}function ud(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=At(u(c.aa,c),m)}function xn(c){c.D&&(o.clearTimeout(c.D),c.D=null)}Nr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ng(this.i,this.B),this.M!=2&&(Mr(),J(17)),Vr(this),this.m=2,os(this)):ud(this,this.T-c)};function os(c){c.j.I==0||c.K||HT(c.j,c)}function Vr(c){xn(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Ta(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Da(c,m){try{var _=c.j;if(_.I!=0&&(_.g==c||Ma(_.h,c))){if(!c.L&&Ma(_.h,c)&&_.I==3){try{var P=_.Ba.g.parse(m)}catch{P=null}if(Array.isArray(P)&&P.length==3){var N=P;if(N[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)Rd(_),Td(_);else break e;Bg(_),J(18)}}else _.xa=N[1],0<_.xa-_.K&&N[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=At(u(_.Va,_),6e3));Eu(_.h)<=1&&_.ta&&(_.ta=void 0)}else Io(_,11)}else if((c.L||_.g==c)&&Rd(_),!k(m))for(N=_.Ba.g.parse(m),m=0;m<N.length;m++){let Ve=N[m];const Pt=Ve[0];if(!(Pt<=_.K))if(_.K=Pt,Ve=Ve[1],_.I==2)if(Ve[0]=="c"){_.M=Ve[1],_.ba=Ve[2];const Br=Ve[3];Br!=null&&(_.ka=Br,_.j.info("VER="+_.ka));const xo=Ve[4];xo!=null&&(_.za=xo,_.j.info("SVER="+_.za));const fs=Ve[5];fs!=null&&typeof fs=="number"&&fs>0&&(P=1.5*fs,_.O=P,_.j.info("backChannelRequestTimeoutMs_="+P)),P=_;const ps=c.g;if(ps){const Id=ps.g?ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Id){var F=P.h;F.g||Id.indexOf("spdy")==-1&&Id.indexOf("quic")==-1&&Id.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(La(F,F.h),F.h=null))}if(P.G){const jg=ps.g?ps.g.getResponseHeader("X-HTTP-Session-Id"):null;jg&&(P.wa=jg,Me(P.J,P.G,jg))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),P=_;var H=c;if(P.na=GT(P,P.L?P.ba:null,P.W),H.L){Tu(P.h,H);var de=H,wt=P.O;wt&&(de.H=wt),de.D&&(xn(de),X(de)),P.g=H}else zT(P);_.i.length>0&&bd(_)}else Ve[0]!="stop"&&Ve[0]!="close"||Io(_,7);else _.I==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Io(_,7):Fg(_):Ve[0]!="noop"&&_.l&&_.l.qa(Ve),_.A=0)}}Mr(4)}catch{}}var cd=class{constructor(c,m){this.g=c,this.map=m}};function wu(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Su(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Eu(c){return c.h?1:c.g?c.g.size:0}function Ma(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function La(c,m){c.g?c.g.add(m):c.h=m}function Tu(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}wu.prototype.cancel=function(){if(this.i=bu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bu(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.G);return m}return p(c.i)}var Ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hd(c,m){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const P=c[_].indexOf("=");let N,F=null;P>=0?(N=c[_].substring(0,P),F=c[_].substring(P+1)):N=c[_],m(N,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function hr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof hr?(this.l=c.l,as(this,c.j),this.o=c.o,this.g=c.g,ls(this,c.u),this.h=c.h,Na(this,Ou(c.i)),this.m=c.m):c&&(m=String(c).match(Ru))?(this.l=!1,as(this,m[1]||"",!0),this.o=us(m[2]||""),this.g=us(m[3]||"",!0),ls(this,m[4]),this.h=us(m[5]||"",!0),Na(this,m[6]||"",!0),this.m=us(m[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}hr.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(cs(m,Iu,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(cs(m,Iu,!0),"@"),c.push(So(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(cs(_,_.charAt(0)=="/"?fd:dd,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",cs(_,md)),c.join("")},hr.prototype.resolve=function(c){const m=An(this);let _=!!c.j;_?as(m,c.j):_=!!c.o,_?m.o=c.o:_=!!c.g,_?m.g=c.g:_=c.u!=null;var P=c.h;if(_)ls(m,c.u);else if(_=!!c.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var N=m.h.lastIndexOf("/");N!=-1&&(P=m.h.slice(0,N+1)+P)}if(N=P,N==".."||N==".")P="";else if(N.indexOf("./")!=-1||N.indexOf("/.")!=-1){P=N.lastIndexOf("/",0)==0,N=N.split("/");const F=[];for(let H=0;H<N.length;){const de=N[H++];de=="."?P&&H==N.length&&F.push(""):de==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),P&&H==N.length&&F.push("")):(F.push(de),P=!0)}P=F.join("/")}else P=N}return _?m.h=P:_=c.i.toString()!=="",_?Na(m,Ou(c.i)):_=!!c.m,_&&(m.m=c.m),m};function An(c){return new hr(c)}function as(c,m,_){c.j=_?us(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ls(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Na(c,m,_){m instanceof hs?(c.i=m,gd(c.i,c.l)):(_||(m=cs(m,pd)),c.i=new hs(m,c.l))}function Me(c,m,_){c.i.set(m,_)}function bo(c){return Me(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function us(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function cs(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,Cu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Cu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Iu=/[#\/\?@]/g,dd=/[#\?:]/g,fd=/[#\?]/g,pd=/[#\?@]/g,md=/#/g;function hs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Fr(c){c.g||(c.g=new Map,c.h=0,c.i&&hd(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=hs.prototype,t.add=function(c,m){Fr(this),this.i=null,c=yi(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function xu(c,m){Fr(c),m=yi(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Au(c,m){return Fr(c),m=yi(c,m),c.g.has(m)}t.forEach=function(c,m){Fr(this),this.g.forEach(function(_,P){_.forEach(function(N){c.call(m,N,P,this)},this)},this)};function Pu(c,m){Fr(c);let _=[];if(typeof m=="string")Au(c,m)&&(_=_.concat(c.g.get(yi(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)_=_.concat(c[m]);return _}t.set=function(c,m){return Fr(this),this.i=null,c=yi(this,c),Au(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=Pu(this,c),c.length>0?String(c[0]):m):m};function ku(c,m,_){xu(c,m),_.length>0&&(c.i=null,c.g.set(yi(c,m),p(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let P=0;P<m.length;P++){var _=m[P];const N=So(_);_=Pu(this,_);for(let F=0;F<_.length;F++){let H=N;_[F]!==""&&(H+="="+So(_[F])),c.push(H)}}return this.i=c.join("&")};function Ou(c){const m=new hs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function yi(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function gd(c,m){m&&!c.j&&(Fr(c),c.i=null,c.g.forEach(function(_,P){const N=P.toLowerCase();P!=N&&(xu(this,P),ku(this,N,_))},c)),c.j=m}function yd(c,m){const _=new cr;if(o.Image){const P=new Image;P.onload=h(dr,_,"TestLoadImage: loaded",!0,m,P),P.onerror=h(dr,_,"TestLoadImage: error",!1,m,P),P.onabort=h(dr,_,"TestLoadImage: abort",!1,m,P),P.ontimeout=h(dr,_,"TestLoadImage: timeout",!1,m,P),o.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=c}else m(!1)}function vd(c,m){const _=new cr,P=new AbortController,N=setTimeout(()=>{P.abort(),dr(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:P.signal}).then(F=>{clearTimeout(N),F.ok?dr(_,"TestPingServer: ok",!0,m):dr(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(N),dr(_,"TestPingServer: error",!1,m)})}function dr(c,m,_,P,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),P(_)}catch{}}function _d(){this.g=new ba}function Va(c){this.i=c.Sb||null,this.h=c.ab||!1}d(Va,Ra),Va.prototype.g=function(){return new Ro(this.i,this.h)};function Ro(c,m){Pe.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Ro,Pe),t=Ro.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Co(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Co(this)),this.g&&(this.readyState=3,Co(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Du(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Du(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?vi(this):Co(this),this.readyState==3&&Du(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,vi(this))},t.Na=function(c){this.g&&(this.response=c,vi(this))},t.ga=function(){this.g&&vi(this)};function vi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Co(c)}t.setRequestHeader=function(c,m){this.A.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function Co(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ro.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mu(c){let m="";return Y(c,function(_,P){m+=P,m+=":",m+=_,m+=`\r
`}),m}function Fa(c,m,_){e:{for(P in _){var P=!1;break e}P=!0}P||(_=Mu(_),typeof c=="string"?_!=null&&So(_):Me(c,m,_))}function $e(c){Pe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d($e,Pe);var wd=/^https?$/i,Sd=["POST","PUT"];t=$e.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,m,_,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():od.g(),this.g.onreadystatechange=f(u(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(F){LT(this,F);return}if(c=_||"",_=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var N in P)_.set(N,P[N]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const F of P.keys())_.set(F,P.get(F));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),N=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(Sd,m,void 0)>=0)||P||N||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,H]of _)this.g.setRequestHeader(F,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){LT(this,F)}};function LT(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,NT(c),Ed(c)}function NT(c){c.A||(c.A=!0,Xe(c,"complete"),Xe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Xe(this,"complete"),Xe(this,"abort"),Ed(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ed(this,!0)),$e.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?VT(this):this.Xa())},t.Xa=function(){VT(this)};function VT(c){if(c.h&&typeof s<"u"){if(c.v&&ds(c)==4)setTimeout(c.Ca.bind(c),0);else if(Xe(c,"readystatechange"),ds(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var P;if(P=F===0){let H=String(c.D).match(Ru)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),P=!wd.test(H?H.toLowerCase():"")}_=P}if(_)Xe(c,"complete"),Xe(c,"success");else{c.o=6;try{var N=ds(c)>2?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.ca()+"]",NT(c)}}finally{Ed(c)}}}}function Ed(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,m||Xe(c,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ds(c){return c.g?c.g.readyState:0}t.ca=function(){try{return ds(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),gu(m)}};function FT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function VV(c){const m={};c=(c.g&&ds(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<c.length;P++){if(k(c[P]))continue;var _=ad(c[P]);const N=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=m[N]||[];m[N]=F,F.push(_)}ee(m,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lu(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function BT(c){this.za=0,this.i=[],this.j=new cr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Lu("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Lu("baseRetryDelayMs",5e3,c),this.Za=Lu("retryDelaySeedMs",1e4,c),this.Ta=Lu("forwardChannelMaxRetries",2,c),this.va=Lu("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new wu(c&&c.concurrentRequestLimit),this.Ba=new _d,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=BT.prototype,t.ka=8,t.I=1,t.connect=function(c,m,_,P){J(0),this.W=c,this.H=m||{},_&&P!==void 0&&(this.H.OSID=_,this.H.OAID=P),this.F=this.X,this.J=GT(this,null,this.W),bd(this)};function Fg(c){if(UT(c),c.I==3){var m=c.V++,_=An(c.J);if(Me(_,"SID",c.M),Me(_,"RID",m),Me(_,"TYPE","terminate"),Nu(c,_),m=new Nr(c,c.j,m),m.M=2,m.A=bo(An(_)),_=!1,o.navigator&&o.navigator.sendBeacon)try{_=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&o.Image&&(new Image().src=m.A,_=!0),_||(m.g=XT(m.j,null),m.g.ea(m.A)),m.F=Date.now(),X(m)}KT(c)}function Td(c){c.g&&(Ug(c),c.g.cancel(),c.g=null)}function UT(c){Td(c),c.v&&(o.clearTimeout(c.v),c.v=null),Rd(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function bd(c){if(!Su(c.h)&&!c.m){c.m=!0;var m=c.Ea;D||y(),O||(D(),O=!0),T.add(m,c),c.D=0}}function FV(c,m){return Eu(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=At(u(c.Ea,c,m),qT(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const N=new Nr(this,this.j,c);let F=this.o;if(this.U&&(F?(F=ye(F),rn(F,this.U)):F=this.U),this.u!==null||this.R||(N.J=F,F=null),this.S)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var P=this.i[_];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(m+=P,m>4096){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=$T(this,N,m),_=An(this.J),Me(_,"RID",c),Me(_,"CVER",22),this.G&&Me(_,"X-HTTP-Session-Id",this.G),Nu(this,_),F&&(this.R?m="headers="+So(Mu(F))+"&"+m:this.u&&Fa(_,this.u,F)),La(this.h,N),this.Ra&&Me(_,"TYPE","init"),this.S?(Me(_,"$req",m),Me(_,"SID","null"),N.U=!0,vu(N,_,null)):vu(N,_,m),this.I=2}}else this.I==3&&(c?jT(this,c):this.i.length==0||Su(this.h)||jT(this))};function jT(c,m){var _;m?_=m.l:_=c.V++;const P=An(c.J);Me(P,"SID",c.M),Me(P,"RID",_),Me(P,"AID",c.K),Nu(c,P),c.u&&c.o&&Fa(P,c.u,c.o),_=new Nr(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),m&&(c.i=m.G.concat(c.i)),m=$T(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),La(c.h,_),vu(_,P,m)}function Nu(c,m){c.H&&Y(c.H,function(_,P){Me(m,P,_)}),c.l&&Y({},function(_,P){Me(m,P,_)})}function $T(c,m,_){_=Math.min(c.i.length,_);const P=c.l?u(c.l.Ka,c.l,c):null;e:{var N=c.i;let de=-1;for(;;){const wt=["count="+_];de==-1?_>0?(de=N[0].g,wt.push("ofs="+de)):de=0:wt.push("ofs="+de);let Ve=!0;for(let Pt=0;Pt<_;Pt++){var F=N[Pt].g;const Br=N[Pt].map;if(F-=de,F<0)de=Math.max(0,N[Pt].g-100),Ve=!1;else try{F="req"+F+"_"||"";try{var H=Br instanceof Map?Br:Object.entries(Br);for(const[xo,fs]of H){let ps=fs;a(fs)&&(ps=rs(fs)),wt.push(F+xo+"="+encodeURIComponent(ps))}}catch(xo){throw wt.push(F+"type="+encodeURIComponent("_badmap")),xo}}catch{P&&P(Br)}}if(Ve){H=wt.join("&");break e}}H=void 0}return c=c.i.splice(0,_),m.G=c,H}function zT(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;D||y(),O||(D(),O=!0),T.add(m,c),c.A=0}}function Bg(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=At(u(c.Da,c),qT(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,WT(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=At(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,J(10),Td(this),WT(this))};function Ug(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function WT(c){c.g=new Nr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=An(c.na);Me(m,"RID","rpc"),Me(m,"SID",c.M),Me(m,"AID",c.K),Me(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Me(m,"TO",c.ia),Me(m,"TYPE","xmlhttp"),Nu(c,m),c.u&&c.o&&Fa(m,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=bo(An(m)),_.u=null,_.R=!0,_u(_,c)}t.Va=function(){this.C!=null&&(this.C=null,Td(this),Bg(this),J(19))};function Rd(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function HT(c,m){var _=null;if(c.g==m){Rd(c),Ug(c),c.g=null;var P=2}else if(Ma(c.h,m))_=m.G,Tu(c.h,m),P=1;else return;if(c.I!=0){if(m.o)if(P==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var N=c.D;P=mi(),Xe(P,new qe(P,_)),bd(c)}else zT(c);else if(N=m.m,N==3||N==0&&m.X>0||!(P==1&&FV(c,m)||P==2&&Bg(c)))switch(_&&_.length>0&&(m=c.h,m.i=m.i.concat(_)),N){case 1:Io(c,5);break;case 4:Io(c,10);break;case 3:Io(c,6);break;default:Io(c,2)}}}function qT(c,m){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*m}function Io(c,m){if(c.j.info("Error code "+m),m==2){var _=u(c.bb,c),P=c.Ua;const N=!P;P=new hr(P||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||as(P,"https"),bo(P),N?yd(P.toString(),_):vd(P.toString(),_)}else J(2);c.I=0,c.l&&c.l.pa(m),KT(c),UT(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function KT(c){if(c.I=0,c.ja=[],c.l){const m=bu(c.h);(m.length!=0||c.i.length!=0)&&(g(c.ja,m),g(c.ja,c.i),c.h.i.length=0,p(c.i),c.i.length=0),c.l.oa()}}function GT(c,m,_){var P=_ instanceof hr?An(_):new hr(_);if(P.g!="")m&&(P.g=m+"."+P.g),ls(P,P.u);else{var N=o.location;P=N.protocol,m=m?m+"."+N.hostname:N.hostname,N=+N.port;const F=new hr(null);P&&as(F,P),m&&(F.g=m),N&&ls(F,N),_&&(F.h=_),P=F}return _=c.G,m=c.wa,_&&m&&Me(P,_,m),Me(P,"VER",c.ka),Nu(c,P),P}function XT(c,m,_){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new $e(new Va({ab:_})):new $e(c.ma),m.Fa(c.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function YT(){}t=YT.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Cd(){}Cd.prototype.g=function(c,m){return new Pn(c,m)};function Pn(c,m){Pe.call(this),this.g=new BT(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!k(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!k(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ba(this)}d(Pn,Pe),Pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Fg(this.g)},Pn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=rs(c),c=_);m.i.push(new cd(m.Ya++,c)),m.I==3&&bd(m)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Fg(this.g),delete this.g,Pn.Z.N.call(this)};function QT(c){is.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const _ in m){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}d(QT,is);function JT(){Ne.call(this),this.status=1}d(JT,Ne);function Ba(c){this.g=c}d(Ba,YT),Ba.prototype.ra=function(){Xe(this.g,"a")},Ba.prototype.qa=function(c){Xe(this.g,new QT(c))},Ba.prototype.pa=function(c){Xe(this.g,new JT)},Ba.prototype.oa=function(){Xe(this.g,"b")},Cd.prototype.createWebChannel=Cd.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,GO=function(){return new Cd},KO=function(){return mi()},qO=Kn,ew={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pa.NO_ERROR=0,Pa.TIMEOUT=8,Pa.HTTP_ERROR=6,Uf=Pa,yu.COMPLETE="complete",HO=yu,wo.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",Pe.prototype.listen=Pe.prototype.J,ic=wo,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,WO=$e}).apply(typeof ef<"u"?ef:typeof self<"u"?self:typeof window<"u"?window:{});const DC="@firebase/firestore",MC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new xS("@firebase/firestore");function qa(){return ua.logLevel}function G(t,...e){if(ua.logLevel<=_e.DEBUG){const n=e.map(PS);ua.debug(`Firestore (${ru}): ${t}`,...n)}}function ji(t,...e){if(ua.logLevel<=_e.ERROR){const n=e.map(PS);ua.error(`Firestore (${ru}): ${t}`,...n)}}function ph(t,...e){if(ua.logLevel<=_e.WARN){const n=e.map(PS);ua.warn(`Firestore (${ru}): ${t}`,...n)}}function PS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,XO(t,r,n)}function XO(t,e,n){let r=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ji(r),new Error(r)}function Oe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||XO(e,i,r)}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class _W{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Di,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Di)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string",31837,{l:r}),new yW(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class wW{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new wW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EW{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Oe(this.o===void 0,3512);const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new LC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new LC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=TW(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function tw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Hy(i)===Hy(s)?we(i,s):Hy(i)?1:-1}return we(t.length,e.length)}const bW=55296,RW=57343;function Hy(t){const e=t.charCodeAt(0);return e>=bW&&e<=RW}function $l(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="__name__";class Wr{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Wr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return we(e.length,n.length)}static compareSegments(e,n){const r=Wr.isNumericId(e),i=Wr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Wr.extractNumericId(e).compare(Wr.extractNumericId(n)):tw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ks.fromString(e.substring(4,e.length-2))}}class Be extends Wr{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const CW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Wr{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return CW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NC}static keyField(){return new $t([NC])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new W(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new W(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new W(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Be.fromString(e))}static fromName(e){return new te(Be.fromString(e).popFirst(5))}static empty(){return new te(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Be(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t,e,n){if(!n)throw new W(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function IW(t,e,n,r){if(e===!0&&r===!0)throw new W(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VC(t){if(!te.isDocumentKey(t))throw new W(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FC(t){if(te.isDocumentKey(t))throw new W(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function QO(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function tg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function $i(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tg(t);throw new W(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function xW(t,e){if(e<=0)throw new W(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t,e){const n={typeString:t};return e&&(n.value=e),n}function $h(t,e){if(!QO(t))throw new W(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new W(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=-62135596800,UC=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*UC);return new We(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<BC)throw new W(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UC}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($h(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-BC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:vt("string",We._jsonSchemaVersion),seconds:vt("number"),nanoseconds:vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new We(0,0))}static max(){return new ue(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=-1;function AW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new We(n+1,0):new We(n,r));return new Js(i,te.empty(),e)}function PW(t){return new Js(t.readTime,t.key,mh)}class Js{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Js(ue.min(),te.empty(),mh)}static max(){return new Js(ue.max(),te.empty(),mh)}}function kW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==OW)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function MW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function su(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ng.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=-1;function rg(t){return t==null}function qp(t){return t===0&&1/t==-1/0}function LW(t){return typeof t=="number"&&Number.isInteger(t)&&!qp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="";function NW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jC(e)),e=VW(t.get(n),e);return jC(e)}function VW(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case JO:n+="";break;default:n+=s}}return n}function jC(t){return t+JO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tf(this.root,e,this.comparator,!1)}getReverseIterator(){return new tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tf(this.root,e,this.comparator,!0)}}class tf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jt.RED,this.left=i??jt.EMPTY,this.right=s??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zC(this.data.getIterator())}getIteratorFrom(e){return new zC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class zC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Fn([])}unionWith(e){let n=new It($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $l(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new eD("Invalid base64 string: "+s):s}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const FW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(t){if(Oe(!!t,39018),typeof t=="string"){let e=0;const n=FW.exec(t);if(Oe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eo(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="server_timestamp",nD="__type__",rD="__previous_value__",iD="__local_write_time__";function ig(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[nD])==null?void 0:r.stringValue)===tD}function sg(t){const e=t.mapValue.fields[rD];return ig(e)?sg(e):e}function gh(t){const e=Zs(t.mapValue.fields[iD].timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(e,n,r,i,s,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const Kp="(default)";class yh{constructor(e,n){this.projectId=e,this.database=n||Kp}static empty(){return new yh("","")}get isDefaultDatabase(){return this.database===Kp}isEqual(e){return e instanceof yh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="__type__",UW="__max__",nf={mapValue:{}},oD="__vector__",Gp="value";function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ig(t)?4:$W(t)?9007199254740991:jW(t)?10:11:se(28295,{value:t})}function ci(t,e){if(t===e)return!0;const n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gh(t).isEqual(gh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Zs(i.timestampValue),a=Zs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return eo(i.bytesValue).isEqual(eo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ct(i.geoPointValue.latitude)===ct(s.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ct(i.integerValue)===ct(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ct(i.doubleValue),a=ct(s.doubleValue);return o===a?qp(o)===qp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return $l(t.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if($C(o)!==$C(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ci(o[l],a[l])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function vh(t,e){return(t.values||[]).find(n=>ci(n,e))!==void 0}function zl(t,e){if(t===e)return 0;const n=to(t),r=to(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ct(s.integerValue||s.doubleValue),l=ct(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return WC(t.timestampValue,e.timestampValue);case 4:return WC(gh(t),gh(e));case 5:return tw(t.stringValue,e.stringValue);case 6:return function(s,o){const a=eo(s),l=eo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=we(a[u],l[u]);if(h!==0)return h}return we(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=we(ct(s.latitude),ct(o.latitude));return a!==0?a:we(ct(s.longitude),ct(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return HC(t.arrayValue,e.arrayValue);case 10:return function(s,o){var f,p,g,E;const a=s.fields||{},l=o.fields||{},u=(f=a[Gp])==null?void 0:f.arrayValue,h=(p=l[Gp])==null?void 0:p.arrayValue,d=we(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((E=h==null?void 0:h.values)==null?void 0:E.length)||0);return d!==0?d:HC(u,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===nf.mapValue&&o===nf.mapValue)return 0;if(s===nf.mapValue)return 1;if(o===nf.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=tw(l[d],h[d]);if(f!==0)return f;const p=zl(a[l[d]],u[h[d]]);if(p!==0)return p}return we(l.length,h.length)}(t.mapValue,e.mapValue);default:throw se(23264,{he:n})}}function WC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=Zs(t),r=Zs(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function HC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=zl(n[i],r[i]);if(s)return s}return we(n.length,r.length)}function Wl(t){return nw(t)}function nw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return eo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=nw(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${nw(n.fields[o])}`;return i+"}"}(t.mapValue):se(61005,{value:t})}function jf(t){switch(to(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sg(t);return e?16+jf(e):16;case 5:return 2*t.stringValue.length;case 6:return eo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+jf(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return co(r.fields,(s,o)=>{i+=s.length+jf(o)}),i}(t.mapValue);default:throw se(13486,{value:t})}}function Xp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rw(t){return!!t&&"integerValue"in t}function DS(t){return!!t&&"arrayValue"in t}function qC(t){return!!t&&"nullValue"in t}function KC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $f(t){return!!t&&"mapValue"in t}function jW(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[sD])==null?void 0:r.stringValue)===oD}function Oc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return co(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Oc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oc(t.arrayValue.values[n]);return e}return{...t}}function $W(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===UW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$f(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oc(n)}setAll(e){let n=$t.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Oc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());$f(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$f(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){co(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _n(Oc(this.value))}}function aD(t){const e=[];return co(t.fields,(n,r)=>{const i=new $t([n]);if($f(r)){const s=aD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Jt(e,0,ue.min(),ue.min(),ue.min(),_n.empty(),0)}static newFoundDocument(e,n,r,i){return new Jt(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new Jt(e,2,n,ue.min(),ue.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,ue.min(),ue.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.position=e,this.inclusive=n}}function GC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=zl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function XC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ci(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function zW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{}class yt extends lD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HW(e,n,r):n==="array-contains"?new GW(e,r):n==="in"?new XW(e,r):n==="not-in"?new YW(e,r):n==="array-contains-any"?new QW(e,r):new yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qW(e,r):new KW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zl(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends lD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Pr(e,n)}matches(e){return uD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uD(t){return t.op==="and"}function cD(t){return WW(t)&&uD(t)}function WW(t){for(const e of t.filters)if(e instanceof Pr)return!1;return!0}function iw(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+Wl(t.value);if(cD(t))return t.filters.map(e=>iw(e)).join(",");{const e=t.filters.map(n=>iw(n)).join(",");return`${t.op}(${e})`}}function hD(t,e){return t instanceof yt?function(r,i){return i instanceof yt&&r.op===i.op&&r.field.isEqual(i.field)&&ci(r.value,i.value)}(t,e):t instanceof Pr?function(r,i){return i instanceof Pr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&hD(o,i.filters[a]),!0):!1}(t,e):void se(19439)}function dD(t){return t instanceof yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Wl(n.value)}`}(t):t instanceof Pr?function(n){return n.op.toString()+" {"+n.getFilters().map(dD).join(" ,")+"}"}(t):"Filter"}class HW extends yt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class qW extends yt{constructor(e,n){super(e,"in",n),this.keys=fD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KW extends yt{constructor(e,n){super(e,"not-in",n),this.keys=fD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class GW extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return DS(n)&&vh(n.arrayValue,this.value)}}class XW extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vh(this.value.arrayValue,n)}}class YW extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vh(this.value.arrayValue,n)}}class QW extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!DS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function YC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new JW(t,e,n,r,i,s,o)}function MS(t){const e=ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>iw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),rg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wl(r)).join(",")),e.Te=n}return e.Te}function LS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XC(t.startAt,e.startAt)&&XC(t.endAt,e.endAt)}function sw(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ZW(t,e,n,r,i,s,o,a){return new wa(t,e,n,r,i,s,o,a)}function NS(t){return new wa(t)}function QC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VS(t){return t.collectionGroup!==null}function Il(t){const e=ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new It($t.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new _h(s,r))}),n.has($t.keyField().canonicalString())||e.Ie.push(new _h($t.keyField(),r))}return e.Ie}function ti(t){const e=ce(t);return e.Ee||(e.Ee=e8(e,Il(t))),e.Ee}function e8(t,e){if(t.limitType==="F")return YC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new _h(i.field,s)});const n=t.endAt?new Hl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hl(t.startAt.position,t.startAt.inclusive):null;return YC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ow(t,e){const n=t.filters.concat([e]);return new wa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yp(t,e,n){return new wa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function og(t,e){return LS(ti(t),ti(e))&&t.limitType===e.limitType}function pD(t){return`${MS(ti(t))}|lt:${t.limitType}`}function Ka(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>dD(i)).join(", ")}]`),rg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wl(i)).join(",")),`Target(${r})`}(ti(t))}; limitType=${t.limitType})`}function ag(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Il(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=GC(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Il(r),i)||r.endAt&&!function(o,a,l){const u=GC(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Il(r),i))}(t,e)}function t8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mD(t){return(e,n)=>{let r=!1;for(const i of Il(t)){const s=n8(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function n8(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?zl(l,u):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ZO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=new nt(te.comparator);function zi(){return r8}const gD=new nt(te.comparator);function sc(...t){let e=gD;for(const n of t)e=e.insert(n.key,n);return e}function yD(t){let e=gD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ho(){return Dc()}function vD(){return Dc()}function Dc(){return new Sa(t=>t.toString(),(t,e)=>t.isEqual(e))}const i8=new nt(te.comparator),s8=new It(te.comparator);function Se(...t){let e=s8;for(const n of t)e=e.add(n);return e}const o8=new It(we);function a8(){return o8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qp(e)?"-0":e}}function _D(t){return{integerValue:""+t}}function l8(t,e){return LW(e)?_D(e):FS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this._=void 0}}function u8(t,e,n){return t instanceof Qp?function(i,s){const o={fields:{[nD]:{stringValue:tD},[iD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ig(s)&&(s=sg(s)),s&&(o.fields[rD]=s),{mapValue:o}}(n,e):t instanceof wh?SD(t,e):t instanceof Sh?ED(t,e):function(i,s){const o=wD(i,s),a=JC(o)+JC(i.Ae);return rw(o)&&rw(i.Ae)?_D(a):FS(i.serializer,a)}(t,e)}function c8(t,e,n){return t instanceof wh?SD(t,e):t instanceof Sh?ED(t,e):n}function wD(t,e){return t instanceof Jp?function(r){return rw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Qp extends lg{}class wh extends lg{constructor(e){super(),this.elements=e}}function SD(t,e){const n=TD(e);for(const r of t.elements)n.some(i=>ci(i,r))||n.push(r);return{arrayValue:{values:n}}}class Sh extends lg{constructor(e){super(),this.elements=e}}function ED(t,e){let n=TD(e);for(const r of t.elements)n=n.filter(i=>!ci(i,r));return{arrayValue:{values:n}}}class Jp extends lg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function JC(t){return ct(t.integerValue||t.doubleValue)}function TD(t){return DS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function h8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof wh&&i instanceof wh||r instanceof Sh&&i instanceof Sh?$l(r.elements,i.elements,ci):r instanceof Jp&&i instanceof Jp?ci(r.Ae,i.Ae):r instanceof Qp&&i instanceof Qp}(t.transform,e.transform)}class d8{constructor(e,n){this.version=e,this.transformResults=n}}class xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ug{}function bD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new BS(t.key,xr.none()):new zh(t.key,t.data,xr.none());{const n=t.data,r=_n.empty();let i=new It($t.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ho(t.key,r,new Fn(i.toArray()),xr.none())}}function f8(t,e,n){t instanceof zh?function(i,s,o){const a=i.value.clone(),l=eI(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ho?function(i,s,o){if(!zf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=eI(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(RD(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Mc(t,e,n,r){return t instanceof zh?function(s,o,a,l){if(!zf(s.precondition,o))return a;const u=s.value.clone(),h=tI(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ho?function(s,o,a,l){if(!zf(s.precondition,o))return a;const u=tI(s.fieldTransforms,l,o),h=o.data;return h.setAll(RD(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return zf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function p8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=wD(r.transform,i||null);s!=null&&(n===null&&(n=_n.empty()),n.set(r.field,s))}return n||null}function ZC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$l(r,i,(s,o)=>h8(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zh extends ug{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ho extends ug{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function RD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function eI(t,e,n){const r=new Map;Oe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,c8(o,a,n[i]))}return r}function tI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,u8(s,o,e))}return r}class BS extends ug{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class m8 extends ug{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&f8(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vD();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=bD(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&$l(this.mutations,e.mutations,(n,r)=>ZC(n,r))&&$l(this.baseMutations,e.baseMutations,(n,r)=>ZC(n,r))}}class US{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Oe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return i8}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new US(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Ee;function _8(t){switch(t){case B.OK:return se(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function CD(t){if(t===void 0)return ji("GRPC error has no .code"),B.UNKNOWN;switch(t){case pt.OK:return B.OK;case pt.CANCELLED:return B.CANCELLED;case pt.UNKNOWN:return B.UNKNOWN;case pt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case pt.INTERNAL:return B.INTERNAL;case pt.UNAVAILABLE:return B.UNAVAILABLE;case pt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case pt.NOT_FOUND:return B.NOT_FOUND;case pt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case pt.ABORTED:return B.ABORTED;case pt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case pt.DATA_LOSS:return B.DATA_LOSS;default:return se(39323,{code:t})}}(Ee=pt||(pt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=new Ks([4294967295,4294967295],0);function nI(t){const e=w8().encode(t),n=new zO;return n.update(e),new Uint8Array(n.digest())}function rI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ks([n,r],0),new Ks([i,s],0)]}class jS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oc(`Invalid padding: ${n}`);if(r<0)throw new oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ks.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ks.fromNumber(r)));return i.compare(S8)===1&&(i=new Ks([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=nI(e),[r,i]=rI(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new jS(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=nI(e),[r,i]=rI(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cg(ue.min(),i,new nt(we),zi(),Se())}}class Wh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wh(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class ID{constructor(e,n){this.targetId=e,this.Ce=n}}class xD{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class iI{constructor(){this.ve=0,this.Fe=sI(),this.Me=Ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Se(),n=Se(),r=Se();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se(38017,{changeType:s})}}),new Wh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=sI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class E8{constructor(e){this.Ge=e,this.ze=new Map,this.je=zi(),this.Je=rf(),this.He=rf(),this.Ye=new nt(we)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(sw(s))if(r===0){const o=new te(s.path);this.et(n,o,Jt.newNoDocument(o,ue.min()))}else Oe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=eo(r).toUint8Array()}catch(l){if(l instanceof eD)return ph("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new jS(o,i,s)}catch(l){return ph(l instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&sw(a.target)){const l=new te(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Jt.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=Se();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new cg(e,n,this.Ye,this.je,r);return this.je=zi(),this.Je=rf(),this.He=rf(),this.Ye=new nt(we),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new iI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new It(we),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new It(we),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iI),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rf(){return new nt(te.comparator)}function sI(){return new nt(te.comparator)}const T8={asc:"ASCENDING",desc:"DESCENDING"},b8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R8={and:"AND",or:"OR"};class C8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function aw(t,e){return t.useProto3Json||rg(e)?e:{value:e}}function Zp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function I8(t,e){return Zp(t,e.toTimestamp())}function ni(t){return Oe(!!t,49232),ue.fromTimestamp(function(n){const r=Zs(n);return new We(r.seconds,r.nanos)}(t))}function $S(t,e){return lw(t,e).canonicalString()}function lw(t,e){const n=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PD(t){const e=Be.fromString(t);return Oe(LD(e),10190,{key:e.toString()}),e}function uw(t,e){return $S(t.databaseId,e.path)}function qy(t,e){const n=PD(e);if(n.get(1)!==t.databaseId.projectId)throw new W(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(OD(n))}function kD(t,e){return $S(t.databaseId,e)}function x8(t){const e=PD(t);return e.length===4?Be.emptyPath():OD(e)}function cw(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OD(t){return Oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function oI(t,e,n){return{name:uw(t,e),fields:n.value.mapValue.fields}}function A8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(Oe(h===void 0||typeof h=="string",58123),Ht.fromBase64String(h||"")):(Oe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ht.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?B.UNKNOWN:CD(u.code);return new W(h,u.message||"")}(o);n=new xD(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=qy(t,r.document.name),s=ni(r.document.updateTime),o=r.document.createTime?ni(r.document.createTime):ue.min(),a=new _n({mapValue:{fields:r.document.fields}}),l=Jt.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Wf(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=qy(t,r.document),s=r.readTime?ni(r.readTime):ue.min(),o=Jt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Wf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=qy(t,r.document),s=r.removedTargetIds||[];n=new Wf([],s,i,null)}else{if(!("filter"in e))return se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new v8(i,s),a=r.targetId;n=new ID(a,o)}}return n}function P8(t,e){let n;if(e instanceof zh)n={update:oI(t,e.key,e.value)};else if(e instanceof BS)n={delete:uw(t,e.key)};else if(e instanceof ho)n={update:oI(t,e.key,e.data),updateMask:B8(e.fieldMask)};else{if(!(e instanceof m8))return se(16599,{Vt:e.type});n={verify:uw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Qp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Sh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jp)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:I8(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se(27497)}(t,e.precondition)),n}function k8(t,e){return t&&t.length>0?(Oe(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?ni(i.updateTime):ni(s);return o.isEqual(ue.min())&&(o=ni(s)),new d8(o,i.transformResults||[])}(n,e))):[]}function O8(t,e){return{documents:[kD(t,e.path)]}}function D8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kD(t,i);const s=function(u){if(u.length!==0)return MD(Pr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:Ga(f.field),direction:N8(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=aw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function M8(t){let e=x8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Oe(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=DD(d);return f instanceof Pr&&cD(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(g){return new _h(Xa(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,rg(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new Hl(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new Hl(p,f)}(n.endAt)),ZW(e,i,o,s,a,"F",l,u)}function L8(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xa(n.unaryFilter.field);return yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xa(n.unaryFilter.field);return yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xa(n.unaryFilter.field);return yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xa(n.unaryFilter.field);return yt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return yt.create(Xa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pr.create(n.compositeFilter.filters.map(r=>DD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function N8(t){return T8[t]}function V8(t){return b8[t]}function F8(t){return R8[t]}function Ga(t){return{fieldPath:t.canonicalString()}}function Xa(t){return $t.fromServerFormat(t.fieldPath)}function MD(t){return t instanceof yt?function(n){if(n.op==="=="){if(KC(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(qC(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KC(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(qC(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:V8(n.op),value:n.value}}}(t):t instanceof Pr?function(n){const r=n.getFilters().map(i=>MD(i));return r.length===1?r[0]:{compositeFilter:{op:F8(n.op),filters:r}}}(t):se(54877,{filter:t})}function B8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,r,i,s=ue.min(),o=ue.min(),a=Ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e){this.yt=e}}function j8(t){const e=M8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(){this.Cn=new z8}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Js.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class z8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new It(Be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ND=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(ND,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ql(0)}static cr(){return new ql(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="LruGarbageCollector",VD=1048576;function uI([t,e],[n,r]){const i=we(t,n);return i===0?we(e,r):i}class W8{constructor(e){this.Ir=e,this.buffer=new It(uI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();uI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class H8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(lI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){su(n)?G(lI,"Ignoring IndexedDB error during garbage collection: ",n):await iu(n)}await this.Vr(3e5)})}}class q8{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(ng.ce);const r=new W8(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(aI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aI):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),qa()<=_e.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function K8(t,e){return new q8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(){this.changes=new Sa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Mc(r.mutation,i,Fn.empty(),We.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=Ho();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=sc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ho();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=zi();const o=Dc(),a=function(){return Dc()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof ho)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Mc(h.mutation,u,h.mutation.getFieldMask(),We.now())):o.set(u.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new X8(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Dc();let i=new nt((o,a)=>o-a),s=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Fn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const d=(i.get(a.batchId)||Se()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=vD();h.forEach(f=>{if(!s.has(f)){const p=bD(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Ho());let a=mh,l=s;return o.next(u=>U.forEach(u,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Se())).next(h=>({batchId:a,changes:yD(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=sc();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const u=function(d,f){return new wa(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Jt.newInvalidDocument(h)))});let a=sc();return o.forEach((l,u)=>{const h=s.get(l);h!==void 0&&Mc(h.mutation,u,Fn.empty(),We.now()),ag(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ni(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:j8(i.bundledQuery),readTime:ni(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(){this.overlays=new nt(te.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ho();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Ho(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nt((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=Ho(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Ho(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return U.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new y8(n,r));let s=this.qr.get(n);s===void 0&&(s=Se(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.Qr=new It(Dt.$r),this.Ur=new It(Dt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Dt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Dt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new te(new Be([])),r=new Dt(n,e),i=new Dt(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new te(new Be([])),r=new Dt(n,e),i=new Dt(n,e+1);let s=Se();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Dt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Dt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return te.comparator(e.key,n.key)||we(e.Yr,n.Yr)}static Kr(e,n){return we(e.Yr,n.Yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new It(Dt.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new g8(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?OS:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dt(n,0),i=new Dt(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(we);return n.forEach(i=>{const s=new Dt(i,0),o=new Dt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new Dt(new te(s),0);let a=new It(we);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},o),U.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Oe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,i=>{const s=new Dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Dt(n,0),i=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e){this.ri=e,this.docs=function(){return new nt(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=zi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Jt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=zi();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||kW(PW(h),r)<=0||(i.has(h.key)||ag(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nH(this)}getSize(e){return U.resolve(this.size)}}class nH extends G8{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(e){this.persistence=e,this.si=new Sa(n=>MS(n),LS),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.oi=0,this._i=new zS,this.targetCount=0,this.ai=ql.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ql(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.ui={},this.overlays={},this.ci=new ng(0),this.li=!1,this.li=!0,this.hi=new Z8,this.referenceDelegate=e(this),this.Pi=new rH(this),this.indexManager=new $8,this.remoteDocumentCache=function(i){return new tH(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new U8(n),this.Ii=new Q8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new J8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new eH(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new iH(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class iH extends DW{constructor(e){super(),this.currentSequenceNumber=e}}class WS{constructor(e){this.persistence=e,this.Ri=new zS,this.Vi=null}static mi(e){return new WS(e)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const i=te.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class em{constructor(e,n){this.persistence=e,this.pi=new Sa(r=>NW(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=K8(this,n)}static mi(e,n){return new em(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ue.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jf(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Se(),i=Se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new HS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Qz()?8:MW(nn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new sH;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(qa()<=_e.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(qa()<=_e.DEBUG&&G("QueryEngine","Query:",Ka(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(qa()<=_e.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):U.resolve())}ys(e,n){if(QC(n))return U.resolve(null);let r=ti(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Yp(n,null,"F"),r=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Se(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,Yp(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return QC(n)||i.isEqual(ue.min())?U.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?U.resolve(null):(qa()<=_e.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ka(n)),this.vs(e,o,n,AW(i,mh)).next(a=>a))})}Ds(e,n){let r=new It(mD(e));return n.forEach((i,s)=>{ag(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return qa()<=_e.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ka(n)),this.ps.getDocumentsMatchingQuery(e,n,Js.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="LocalStore",aH=3e8;class lH{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new nt(we),this.xs=new Sa(s=>MS(s),LS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function uH(t,e,n,r){return new lH(t,e,n,r)}async function BD(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Se();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function cH(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const d=u.batch,f=d.keys();let p=U.resolve();return f.forEach(g=>{p=p.next(()=>h.getEntry(l,g)).next(E=>{const b=u.docVersions.get(g);Oe(b!==null,48541),E.version.compareTo(b)<0&&(d.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),h.addEntry(E)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function UD(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function hH(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Ht.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),i=i.insert(d,p),function(E,b,w){return E.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=aH?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,p,h)&&a.push(n.Pi.updateTargetData(s,p))});let l=zi(),u=Se();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(dH(s,o,e.documentUpdates).next(h=>{l=h.ks,u=h.qs})),!r.isEqual(ue.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(d=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ms=i,s))}function dH(t,e,n){let r=Se(),i=Se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=zi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G(qS,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function fH(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=OS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pH(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Ns(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function hw(t,e,n){const r=ce(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!su(o))throw o;G(qS,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function cI(t,e,n){const r=ce(t);let i=ue.min(),s=Se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const d=ce(l),f=d.xs.get(h);return f!==void 0?U.resolve(d.Ms.get(f)):d.Pi.getTargetData(u,h)}(r,o,ti(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:Se())).next(a=>(mH(r,t8(e),a),{documents:a,Qs:s})))}function mH(t,e,n){let r=t.Os.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class hI{constructor(){this.activeTargetIds=a8()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gH{constructor(){this.Mo=new hI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="ConnectivityMonitor";class fI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(dI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(dI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf=null;function dw(){return sf===null?sf=function(){return 268435456+Math.round(2147483648*Math.random())}():sf++,"0x"+sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="RestConnection",vH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _H{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Kp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=dw(),a=this.zo(e,n.toUriEncodedString());G(Ky,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(a),h=uo(u);return this.Jo(e,a,l,r,h).then(d=>(G(Ky,`Received RPC '${e}' ${o}: `,d),d),d=>{throw ph(Ky,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ru}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=vH[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class SH extends _H{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=dw();return new Promise((a,l)=>{const u=new WO;u.setWithCredentials(!0),u.listenOnce(HO.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Uf.NO_ERROR:const d=u.getResponseJson();G(Xt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Uf.TIMEOUT:G(Xt,`RPC '${e}' ${o} timed out`),l(new W(B.DEADLINE_EXCEEDED,"Request time out"));break;case Uf.HTTP_ERROR:const f=u.getStatus();if(G(Xt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const E=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(v)>=0?v:B.UNKNOWN}(g.status);l(new W(E,g.message))}else l(new W(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new W(B.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{G(Xt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);G(Xt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}T_(e,n,r){const i=dw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=GO(),a=KO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");G(Xt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let f=!1,p=!1;const g=new wH({Yo:b=>{p?G(Xt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(f||(G(Xt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),G(Xt,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},Zo:()=>d.close()}),E=(b,w,v)=>{b.listen(w,S=>{try{v(S)}catch(x){setTimeout(()=>{throw x},0)}})};return E(d,ic.EventType.OPEN,()=>{p||(G(Xt,`RPC '${e}' stream ${i} transport opened.`),g.o_())}),E(d,ic.EventType.CLOSE,()=>{p||(p=!0,G(Xt,`RPC '${e}' stream ${i} transport closed`),g.a_(),this.E_(d))}),E(d,ic.EventType.ERROR,b=>{p||(p=!0,ph(Xt,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),g.a_(new W(B.UNAVAILABLE,"The operation could not be completed")))}),E(d,ic.EventType.MESSAGE,b=>{var w;if(!p){const v=b.data[0];Oe(!!v,16349);const S=v,x=(S==null?void 0:S.error)||((w=S[0])==null?void 0:w.error);if(x){G(Xt,`RPC '${e}' stream ${i} received error:`,x);const D=x.status;let O=function(C){const I=pt[C];if(I!==void 0)return CD(I)}(D),T=x.message;O===void 0&&(O=B.INTERNAL,T="Unknown error status: "+D+" with message "+x.message),p=!0,g.a_(new W(O,T)),d.close()}else G(Xt,`RPC '${e}' stream ${i} received:`,v),g.u_(v)}}),E(a,qO.STAT_EVENT,b=>{b.stat===ew.PROXY?G(Xt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===ew.NOPROXY&&G(Xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Gy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(t){return new C8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="PersistentStream";class $D{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(ji(n.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new W(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(pI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(pI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EH extends $D{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=A8(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?ni(o.readTime):ue.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=cw(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=sw(l)?{documents:O8(s,l)}:{query:D8(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=AD(s,o.resumeToken);const u=aw(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=Zp(s,o.snapshotVersion.toTimestamp());const u=aw(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=L8(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=cw(this.serializer),n.removeTarget=e,this.q_(n)}}class TH extends $D{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=k8(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=cw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>P8(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{}class RH extends bH{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new W(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,lw(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(B.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,lw(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class CH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ji(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class IH{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Ea(this)&&(G(ca,"Restarting streams for network reachability change."),await async function(l){const u=ce(l);u.Ea.add(4),await Hh(u),u.Ra.set("Unknown"),u.Ea.delete(4),await dg(u)}(this))})}),this.Ra=new CH(r,i)}}async function dg(t){if(Ea(t))for(const e of t.da)await e(!0)}async function Hh(t){for(const e of t.da)await e(!1)}function zD(t,e){const n=ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),YS(n)?XS(n):ou(n).O_()&&GS(n,e))}function KS(t,e){const n=ce(t),r=ou(n);n.Ia.delete(e),r.O_()&&WD(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ea(n)&&n.Ra.set("Unknown"))}function GS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ou(t).Y_(e)}function WD(t,e){t.Va.Ue(e),ou(t).Z_(e)}function XS(t){t.Va=new E8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ou(t).start(),t.Ra.ua()}function YS(t){return Ea(t)&&!ou(t).x_()&&t.Ia.size>0}function Ea(t){return ce(t).Ea.size===0}function HD(t){t.Va=void 0}async function xH(t){t.Ra.set("Online")}async function AH(t){t.Ia.forEach((e,n)=>{GS(t,e)})}async function PH(t,e){HD(t),YS(t)?(t.Ra.ha(e),XS(t)):t.Ra.set("Unknown")}async function kH(t,e,n){if(t.Ra.set("Online"),e instanceof xD&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){G(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tm(t,r)}else if(e instanceof Wf?t.Va.Ze(e):e instanceof ID?t.Va.st(e):t.Va.tt(e),!n.isEqual(ue.min()))try{const r=await UD(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ia.get(u);h&&s.Ia.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s.Ia.get(l);if(!h)return;s.Ia.set(l,h.withResumeToken(Ht.EMPTY_BYTE_STRING,h.snapshotVersion)),WD(s,l);const d=new Ns(h.target,l,u,h.sequenceNumber);GS(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(ca,"Failed to raise snapshot:",r),await tm(t,r)}}async function tm(t,e,n){if(!su(e))throw e;t.Ea.add(1),await Hh(t),t.Ra.set("Offline"),n||(n=()=>UD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(ca,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await dg(t)})}function qD(t,e){return e().catch(n=>tm(t,n,e))}async function fg(t){const e=ce(t),n=no(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:OS;for(;OH(e);)try{const i=await fH(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,DH(e,i)}catch(i){await tm(e,i)}KD(e)&&GD(e)}function OH(t){return Ea(t)&&t.Ta.length<10}function DH(t,e){t.Ta.push(e);const n=no(t);n.O_()&&n.X_&&n.ea(e.mutations)}function KD(t){return Ea(t)&&!no(t).x_()&&t.Ta.length>0}function GD(t){no(t).start()}async function MH(t){no(t).ra()}async function LH(t){const e=no(t);for(const n of t.Ta)e.ea(n.mutations)}async function NH(t,e,n){const r=t.Ta.shift(),i=US.from(r,e,n);await qD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await fg(t)}async function VH(t,e){e&&no(t).X_&&await async function(r,i){if(function(o){return _8(o)&&o!==B.ABORTED}(i.code)){const s=r.Ta.shift();no(r).B_(),await qD(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await fg(r)}}(t,e),KD(t)&&GD(t)}async function mI(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),G(ca,"RemoteStore received new credentials");const r=Ea(n);n.Ea.add(3),await Hh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await dg(n)}async function FH(t,e){const n=ce(t);e?(n.Ea.delete(2),await dg(n)):e||(n.Ea.add(2),await Hh(n),n.Ra.set("Unknown"))}function ou(t){return t.ma||(t.ma=function(n,r,i){const s=ce(n);return s.sa(),new EH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:xH.bind(null,t),t_:AH.bind(null,t),r_:PH.bind(null,t),H_:kH.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),YS(t)?XS(t):t.Ra.set("Unknown")):(await t.ma.stop(),HD(t))})),t.ma}function no(t){return t.fa||(t.fa=function(n,r,i){const s=ce(n);return s.sa(),new TH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:MH.bind(null,t),r_:VH.bind(null,t),ta:LH.bind(null,t),na:NH.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await fg(t)):(await t.fa.stop(),t.Ta.length>0&&(G(ca,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new QS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function JS(t,e){if(ji("AsyncQueue",`${e}: ${t}`),su(t))return new W(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{static emptySet(e){return new xl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=sc(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.ga=new nt(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Kl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Kl(e,n,xl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&og(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class UH{constructor(){this.queries=yI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ce(n),s=i.queries;i.queries=yI(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new W(B.ABORTED,"Firestore shutting down"))}}function yI(){return new Sa(t=>pD(t),og)}async function XD(t,e){const n=ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new BH,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=JS(o,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&ZS(n)}async function YD(t,e){const n=ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jH(t,e){const n=ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&ZS(n)}function $H(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function ZS(t){t.Ca.forEach(e=>{e.next()})}var fw,vI;(vI=fw||(fw={})).Ma="default",vI.Cache="cache";class QD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.key=e}}class ZD{constructor(e){this.key=e}}class zH{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Se(),this.mutatedKeys=Se(),this.eu=mD(e),this.tu=new xl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new gI,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),p=ag(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;f&&p?f.data.isEqual(p.data)?g!==E&&(r.track({type:3,doc:p}),b=!0):this.su(f,p)||(r.track({type:2,doc:p}),b=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),b=!0):f&&!p&&(r.track({type:1,doc:f}),b=!0,(l||u)&&(a=!0)),b&&(p?(o=o.add(p),s=E?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,d)=>function(p,g){const E=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:b})}};return E(p)-E(g)}(h.type,d.type)||this.eu(h.doc,d.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Kl(this.query,e.tu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Se(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new ZD(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new JD(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Se();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const eE="SyncEngine";class WH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HH{constructor(e){this.key=e,this.hu=!1}}class qH{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Sa(a=>pD(a),og),this.Iu=new Map,this.Eu=new Set,this.du=new nt(te.comparator),this.Au=new Map,this.Ru=new zS,this.Vu={},this.mu=new Map,this.fu=ql.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KH(t,e,n=!0){const r=sM(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await eM(r,e,n,!0),i}async function GH(t,e){const n=sM(t);await eM(n,e,!0,!1)}async function eM(t,e,n,r){const i=await pH(t.localStore,ti(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await XH(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&zD(t.remoteStore,i),a}async function XH(t,e,n,r,i){t.pu=(d,f,p)=>async function(E,b,w,v){let S=b.view.ru(w);S.Cs&&(S=await cI(E.localStore,b.query,!1).then(({documents:T})=>b.view.ru(T,S)));const x=v&&v.targetChanges.get(b.targetId),D=v&&v.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(S,E.isPrimaryClient,x,D);return wI(E,b.targetId,O.au),O.snapshot}(t,d,f,p);const s=await cI(t.localStore,e,!0),o=new zH(e,s.Qs),a=o.ru(s.documents),l=Wh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);wI(t,n,u.au);const h=new WH(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function YH(t,e,n){const r=ce(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!og(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&KS(r.remoteStore,i.targetId),pw(r,i.targetId)}).catch(iu)):(pw(r,i.targetId),await hw(r.localStore,i.targetId,!0))}async function QH(t,e){const n=ce(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),KS(n.remoteStore,r.targetId))}async function JH(t,e,n){const r=sq(t);try{const i=await function(o,a){const l=ce(o),u=We.now(),h=a.reduce((p,g)=>p.add(g.key),Se());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=zi(),E=Se();return l.Ns.getEntries(p,h).next(b=>{g=b,g.forEach((w,v)=>{v.isValidDocument()||(E=E.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(b=>{d=b;const w=[];for(const v of a){const S=p8(v,d.get(v.key).overlayedDocument);S!=null&&w.push(new ho(v.key,S,aD(S.value.mapValue),xr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,a)}).next(b=>{f=b;const w=b.applyToLocalDocumentSet(d,E);return l.documentOverlayCache.saveOverlays(p,b.batchId,w)})}).then(()=>({batchId:f.batchId,changes:yD(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new nt(we)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await qh(r,i.changes),await fg(r.remoteStore)}catch(i){const s=JS(i,"Failed to persist write");n.reject(s)}}async function tM(t,e){const n=ce(t);try{const r=await hH(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Oe(o.hu,14607):i.removedDocuments.size>0&&(Oe(o.hu,42227),o.hu=!1))}),await qh(n,r,e)}catch(r){await iu(r)}}function _I(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ce(o);l.onlineState=a;let u=!1;l.queries.forEach((h,d)=>{for(const f of d.Sa)f.va(a)&&(u=!0)}),u&&ZS(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZH(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new nt(te.comparator);o=o.insert(s,Jt.newNoDocument(s,ue.min()));const a=Se().add(s),l=new cg(ue.min(),new Map,new nt(we),o,a);await tM(r,l),r.du=r.du.remove(s),r.Au.delete(e),tE(r)}else await hw(r.localStore,e,!1).then(()=>pw(r,e,n)).catch(iu)}async function eq(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await cH(n.localStore,e);rM(n,r,null),nM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qh(n,i)}catch(i){await iu(i)}}async function tq(t,e,n){const r=ce(t);try{const i=await function(o,a){const l=ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Oe(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);rM(r,e,n),nM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qh(r,i)}catch(i){await iu(i)}}function nM(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function rM(t,e,n){const r=ce(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function pw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||iM(t,r)})}function iM(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(KS(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),tE(t))}function wI(t,e,n){for(const r of n)r instanceof JD?(t.Ru.addReference(r.key,e),nq(t,r)):r instanceof ZD?(G(eE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||iM(t,r.key)):se(19791,{wu:r})}function nq(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(eE,"New document in limbo: "+n),t.Eu.add(r),tE(t))}function tE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(Be.fromString(e)),r=t.fu.next();t.Au.set(r,new HH(n)),t.du=t.du.insert(n,r),zD(t.remoteStore,new Ns(ti(NS(n.path)),r,"TargetPurposeLimboResolution",ng.ce))}}async function qh(t,e,n){const r=ce(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=HS.As(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,u){const h=ce(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>U.forEach(u,f=>U.forEach(f.Es,p=>h.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>U.forEach(f.ds,p=>h.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!su(d))throw d;G(qS,"Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const p=h.Ms.get(f),g=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(g);h.Ms=h.Ms.insert(f,E)}}}(r.localStore,s))}async function rq(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){G(eE,"User change. New user:",e.toKey());const r=await BD(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new W(B.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qh(n,r.Ls)}}function iq(t,e){const n=ce(t),r=n.Au.get(e);if(r&&r.hu)return Se().add(r.key);{let i=Se();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function sM(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZH.bind(null,e),e.Pu.H_=jH.bind(null,e.eventManager),e.Pu.yu=$H.bind(null,e.eventManager),e}function sq(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tq.bind(null,e),e}class nm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return uH(this.persistence,new oH,e.initialUser,this.serializer)}Cu(e){return new FD(WS.mi,this.serializer)}Du(e){return new gH}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nm.provider={build:()=>new nm};class oq extends nm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Oe(this.persistence.referenceDelegate instanceof em,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new H8(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new FD(r=>em.mi(r,n),this.serializer)}}class mw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_I(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rq.bind(null,this.syncEngine),await FH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UH}()}createDatastore(e){const n=hg(e.databaseInfo.databaseId),r=function(s){return new SH(s)}(e.databaseInfo);return function(s,o,a,l){return new RH(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new IH(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_I(this.syncEngine,n,0),function(){return fI.v()?new fI:new yH}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,h){const d=new qH(i,s,o,a,l,u);return h&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ce(i);G(ca,"RemoteStore shutting down."),s.Ea.add(5),await Hh(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}mw.provider={build:()=>new mw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="FirestoreClient";class aq{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mn.UNAUTHENTICATED,this.clientId=kS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{G(ro,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(ro,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=JS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Xy(t,e){t.asyncQueue.verifyOperationInProgress(),G(ro,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await BD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function SI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lq(t);G(ro,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mI(e.remoteStore,i)),t._onlineComponents=e}async function lq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(ro,"Using user provided OfflineComponentProvider");try{await Xy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ph("Error using user provided cache. Falling back to memory cache: "+n),await Xy(t,new nm)}}else G(ro,"Using default OfflineComponentProvider"),await Xy(t,new oq(void 0));return t._offlineComponents}async function aM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(ro,"Using user provided OnlineComponentProvider"),await SI(t,t._uninitializedComponentsProvider._online)):(G(ro,"Using default OnlineComponentProvider"),await SI(t,new mw))),t._onlineComponents}function uq(t){return aM(t).then(e=>e.syncEngine)}async function lM(t){const e=await aM(t),n=e.eventManager;return n.onListen=KH.bind(null,e.syncEngine),n.onUnlisten=YH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QH.bind(null,e.syncEngine),n}function cq(t,e,n={}){const r=new Di;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new oM({next:f=>{h.Nu(),o.enqueueAndForget(()=>YD(s,d));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new W(B.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new W(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new QD(NS(a.path),h,{includeMetadataChanges:!0,qa:!0});return XD(s,d)}(await lM(t),t.asyncQueue,e,n,r)),r.promise}function hq(t,e,n={}){const r=new Di;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new oM({next:f=>{h.Nu(),o.enqueueAndForget(()=>YD(s,d)),f.fromCache&&l.source==="server"?u.reject(new W(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new QD(a,h,{includeMetadataChanges:!0,qa:!0});return XD(s,d)}(await lM(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq="firestore.googleapis.com",TI=!0;class bI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new W(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dq,this.ssl=TI}else this.host=e.host,this.ssl=e.ssl??TI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ND;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VD)throw new W(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uM(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new W(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new W(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new W(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vW;switch(r.type){case"firstParty":return new SW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=EI.get(n);r&&(G("ComponentProvider","Removing Datastore"),EI.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if($h(n,ft._jsonSchema))return new ft(e,r||null,new te(Be.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:vt("string",ft._jsonSchemaVersion),referencePath:vt("string")};class Gs extends Yi{constructor(e,n,r){super(e,n,NS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new te(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function rE(t,e,...n){if(t=tt(t),YO("collection","path",e),t instanceof nE){const r=Be.fromString(e,...n);return FC(r),new Gs(t,null,r)}{if(!(t instanceof ft||t instanceof Gs))throw new W(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return FC(r),new Gs(t.firestore,null,r)}}function au(t,e,...n){if(t=tt(t),arguments.length===1&&(e=kS.newId()),YO("doc","path",e),t instanceof nE){const r=Be.fromString(e,...n);return VC(r),new ft(t,null,new te(r))}{if(!(t instanceof ft||t instanceof Gs))throw new W(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return VC(r),new ft(t.firestore,t instanceof Gs?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="AsyncQueue";class CI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jD(this,"async_queue_retry"),this._c=()=>{const r=Gy();r&&G(RI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Gy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Di;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!su(e))throw e;G(RI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ji("INTERNAL UNHANDLED ERROR: ",II(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=QS.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&se(47125,{Pc:II(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function II(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class lu extends nE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new CI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CI(e),this._firestoreClient=void 0,await e}}}function fq(t,e,n){n||(n=Kp);const r=eg(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(aa(s,e))return i;throw new W(B.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new W(B.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VD)throw new W(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&uo(e.host)&&IS(e.host),r.initialize({options:e,instanceIdentifier:n})}function iE(t){if(t._terminated)throw new W(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pq(t),t._firestoreClient}function pq(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,u,h){return new BW(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,uM(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new aq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(Ht.fromBase64String(e))}catch(n){throw new W(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jn(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($h(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:vt("string",Jn._jsonSchemaVersion),bytes:vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if($h(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:vt("string",ri._jsonSchemaVersion),latitude:vt("number"),longitude:vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($h(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ii(e.vectorValues);throw new W(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:vt("string",ii._jsonSchemaVersion),vectorValues:vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq=/^__.*__$/;class gq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ho(e,this.data,this.fieldMask,n,this.fieldTransforms):new zh(e,this.data,n,this.fieldTransforms)}}class cM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ho(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:t})}}class oE{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new oE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hM(this.Ac)&&mq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hg(e)}Cc(e,n,r,i=!1){return new oE({Ac:e,methodName:n,Dc:r,path:$t.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mg(t){const e=t._freezeSettings(),n=hg(t._databaseId);return new yq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vq(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);aE("Data must be an object, but it was:",o,r);const a=fM(r,o);let l,u;if(s.merge)l=new Fn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=gw(e,d,n);if(!o.contains(f))throw new W(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);mM(h,f)||h.push(f)}l=new Fn(h),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new gq(new _n(a),l,u)}class gg extends sE{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gg}}function _q(t,e,n,r){const i=t.Cc(1,e,n);aE("Data must be an object, but it was:",i,r);const s=[],o=_n.empty();co(r,(l,u)=>{const h=lE(e,l,n);u=tt(u);const d=i.yc(h);if(u instanceof gg)s.push(h);else{const f=Kh(u,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new Fn(s);return new cM(o,a,i.fieldTransforms)}function wq(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[gw(e,r,n)],l=[i];if(s.length%2!=0)throw new W(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(gw(e,s[f])),l.push(s[f+1]);const u=[],h=_n.empty();for(let f=a.length-1;f>=0;--f)if(!mM(u,a[f])){const p=a[f];let g=l[f];g=tt(g);const E=o.yc(p);if(g instanceof gg)u.push(p);else{const b=Kh(g,E);b!=null&&(u.push(p),h.set(p,b))}}const d=new Fn(u);return new cM(h,d,o.fieldTransforms)}function dM(t,e,n,r=!1){return Kh(n,t.Cc(r?4:3,e))}function Kh(t,e){if(pM(t=tt(t)))return aE("Unsupported field value:",e,t),fM(t,e);if(t instanceof sE)return function(r,i){if(!hM(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Kh(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return l8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=We.fromDate(r);return{timestampValue:Zp(i.serializer,s)}}if(r instanceof We){const s=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zp(i.serializer,s)}}if(r instanceof ri)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jn)return{bytesValue:AD(i.serializer,r._byteString)};if(r instanceof ft){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$S(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ii)return function(o,a){return{mapValue:{fields:{[sD]:{stringValue:oD},[Gp]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return FS(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${tg(r)}`)}(t,e)}function fM(t,e){const n={};return ZO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(t,(r,i)=>{const s=Kh(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function pM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof ri||t instanceof Jn||t instanceof ft||t instanceof sE||t instanceof ii)}function aE(t,e,n){if(!pM(n)||!QO(n)){const r=tg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function gw(t,e,n){if((e=tt(e))instanceof pg)return e._internalPath;if(typeof e=="string")return lE(t,e);throw rm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Sq=new RegExp("[~\\*/\\[\\]]");function lE(t,e,n){if(e.search(Sq)>=0)throw rm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pg(...e.split("."))._internalPath}catch{throw rm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new W(B.INVALID_ARGUMENT,a+t+l)}function mM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Eq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Eq extends uE{data(){return super.data()}}function cE(t,e){return typeof e=="string"?lE(t,e):e instanceof pg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hE{}class yg extends hE{}function yw(t,e,...n){let r=[];e instanceof hE&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof fE).length,a=s.filter(l=>l instanceof dE).length;if(o>1||o>0&&a>0)throw new W(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class dE extends yg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dE(e,n,r)}_apply(e){const n=this._parse(e);return gM(e._query,n),new Yi(e.firestore,e.converter,ow(e._query,n))}_parse(e){const n=mg(e.firestore);return function(s,o,a,l,u,h,d){let f;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new W(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){kI(d,h);const g=[];for(const E of d)g.push(PI(l,s,E));f={arrayValue:{values:g}}}else f=PI(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||kI(d,h),f=dM(a,o,d,h==="in"||h==="not-in");return yt.create(u,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class fE extends hE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)gM(o,l),o=ow(o,l)}(e._query,n),new Yi(e.firestore,e.converter,ow(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pE extends yg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pE(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new W(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new W(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _h(s,o)}(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new wa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function xI(t,e="asc"){const n=e,r=cE("orderBy",t);return pE._create(r,n)}class mE extends yg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new mE(e,n,r)}_apply(e){return new Yi(e.firestore,e.converter,Yp(e._query,this._limit,this._limitType))}}function AI(t){return xW("limit",t),mE._create("limit",t,"F")}class gE extends yg{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new gE(e,n,r)}_apply(e){const n=Rq(e,this.type,this._docOrFields,this._inclusive);return new Yi(e.firestore,e.converter,function(i,s){return new wa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function bq(...t){return gE._create("startAfter",t,!1)}function Rq(t,e,n,r){if(n[0]=tt(n[0]),n[0]instanceof uE)return function(s,o,a,l,u){if(!l)throw new W(B.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const d of Il(s))if(d.field.isKeyField())h.push(Xp(o,l.key));else{const f=l.data.field(d.field);if(ig(f))throw new W(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=d.field.canonicalString();throw new W(B.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}h.push(f)}return new Hl(h,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=mg(t.firestore);return function(o,a,l,u,h,d){const f=o.explicitOrderBy;if(h.length>f.length)throw new W(B.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<h.length;g++){const E=h[g];if(f[g].field.isKeyField()){if(typeof E!="string")throw new W(B.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof E}`);if(!VS(o)&&E.indexOf("/")!==-1)throw new W(B.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${E}' contains a slash.`);const b=o.path.child(Be.fromString(E));if(!te.isDocumentKey(b))throw new W(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const w=new te(b);p.push(Xp(a,w))}else{const b=dM(l,u,E);p.push(b)}}return new Hl(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function PI(t,e,n){if(typeof(n=tt(n))=="string"){if(n==="")throw new W(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VS(e)&&n.indexOf("/")!==-1)throw new W(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Be.fromString(n));if(!te.isDocumentKey(r))throw new W(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xp(t,new te(r))}if(n instanceof ft)return Xp(t,n._key);throw new W(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tg(n)}.`)}function kI(t,e){if(!Array.isArray(t)||t.length===0)throw new W(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gM(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Cq{convertValue(e,n="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return co(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Gp].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>ct(o.doubleValue));return new ii(n)}convertGeoPoint(e){return new ri(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gh(e));default:return null}}convertTimestamp(e){const n=Zs(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);Oe(LD(r),9688,{name:e});const i=new yh(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||ji(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jo extends uE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new W(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Jo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Jo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jo._jsonSchema={type:vt("string",Jo._jsonSchemaVersion),bundleSource:vt("string","DocumentSnapshot"),bundleName:vt("string"),bundle:vt("string")};class Hf extends Jo{data(e={}){return super.data(e)}}class Al{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ac(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hf(this._firestore,this._userDataWriter,r.key,r,new ac(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Hf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ac(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Hf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ac(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:xq(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new W(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Al._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(t){t=$i(t,ft);const e=$i(t.firestore,lu);return cq(iE(e),t._key).then(n=>Oq(e,t,n))}Al._jsonSchemaVersion="firestore/querySnapshot/1.0",Al._jsonSchema={type:vt("string",Al._jsonSchemaVersion),bundleSource:vt("string","QuerySnapshot"),bundleName:vt("string"),bundle:vt("string")};class yM extends Cq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function vM(t){t=$i(t,Yi);const e=$i(t.firestore,lu),n=iE(e),r=new yM(e);return Tq(t._query),hq(n,t._query).then(i=>new Al(e,r,t,i))}function yE(t,e,n){t=$i(t,ft);const r=$i(t.firestore,lu),i=Iq(t.converter,e,n);return vE(r,[vq(mg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,xr.none())])}function Pq(t,e,n,...r){t=$i(t,ft);const i=$i(t.firestore,lu),s=mg(i);let o;return o=typeof(e=tt(e))=="string"||e instanceof pg?wq(s,"updateDoc",t._key,e,n,r):_q(s,"updateDoc",t._key,e),vE(i,[o.toMutation(t._key,xr.exists(!0))])}function kq(t){return vE($i(t.firestore,lu),[new BS(t._key,xr.none())])}function vE(t,e){return function(r,i){const s=new Di;return r.asyncQueue.enqueueAndForget(async()=>JH(await uq(r),i,s)),s.promise}(iE(t),e)}function Oq(t,e,n){const r=n.docs.get(e._key),i=new yM(t);return new Jo(t,i,e._key,r,new ac(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ru=i})(_a),la(new Qs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new lu(new _W(r.getProvider("auth-internal")),new EW(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new W(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yh(u.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ei(DC,MC,e),ei(DC,MC,"esm2020")})();function _M(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dq=_M,wM=new Uh("auth","Firebase",_M());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new xS("@firebase/auth");function Mq(t,...e){im.logLevel<=_e.WARN&&im.warn(`Auth (${_a}): ${t}`,...e)}function qf(t,...e){im.logLevel<=_e.ERROR&&im.error(`Auth (${_a}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,...e){throw _E(t,...e)}function si(t,...e){return _E(t,...e)}function SM(t,e,n){const r={...Dq(),[e]:n};return new Uh("auth","Firebase",r).create(e,{appName:t.name})}function Mi(t){return SM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _E(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wM.create(t,...e)}function ie(t,e,...n){if(!t)throw _E(e,...n)}function xi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qf(e),new Error(e)}function Wi(t,e){t||xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Lq(){return OI()==="http:"||OI()==="https:"}function OI(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lq()||Gz()||"connection"in navigator)?navigator.onLine:!0}function Vq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=Hz()||Xz()}get(){return Nq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t,e){Wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Uq=new Gh(3e4,6e4);function Qi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ji(t,e,n,r,i={}){return TM(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=jh({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return Kz()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&uo(t.emulatorConfig.host)&&(u.credentials="include"),EM.fetch()(await bM(t,t.config.apiHost,n,a),u)})}async function TM(t,e,n){t._canInitEmulator=!1;const r={...Fq,...e};try{const i=new $q(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw of(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw of(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw of(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw of(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw SM(t,h,u);kr(t,h)}}catch(i){if(i instanceof di)throw i;kr(t,"network-request-failed",{message:String(i)})}}async function Xh(t,e,n,r,i={}){const s=await Ji(t,e,n,r,i);return"mfaPendingCredential"in s&&kr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function bM(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?wE(t.config,i):`${t.config.apiScheme}://${i}`;return Bq.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function jq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $q{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),Uq.get())})}}function of(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=si(t,e,r);return i.customData._tokenResponse=n,i}function DI(t){return t!==void 0&&t.enterprise!==void 0}class zq{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Wq(t,e){return Ji(t,"GET","/v2/recaptchaConfig",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hq(t,e){return Ji(t,"POST","/v1/accounts:delete",e)}async function sm(t,e){return Ji(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qq(t,e=!1){const n=tt(t),r=await n.getIdToken(e),i=SE(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Lc(Yy(i.auth_time)),issuedAtTime:Lc(Yy(i.iat)),expirationTime:Lc(Yy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Yy(t){return Number(t)*1e3}function SE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qf("JWT malformed, contained fewer than 3 sections"),null;try{const i=OO(n);return i?JSON.parse(i):(qf("Failed to decode base64 JWT payload"),null)}catch(i){return qf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function MI(t){const e=SE(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof di&&Kq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Kq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Eh(t,sm(e,{idToken:n}));ie(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?RM(i.providerUserInfo):[],o=Yq(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new _w(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function Xq(t){const e=tt(t);await om(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Yq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qq(t,e){const n=await TM(t,{},async()=>{const r=jh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await bM(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&uo(t.emulatorConfig.host)&&(l.credentials="include"),EM.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Jq(t,e){return Ji(t,"POST","/v2/accounts:revokeToken",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):MI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=MI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Qq(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Pl;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pl,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class br{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Gq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _w(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Eh(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qq(this,e)}reload(){return Xq(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new br({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await om(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Mi(this.auth));const e=await this.getIdToken();return await Eh(this,Hq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:g,stsTokenManager:E}=n;ie(d&&E,e,"internal-error");const b=Pl.fromJSON(this.name,E);ie(typeof d=="string",e,"internal-error"),_s(r,e.name),_s(i,e.name),ie(typeof f=="boolean",e,"internal-error"),ie(typeof p=="boolean",e,"internal-error"),_s(s,e.name),_s(o,e.name),_s(a,e.name),_s(l,e.name),_s(u,e.name),_s(h,e.name);const w=new br({uid:d,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:b,createdAt:u,lastLoginAt:h});return g&&Array.isArray(g)&&(w.providerData=g.map(v=>({...v}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new Pl;i.updateFromServerResponse(n);const s=new br({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await om(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?RM(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Pl;a.updateFromIdToken(r);const l=new br({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _w(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new Map;function Ai(t){Wi(t instanceof Function,"Expected a class definition");let e=LI.get(t);return e?(Wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CM.type="NONE";const NI=CM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t,e,n){return`firebase:${t}:${e}:${n}`}class kl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Kf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sm(this.auth,{idToken:e}).catch(()=>{});return n?br._fromGetAccountInfoResponse(this.auth,n,e):null}return br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new kl(Ai(NI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ai(NI);const o=Kf(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let d;if(typeof h=="string"){const f=await sm(e,{idToken:h}).catch(()=>{});if(!f)break;d=await br._fromGetAccountInfoResponse(e,f,h)}else d=br._fromJSON(e,h);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new kl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new kl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OM(e))return"Blackberry";if(DM(e))return"Webos";if(xM(e))return"Safari";if((e.includes("chrome/")||AM(e))&&!e.includes("edge/"))return"Chrome";if(kM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function IM(t=nn()){return/firefox\//i.test(t)}function xM(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AM(t=nn()){return/crios\//i.test(t)}function PM(t=nn()){return/iemobile/i.test(t)}function kM(t=nn()){return/android/i.test(t)}function OM(t=nn()){return/blackberry/i.test(t)}function DM(t=nn()){return/webos/i.test(t)}function EE(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Zq(t=nn()){var e;return EE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function e7(){return Yz()&&document.documentMode===10}function MM(t=nn()){return EE(t)||kM(t)||DM(t)||OM(t)||/windows phone/i.test(t)||PM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(t,e=[]){let n;switch(t){case"Browser":n=VI(nn());break;case"Worker":n=`${VI(nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_a}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n7(t,e={}){return Ji(t,"GET","/v2/passwordPolicy",Qi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=6;class i7{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??r7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FI(this),this.idTokenSubscription=new FI(this),this.beforeStateQueue=new t7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ai(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sm(this,{idToken:e}),r=await br._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Nn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await om(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Vq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(Mi(this));const n=e?tt(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(Mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await n7(this),n=new i7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Uh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Jq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ai(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[Ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Mq(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function fo(t){return tt(t)}class FI{constructor(e){this.auth=e,this.observer=null,this.addObserver=i9(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function o7(t){vg=t}function NM(t){return vg.loadJS(t)}function a7(){return vg.recaptchaEnterpriseScript}function l7(){return vg.gapiScript}function u7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class c7{constructor(){this.enterprise=new h7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class h7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const d7="recaptcha-enterprise",VM="NO_RECAPTCHA";class f7{constructor(e){this.type=d7,this.auth=fo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Wq(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new zq(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;DI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(VM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new c7().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&DI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=a7();l.length!==0&&(l+=a),NM(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function BI(t,e,n,r=!1,i=!1){const s=new f7(t);let o;if(i)o=VM;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function am(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await BI(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await BI(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t,e){const n=eg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(aa(s,e??{}))return i;kr(i,"already-initialized")}return n.initialize({options:e})}function m7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ai);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function g7(t,e,n){const r=fo(t);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=FM(e),{host:o,port:a}=y7(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(aa(u,r.config.emulator)&&aa(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,uo(o)?(IS(`${s}//${o}${l}`),NO("Auth",!0)):v7()}function FM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function y7(t){const e=FM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:UI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:UI(o)}}}function UI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function v7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,n){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function _7(t,e){return Ji(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w7(t,e){return Xh(t,"POST","/v1/accounts:signInWithPassword",Qi(t,e))}async function S7(t,e){return Ji(t,"POST","/v1/accounts:sendOobCode",Qi(t,e))}async function E7(t,e){return S7(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T7(t,e){return Xh(t,"POST","/v1/accounts:signInWithEmailLink",Qi(t,e))}async function b7(t,e){return Xh(t,"POST","/v1/accounts:signInWithEmailLink",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends TE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Th(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Th(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return am(e,n,"signInWithPassword",w7);case"emailLink":return T7(e,{email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return am(e,r,"signUpPassword",_7);case"emailLink":return b7(e,{idToken:n,email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e){return Xh(t,"POST","/v1/accounts:signInWithIdp",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7="http://localhost";class ha extends TE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new ha(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ol(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ol(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ol(e,n)}buildRequest(){const e={requestUri:R7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I7(t){const e=nc(rc(t)).link,n=e?nc(rc(e)).deep_link_id:null,r=nc(rc(t)).deep_link_id;return(r?nc(rc(r)).link:null)||r||n||e||t}class bE{constructor(e){const n=nc(rc(e)),r=n.apiKey??null,i=n.oobCode??null,s=C7(n.mode??null);ie(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=I7(e);try{return new bE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(){this.providerId=uu.PROVIDER_ID}static credential(e,n){return Th._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=bE.parseLink(n);return ie(r,"argument-error"),Th._fromEmailAndCode(e,r.code,r.tenantId)}}uu.PROVIDER_ID="password";uu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends BM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Yh{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Yh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ps.credential(n,r)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Yh{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Yh{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Os.credential(n,r)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x7(t,e){return Xh(t,"POST","/v1/accounts:signUp",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await br._fromIdTokenResponse(e,r,i),o=jI(r);return new da({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jI(r);return new da({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm extends di{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new lm(e,n,r,i)}}function UM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lm._fromErrorAndOperation(t,s,e,r):s})}async function A7(t,e,n=!1){const r=await Eh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return da._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P7(t,e,n=!1){const{auth:r}=t;if(Nn(r.app))return Promise.reject(Mi(r));const i="reauthenticate";try{const s=await Eh(t,UM(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=SE(s.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),da._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&kr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(t,e,n=!1){if(Nn(t.app))return Promise.reject(Mi(t));const r="signIn",i=await UM(t,r,e),s=await da._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function k7(t,e){return jM(fo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(t){const e=fo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function O7(t,e,n){const r=fo(t);await am(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",E7)}async function D7(t,e,n){if(Nn(t.app))return Promise.reject(Mi(t));const r=fo(t),o=await am(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",x7).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&$M(t),l}),a=await da._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function M7(t,e,n){return Nn(t.app)?Promise.reject(Mi(t)):k7(tt(t),uu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$M(t),r})}function L7(t,e,n,r){return tt(t).onIdTokenChanged(e,n,r)}function N7(t,e,n){return tt(t).beforeAuthStateChanged(e,n)}function V7(t,e,n,r){return tt(t).onAuthStateChanged(e,n,r)}function F7(t){return tt(t).signOut()}const um="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(um,"1"),this.storage.removeItem(um),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=1e3,U7=10;class WM extends zM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);e7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,U7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},B7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WM.type="LOCAL";const j7=WM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM extends zM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}HM.type="SESSION";const qM=HM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new _g(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await $7(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_g.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=RE("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function W7(t){oi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function H7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function q7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function K7(){return KM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="firebaseLocalStorageDb",G7=1,cm="firebaseLocalStorage",XM="fbase_key";class Qh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wg(t,e){return t.transaction([cm],e?"readwrite":"readonly").objectStore(cm)}function X7(){const t=indexedDB.deleteDatabase(GM);return new Qh(t).toPromise()}function ww(){const t=indexedDB.open(GM,G7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cm,{keyPath:XM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cm)?e(r):(r.close(),await X7(),e(await ww()))})})}async function $I(t,e,n){const r=wg(t,!0).put({[XM]:e,value:n});return new Qh(r).toPromise()}async function Y7(t,e){const n=wg(t,!1).get(e),r=await new Qh(n).toPromise();return r===void 0?null:r.value}function zI(t,e){const n=wg(t,!0).delete(e);return new Qh(n).toPromise()}const Q7=800,J7=3;class YM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ww(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>J7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_g._getInstance(K7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await H7(),!this.activeServiceWorker)return;this.sender=new z7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||q7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ww();return await $I(e,um,"1"),await zI(e,um),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$I(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Y7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=wg(i,!1).getAll();return new Qh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Q7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YM.type="LOCAL";const Z7=YM;new Gh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eK(t,e){return e?Ai(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends TE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ol(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ol(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tK(t){return jM(t.auth,new CE(t),t.bypassAuthState)}function nK(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),P7(n,new CE(t),t.bypassAuthState)}async function rK(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),A7(n,new CE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tK;case"linkViaPopup":case"linkViaRedirect":return rK;case"reauthViaPopup":case"reauthViaRedirect":return nK;default:kr(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK=new Gh(2e3,1e4);class hl extends QM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,hl.currentPopupAction&&hl.currentPopupAction.cancel(),hl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=RE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iK.get())};e()}}hl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK="pendingRedirect",Gf=new Map;class oK extends QM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gf.get(this.auth._key());if(!e){try{const r=await aK(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gf.set(this.auth._key(),e)}return this.bypassAuthState||Gf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aK(t,e){const n=cK(e),r=uK(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function lK(t,e){Gf.set(t._key(),e)}function uK(t){return Ai(t._redirectPersistence)}function cK(t){return Kf(sK,t.config.apiKey,t.name)}async function hK(t,e,n=!1){if(Nn(t.app))return Promise.reject(Mi(t));const r=fo(t),i=eK(r,e),o=await new oK(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dK=10*60*1e3;class fK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pK(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JM(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(si(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dK&&this.cachedEventUids.clear(),this.cachedEventUids.has(WI(e))}saveEventToCache(e){this.cachedEventUids.add(WI(e)),this.lastProcessedEventTime=Date.now()}}function WI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mK(t,e={}){return Ji(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yK=/^https?/;async function vK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mK(t);for(const n of e)try{if(_K(n))return}catch{}kr(t,"unauthorized-domain")}function _K(t){const e=vw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yK.test(n))return!1;if(gK.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wK=new Gh(3e4,6e4);function HI(){const t=oi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SK(t){return new Promise((e,n)=>{var i,s,o;function r(){HI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HI(),n(si(t,"network-request-failed"))},timeout:wK.get()})}if((s=(i=oi().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=oi().gapi)!=null&&o.load)r();else{const a=u7("iframefcb");return oi()[a]=()=>{gapi.load?r():n(si(t,"network-request-failed"))},NM(`${l7()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Xf=null,e})}let Xf=null;function EK(t){return Xf=Xf||SK(t),Xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK=new Gh(5e3,15e3),bK="__/auth/iframe",RK="emulator/auth/iframe",CK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xK(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wE(e,RK):`https://${t.config.authDomain}/${bK}`,r={apiKey:e.apiKey,appName:t.name,v:_a},i=IK.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${jh(r).slice(1)}`}async function AK(t){const e=await EK(t),n=oi().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:xK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CK,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=si(t,"network-request-failed"),a=oi().setTimeout(()=>{s(o)},TK.get());function l(){oi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kK=500,OK=600,DK="_blank",MK="http://localhost";class qI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LK(t,e,n,r=kK,i=OK){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...PK,width:r.toString(),height:i.toString(),top:s,left:o},u=nn().toLowerCase();n&&(a=AM(u)?DK:n),IM(u)&&(e=e||MK,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(Zq(u)&&a!=="_self")return NK(e||"",a),new qI(null);const d=window.open(e||"",a,h);ie(d,t,"popup-blocked");try{d.focus()}catch{}return new qI(d)}function NK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VK="__/auth/handler",FK="emulator/auth/handler",BK=encodeURIComponent("fac");async function KI(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_a,eventId:i};if(e instanceof BM){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",r9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Yh){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${BK}=${encodeURIComponent(l)}`:"";return`${UK(t)}?${jh(a).slice(1)}${u}`}function UK({config:t}){return t.emulator?wE(t,FK):`https://${t.authDomain}/${VK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="webStorageSupport";class jK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qM,this._completeRedirectFn=hK,this._overrideRedirectResult=lK}async _openPopup(e,n,r,i){var o;Wi((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await KI(e,n,r,vw(),i);return LK(e,s,RE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await KI(e,n,r,vw(),i);return W7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Wi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AK(e),r=new fK(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qy,{type:Qy},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Qy];s!==void 0&&n(!!s),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MM()||xM()||EE()}}const $K=jK;var GI="@firebase/auth",XI="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HK(t){la(new Qs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LM(t)},u=new s7(r,i,s,l);return m7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),la(new Qs("auth-internal",e=>{const n=fo(e.getProvider("auth").getImmediate());return(r=>new zK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ei(GI,XI,WK(t)),ei(GI,XI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qK=5*60,KK=LO("authIdTokenMaxAge")||qK;let YI=null;const GK=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KK)return;const i=n==null?void 0:n.token;YI!==i&&(YI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XK(t=UO()){const e=eg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=p7(t,{popupRedirectResolver:$K,persistence:[Z7,j7,qM]}),r=LO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=GK(s.toString());N7(n,o,()=>o(n.currentUser)),L7(n,a=>o(a))}}const i=DO("auth");return i&&g7(n,`http://${i}`),n}function YK(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}o7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=si("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",YK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HK("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM="firebasestorage.googleapis.com",eL="storageBucket",QK=2*60*1e3,JK=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt extends di{constructor(e,n,r=0){super(Jy(e),`Firebase Storage: ${n} (${Jy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var at;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(at||(at={}));function Jy(t){return"storage/"+t}function IE(){const t="An unknown error occurred, please check the error payload for server response.";return new lt(at.UNKNOWN,t)}function ZK(t){return new lt(at.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function eG(t){return new lt(at.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function tG(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new lt(at.UNAUTHENTICATED,t)}function nG(){return new lt(at.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rG(t){return new lt(at.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function iG(){return new lt(at.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sG(){return new lt(at.CANCELED,"User canceled the upload/download.")}function oG(t){return new lt(at.INVALID_URL,"Invalid URL '"+t+"'.")}function aG(t){return new lt(at.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function lG(){return new lt(at.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+eL+"' property when initializing the app?")}function uG(){return new lt(at.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cG(){return new lt(at.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hG(t){return new lt(at.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Sw(t){return new lt(at.INVALID_ARGUMENT,t)}function tL(){return new lt(at.APP_DELETED,"The Firebase app was deleted.")}function dG(t){return new lt(at.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Nc(t,e){return new lt(at.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ku(t){throw new lt(at.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(r.path==="")return r;throw aG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(x){x.path_=decodeURIComponent(x.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${h}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},E=n===ZM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",w=new RegExp(`^https?://${E}/${i}/${b}`,"i"),S=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let x=0;x<S.length;x++){const D=S[x],O=D.regex.exec(e);if(O){const T=O[D.indices.bucket];let y=O[D.indices.path];y||(y=""),r=new Bn(T,y),D.postModify(r);break}}if(r==null)throw oG(e);return r}}class fG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pG(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function h(...b){u||(u=!0,e.apply(null,b))}function d(b){i=setTimeout(()=>{i=null,t(p,l())},b)}function f(){s&&clearTimeout(s)}function p(b,...w){if(u){f();return}if(b){f(),h.call(null,b,...w);return}if(l()||o){f(),h.call(null,b,...w);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,d(S)}let g=!1;function E(b){g||(g=!0,f(),!u&&(i!==null?(b||(a=2),clearTimeout(i),d(0)):b||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,E(!0)},n),E}function mG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(t){return t!==void 0}function yG(t){return typeof t=="object"&&!Array.isArray(t)}function xE(t){return typeof t=="string"||t instanceof String}function QI(t){return AE()&&t instanceof Blob}function AE(){return typeof Blob<"u"}function JI(t,e,n,r){if(r<e)throw Sw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Sw(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function nL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Zo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Zo||(Zo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vG(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(e,n,r,i,s,o,a,l,u,h,d,f=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=d,this.retry=f,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,E)=>{this.resolve_=g,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new af(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Zo.NO_ERROR,l=s.getStatus();if(!a||vG(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===Zo.ABORT;r(!1,new af(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new af(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());gG(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=IE();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?tL():sG();o(l)}else{const l=iG();o(l)}};this.canceled_?n(!1,new af(!1,null,!0)):this.backoffId_=pG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class af{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function wG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function SG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function EG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function TG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function bG(t,e,n,r,i,s,o=!0,a=!1){const l=nL(t.urlParams),u=t.url+l,h=Object.assign({},t.headers);return EG(h,e),wG(h,n),SG(h,s),TG(h,r),new _G(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function CG(...t){const e=RG();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(AE())return new Blob(t);throw new lt(at.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function IG(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xG(t){if(typeof atob>"u")throw hG("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Zy{constructor(e,n){this.data=e,this.contentType=n||null}}function rL(t,e){switch(t){case Rr.RAW:return new Zy(iL(e));case Rr.BASE64:case Rr.BASE64URL:return new Zy(sL(t,e));case Rr.DATA_URL:return new Zy(PG(e),kG(e))}throw IE()}function iL(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function AG(t){let e;try{e=decodeURIComponent(t)}catch{throw Nc(Rr.DATA_URL,"Malformed data URL.")}return iL(e)}function sL(t,e){switch(t){case Rr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Nc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Rr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Nc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=xG(e)}catch(i){throw i.message.includes("polyfill")?i:Nc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class oL{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Nc(Rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=OG(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function PG(t){const e=new oL(t);return e.base64?sL(Rr.BASE64,e.rest):AG(e.rest)}function kG(t){return new oL(t).contentType}function OG(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){let r=0,i="";QI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(QI(this.data_)){const r=this.data_,i=IG(r,e,n);return i===null?null:new Ds(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ds(r,!0)}}static getBlob(...e){if(AE()){const n=e.map(r=>r instanceof Ds?r.data_:r);return new Ds(CG.apply(null,n))}else{const n=e.map(o=>xE(o)?rL(Rr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ds(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){let e;try{e=JSON.parse(t)}catch{return null}return yG(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function MG(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function lL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LG(t,e){return e}class sn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||LG}}let lf=null;function NG(t){return!xE(t)||t.length<2?t:lL(t)}function uL(){if(lf)return lf;const t=[];t.push(new sn("bucket")),t.push(new sn("generation")),t.push(new sn("metageneration")),t.push(new sn("name","fullPath",!0));function e(s,o){return NG(o)}const n=new sn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new sn("size");return i.xform=r,t.push(i),t.push(new sn("timeCreated")),t.push(new sn("updated")),t.push(new sn("md5Hash",null,!0)),t.push(new sn("cacheControl",null,!0)),t.push(new sn("contentDisposition",null,!0)),t.push(new sn("contentEncoding",null,!0)),t.push(new sn("contentLanguage",null,!0)),t.push(new sn("contentType",null,!0)),t.push(new sn("metadata","customMetadata",!0)),lf=t,lf}function VG(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Bn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function FG(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return VG(r,t),r}function cL(t,e,n){const r=aL(e);return r===null?null:FG(t,r,n)}function BG(t,e,n,r){const i=aL(e);if(i===null||!xE(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const h=t.bucket,d=t.fullPath,f="/b/"+o(h)+"/o/"+o(d),p=PE(f,n,r),g=nL({alt:"media",token:u});return p+g})[0]}function UG(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class hL{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t){if(!t)throw IE()}function jG(t,e){function n(r,i){const s=cL(t,i,e);return dL(s!==null),s}return n}function $G(t,e){function n(r,i){const s=cL(t,i,e);return dL(s!==null),BG(s,i,t.host,t._protocol)}return n}function fL(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=nG():i=tG():n.getStatus()===402?i=eG(t.bucket):n.getStatus()===403?i=rG(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function zG(t){const e=fL(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=ZK(t.path)),s.serverResponse=i.serverResponse,s}return n}function WG(t,e,n){const r=e.fullServerUrl(),i=PE(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new hL(i,s,$G(t,n),o);return a.errorHandler=zG(e),a}function HG(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function qG(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=HG(null,e)),r}function KG(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let x=0;x<2;x++)S=S+Math.random().toString().slice(2);return S}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=qG(e,r,i),h=UG(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Ds.getBlob(d,r,f);if(p===null)throw uG();const g={name:u.fullPath},E=PE(s,t.host,t._protocol),b="POST",w=t.maxUploadRetryTime,v=new hL(E,b,jG(t,n),w);return v.urlParams=g,v.headers=o,v.body=p.uploadData(),v.errorHandler=fL(e),v}class GG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Ku("cannot .send() more than once");if(uo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ku("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ku("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ku("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ku("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class XG extends GG{initXhr(){this.xhr_.responseType="text"}}function pL(){return new XG}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this._service=e,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new fa(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lL(this._location.path)}get storage(){return this._service}get parent(){const e=DG(this._location.path);if(e===null)return null;const n=new Bn(this._location.bucket,e);return new fa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw dG(e)}}function YG(t,e,n){t._throwIfRoot("uploadBytes");const r=KG(t.storage,t._location,uL(),new Ds(e,!0),n);return t.storage.makeRequestWithTokens(r,pL).then(i=>({metadata:i,ref:t}))}function QG(t,e,n=Rr.RAW,r){t._throwIfRoot("uploadString");const i=rL(n,e),s={...r};return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),YG(t,i.data,s)}function JG(t){t._throwIfRoot("getDownloadURL");const e=WG(t.storage,t._location,uL());return t.storage.makeRequestWithTokens(e,pL).then(n=>{if(n===null)throw cG();return n})}function ZG(t,e){const n=MG(t._location.path,e),r=new Bn(t._location.bucket,n);return new fa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eX(t){return/^[A-Za-z]+:\/\//.test(t)}function tX(t,e){return new fa(t,e)}function mL(t,e){if(t instanceof kE){const n=t;if(n._bucket==null)throw lG();const r=new fa(n,n._bucket);return e!=null?mL(r,e):r}else return e!==void 0?ZG(t,e):t}function nX(t,e){if(e&&eX(e)){if(t instanceof kE)return tX(t,e);throw Sw("To use ref(service, url), the first argument must be a Storage instance.")}else return mL(t,e)}function ZI(t,e){const n=e==null?void 0:e[eL];return n==null?null:Bn.makeFromBucketSpec(n,t)}function rX(t,e,n,r={}){t.host=`${e}:${n}`;const i=uo(e);i&&(IS(`https://${t.host}/b`),NO("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:$z(s,t.app.options.projectId))}class kE{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=ZM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QK,this._maxUploadRetryTime=JK,this._requests=new Set,i!=null?this._bucket=Bn.makeFromBucketSpec(i,this._host):this._bucket=ZI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=ZI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){JI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){JI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fa(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new fG(tL());{const o=bG(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const ex="@firebase/storage",tx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="storage";function iX(t,e,n,r){return t=tt(t),QG(t,e,n,r)}function sX(t){return t=tt(t),JG(t)}function oX(t,e){return t=tt(t),nX(t,e)}function aX(t=UO(),e){t=tt(t);const r=eg(t,gL).getImmediate({identifier:e}),i=Uz("storage");return i&&lX(r,...i),r}function lX(t,e,n,r={}){rX(t,e,n,r)}function uX(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new kE(n,r,i,e,_a)}function cX(){la(new Qs(gL,uX,"PUBLIC").setMultipleInstances(!0)),ei(ex,tx,""),ei(ex,tx,"esm2020")}cX();const yL={apiKey:"AIzaSyBbUnVpOyU1eSSFrQi79ztijFjT0bvMosc",authDomain:"pocket-stylist-3c0fe.firebaseapp.com",projectId:"pocket-stylist-3c0fe",storageBucket:"pocket-stylist-3c0fe.firebasestorage.app",messagingSenderId:"274246899324",appId:"1:274246899324:web:845c91cdaab06299df1bf9"};yL.storageBucket||console.error("CRITICAL: VITE_FIREBASE_STORAGE_BUCKET is missing from environment variables!");const OE=BO(yL),cu=XK(OE),hX=aX(OE),po=fq(OE,{}),dX=(t,e)=>M7(cu,t,e),fX=(t,e)=>D7(cu,t,e),pX=()=>F7(cu),mX=t=>O7(cu,t),vL=R.createContext();function _L(){return R.useContext(vL)}function gX({children:t}){const[e,n]=R.useState(null),[r,i]=R.useState(!0);R.useEffect(()=>V7(cu,a=>{n(a),i(!1)}),[]);const s={currentUser:e,loading:r};return M.jsx(vL.Provider,{value:s,children:!r&&t})}const yX="Left",vX="Right",_X="Up",wX="Down",dl={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Ew={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},nx="mousemove",rx="mouseup",SX="touchend",EX="touchmove",TX="touchstart";function bX(t,e,n,r){return t>e?n>0?vX:yX:r>0?wX:_X}function ix(t,e){if(e===0)return t;const n=Math.PI/180*e,r=t[0]*Math.cos(n)+t[1]*Math.sin(n),i=t[1]*Math.cos(n)-t[0]*Math.sin(n);return[r,i]}function RX(t,e){const n=h=>{const d="touches"in h;d&&h.touches.length>1||t((f,p)=>{p.trackMouse&&!d&&(document.addEventListener(nx,r),document.addEventListener(rx,o));const{clientX:g,clientY:E}=d?h.touches[0]:h,b=ix([g,E],p.rotationAngle);return p.onTouchStartOrOnMouseDown&&p.onTouchStartOrOnMouseDown({event:h}),Object.assign(Object.assign(Object.assign({},f),Ew),{initial:b.slice(),xy:b,start:h.timeStamp||0})})},r=h=>{t((d,f)=>{const p="touches"in h;if(p&&h.touches.length>1)return d;if(h.timeStamp-d.start>f.swipeDuration)return d.swiping?Object.assign(Object.assign({},d),{swiping:!1}):d;const{clientX:g,clientY:E}=p?h.touches[0]:h,[b,w]=ix([g,E],f.rotationAngle),v=b-d.xy[0],S=w-d.xy[1],x=Math.abs(v),D=Math.abs(S),O=(h.timeStamp||0)-d.start,T=Math.sqrt(x*x+D*D)/(O||1),y=[v/(O||1),S/(O||1)],C=bX(x,D,v,S),I=typeof f.delta=="number"?f.delta:f.delta[C.toLowerCase()]||dl.delta;if(x<I&&D<I&&!d.swiping)return d;const A={absX:x,absY:D,deltaX:v,deltaY:S,dir:C,event:h,first:d.first,initial:d.initial,velocity:T,vxvy:y};A.first&&f.onSwipeStart&&f.onSwipeStart(A),f.onSwiping&&f.onSwiping(A);let L=!1;return(f.onSwiping||f.onSwiped||f[`onSwiped${C}`])&&(L=!0),L&&f.preventScrollOnSwipe&&f.trackTouch&&h.cancelable&&h.preventDefault(),Object.assign(Object.assign({},d),{first:!1,eventData:A,swiping:!0})})},i=h=>{t((d,f)=>{let p;if(d.swiping&&d.eventData){if(h.timeStamp-d.start<f.swipeDuration){p=Object.assign(Object.assign({},d.eventData),{event:h}),f.onSwiped&&f.onSwiped(p);const g=f[`onSwiped${p.dir}`];g&&g(p)}}else f.onTap&&f.onTap({event:h});return f.onTouchEndOrOnMouseUp&&f.onTouchEndOrOnMouseUp({event:h}),Object.assign(Object.assign(Object.assign({},d),Ew),{eventData:p})})},s=()=>{document.removeEventListener(nx,r),document.removeEventListener(rx,o)},o=h=>{s(),i(h)},a=(h,d)=>{let f=()=>{};if(h&&h.addEventListener){const p=Object.assign(Object.assign({},dl.touchEventOptions),d.touchEventOptions),g=[[TX,n,p],[EX,r,Object.assign(Object.assign({},p),d.preventScrollOnSwipe?{passive:!1}:{})],[SX,i,p]];g.forEach(([E,b,w])=>h.addEventListener(E,b,w)),f=()=>g.forEach(([E,b])=>h.removeEventListener(E,b))}return f},u={ref:h=>{h!==null&&t((d,f)=>{if(d.el===h)return d;const p={};return d.el&&d.el!==h&&d.cleanUpTouch&&(d.cleanUpTouch(),p.cleanUpTouch=void 0),f.trackTouch&&h&&(p.cleanUpTouch=a(h,f)),Object.assign(Object.assign(Object.assign({},d),{el:h}),p)})}};return e.trackMouse&&(u.onMouseDown=n),[u,a]}function CX(t,e,n,r){return!e.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?e.preventScrollOnSwipe!==n.preventScrollOnSwipe||e.touchEventOptions.passive!==n.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})}function IX(t){const{trackMouse:e}=t,n=R.useRef(Object.assign({},Ew)),r=R.useRef(Object.assign({},dl)),i=R.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},dl),t);let s;for(s in dl)r.current[s]===void 0&&(r.current[s]=dl[s]);const[o,a]=R.useMemo(()=>RX(l=>n.current=l(n.current,r.current),{trackMouse:e}),[e]);return n.current=CX(n.current,r.current,i.current,a),o}var wL={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},sx=ht.createContext&&ht.createContext(wL),xX=["attr","size","title"];function AX(t,e){if(t==null)return{};var n=PX(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hm(){return hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hm.apply(this,arguments)}function ox(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ox(Object(n),!0).forEach(function(r){kX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ox(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kX(t,e,n){return e=OX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OX(t){var e=DX(t,"string");return typeof e=="symbol"?e:e+""}function DX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SL(t){return t&&t.map((e,n)=>ht.createElement(e.tag,dm({key:n},e.attr),SL(e.child)))}function MX(t){return e=>ht.createElement(LX,hm({attr:dm({},t.attr)},e),SL(t.child))}function LX(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=AX(t,xX),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ht.createElement("svg",hm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:dm(dm({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ht.createElement("title",null,s),t.children)};return sx!==void 0?ht.createElement(sx.Consumer,null,n=>e(n)):e(wL)}function NX(t){return MX({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}const DE=R.createContext({});function ME(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const LE=typeof window<"u",EL=LE?R.useLayoutEffect:R.useEffect,Sg=R.createContext(null);function NE(t,e){t.indexOf(e)===-1&&t.push(e)}function VE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Hi=(t,e,n)=>n>e?e:n<t?t:n;let FE=()=>{};const qi={},TL=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function bL(t){return typeof t=="object"&&t!==null}const RL=t=>/^0[^.\s]+$/u.test(t);function BE(t){let e;return()=>(e===void 0&&(e=t()),e)}const ir=t=>t,VX=(t,e)=>n=>e(t(n)),Jh=(...t)=>t.reduce(VX),bh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class UE{constructor(){this.subscriptions=[]}add(e){return NE(this.subscriptions,e),()=>VE(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ai=t=>t*1e3,er=t=>t/1e3;function CL(t,e){return e?t*(1e3/e):0}const IL=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,FX=1e-7,BX=12;function UX(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=IL(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>FX&&++a<BX);return o}function Zh(t,e,n,r){if(t===e&&n===r)return ir;const i=s=>UX(s,0,1,t,n);return s=>s===0||s===1?s:IL(i(s),e,r)}const xL=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,AL=t=>e=>1-t(1-e),PL=Zh(.33,1.53,.69,.99),jE=AL(PL),kL=xL(jE),OL=t=>(t*=2)<1?.5*jE(t):.5*(2-Math.pow(2,-10*(t-1))),$E=t=>1-Math.sin(Math.acos(t)),DL=AL($E),ML=xL($E),jX=Zh(.42,0,1,1),$X=Zh(0,0,.58,1),LL=Zh(.42,0,.58,1),zX=t=>Array.isArray(t)&&typeof t[0]!="number",NL=t=>Array.isArray(t)&&typeof t[0]=="number",WX={linear:ir,easeIn:jX,easeInOut:LL,easeOut:$X,circIn:$E,circInOut:ML,circOut:DL,backIn:jE,backInOut:kL,backOut:PL,anticipate:OL},HX=t=>typeof t=="string",ax=t=>{if(NL(t)){FE(t.length===4);const[e,n,r,i]=t;return Zh(e,n,r,i)}else if(HX(t))return WX[t];return t},uf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function qX(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(h){o.has(h)&&(u.schedule(h),t()),h(a)}const u={schedule:(h,d=!1,f=!1)=>{const g=f&&i?n:r;return d&&o.add(h),g.has(h)||g.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,u.process(h))}};return u}const KX=40;function VL(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=uf.reduce((S,x)=>(S[x]=qX(s),S),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:h,update:d,preRender:f,render:p,postRender:g}=o,E=()=>{const S=qi.useManualTiming?i.timestamp:performance.now();n=!1,qi.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(S-i.timestamp,KX),1)),i.timestamp=S,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),h.process(i),d.process(i),f.process(i),p.process(i),g.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(E))},b=()=>{n=!0,r=!0,i.isProcessing||t(E)};return{schedule:uf.reduce((S,x)=>{const D=o[x];return S[x]=(O,T=!1,y=!1)=>(n||b(),D.schedule(O,T,y)),S},{}),cancel:S=>{for(let x=0;x<uf.length;x++)o[uf[x]].cancel(S)},state:i,steps:o}}const{schedule:Ge,cancel:io,state:Ft,steps:ev}=VL(typeof requestAnimationFrame<"u"?requestAnimationFrame:ir,!0);let Yf;function GX(){Yf=void 0}const Sn={now:()=>(Yf===void 0&&Sn.set(Ft.isProcessing||qi.useManualTiming?Ft.timestamp:performance.now()),Yf),set:t=>{Yf=t,queueMicrotask(GX)}},FL=t=>e=>typeof e=="string"&&e.startsWith(t),BL=FL("--"),XX=FL("var(--"),zE=t=>XX(t)?YX.test(t.split("/*")[0].trim()):!1,YX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Rh={...hu,transform:t=>Hi(0,1,t)},cf={...hu,default:1},Vc=t=>Math.round(t*1e5)/1e5,WE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QX(t){return t==null}const JX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,HE=(t,e)=>n=>!!(typeof n=="string"&&JX.test(n)&&n.startsWith(t)||e&&!QX(n)&&Object.prototype.hasOwnProperty.call(n,e)),UL=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(WE);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},ZX=t=>Hi(0,255,t),tv={...hu,transform:t=>Math.round(ZX(t))},qo={test:HE("rgb","red"),parse:UL("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+tv.transform(t)+", "+tv.transform(e)+", "+tv.transform(n)+", "+Vc(Rh.transform(r))+")"};function eY(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Tw={test:HE("#"),parse:eY,transform:qo.transform},ed=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ts=ed("deg"),li=ed("%"),oe=ed("px"),tY=ed("vh"),nY=ed("vw"),lx={...li,parse:t=>li.parse(t)/100,transform:t=>li.transform(t*100)},fl={test:HE("hsl","hue"),parse:UL("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+li.transform(Vc(e))+", "+li.transform(Vc(n))+", "+Vc(Rh.transform(r))+")"},mt={test:t=>qo.test(t)||Tw.test(t)||fl.test(t),parse:t=>qo.test(t)?qo.parse(t):fl.test(t)?fl.parse(t):Tw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qo.transform(t):fl.transform(t),getAnimatableNone:t=>{const e=mt.parse(t);return e.alpha=0,mt.transform(e)}},rY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iY(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(WE))==null?void 0:e.length)||0)+(((n=t.match(rY))==null?void 0:n.length)||0)>0}const jL="number",$L="color",sY="var",oY="var(",ux="${}",aY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ch(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(aY,l=>(mt.test(l)?(r.color.push(s),i.push($L),n.push(mt.parse(l))):l.startsWith(oY)?(r.var.push(s),i.push(sY),n.push(l)):(r.number.push(s),i.push(jL),n.push(parseFloat(l))),++s,ux)).split(ux);return{values:n,split:a,indexes:r,types:i}}function zL(t){return Ch(t).values}function WL(t){const{split:e,types:n}=Ch(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===jL?s+=Vc(i[o]):a===$L?s+=mt.transform(i[o]):s+=i[o]}return s}}const lY=t=>typeof t=="number"?0:mt.test(t)?mt.getAnimatableNone(t):t;function uY(t){const e=zL(t);return WL(t)(e.map(lY))}const so={test:iY,parse:zL,createTransformer:WL,getAnimatableNone:uY};function nv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function cY({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=nv(l,a,t+1/3),s=nv(l,a,t),o=nv(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function fm(t,e){return n=>n>0?e:t}const Qe=(t,e,n)=>t+(e-t)*n,rv=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},hY=[Tw,qo,fl],dY=t=>hY.find(e=>e.test(t));function cx(t){const e=dY(t);if(!e)return!1;let n=e.parse(t);return e===fl&&(n=cY(n)),n}const hx=(t,e)=>{const n=cx(t),r=cx(e);if(!n||!r)return fm(t,e);const i={...n};return s=>(i.red=rv(n.red,r.red,s),i.green=rv(n.green,r.green,s),i.blue=rv(n.blue,r.blue,s),i.alpha=Qe(n.alpha,r.alpha,s),qo.transform(i))},bw=new Set(["none","hidden"]);function fY(t,e){return bw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function pY(t,e){return n=>Qe(t,e,n)}function qE(t){return typeof t=="number"?pY:typeof t=="string"?zE(t)?fm:mt.test(t)?hx:yY:Array.isArray(t)?HL:typeof t=="object"?mt.test(t)?hx:mY:fm}function HL(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>qE(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function mY(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=qE(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function gY(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const yY=(t,e)=>{const n=so.createTransformer(e),r=Ch(t),i=Ch(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?bw.has(t)&&!i.values.length||bw.has(e)&&!r.values.length?fY(t,e):Jh(HL(gY(r,i),i.values),n):fm(t,e)};function qL(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qe(t,e,n):qE(t)(t,e)}const vY=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ge.update(e,n),stop:()=>io(e),now:()=>Ft.isProcessing?Ft.timestamp:Sn.now()}},KL=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},pm=2e4;function KE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<pm;)e+=n,r=t.next(e);return e>=pm?1/0:e}function _Y(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(KE(r),pm);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:er(i)}}const wY=5;function GL(t,e,n){const r=Math.max(e-wY,0);return CL(n-t(r),e-r)}const st={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},iv=.001;function SY({duration:t=st.duration,bounce:e=st.bounce,velocity:n=st.velocity,mass:r=st.mass}){let i,s,o=1-e;o=Hi(st.minDamping,st.maxDamping,o),t=Hi(st.minDuration,st.maxDuration,er(t)),o<1?(i=u=>{const h=u*o,d=h*t,f=h-n,p=Rw(u,o),g=Math.exp(-d);return iv-f/p*g},s=u=>{const d=u*o*t,f=d*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-d),E=Rw(Math.pow(u,2),o);return(-i(u)+iv>0?-1:1)*((f-p)*g)/E}):(i=u=>{const h=Math.exp(-u*t),d=(u-n)*t+1;return-iv+h*d},s=u=>{const h=Math.exp(-u*t),d=(n-u)*(t*t);return h*d});const a=5/t,l=TY(i,s,a);if(t=ai(t),isNaN(l))return{stiffness:st.stiffness,damping:st.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const EY=12;function TY(t,e,n){let r=n;for(let i=1;i<EY;i++)r=r-t(r)/e(r);return r}function Rw(t,e){return t*Math.sqrt(1-e*e)}const bY=["duration","bounce"],RY=["stiffness","damping","mass"];function dx(t,e){return e.some(n=>t[n]!==void 0)}function CY(t){let e={velocity:st.velocity,stiffness:st.stiffness,damping:st.damping,mass:st.mass,isResolvedFromDuration:!1,...t};if(!dx(t,RY)&&dx(t,bY))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Hi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:st.mass,stiffness:i,damping:s}}else{const n=SY(t);e={...e,...n,mass:st.mass},e.isResolvedFromDuration=!0}return e}function mm(t=st.visualDuration,e=st.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:h,duration:d,velocity:f,isResolvedFromDuration:p}=CY({...n,velocity:-er(n.velocity||0)}),g=f||0,E=u/(2*Math.sqrt(l*h)),b=o-s,w=er(Math.sqrt(l/h)),v=Math.abs(b)<5;r||(r=v?st.restSpeed.granular:st.restSpeed.default),i||(i=v?st.restDelta.granular:st.restDelta.default);let S;if(E<1){const D=Rw(w,E);S=O=>{const T=Math.exp(-E*w*O);return o-T*((g+E*w*b)/D*Math.sin(D*O)+b*Math.cos(D*O))}}else if(E===1)S=D=>o-Math.exp(-w*D)*(b+(g+w*b)*D);else{const D=w*Math.sqrt(E*E-1);S=O=>{const T=Math.exp(-E*w*O),y=Math.min(D*O,300);return o-T*((g+E*w*b)*Math.sinh(y)+D*b*Math.cosh(y))/D}}const x={calculatedDuration:p&&d||null,next:D=>{const O=S(D);if(p)a.done=D>=d;else{let T=D===0?g:0;E<1&&(T=D===0?ai(g):GL(S,D,O));const y=Math.abs(T)<=r,C=Math.abs(o-O)<=i;a.done=y&&C}return a.value=a.done?o:O,a},toString:()=>{const D=Math.min(KE(x),pm),O=KL(T=>x.next(D*T).value,D,30);return D+"ms "+O},toTransition:()=>{}};return x}mm.applyToOptions=t=>{const e=_Y(t,100,mm);return t.ease=e.ease,t.duration=ai(e.duration),t.type="keyframes",t};function Cw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const d=t[0],f={done:!1,value:d},p=y=>a!==void 0&&y<a||l!==void 0&&y>l,g=y=>a===void 0?l:l===void 0||Math.abs(a-y)<Math.abs(l-y)?a:l;let E=n*e;const b=d+E,w=o===void 0?b:o(b);w!==b&&(E=w-d);const v=y=>-E*Math.exp(-y/r),S=y=>w+v(y),x=y=>{const C=v(y),I=S(y);f.done=Math.abs(C)<=u,f.value=f.done?w:I};let D,O;const T=y=>{p(f.value)&&(D=y,O=mm({keyframes:[f.value,g(f.value)],velocity:GL(S,y,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return T(0),{calculatedDuration:null,next:y=>{let C=!1;return!O&&D===void 0&&(C=!0,x(y),T(y)),D!==void 0&&y>=D?O.next(y-D):(!C&&x(y),f)}}}function IY(t,e,n){const r=[],i=n||qi.mix||qL,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ir:e;a=Jh(l,a)}r.push(a)}return r}function xY(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(FE(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=IY(e,r,i),l=a.length,u=h=>{if(o&&h<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(h<t[d+1]);d++);const f=bh(t[d],t[d+1],h);return a[d](f)};return n?h=>u(Hi(t[0],t[s-1],h)):u}function AY(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=bh(0,e,r);t.push(Qe(n,1,i))}}function PY(t){const e=[0];return AY(e,t.length-1),e}function kY(t,e){return t.map(n=>n*e)}function OY(t,e){return t.map(()=>e||LL).splice(0,t.length-1)}function Fc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=zX(r)?r.map(ax):ax(r),s={done:!1,value:e[0]},o=kY(n&&n.length===e.length?n:PY(e),t),a=xY(o,e,{ease:Array.isArray(i)?i:OY(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const DY=t=>t!==null;function GE(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(DY),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const MY={decay:Cw,inertia:Cw,tween:Fc,keyframes:Fc,spring:mm};function XL(t){typeof t.type=="string"&&(t.type=MY[t.type])}class XE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const LY=t=>t/100;class YE extends XE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Sn.now()&&this.tick(Sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;XL(e);const{type:n=Fc,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Fc;l!==Fc&&typeof a[0]!="number"&&(this.mixKeyframes=Jh(LY,qL(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=KE(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:h,repeat:d,repeatType:f,repeatDelay:p,type:g,onUpdate:E,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let S=this.currentTime,x=r;if(d){const y=Math.min(this.currentTime,i)/a;let C=Math.floor(y),I=y%1;!I&&y>=1&&(I=1),I===1&&C--,C=Math.min(C,d+1),!!(C%2)&&(f==="reverse"?(I=1-I,p&&(I-=p/a)):f==="mirror"&&(x=o)),S=Hi(0,1,I)*a}const D=v?{done:!1,value:h[0]}:x.next(S);s&&(D.value=s(D.value));let{done:O}=D;!v&&l!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return T&&g!==Cw&&(D.value=GE(h,this.options,b,this.speed)),E&&E(D.value),T&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return er(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+er(e)}get time(){return er(this.currentTime)}set time(e){var n;e=ai(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Sn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=er(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=vY,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function NY(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ko=t=>t*180/Math.PI,Iw=t=>{const e=Ko(Math.atan2(t[1],t[0]));return xw(e)},VY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Iw,rotateZ:Iw,skewX:t=>Ko(Math.atan(t[1])),skewY:t=>Ko(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},xw=t=>(t=t%360,t<0&&(t+=360),t),fx=Iw,px=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),mx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),FY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:px,scaleY:mx,scale:t=>(px(t)+mx(t))/2,rotateX:t=>xw(Ko(Math.atan2(t[6],t[5]))),rotateY:t=>xw(Ko(Math.atan2(-t[2],t[0]))),rotateZ:fx,rotate:fx,skewX:t=>Ko(Math.atan(t[4])),skewY:t=>Ko(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Aw(t){return t.includes("scale")?1:0}function Pw(t,e){if(!t||t==="none")return Aw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=FY,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=VY,i=a}if(!i)return Aw(e);const s=r[e],o=i[1].split(",").map(UY);return typeof s=="function"?s(o):o[s]}const BY=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Pw(n,e)};function UY(t){return parseFloat(t.trim())}const du=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fu=new Set(du),gx=t=>t===hu||t===oe,jY=new Set(["x","y","z"]),$Y=du.filter(t=>!jY.has(t));function zY(t){const e=[];return $Y.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ea={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Pw(e,"x"),y:(t,{transform:e})=>Pw(e,"y")};ea.translateX=ea.x;ea.translateY=ea.y;const ta=new Set;let kw=!1,Ow=!1,Dw=!1;function YL(){if(Ow){const t=Array.from(ta).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=zY(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ow=!1,kw=!1,ta.forEach(t=>t.complete(Dw)),ta.clear()}function QL(){ta.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ow=!0)})}function WY(){Dw=!0,QL(),YL(),Dw=!1}class QE{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ta.add(this),kw||(kw=!0,Ge.read(QL),Ge.resolveKeyframes(YL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}NY(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ta.delete(this)}cancel(){this.state==="scheduled"&&(ta.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const HY=t=>t.startsWith("--");function qY(t,e,n){HY(e)?t.style.setProperty(e,n):t.style[e]=n}const KY=BE(()=>window.ScrollTimeline!==void 0),GY={};function XY(t,e){const n=BE(t);return()=>GY[e]??n()}const JL=XY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,yx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lc([0,.65,.55,1]),circOut:lc([.55,0,1,.45]),backIn:lc([.31,.01,.66,-.59]),backOut:lc([.33,1.53,.69,.99])};function ZL(t,e){if(t)return typeof t=="function"?JL()?KL(t,e):"ease-out":NL(t)?lc(t):Array.isArray(t)?t.map(n=>ZL(n,e)||yx.easeOut):yx[t]}function YY(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const h={[e]:n};l&&(h.offset=l);const d=ZL(a,i);Array.isArray(d)&&(h.easing=d);const f={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(h,f)}function eN(t){return typeof t=="function"&&"applyToOptions"in t}function QY({type:t,...e}){return eN(t)&&JL()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class JY extends XE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,FE(typeof e.type!="string");const u=QY(e);this.animation=YY(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=GE(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):qY(n,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return er(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+er(e)}get time(){return er(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ai(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&KY()?(this.animation.timeline=e,ir):n(this)}}const tN={anticipate:OL,backInOut:kL,circInOut:ML};function ZY(t){return t in tN}function eQ(t){typeof t.ease=="string"&&ZY(t.ease)&&(t.ease=tN[t.ease])}const vx=10;class tQ extends JY{constructor(e){eQ(e),XL(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new YE({...o,autoplay:!1}),l=ai(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-vx).value,a.sample(l).value,vx),a.stop()}}const _x=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(so.test(t)||t==="0")&&!t.startsWith("url("));function nQ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function rQ(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=_x(i,e),a=_x(s,e);return!o||!a?!1:nQ(t)||(n==="spring"||eN(n))&&r}function Mw(t){t.duration=0,t.type="keyframes"}const iQ=new Set(["opacity","clipPath","filter","transform"]),sQ=BE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function oQ(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return sQ()&&n&&iQ.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const aQ=40;class lQ extends XE{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:h,...d}){var g;super(),this.stop=()=>{var E,b;this._animation&&(this._animation.stop(),(E=this.stopTimeline)==null||E.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Sn.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:h,...d},p=(h==null?void 0:h.KeyframeResolver)||QE;this.keyframeResolver=new p(a,(E,b,w)=>this.onKeyframesResolved(E,b,f,!w),l,u,h),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:h}=r;this.resolvedAt=Sn.now(),rQ(e,s,o,a)||((qi.instantAnimations||!l)&&(h==null||h(GE(e,r,n))),e[0]=e[e.length-1],Mw(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>aQ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!u&&oQ(f)?new tQ({...f,element:f.motionValue.owner.current}):new YE(f);p.finished.then(()=>this.notifyFinished()).catch(ir),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),WY()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const uQ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cQ(t){const e=uQ.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function nN(t,e,n=1){const[r,i]=cQ(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return TL(o)?parseFloat(o):o}return zE(i)?nN(i,e,n+1):i}function JE(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const rN=new Set(["width","height","top","left","right","bottom",...du]),hQ={test:t=>t==="auto",parse:t=>t},iN=t=>e=>e.test(t),sN=[hu,oe,li,Ts,nY,tY,hQ],wx=t=>sN.find(iN(t));function dQ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||RL(t):!0}const fQ=new Set(["brightness","contrast","saturate","opacity"]);function pQ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(WE)||[];if(!r)return t;const i=n.replace(r,"");let s=fQ.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const mQ=/\b([a-z-]*)\(.*?\)/gu,Lw={...so,getAnimatableNone:t=>{const e=t.match(mQ);return e?e.map(pQ).join(" "):t}},Sx={...hu,transform:Math.round},gQ={rotate:Ts,rotateX:Ts,rotateY:Ts,rotateZ:Ts,scale:cf,scaleX:cf,scaleY:cf,scaleZ:cf,skew:Ts,skewX:Ts,skewY:Ts,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:Rh,originX:lx,originY:lx,originZ:oe},ZE={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,backgroundPositionX:oe,backgroundPositionY:oe,...gQ,zIndex:Sx,fillOpacity:Rh,strokeOpacity:Rh,numOctaves:Sx},yQ={...ZE,color:mt,backgroundColor:mt,outlineColor:mt,fill:mt,stroke:mt,borderColor:mt,borderTopColor:mt,borderRightColor:mt,borderBottomColor:mt,borderLeftColor:mt,filter:Lw,WebkitFilter:Lw},oN=t=>yQ[t];function aN(t,e){let n=oN(t);return n!==Lw&&(n=so),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const vQ=new Set(["auto","none","0"]);function _Q(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!vQ.has(s)&&Ch(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=aN(n,i)}class wQ extends QE{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),zE(u))){const h=nN(u,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!rN.has(r)||e.length!==2)return;const[i,s]=e,o=wx(i),a=wx(s);if(o!==a)if(gx(o)&&gx(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else ea[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||dQ(e[i]))&&r.push(i);r.length&&_Q(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ea[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=ea[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function SQ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const lN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function uN(t){return bL(t)&&"offsetHeight"in t}const Ex=30,EQ=t=>!isNaN(parseFloat(t));class TQ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Sn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Sn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=EQ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new UE);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ge.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ex)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ex);return CL(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gl(t,e){return new TQ(t,e)}const{schedule:eT}=VL(queueMicrotask,!1),vr={x:!1,y:!1};function cN(){return vr.x||vr.y}function bQ(t){return t==="x"||t==="y"?vr[t]?null:(vr[t]=!0,()=>{vr[t]=!1}):vr.x||vr.y?null:(vr.x=vr.y=!0,()=>{vr.x=vr.y=!1})}function hN(t,e){const n=SQ(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Tx(t){return!(t.pointerType==="touch"||cN())}function RQ(t,e,n={}){const[r,i,s]=hN(t,n),o=a=>{if(!Tx(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const h=d=>{Tx(d)&&(u(d),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const dN=(t,e)=>e?t===e?!0:dN(t,e.parentElement):!1,tT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,CQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IQ(t){return CQ.has(t.tagName)||t.tabIndex!==-1}const Qf=new WeakSet;function bx(t){return e=>{e.key==="Enter"&&t(e)}}function sv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const xQ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=bx(()=>{if(Qf.has(n))return;sv(n,"down");const i=bx(()=>{sv(n,"up")}),s=()=>sv(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Rx(t){return tT(t)&&!cN()}function AQ(t,e,n={}){const[r,i,s]=hN(t,n),o=a=>{const l=a.currentTarget;if(!Rx(a))return;Qf.add(l);const u=e(l,a),h=(p,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),Qf.has(l)&&Qf.delete(l),Rx(p)&&typeof u=="function"&&u(p,{success:g})},d=p=>{h(p,l===window||l===document||n.useGlobalTarget||dN(l,p.target))},f=p=>{h(p,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),uN(a)&&(a.addEventListener("focus",u=>xQ(u,i)),!IQ(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function fN(t){return bL(t)&&"ownerSVGElement"in t}function PQ(t){return fN(t)&&t.tagName==="svg"}const Zt=t=>!!(t&&t.getVelocity),kQ=[...sN,mt,so],OQ=t=>kQ.find(iN(t)),nT=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Cx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function DQ(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Cx(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Cx(t[i],null)}}}}function MQ(...t){return R.useCallback(DQ(...t),t)}class LQ extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=uN(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function NQ({children:t,isPresent:e,anchorX:n,root:r}){const i=R.useId(),s=R.useRef(null),o=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=R.useContext(nT),l=MQ(s,t==null?void 0:t.ref);return R.useInsertionEffect(()=>{const{width:u,height:h,top:d,left:f,right:p}=o.current;if(e||!s.current||!u||!h)return;const g=n==="left"?`left: ${f}`:`right: ${p}`;s.current.dataset.motionPopId=i;const E=document.createElement("style");a&&(E.nonce=a);const b=r??document.head;return b.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${g}px !important;
            top: ${d}px !important;
          }
        `),()=>{b.contains(E)&&b.removeChild(E)}},[e]),M.jsx(LQ,{isPresent:e,childRef:s,sizeRef:o,children:R.cloneElement(t,{ref:l})})}const VQ=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=ME(FQ),h=R.useId();let d=!0,f=R.useMemo(()=>(d=!1,{id:h,initial:e,isPresent:n,custom:i,onExitComplete:p=>{u.set(p,!0);for(const g of u.values())if(!g)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,r]);return s&&d&&(f={...f}),R.useMemo(()=>{u.forEach((p,g)=>u.set(g,!1))},[n]),R.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=M.jsx(NQ,{isPresent:n,anchorX:a,root:l,children:t})),M.jsx(Sg.Provider,{value:f,children:t})};function FQ(){return new Map}function pN(t=!0){const e=R.useContext(Sg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=R.useId();R.useEffect(()=>{if(t)return i(s)},[t]);const o=R.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const hf=t=>t.key||"";function Ix(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const BQ=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,h]=pN(o),d=R.useMemo(()=>Ix(t),[t]),f=o&&!u?[]:d.map(hf),p=R.useRef(!0),g=R.useRef(d),E=ME(()=>new Map),[b,w]=R.useState(d),[v,S]=R.useState(d);EL(()=>{p.current=!1,g.current=d;for(let O=0;O<v.length;O++){const T=hf(v[O]);f.includes(T)?E.delete(T):E.get(T)!==!0&&E.set(T,!1)}},[v,f.length,f.join("-")]);const x=[];if(d!==b){let O=[...d];for(let T=0;T<v.length;T++){const y=v[T],C=hf(y);f.includes(C)||(O.splice(T,0,y),x.push(y))}return s==="wait"&&x.length&&(O=x),S(Ix(O)),w(d),null}const{forceRender:D}=R.useContext(DE);return M.jsx(M.Fragment,{children:v.map(O=>{const T=hf(O),y=o&&!u?!1:d===v||f.includes(T),C=()=>{if(E.has(T))E.set(T,!0);else return;let I=!0;E.forEach(A=>{A||(I=!1)}),I&&(D==null||D(),S(g.current),o&&(h==null||h()),r&&r())};return M.jsx(VQ,{isPresent:y,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:y?void 0:C,anchorX:a,children:O},T)})})},mN=R.createContext({strict:!1}),xx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xl={};for(const t in xx)Xl[t]={isEnabled:e=>xx[t].some(n=>!!e[n])};function UQ(t){for(const e in t)Xl[e]={...Xl[e],...t[e]}}const jQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jQ.has(t)}let gN=t=>!gm(t);function $Q(t){typeof t=="function"&&(gN=e=>e.startsWith("on")?!gm(e):t(e))}try{$Q(require("@emotion/is-prop-valid").default)}catch{}function zQ(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(gN(i)||n===!0&&gm(i)||!e&&!gm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Eg=R.createContext({});function Tg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ih(t){return typeof t=="string"||Array.isArray(t)}const rT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],iT=["initial",...rT];function bg(t){return Tg(t.animate)||iT.some(e=>Ih(t[e]))}function yN(t){return!!(bg(t)||t.variants)}function WQ(t,e){if(bg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ih(n)?n:void 0,animate:Ih(r)?r:void 0}}return t.inherit!==!1?e:{}}function HQ(t){const{initial:e,animate:n}=WQ(t,R.useContext(Eg));return R.useMemo(()=>({initial:e,animate:n}),[Ax(e),Ax(n)])}function Ax(t){return Array.isArray(t)?t.join(" "):t}function Px(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(oe.test(t))t=parseFloat(t);else return t;const n=Px(t,e.target.x),r=Px(t,e.target.y);return`${n}% ${r}%`}},qQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=so.parse(t);if(i.length>5)return r;const s=so.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Qe(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}},Nw={borderRadius:{...Gu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gu,borderTopRightRadius:Gu,borderBottomLeftRadius:Gu,borderBottomRightRadius:Gu,boxShadow:qQ};function vN(t,{layout:e,layoutId:n}){return fu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Nw[t]||t==="opacity")}const KQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},GQ=du.length;function XQ(t,e,n){let r="",i=!0;for(let s=0;s<GQ;s++){const o=du[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=lN(a,ZE[o]);if(!l){i=!1;const h=KQ[o]||o;r+=`${h}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function sT(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(fu.has(l)){o=!0;continue}else if(BL(l)){i[l]=u;continue}else{const h=lN(u,ZE[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=XQ(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${u} ${h}`}}const oT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _N(t,e,n){for(const r in e)!Zt(e[r])&&!vN(r,n)&&(t[r]=e[r])}function YQ({transformTemplate:t},e){return R.useMemo(()=>{const n=oT();return sT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function QQ(t,e){const n=t.style||{},r={};return _N(r,n,t),Object.assign(r,YQ(t,e)),r}function JQ(t,e){const n={},r=QQ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const ZQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},eJ={offset:"strokeDashoffset",array:"strokeDasharray"};function tJ(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?ZQ:eJ;t[s.offset]=oe.transform(-r);const o=oe.transform(e),a=oe.transform(n);t[s.array]=`${o} ${a}`}function wN(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,h){if(sT(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&tJ(d,i,s,o,!1)}const SN=()=>({...oT(),attrs:{}}),EN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function nJ(t,e,n,r){const i=R.useMemo(()=>{const s=SN();return wN(s,e,EN(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};_N(s,t.style,t),i.style={...s,...i.style}}return i}const rJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function aT(t){return typeof t!="string"||t.includes("-")?!1:!!(rJ.indexOf(t)>-1||/[A-Z]/u.test(t))}function iJ(t,e,n,{latestValues:r},i,s=!1){const a=(aT(t)?nJ:JQ)(e,r,i,t),l=zQ(e,typeof t=="string",s),u=t!==R.Fragment?{...l,...a,ref:n}:{},{children:h}=e,d=R.useMemo(()=>Zt(h)?h.get():h,[h]);return R.createElement(t,{...u,children:d})}function kx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function lT(t,e,n,r){if(typeof e=="function"){const[i,s]=kx(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=kx(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Jf(t){return Zt(t)?t.get():t}function sJ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:oJ(n,r,i,t),renderState:e()}}function oJ(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Jf(s[f]);let{initial:o,animate:a}=t;const l=bg(t),u=yN(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;if(d&&typeof d!="boolean"&&!Tg(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const g=lT(t,f[p]);if(g){const{transitionEnd:E,transition:b,...w}=g;for(const v in w){let S=w[v];if(Array.isArray(S)){const x=h?S.length-1:0;S=S[x]}S!==null&&(i[v]=S)}for(const v in E)i[v]=E[v]}}}return i}const TN=t=>(e,n)=>{const r=R.useContext(Eg),i=R.useContext(Sg),s=()=>sJ(t,e,r,i);return n?s():ME(s)};function uT(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Zt(r[o])||e.style&&Zt(e.style[o])||vN(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const aJ=TN({scrapeMotionValuesFromProps:uT,createRenderState:oT});function bN(t,e,n){const r=uT(t,e,n);for(const i in t)if(Zt(t[i])||Zt(e[i])){const s=du.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const lJ=TN({scrapeMotionValuesFromProps:bN,createRenderState:SN}),uJ=Symbol.for("motionComponentSymbol");function pl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function cJ(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):pl(n)&&(n.current=r))},[e])}const cT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hJ="framerAppearId",RN="data-"+cT(hJ),CN=R.createContext({});function dJ(t,e,n,r,i){var E,b;const{visualElement:s}=R.useContext(Eg),o=R.useContext(mN),a=R.useContext(Sg),l=R.useContext(nT).reducedMotion,u=R.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=u.current,d=R.useContext(CN);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&fJ(u.current,n,i,d);const f=R.useRef(!1);R.useInsertionEffect(()=>{h&&f.current&&h.update(n,a)});const p=n[RN],g=R.useRef(!!p&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,p))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,p)));return EL(()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),g.current&&h.animationState&&h.animationState.animateChanges())}),R.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,p)}),g.current=!1),h.enteringChildren=void 0)}),h}function fJ(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:IN(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&pl(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:u})}function IN(t){if(t)return t.options.allowProjection!==!1?t.projection:IN(t.parent)}function ov(t,{forwardMotionProps:e=!1}={},n,r){n&&UQ(n);const i=aT(t)?lJ:aJ;function s(a,l){let u;const h={...R.useContext(nT),...a,layoutId:pJ(a)},{isStatic:d}=h,f=HQ(a),p=i(a,d);if(!d&&LE){mJ();const g=gJ(h);u=g.MeasureLayout,f.visualElement=dJ(t,p,h,r,g.ProjectionNode)}return M.jsxs(Eg.Provider,{value:f,children:[u&&f.visualElement?M.jsx(u,{visualElement:f.visualElement,...h}):null,iJ(t,a,cJ(p,f.visualElement,l),p,d,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=R.forwardRef(s);return o[uJ]=t,o}function pJ({layoutId:t}){const e=R.useContext(DE).id;return e&&t!==void 0?e+"-"+t:t}function mJ(t,e){R.useContext(mN).strict}function gJ(t){const{drag:e,layout:n}=Xl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function yJ(t,e){if(typeof Proxy>"u")return ov;const n=new Map,r=(s,o)=>ov(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,ov(o,void 0,t,e)),n.get(o))})}function xN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function vJ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _J(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function av(t){return t===void 0||t===1}function Vw({scale:t,scaleX:e,scaleY:n}){return!av(t)||!av(e)||!av(n)}function No(t){return Vw(t)||AN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function AN(t){return Ox(t.x)||Ox(t.y)}function Ox(t){return t&&t!=="0%"}function ym(t,e,n){const r=t-n,i=e*r;return n+i}function Dx(t,e,n,r,i){return i!==void 0&&(t=ym(t,i,r)),ym(t,n,r)+e}function Fw(t,e=0,n=1,r,i){t.min=Dx(t.min,e,n,r,i),t.max=Dx(t.max,e,n,r,i)}function PN(t,{x:e,y:n}){Fw(t.x,e.translate,e.scale,e.originPoint),Fw(t.y,n.translate,n.scale,n.originPoint)}const Mx=.999999999999,Lx=1.0000000000001;function wJ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&gl(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,PN(t,o)),r&&No(s.latestValues)&&gl(t,s.latestValues))}e.x<Lx&&e.x>Mx&&(e.x=1),e.y<Lx&&e.y>Mx&&(e.y=1)}function ml(t,e){t.min=t.min+e,t.max=t.max+e}function Nx(t,e,n,r,i=.5){const s=Qe(t.min,t.max,i);Fw(t,e,n,s,r)}function gl(t,e){Nx(t.x,e.x,e.scaleX,e.scale,e.originX),Nx(t.y,e.y,e.scaleY,e.scale,e.originY)}function kN(t,e){return xN(_J(t.getBoundingClientRect(),e))}function SJ(t,e,n){const r=kN(t,n),{scroll:i}=e;return i&&(ml(r.x,i.offset.x),ml(r.y,i.offset.y)),r}const Vx=()=>({translate:0,scale:1,origin:0,originPoint:0}),yl=()=>({x:Vx(),y:Vx()}),Fx=()=>({min:0,max:0}),Tt=()=>({x:Fx(),y:Fx()}),Bw={current:null},ON={current:!1};function EJ(){if(ON.current=!0,!!LE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Bw.current=t.matches;t.addEventListener("change",e),e()}else Bw.current=!1}const TJ=new WeakMap;function bJ(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Zt(i))t.addValue(r,i);else if(Zt(s))t.addValue(r,Gl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Gl(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Bx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class RJ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=QE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Sn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ge.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=bg(n),this.isVariantNode=yN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const p=d[f];l[f]!==void 0&&Zt(p)&&p.set(l[f])}}mount(e){var n;this.current=e,TJ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),ON.current||EJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bw.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),io(this.notifyUpdate),io(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=fu.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ge.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Xl){const n=Xl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Bx.length;r++){const i=Bx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=bJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Gl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(TL(r)||RL(r))?r=parseFloat(r):!OQ(r)&&so.test(n)&&(r=aN(e,n)),this.setBaseTarget(e,Zt(r)?r.get():r)),Zt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=lT(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Zt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new UE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){eT.render(this.render)}}class DN extends RJ{constructor(){super(...arguments),this.KeyframeResolver=wQ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function MN(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function CJ(t){return window.getComputedStyle(t)}class IJ extends DN{constructor(){super(...arguments),this.type="html",this.renderInstance=MN}readValueFromInstance(e,n){var r;if(fu.has(n))return(r=this.projection)!=null&&r.isProjecting?Aw(n):BY(e,n);{const i=CJ(e),s=(BL(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return kN(e,n)}build(e,n,r){sT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return uT(e,n,r)}}const LN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xJ(t,e,n,r){MN(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(LN.has(i)?i:cT(i),e.attrs[i])}class AJ extends DN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(fu.has(n)){const r=oN(n);return r&&r.default||0}return n=LN.has(n)?n:cT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return bN(e,n,r)}build(e,n,r){wN(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){xJ(e,n,r,i)}mount(e){this.isSVGTag=EN(e.tagName),super.mount(e)}}const PJ=(t,e)=>aT(t)?new AJ(e):new IJ(e,{allowProjection:t!==R.Fragment});function Dl(t,e,n){const r=t.getProps();return lT(r,e,n!==void 0?n:r.custom,t)}const Uw=t=>Array.isArray(t);function kJ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Gl(n))}function OJ(t){return Uw(t)?t[t.length-1]||0:t}function DJ(t,e){const n=Dl(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=OJ(s[o]);kJ(t,o,a)}}function MJ(t){return!!(Zt(t)&&t.add)}function jw(t,e){const n=t.getValue("willChange");if(MJ(n))return n.add(e);if(!n&&qi.WillChange){const r=new qi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function NN(t){return t.props[RN]}const LJ=t=>t!==null;function NJ(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(LJ),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const VJ={type:"spring",stiffness:500,damping:25,restSpeed:10},FJ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),BJ={type:"keyframes",duration:.8},UJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jJ=(t,{keyframes:e})=>e.length>2?BJ:fu.has(t)?t.startsWith("scale")?FJ(e[1]):VJ:UJ;function $J({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const hT=(t,e,n,r={},i,s)=>o=>{const a=JE(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ai(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};$J(a)||Object.assign(h,jJ(t,h)),h.duration&&(h.duration=ai(h.duration)),h.repeatDelay&&(h.repeatDelay=ai(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Mw(h),h.delay===0&&(d=!0)),(qi.instantAnimations||qi.skipAnimations)&&(d=!0,Mw(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const f=NJ(h.keyframes,a);if(f!==void 0){Ge.update(()=>{h.onUpdate(f),h.onComplete()});return}}return a.isSync?new YE(h):new lQ(h)};function zJ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function VN(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const d=t.getValue(h,t.latestValues[h]??null),f=a[h];if(f===void 0||u&&zJ(u,h))continue;const p={delay:n,...JE(s||{},h)},g=d.get();if(g!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===g&&!p.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const w=NN(t);if(w){const v=window.MotionHandoffAnimation(w,h,Ge);v!==null&&(p.startTime=v,E=!0)}}jw(t,h),d.start(hT(h,d,f,t.shouldReduceMotion&&rN.has(h)?{type:!1}:p,t,E));const b=d.animation;b&&l.push(b)}return o&&Promise.all(l).then(()=>{Ge.update(()=>{o&&DJ(t,o)})}),l}function FN(t,e,n,r=0,i=1){const s=Array.from(t).sort((u,h)=>u.sortNodePosition(h)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function $w(t,e,n={}){var l;const r=Dl(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(VN(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=i;return WJ(t,e,u,h,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,h]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function WJ(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push($w(l,e,{...o,delay:n+(typeof r=="function"?0:r)+FN(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function HJ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>$w(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=$w(t,e,n);else{const i=typeof e=="function"?Dl(t,e,n.custom):e;r=Promise.all(VN(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function BN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const qJ=iT.length;function UN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?UN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<qJ;n++){const r=iT[n],i=t.props[r];(Ih(i)||i===!1)&&(e[r]=i)}return e}const KJ=[...rT].reverse(),GJ=rT.length;function XJ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>HJ(t,n,r)))}function YJ(t){let e=XJ(t),n=Ux(),r=!0;const i=l=>(u,h)=>{var f;const d=Dl(t,h,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:p,transitionEnd:g,...E}=d;u={...u,...E,...g}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,h=UN(t.parent)||{},d=[],f=new Set;let p={},g=1/0;for(let b=0;b<GJ;b++){const w=KJ[b],v=n[w],S=u[w]!==void 0?u[w]:h[w],x=Ih(S),D=w===l?v.isActive:null;D===!1&&(g=b);let O=S===h[w]&&S!==u[w]&&x;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),v.protectedKeys={...p},!v.isActive&&D===null||!S&&!v.prevProp||Tg(S)||typeof S=="boolean")continue;const T=QJ(v.prevProp,S);let y=T||w===l&&v.isActive&&!O&&x||b>g&&x,C=!1;const I=Array.isArray(S)?S:[S];let A=I.reduce(i(w),{});D===!1&&(A={});const{prevResolvedValues:L={}}=v,k={...L,...A},le=be=>{y=!0,f.has(be)&&(C=!0,f.delete(be)),v.needsAnimating[be]=!0;const j=t.getValue(be);j&&(j.liveStyle=!1)};for(const be in k){const j=A[be],Y=L[be];if(p.hasOwnProperty(be))continue;let ee=!1;Uw(j)&&Uw(Y)?ee=!BN(j,Y):ee=j!==Y,ee?j!=null?le(be):f.add(be):j!==void 0&&f.has(be)?le(be):v.protectedKeys[be]=!0}v.prevProp=S,v.prevResolvedValues=A,v.isActive&&(p={...p,...A}),r&&t.blockInitialAnimation&&(y=!1);const he=O&&T;y&&(!he||C)&&d.push(...I.map(be=>{const j={type:w};if(typeof be=="string"&&r&&!he&&t.manuallyAnimateOnMount&&t.parent){const{parent:Y}=t,ee=Dl(Y,be);if(Y.enteringChildren&&ee){const{delayChildren:ye}=ee.transition||{};j.delay=FN(Y.enteringChildren,t,ye)}}return{animation:be,options:j}}))}if(f.size){const b={};if(typeof u.initial!="boolean"){const w=Dl(t,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(b.transition=w.transition)}f.forEach(w=>{const v=t.getBaseTarget(w),S=t.getValue(w);S&&(S.liveStyle=!0),b[w]=v??null}),d.push({animation:b})}let E=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(d):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Ux()}}}function QJ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!BN(e,t):!1}function Oo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ux(){return{animate:Oo(!0),whileInView:Oo(),whileHover:Oo(),whileTap:Oo(),whileDrag:Oo(),whileFocus:Oo(),exit:Oo()}}class mo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class JJ extends mo{constructor(e){super(e),e.animationState||(e.animationState=YJ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Tg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let ZJ=0;class eZ extends mo{constructor(){super(...arguments),this.id=ZJ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const tZ={animation:{Feature:JJ},exit:{Feature:eZ}};function xh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function td(t){return{point:{x:t.pageX,y:t.pageY}}}const nZ=t=>e=>tT(e)&&t(e,td(e));function Bc(t,e,n,r){return xh(t,e,nZ(n),r)}const jN=1e-4,rZ=1-jN,iZ=1+jN,$N=.01,sZ=0-$N,oZ=0+$N;function un(t){return t.max-t.min}function aZ(t,e,n){return Math.abs(t-e)<=n}function jx(t,e,n,r=.5){t.origin=r,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=un(n)/un(e),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=rZ&&t.scale<=iZ||isNaN(t.scale))&&(t.scale=1),(t.translate>=sZ&&t.translate<=oZ||isNaN(t.translate))&&(t.translate=0)}function Uc(t,e,n,r){jx(t.x,e.x,n.x,r?r.originX:void 0),jx(t.y,e.y,n.y,r?r.originY:void 0)}function $x(t,e,n){t.min=n.min+e.min,t.max=t.min+un(e)}function lZ(t,e,n){$x(t.x,e.x,n.x),$x(t.y,e.y,n.y)}function zx(t,e,n){t.min=e.min-n.min,t.max=t.min+un(e)}function vm(t,e,n){zx(t.x,e.x,n.x),zx(t.y,e.y,n.y)}function Gn(t){return[t("x"),t("y")]}const zN=({current:t})=>t?t.ownerDocument.defaultView:null,Wx=(t,e)=>Math.abs(t-e);function uZ(t,e){const n=Wx(t.x,e.x),r=Wx(t.y,e.y);return Math.sqrt(n**2+r**2)}class WN{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=uv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=uZ(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:E}=f,{timestamp:b}=Ft;this.history.push({...E,timestamp:b});const{onStart:w,onMove:v}=this.handlers;p||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=lv(p,this.transformPagePoint),Ge.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:E,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=uv(f.type==="pointercancel"?this.lastMoveEventInfo:lv(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,w),E&&E(f,w)},!tT(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=td(e),l=lv(a,this.transformPagePoint),{point:u}=l,{timestamp:h}=Ft;this.history=[{...u,timestamp:h}];const{onSessionStart:d}=n;d&&d(e,uv(l,this.history)),this.removeListeners=Jh(Bc(this.contextWindow,"pointermove",this.handlePointerMove),Bc(this.contextWindow,"pointerup",this.handlePointerUp),Bc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),io(this.updatePoint)}}function lv(t,e){return e?{point:e(t.point)}:t}function Hx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function uv({point:t},e){return{point:t,delta:Hx(t,HN(e)),offset:Hx(t,cZ(e)),velocity:hZ(e,.1)}}function cZ(t){return t[0]}function HN(t){return t[t.length-1]}function hZ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=HN(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ai(e)));)n--;if(!r)return{x:0,y:0};const s=er(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function dZ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qe(n,t,r.max):Math.min(t,n)),t}function qx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function fZ(t,{top:e,left:n,bottom:r,right:i}){return{x:qx(t.x,n,i),y:qx(t.y,e,r)}}function Kx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function pZ(t,e){return{x:Kx(t.x,e.x),y:Kx(t.y,e.y)}}function mZ(t,e){let n=.5;const r=un(t),i=un(e);return i>r?n=bh(e.min,e.max-r,t.min):r>i&&(n=bh(t.min,t.max-i,e.min)),Hi(0,1,n)}function gZ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const zw=.35;function yZ(t=zw){return t===!1?t=0:t===!0&&(t=zw),{x:Gx(t,"left","right"),y:Gx(t,"top","bottom")}}function Gx(t,e,n){return{min:Xx(t,e),max:Xx(t,n)}}function Xx(t,e){return typeof t=="number"?t:t[e]||0}const vZ=new WeakMap;class _Z{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(td(d).point)},o=(d,f)=>{const{drag:p,dragPropagation:g,onDragStart:E}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bQ(p),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gn(w=>{let v=this.getAxisMotionValue(w).get()||0;if(li.test(v)){const{projection:S}=this.visualElement;if(S&&S.layout){const x=S.layout.layoutBox[w];x&&(v=un(x)*(parseFloat(v)/100))}}this.originPoint[w]=v}),E&&Ge.postRender(()=>E(d,f)),jw(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:E,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:w}=f;if(g&&this.currentDirection===null){this.currentDirection=wZ(w),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),b&&b(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Gn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new WN(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:zN(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ge.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!df(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=dZ(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&pl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=fZ(r.layoutBox,e):this.constraints=!1,this.elastic=yZ(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Gn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=gZ(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!pl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=SJ(r,i.root,this.visualElement.getTransformPagePoint());let o=pZ(i.layout.layoutBox,s);if(n){const a=n(vJ(o));this.hasMutatedConstraints=!!a,a&&(o=xN(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Gn(h=>{if(!df(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return jw(this.visualElement,e),r.start(hT(e,r,0,n,this.visualElement,!1))}stopAnimation(){Gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Gn(n=>{const{drag:r}=this.getProps();if(!df(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Qe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!pl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Gn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=mZ({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gn(o=>{if(!df(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Qe(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;vZ.set(this.visualElement,this);const e=this.visualElement.current,n=Bc(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();pl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ge.read(r);const o=xh(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Gn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=zw,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function df(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function wZ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class SZ extends mo{constructor(e){super(e),this.removeGroupControls=ir,this.removeListeners=ir,this.controls=new _Z(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ir}unmount(){this.removeGroupControls(),this.removeListeners()}}const Yx=t=>(e,n)=>{t&&Ge.postRender(()=>t(e,n))};class EZ extends mo{constructor(){super(...arguments),this.removePointerDownListener=ir}onPointerDown(e){this.session=new WN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Yx(e),onStart:Yx(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ge.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Bc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let cv=!1;class TZ extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),cv&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Zf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,cv=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ge.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),eT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;cv=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function qN(t){const[e,n]=pN(),r=R.useContext(DE);return M.jsx(TZ,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(CN),isPresent:e,safeToRemove:n})}function bZ(t,e,n){const r=Zt(t)?t:Gl(t);return r.start(hT("",r,e,n)),r.animation}const RZ=(t,e)=>t.depth-e.depth;class CZ{constructor(){this.children=[],this.isDirty=!1}add(e){NE(this.children,e),this.isDirty=!0}remove(e){VE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(RZ),this.isDirty=!1,this.children.forEach(e)}}function IZ(t,e){const n=Sn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(io(r),t(s-e))};return Ge.setup(r,!0),()=>io(r)}const KN=["TopLeft","TopRight","BottomLeft","BottomRight"],xZ=KN.length,Qx=t=>typeof t=="string"?parseFloat(t):t,Jx=t=>typeof t=="number"||oe.test(t);function AZ(t,e,n,r,i,s){i?(t.opacity=Qe(0,n.opacity??1,PZ(r)),t.opacityExit=Qe(e.opacity??1,0,kZ(r))):s&&(t.opacity=Qe(e.opacity??1,n.opacity??1,r));for(let o=0;o<xZ;o++){const a=`border${KN[o]}Radius`;let l=Zx(e,a),u=Zx(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Jx(l)===Jx(u)?(t[a]=Math.max(Qe(Qx(l),Qx(u),r),0),(li.test(u)||li.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,r))}function Zx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const PZ=GN(0,.5,DL),kZ=GN(.5,.95,ir);function GN(t,e,n){return r=>r<t?0:r>e?1:n(bh(t,e,r))}function eA(t,e){t.min=e.min,t.max=e.max}function gr(t,e){eA(t.x,e.x),eA(t.y,e.y)}function tA(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function nA(t,e,n,r,i){return t-=e,t=ym(t,1/n,r),i!==void 0&&(t=ym(t,1/i,r)),t}function OZ(t,e=0,n=1,r=.5,i,s=t,o=t){if(li.test(e)&&(e=parseFloat(e),e=Qe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Qe(s.min,s.max,r);t===s&&(a-=e),t.min=nA(t.min,e,n,a,i),t.max=nA(t.max,e,n,a,i)}function rA(t,e,[n,r,i],s,o){OZ(t,e[n],e[r],e[i],e.scale,s,o)}const DZ=["x","scaleX","originX"],MZ=["y","scaleY","originY"];function iA(t,e,n,r){rA(t.x,e,DZ,n?n.x:void 0,r?r.x:void 0),rA(t.y,e,MZ,n?n.y:void 0,r?r.y:void 0)}function sA(t){return t.translate===0&&t.scale===1}function XN(t){return sA(t.x)&&sA(t.y)}function oA(t,e){return t.min===e.min&&t.max===e.max}function LZ(t,e){return oA(t.x,e.x)&&oA(t.y,e.y)}function aA(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function YN(t,e){return aA(t.x,e.x)&&aA(t.y,e.y)}function lA(t){return un(t.x)/un(t.y)}function uA(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class NZ{constructor(){this.members=[]}add(e){NE(this.members,e),e.scheduleRender()}remove(e){if(VE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function VZ(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:f,skewX:p,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const hv=["","X","Y","Z"],FZ=1e3;let BZ=0;function dv(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function QN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=NN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ge,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&QN(r)}function JN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=BZ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($Z),this.nodes.forEach(qZ),this.nodes.forEach(KZ),this.nodes.forEach(zZ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new CZ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new UE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=fN(o)&&!PQ(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let h,d=0;const f=()=>this.root.updateBlockedByResize=!1;Ge.read(()=>{d=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==d&&(d=p,this.root.updateBlockedByResize=!0,h&&h(),h=IZ(f,250),Zf.hasAnimatedSinceResize&&(Zf.hasAnimatedSinceResize=!1,this.nodes.forEach(dA)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||JZ,{onLayoutAnimationStart:E,onLayoutAnimationComplete:b}=u.getProps(),w=!this.targetLayout||!YN(this.targetLayout,p),v=!d&&f;if(this.options.layoutRoot||this.resumeFrom||v||d&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...JE(g,"layout"),onPlay:E,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(h,v)}else d||dA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),io(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GZ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&QN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(HZ),this.nodes.forEach(UZ),this.nodes.forEach(jZ)):this.nodes.forEach(hA),this.clearAllSnapshots();const a=Sn.now();Ft.delta=Hi(0,1e3/60,a-Ft.timestamp),Ft.timestamp=a,Ft.isProcessing=!0,ev.update.process(Ft),ev.preRender.process(Ft),ev.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WZ),this.sharedNodes.forEach(XZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!un(this.snapshot.measuredBox.x)&&!un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!XN(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||No(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),ZZ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Tt();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(eee))){const{scroll:h}=this.root;h&&(ml(a.x,h.offset.x),ml(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=Tt();if(gr(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&gr(a,o),ml(a.x,d.offset.x),ml(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Tt();gr(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&gl(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),No(h.latestValues)&&gl(l,h.latestValues)}return No(this.latestValues)&&gl(l,this.latestValues),l}removeTransform(o){const a=Tt();gr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!No(u.latestValues))continue;Vw(u.latestValues)&&u.updateSnapshot();const h=Tt(),d=u.measurePageBox();gr(h,d),iA(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return No(this.latestValues)&&iA(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!this.layout||!(h||d))return;this.resolvedRelativeTargetAt=Ft.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lZ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gr(this.target,this.layout.layoutBox),PN(this.target,this.targetDelta)):gr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Vw(this.parent.latestValues)||AN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),vm(this.relativeTargetOrigin,a,l),gr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;gr(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;wJ(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Tt());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tA(this.prevProjectionDelta.x,this.projectionDelta.x),tA(this.prevProjectionDelta.y,this.projectionDelta.y)),Uc(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!uA(this.projectionDelta.x,this.prevProjectionDelta.x)||!uA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yl(),this.projectionDelta=yl(),this.projectionDeltaWithTransform=yl()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},d=yl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Tt(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,E=p!==g,b=this.getStack(),w=!b||b.members.length<=1,v=!!(E&&!w&&this.options.crossfade===!0&&!this.path.some(QZ));this.animationProgress=0;let S;this.mixTargetDelta=x=>{const D=x/1e3;fA(d.x,o.x,D),fA(d.y,o.y,D),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vm(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YZ(this.relativeTarget,this.relativeTargetOrigin,f,D),S&&LZ(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Tt()),gr(S,this.relativeTarget)),E&&(this.animationValues=h,AZ(h,u,this.latestValues,D,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(io(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ge.update(()=>{Zf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Gl(0)),this.currentAnimation=bZ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FZ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&ZN(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Tt();const d=un(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=un(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}gr(a,l),gl(a,h),Uc(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new NZ),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&dv("z",o,u,this.animationValues);for(let h=0;h<hv.length;h++)dv(`rotate${hv[h]}`,o,u,this.animationValues),dv(`skew${hv[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Jf(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Jf(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!No(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=VZ(this.projectionDeltaWithTransform,this.treeScale,h);l&&(d=l(h,d)),o.transform=d;const{x:f,y:p}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Nw){if(h[g]===void 0)continue;const{correct:E,applyTo:b,isCSSVariable:w}=Nw[g],v=d==="none"?h[g]:E(h[g],u);if(b){const S=b.length;for(let x=0;x<S;x++)o[b[x]]=v}else w?this.options.visualElement.renderState.vars[g]=v:o[g]=v}this.options.layoutId&&(o.pointerEvents=u===this?Jf(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(cA),this.root.sharedNodes.clear()}}}function UZ(t){t.updateLayout()}function jZ(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Gn(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],p=un(f);f.min=r[d].min,f.max=f.min+p}):ZN(s,e.layoutBox,r)&&Gn(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],p=un(r[d]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=yl();Uc(a,r,e.layoutBox);const l=yl();o?Uc(l,t.applyTransform(i,!0),e.measuredBox):Uc(l,r,e.layoutBox);const u=!XN(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const g=Tt();vm(g,e.layoutBox,f.layoutBox);const E=Tt();vm(E,r,p.layoutBox),YN(g,E)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function $Z(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function zZ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function WZ(t){t.clearSnapshot()}function cA(t){t.clearMeasurements()}function hA(t){t.isLayoutDirty=!1}function HZ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function dA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function qZ(t){t.resolveTargetDelta()}function KZ(t){t.calcProjection()}function GZ(t){t.resetSkewAndRotation()}function XZ(t){t.removeLeadSnapshot()}function fA(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pA(t,e,n,r){t.min=Qe(e.min,n.min,r),t.max=Qe(e.max,n.max,r)}function YZ(t,e,n,r){pA(t.x,e.x,n.x,r),pA(t.y,e.y,n.y,r)}function QZ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const JZ={duration:.45,ease:[.4,0,.1,1]},mA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),gA=mA("applewebkit/")&&!mA("chrome/")?Math.round:ir;function yA(t){t.min=gA(t.min),t.max=gA(t.max)}function ZZ(t){yA(t.x),yA(t.y)}function ZN(t,e,n){return t==="position"||t==="preserve-aspect"&&!aZ(lA(e),lA(n),.2)}function eee(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const tee=JN({attachResizeListener:(t,e)=>xh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fv={current:void 0},e2=JN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!fv.current){const t=new tee({});t.mount(window),t.setOptions({layoutScroll:!0}),fv.current=t}return fv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),nee={pan:{Feature:EZ},drag:{Feature:SZ,ProjectionNode:e2,MeasureLayout:qN}};function vA(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Ge.postRender(()=>s(e,td(e)))}class ree extends mo{mount(){const{current:e}=this.node;e&&(this.unmount=RQ(e,(n,r)=>(vA(this.node,r,"Start"),i=>vA(this.node,i,"End"))))}unmount(){}}class iee extends mo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jh(xh(this.node.current,"focus",()=>this.onFocus()),xh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _A(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Ge.postRender(()=>s(e,td(e)))}class see extends mo{mount(){const{current:e}=this.node;e&&(this.unmount=AQ(e,(n,r)=>(_A(this.node,r,"Start"),(i,{success:s})=>_A(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ww=new WeakMap,pv=new WeakMap,oee=t=>{const e=Ww.get(t.target);e&&e(t)},aee=t=>{t.forEach(oee)};function lee({root:t,...e}){const n=t||document;pv.has(n)||pv.set(n,{});const r=pv.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(aee,{root:t,...e})),r[i]}function uee(t,e,n){const r=lee(e);return Ww.set(t,n),r.observe(t),()=>{Ww.delete(t),r.unobserve(t)}}const cee={some:0,all:1};class hee extends mo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:cee[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=u?h:d;f&&f(l)};return uee(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(dee(e,n))&&this.startObserver()}unmount(){}}function dee({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const fee={inView:{Feature:hee},tap:{Feature:see},focus:{Feature:iee},hover:{Feature:ree}},pee={layout:{ProjectionNode:e2,MeasureLayout:qN}},mee={...tZ,...fee,...nee,...pee},gee=yJ(mee,PJ),yee=""+new URL("banner-CAwNRSLn.png",import.meta.url).href,Gr={colors:{background:"#fff9ec",highlight:"#ff8e52",text:"#00202b",secondaryText:"#666666",border:"#eee"}};function vee(){return M.jsxs(K,{style:wA.container,children:[M.jsx(q,{style:wA.title,children:"Pocket Stylist"}),M.jsx(q,{children:"Welcome to your personal style assistant."})]})}const wA=Ie.create({container:{flex:1,padding:20,alignItems:"center",justifyContent:"center"},title:{fontSize:24,fontWeight:"bold",marginBottom:10}}),_ee=async(t,e)=>{const n=au(po,"users",t);await yE(n,e,{merge:!0})},wee=async t=>{const e=au(po,"users",t),n=Aq(e);return(await n).exists()?(await n).data():null},See=async(t,e)=>{console.log("addItemToDb called for user:",t);try{const n=rE(po,"users",t,"closet"),r=au(n);return console.log("Generated ID:",r.id),console.log("Writing document to Firestore (setDoc)..."),await yE(r,e),console.log("Document written successfully"),{...e,id:r.id}}catch(n){throw console.error("Error in addItemToDb:",n),n}},SA=async(t,e=null,n=12)=>{const r=rE(po,"users",t,"closet");let i;e?i=yw(r,xI("createdAt","desc"),bq(e),AI(n)):i=yw(r,xI("createdAt","desc"),AI(n));const s=await vM(i),o=s.docs.map(l=>({id:l.id,...l.data()})),a=s.docs[s.docs.length-1];return{items:o,lastVisible:a}},EA=async(t,e,n)=>{const r=au(po,"users",t,"closet",e);await Pq(r,n)},Eee=async(t,e)=>{const n=au(po,"users",t,"closet",e);await kq(n)},Tee=async(t,e,n)=>{const r=au(po,"users",t,"schedule",e);await yE(r,{date:e,...n},{merge:!0})},bee=async t=>{const e=rE(po,"users",t,"schedule"),n=yw(e),r=await vM(n),i={};return r.forEach(s=>{i[s.id]=s.data()}),i},Ree=async(t,e)=>{try{const n=`closet/${Date.now()}_${Math.random().toString(36).substring(7)}.jpg`,r=oX(hX,`users/${t}/${n}`);console.log("Starting upload via uploadString...");const i=await iX(r,e,"data_url");return console.log("Upload successful, getting URL..."),await sX(i.ref)}catch(n){throw console.error("Error uploading image to storage:",n),n}},t2=R.createContext();function Rg(){return R.useContext(t2)}function Cee({children:t}){const{currentUser:e}=_L(),[n,r]=R.useState([]),[i,s]=R.useState({}),[o,a]=R.useState(!0),[l,u]=R.useState(null),[h,d]=R.useState(!0),[f,p]=R.useState(!1);R.useEffect(()=>{e?(async()=>{try{const{items:T,lastVisible:y}=await SA(e.uid);r(T),u(y),d(!!y);const C=await bee(e.uid);s(C)}catch(T){console.error("Error fetching data:",T)}finally{a(!1)}})():(r([]),s({}),a(!1))},[e]);const D={items:n,schedule:i,loading:o,loadingMore:f,hasMore:h,loadMoreItems:async()=>{if(!(!e||!h||f)){p(!0);try{const{items:O,lastVisible:T}=await SA(e.uid,l);O.length>0?(r(y=>[...y,...O]),u(T),d(!!T)):d(!1)}catch(O){console.error("Error loading more items:",O)}finally{p(!1)}}},addItem:async O=>{if(!e)throw new Error("User not authenticated");const T=Date.now().toString(),y={...O,id:T,rating:3,wearCount:0,createdAt:new Date().toISOString()};r(C=>[y,...C]);try{let C=O.imageUri;if(O.imageUri&&O.imageUri.startsWith("data:"))try{C=await Ree(e.uid,O.imageUri)}catch(L){throw console.error("Failed to upload image to storage:",L),alert(`Failed to upload image: ${L.message}. Please check your connection.`),L}const I={...O,imageUri:C,rating:3,wearCount:0,createdAt:new Date().toISOString()},A=await See(e.uid,I);return r(L=>L.map(k=>k.id===T?A:k)),A}catch(C){throw console.error("Error adding item:",C),r(I=>I.filter(A=>A.id!==T)),C}},updateItem:async(O,T)=>{if(e){r(y=>y.map(C=>C.id===O?{...C,...T}:C));try{await EA(e.uid,O,T)}catch(y){console.error("Error updating item:",y)}}},deleteItem:async O=>{if(!e)return;const T=n.find(y=>y.id===O);r(y=>y.filter(C=>C.id!==O));try{await Eee(e.uid,O)}catch(y){console.error("Error deleting item:",y),T&&r(C=>[...C,T])}},addToSchedule:async(O,T)=>{if(e)try{await Tee(e.uid,O,T),s(y=>({...y,[O]:T}))}catch(y){console.error("Error saving schedule:",y)}},markAsWorn:async(O,T=new Date)=>{if(!e)return;const y=new Date(T).toISOString();r(C=>C.map(I=>O.includes(I.id)?{...I,lastWorn:y,wearCount:(I.wearCount||0)+1}:I));for(const C of O){const I=n.find(A=>A.id===C);I&&await EA(e.uid,C,{lastWorn:y,wearCount:(I.wearCount||0)+1})}},isItemAvailable:O=>{if(!O.lastWorn)return!0;const T=new Date(O.lastWorn),y=new Date(T);return y.setDate(T.getDate()+(O.refreshCycle||1)),new Date>=y}};return M.jsx(t2.Provider,{value:D,children:t})}const n2=2,Iee=Vp.get("window").width,xee=(Iee-40)/n2,Aee=({uri:t,style:e,alt:n})=>t&&typeof t=="string"&&t.startsWith("data:")?M.jsxs(K,{style:[e,{backgroundColor:"#f0f0f0",justifyContent:"center",alignItems:"center"}],children:[M.jsx(q,{style:{fontSize:24},children:""}),M.jsx(q,{style:{fontSize:10,textAlign:"center",color:"#666"},children:"Optimization Needed"})]}):M.jsx("div",{style:{...Ie.flatten(e),overflow:"hidden"},children:M.jsx("img",{src:t,alt:n,style:{width:"100%",height:"100%",objectFit:"cover",display:"block"},loading:"lazy",onError:i=>{i.target.onerror=null,console.warn("Image failed to load:",t)}})}),Pee=ht.memo(({item:t,onPress:e,isAvailable:n})=>M.jsx(Re,{onPress:()=>e(t),children:M.jsxs(K,{style:[fe.itemContainer,!n&&fe.unavailableItem],children:[M.jsx(Aee,{uri:t.imageUri||t.image,style:fe.image,alt:t.type}),M.jsxs(K,{style:fe.infoContainer,children:[M.jsx(q,{style:fe.itemType,children:t.type}),!n&&M.jsx(q,{style:fe.unavailableText,children:"In Wash"})]})]})}));function kee(){const{items:t,isItemAvailable:e,deleteItem:n,updateItem:r,loadMoreItems:i,hasMore:s,loadingMore:o}=Rg(),a=nu(),[l,u]=R.useState(!1),[h,d]=R.useState(!1),[f,p]=R.useState(null),g=R.useRef(null),E=R.useRef(null),b=D=>{const O=D.target.files[0];if(O){u(!1);const T=new FileReader;T.onloadend=()=>{a("/camera",{state:{image:T.result}})},T.readAsDataURL(O)}},w=D=>{p(D),d(!0)},v=()=>{confirm("Are you sure you want to delete this item?")&&(n(f.id),d(!1))},S=D=>{p(O=>({...O,rating:D})),r(f.id,{rating:D})},x=({item:D})=>M.jsx(Pee,{item:D,onPress:w,isAvailable:e(D)});return M.jsxs(K,{style:fe.container,children:[M.jsxs(K,{style:fe.header,children:[M.jsx(q,{style:fe.title,children:"Virtual Closet"}),M.jsx(Re,{style:fe.addButton,onPress:()=>u(!0),children:M.jsx(q,{style:fe.addButtonText,children:"+ Add"})}),M.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:g,style:{display:"none"},onChange:b}),M.jsx("input",{type:"file",accept:"image/*",ref:E,style:{display:"none"},onChange:b})]}),M.jsx(v6,{data:t,renderItem:x,keyExtractor:D=>D.id,numColumns:n2,contentContainerStyle:fe.listContent,ListEmptyComponent:M.jsx(q,{style:fe.emptyText,children:"No items in closet. Add some!"}),onEndReached:i,onEndReachedThreshold:.5,ListFooterComponent:o?M.jsx(q,{style:{textAlign:"center",padding:10},children:"Loading more..."}):null}),M.jsx(hh,{animationType:"fade",transparent:!0,visible:l,onRequestClose:()=>u(!1),children:M.jsxs(K,{style:fe.modalOverlay,children:[M.jsx(Re,{style:fe.modalBackdrop,onPress:()=>u(!1)}),M.jsxs(K,{style:fe.modalContent,children:[M.jsx(q,{style:fe.modalTitle,children:"Add New Item"}),M.jsx(Re,{style:fe.modalButton,onPress:()=>{u(!1),g.current.click()},children:M.jsx(q,{style:fe.modalButtonText,children:"Take Photo"})}),M.jsx(Re,{style:fe.modalButton,onPress:()=>{u(!1),E.current.click()},children:M.jsx(q,{style:fe.modalButtonText,children:"Choose from Library"})}),M.jsx(Re,{style:[fe.modalButton,fe.cancelButton],onPress:()=>u(!1),children:M.jsx(q,{style:fe.cancelButtonText,children:"Cancel"})})]})]})}),M.jsx(hh,{animationType:"slide",visible:h,onRequestClose:()=>d(!1),children:M.jsx(K,{style:fe.detailContainer,children:f&&M.jsxs(Tr,{children:[M.jsx(ui,{source:{uri:f.imageUri},style:fe.detailImage,resizeMode:"contain"}),M.jsxs(K,{style:fe.detailInfo,children:[M.jsx(q,{style:fe.detailTitle,children:f.type}),M.jsxs(q,{style:fe.detailText,children:["Color: ",f.color]}),M.jsxs(q,{style:fe.detailText,children:["Style: ",f.style]}),M.jsxs(q,{style:fe.detailText,children:["Worn: ",f.wearCount||0," times"]}),M.jsx(q,{style:fe.sectionTitle,children:"Rating"}),M.jsx(K,{style:fe.ratingContainer,children:[1,2,3,4,5].map(D=>M.jsx(Re,{onPress:()=>S(D),children:M.jsx(q,{style:[fe.star,(f.rating||0)>=D?fe.starFilled:fe.starEmpty],children:""})},D))}),M.jsx(Re,{style:fe.deleteButton,onPress:v,children:M.jsx(q,{style:fe.deleteButtonText,children:"Delete Item"})}),M.jsx(Re,{style:fe.closeDetailButton,onPress:()=>d(!1),children:M.jsx(q,{style:fe.closeDetailButtonText,children:"Close"})})]})]})})})]})}const fe=Ie.create({container:{flex:1,padding:10,backgroundColor:"#fff"},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingHorizontal:10},title:{fontSize:24,fontWeight:"bold"},addButton:{backgroundColor:"#007AFF",paddingVertical:8,paddingHorizontal:15,borderRadius:20},addButtonText:{color:"#fff",fontWeight:"bold"},listContent:{paddingBottom:20},itemContainer:{width:xee,margin:5,backgroundColor:"#f9f9f9",borderRadius:10,overflow:"hidden",elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:1.41},unavailableItem:{opacity:.5,backgroundColor:"#eee"},image:{width:"100%",height:150},infoContainer:{padding:10},itemType:{textTransform:"capitalize",fontWeight:"bold"},unavailableText:{color:"red",fontSize:12,marginTop:5},modalOverlay:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},modalBackdrop:{...Ie.absoluteFillObject},modalContent:{width:"80%",maxWidth:300,backgroundColor:"white",borderRadius:20,padding:20,alignItems:"center",elevation:5},modalTitle:{fontSize:18,fontWeight:"bold",marginBottom:20},modalButton:{width:"100%",padding:15,backgroundColor:"#f0f0f0",borderRadius:10,marginBottom:10,alignItems:"center"},modalButtonText:{fontSize:16,color:"#007AFF"},cancelButton:{backgroundColor:"transparent",marginTop:5},cancelButtonText:{fontSize:16,color:"#FF3B30",fontWeight:"bold"},detailContainer:{flex:1,backgroundColor:"#fff"},detailImage:{width:"100%",height:400,backgroundColor:"#f0f0f0"},detailInfo:{padding:20},detailTitle:{fontSize:28,fontWeight:"bold",marginBottom:10,textTransform:"capitalize"},detailText:{fontSize:16,marginBottom:5,color:"#333"},sectionTitle:{fontSize:18,fontWeight:"bold",marginTop:20,marginBottom:10},ratingContainer:{flexDirection:"row",marginBottom:20},star:{fontSize:30,marginRight:5},starFilled:{color:"#FFD700"},starEmpty:{color:"#ddd"},deleteButton:{backgroundColor:"#FF3B30",padding:15,borderRadius:10,alignItems:"center",marginTop:20},deleteButtonText:{color:"#fff",fontWeight:"bold",fontSize:16},closeDetailButton:{padding:15,alignItems:"center",marginTop:10},closeDetailButtonText:{color:"#007AFF",fontSize:16},emptyText:{textAlign:"center",marginTop:50,fontSize:18,color:"#999"}});function ae(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function V(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}let r2=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return r2=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function Hw(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const qw=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class re extends Error{}class qt extends re{constructor(e,n,r,i){super(`${qt.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.requestID=i==null?void 0:i.get("x-request-id"),this.error=n;const s=n;this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Cg({message:r,cause:qw(n)});const s=n==null?void 0:n.error;return e===400?new i2(e,s,r,i):e===401?new s2(e,s,r,i):e===403?new o2(e,s,r,i):e===404?new a2(e,s,r,i):e===409?new l2(e,s,r,i):e===422?new u2(e,s,r,i):e===429?new c2(e,s,r,i):e>=500?new h2(e,s,r,i):new qt(e,s,r,i)}}class tr extends qt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Cg extends qt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class dT extends Cg{constructor({message:e}={}){super({message:e??"Request timed out."})}}class i2 extends qt{}class s2 extends qt{}class o2 extends qt{}class a2 extends qt{}class l2 extends qt{}class u2 extends qt{}class c2 extends qt{}class h2 extends qt{}class d2 extends re{constructor(){super("Could not parse response content as the length limit was reached")}}class f2 extends re{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class uc extends Error{constructor(e){super(e)}}const Oee=/^[a-z][a-z0-9+.-]*:/i,Dee=t=>Oee.test(t);let yn=t=>(yn=Array.isArray,yn(t)),TA=yn;function p2(t){return typeof t!="object"?{}:t??{}}function Mee(t){if(!t)return!0;for(const e in t)return!1;return!0}function Lee(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function mv(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const Nee=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new re(`${t} must be an integer`);if(e<0)throw new re(`${t} must be a positive integer`);return e},Vee=t=>{try{return JSON.parse(t)}catch{return}},nd=t=>new Promise(e=>setTimeout(e,t)),Ya="6.10.0",Fee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function Bee(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Uee=()=>{var n;const t=Bee();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ya,"X-Stainless-OS":RA(Deno.build.os),"X-Stainless-Arch":bA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ya,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ya,"X-Stainless-OS":RA(globalThis.process.platform??"unknown"),"X-Stainless-Arch":bA(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=jee();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ya,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ya,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function jee(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const bA=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",RA=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let CA;const $ee=()=>CA??(CA=Uee());function zee(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function m2(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function g2(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return m2({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)==null?void 0:n.call(e))}})}function y2(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Wee(t){var r,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(r=t[Symbol.asyncIterator]()).return)==null?void 0:i.call(r));return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const Hee=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),v2="RFC3986",_2=t=>String(t),IA={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:_2},qee="RFC1738";let Kw=(t,e)=>(Kw=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Kw(t,e));const jr=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),gv=1024,Kee=(t,e,n,r,i)=>{if(t.length===0)return t;let s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let o="";for(let a=0;a<s.length;a+=gv){const l=s.length>=gv?s.slice(a,a+gv):s,u=[];for(let h=0;h<l.length;++h){let d=l.charCodeAt(h);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||i===qee&&(d===40||d===41)){u[u.length]=l.charAt(h);continue}if(d<128){u[u.length]=jr[d];continue}if(d<2048){u[u.length]=jr[192|d>>6]+jr[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=jr[224|d>>12]+jr[128|d>>6&63]+jr[128|d&63];continue}h+=1,d=65536+((d&1023)<<10|l.charCodeAt(h)&1023),u[u.length]=jr[240|d>>18]+jr[128|d>>12&63]+jr[128|d>>6&63]+jr[128|d&63]}o+=u.join("")}return o};function Gee(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function xA(t,e){if(yn(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const w2={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},S2=function(t,e){Array.prototype.push.apply(t,yn(e)?e:[e])};let AA;const Et={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Kee,encodeValuesOnly:!1,format:v2,formatter:_2,indices:!1,serializeDate(t){return(AA??(AA=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function Xee(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const yv={};function E2(t,e,n,r,i,s,o,a,l,u,h,d,f,p,g,E,b,w){let v=t,S=w,x=0,D=!1;for(;(S=S.get(yv))!==void 0&&!D;){const I=S.get(t);if(x+=1,typeof I<"u"){if(I===x)throw new RangeError("Cyclic object value");D=!0}typeof S.get(yv)>"u"&&(x=0)}if(typeof u=="function"?v=u(e,v):v instanceof Date?v=f==null?void 0:f(v):n==="comma"&&yn(v)&&(v=xA(v,function(I){return I instanceof Date?f==null?void 0:f(I):I})),v===null){if(s)return l&&!E?l(e,Et.encoder,b,"key",p):e;v=""}if(Xee(v)||Gee(v)){if(l){const I=E?e:l(e,Et.encoder,b,"key",p);return[(g==null?void 0:g(I))+"="+(g==null?void 0:g(l(v,Et.encoder,b,"value",p)))]}return[(g==null?void 0:g(e))+"="+(g==null?void 0:g(String(v)))]}const O=[];if(typeof v>"u")return O;let T;if(n==="comma"&&yn(v))E&&l&&(v=xA(v,l)),T=[{value:v.length>0?v.join(",")||null:void 0}];else if(yn(u))T=u;else{const I=Object.keys(v);T=h?I.sort(h):I}const y=a?String(e).replace(/\./g,"%2E"):String(e),C=r&&yn(v)&&v.length===1?y+"[]":y;if(i&&yn(v)&&v.length===0)return C+"[]";for(let I=0;I<T.length;++I){const A=T[I],L=typeof A=="object"&&typeof A.value<"u"?A.value:v[A];if(o&&L===null)continue;const k=d&&a?A.replace(/\./g,"%2E"):A,le=yn(v)?typeof n=="function"?n(C,k):C:C+(d?"."+k:"["+k+"]");w.set(t,x);const he=new WeakMap;he.set(yv,w),S2(O,E2(L,le,n,r,i,s,o,a,n==="comma"&&E&&yn(v)?null:l,u,h,d,f,p,g,E,b,he))}return O}function Yee(t=Et){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||Et.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=v2;if(typeof t.format<"u"){if(!Kw(IA,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=IA[n];let i=Et.filter;(typeof t.filter=="function"||yn(t.filter))&&(i=t.filter);let s;if(t.arrayFormat&&t.arrayFormat in w2?s=t.arrayFormat:"indices"in t?s=t.indices?"indices":"repeat":s=Et.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:Et.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Et.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Et.allowEmptyArrays,arrayFormat:s,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Et.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Et.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Et.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Et.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Et.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Et.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Et.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Et.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Et.strictNullHandling}}function Qee(t,e={}){let n=t;const r=Yee(e);let i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):yn(r.filter)&&(s=r.filter,i=s);const o=[];if(typeof n!="object"||n===null)return"";const a=w2[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const u=new WeakMap;for(let f=0;f<i.length;++f){const p=i[f];r.skipNulls&&n[p]===null||S2(o,E2(n[p],p,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const h=o.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),h.length>0?d+h:""}function Jee(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let PA;function fT(t){let e;return(PA??(e=new globalThis.TextEncoder,PA=e.encode.bind(e)))(t)}let kA;function OA(t){let e;return(kA??(e=new globalThis.TextDecoder,kA=e.decode.bind(e)))(t)}var kn,On;class Ig{constructor(){kn.set(this,void 0),On.set(this,void 0),ae(this,kn,new Uint8Array),ae(this,On,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?fT(e):e;ae(this,kn,Jee([V(this,kn,"f"),n]));const r=[];let i;for(;(i=Zee(V(this,kn,"f"),V(this,On,"f")))!=null;){if(i.carriage&&V(this,On,"f")==null){ae(this,On,i.index);continue}if(V(this,On,"f")!=null&&(i.index!==V(this,On,"f")+1||i.carriage)){r.push(OA(V(this,kn,"f").subarray(0,V(this,On,"f")-1))),ae(this,kn,V(this,kn,"f").subarray(V(this,On,"f"))),ae(this,On,null);continue}const s=V(this,On,"f")!==null?i.preceding-1:i.preceding,o=OA(V(this,kn,"f").subarray(0,s));r.push(o),ae(this,kn,V(this,kn,"f").subarray(i.index)),ae(this,On,null)}return r}flush(){return V(this,kn,"f").length?this.decode(`
`):[]}}kn=new WeakMap,On=new WeakMap;Ig.NEWLINE_CHARS=new Set([`
`,"\r"]);Ig.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Zee(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function ete(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const _m={off:0,error:200,warn:300,info:400,debug:500},DA=(t,e,n)=>{if(t){if(Lee(_m,t))return t;Bt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(_m))}`)}};function cc(){}function ff(t,e,n){return!e||_m[t]>_m[n]?cc:e[t].bind(e)}const tte={error:cc,warn:cc,info:cc,debug:cc};let MA=new WeakMap;function Bt(t){const e=t.logger,n=t.logLevel??"off";if(!e)return tte;const r=MA.get(e);if(r&&r[0]===n)return r[1];const i={error:ff("error",e,n),warn:ff("warn",e,n),info:ff("info",e,n),debug:ff("debug",e,n)};return MA.set(e,[n,i]),i}const Vo=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Xu;class Qr{constructor(e,n,r){this.iterator=e,Xu.set(this,void 0),this.controller=n,ae(this,Xu,r)}static fromSSEResponse(e,n,r){let i=!1;const s=r?Bt(r):console;async function*o(){if(i)throw new re("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(const l of nte(e,n))if(!a){if(l.data.startsWith("[DONE]")){a=!0;continue}if(l.event===null||!l.event.startsWith("thread.")){let u;try{u=JSON.parse(l.data)}catch(h){throw s.error("Could not parse message into JSON:",l.data),s.error("From chunk:",l.raw),h}if(u&&u.error)throw new qt(void 0,u.error,void 0,e.headers);yield u}else{let u;try{u=JSON.parse(l.data)}catch(h){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),h}if(l.event=="error")throw new qt(void 0,u.error,u.message,void 0);yield{event:l.event,data:u}}}a=!0}catch(l){if(Hw(l))return;throw l}finally{a||n.abort()}}return new Qr(o,n,r)}static fromReadableStream(e,n,r){let i=!1;async function*s(){const a=new Ig,l=y2(e);for await(const u of l)for(const h of a.decode(u))yield h;for(const u of a.flush())yield u}async function*o(){if(i)throw new re("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(const l of s())a||l&&(yield JSON.parse(l));a=!0}catch(l){if(Hw(l))return;throw l}finally{a||n.abort()}}return new Qr(o,n,r)}[(Xu=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new Qr(()=>i(e),this.controller,V(this,Xu,"f")),new Qr(()=>i(n),this.controller,V(this,Xu,"f"))]}toReadableStream(){const e=this;let n;return m2({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const o=fT(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*nte(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new re("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new re("Attempted to iterate over a response with no body");const n=new ite,r=new Ig,i=y2(t.body);for await(const s of rte(i))for(const o of r.decode(s)){const a=n.decode(o);a&&(yield a)}for(const s of r.flush()){const o=n.decode(s);o&&(yield o)}}async function*rte(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?fT(n):n;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let s;for(;(s=ete(e))!==-1;)yield e.slice(0,s),e=e.slice(s)}e.length>0&&(yield e)}class ite{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=ste(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function ste(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function T2(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,o=await(async()=>{var d;if(e.options.stream)return Bt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Qr.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const a=n.headers.get("content-type"),l=(d=a==null?void 0:a.split(";")[0])==null?void 0:d.trim();if((l==null?void 0:l.includes("application/json"))||(l==null?void 0:l.endsWith("+json"))){const f=await n.json();return b2(f,n)}return await n.text()})();return Bt(t).debug(`[${r}] response parsed`,Vo({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}function b2(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var hc;class xg extends Promise{constructor(e,n,r=T2){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,hc.set(this,void 0),ae(this,hc,e)}_thenUnwrap(e){return new xg(V(this,hc,"f"),this.responsePromise,async(n,r)=>b2(e(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(V(this,hc,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}hc=new WeakMap;var pf;class pT{constructor(e,n,r,i){pf.set(this,void 0),ae(this,pf,e),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new re("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await V(this,pf,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(pf=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class ote extends xg{constructor(e,n,r){super(e,n,async(i,s)=>new r(i,s.response,await T2(i,s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class Ag extends pT{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class _t extends pT{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const e=this.getPaginatedItems(),n=(r=e[e.length-1])==null?void 0:r.id;return n?{...this.options,query:{...p2(this.options.query),after:n}}:null}}class wm extends pT{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...p2(this.options.query),after:e}}:null}}const R2=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)==null?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function jc(t,e,n){return R2(),new File(t,e??"unknown_file",n)}function ep(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const mT=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",LA=async(t,e)=>Gw(t.body)?{...t,body:await C2(t.body,e)}:t,pa=async(t,e)=>({...t,body:await C2(t.body,e)}),NA=new WeakMap;function ate(t){const e=typeof t=="function"?t:t.fetch,n=NA.get(e);if(n)return n;const r=(async()=>{try{const i="Response"in e?e.Response:(await e("data:,")).constructor,s=new FormData;return s.toString()!==await new i(s).text()}catch{return!0}})();return NA.set(e,r),r}const C2=async(t,e)=>{if(!await ate(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([r,i])=>Xw(n,r,i))),n},I2=t=>t instanceof Blob&&"name"in t,lte=t=>typeof t=="object"&&t!==null&&(t instanceof Response||mT(t)||I2(t)),Gw=t=>{if(lte(t))return!0;if(Array.isArray(t))return t.some(Gw);if(t&&typeof t=="object"){for(const e in t)if(Gw(t[e]))return!0}return!1},Xw=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,jc([await n.blob()],ep(n)));else if(mT(n))t.append(e,jc([await new Response(g2(n)).blob()],ep(n)));else if(I2(n))t.append(e,n,ep(n));else if(Array.isArray(n))await Promise.all(n.map(r=>Xw(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>Xw(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},x2=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",ute=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&x2(t),cte=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function hte(t,e,n){if(R2(),t=await t,ute(t))return t instanceof File?t:jc([await t.arrayBuffer()],t.name);if(cte(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),jc(await Yw(i),e,n)}const r=await Yw(t);if(e||(e=ep(t)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n={...n,type:i})}return jc(r,e,n)}async function Yw(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(x2(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(mT(t))for await(const r of t)e.push(...await Yw(r));else{const r=(n=t==null?void 0:t.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof t}${r?`; constructor: ${r}`:""}${dte(t)}`)}return e}function dte(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class ne{constructor(e){this._client=e}}function A2(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const VA=Object.freeze(Object.create(null)),fte=(t=A2)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],o=n.reduce((h,d,f)=>{var E;/[?#]/.test(d)&&(i=!0);const p=r[f];let g=(i?encodeURIComponent:t)(""+p);return f!==r.length&&(p==null||typeof p=="object"&&p.toString===((E=Object.getPrototypeOf(Object.getPrototypeOf(p.hasOwnProperty??VA)??VA))==null?void 0:E.toString))&&(g=p+"",s.push({start:h.length+d.length,length:g.length,error:`Value of type ${Object.prototype.toString.call(p).slice(8,-1)} is not a valid path parameter`})),h+d+(f===r.length?"":g)},""),a=o.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)s.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(s.sort((h,d)=>h.start-d.start),s.length>0){let h=0;const d=s.reduce((f,p)=>{const g=" ".repeat(p.start-h),E="^".repeat(p.length);return h=p.start+p.length,f+g+E},"");throw new re(`Path parameters result in path with invalid segments:
${s.map(f=>f.error).join(`
`)}
${o}
${d}`)}return o},$=fte(A2);let P2=class extends ne{list(e,n={},r){return this._client.getAPIList($`/chat/completions/${e}/messages`,_t,{query:n,...r})}};function Sm(t){return t!==void 0&&"function"in t&&t.function!==void 0}function gT(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function rd(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function pte(t,e){return!e||!k2(e)?{...t,choices:t.choices.map(n=>(O2(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:yT(t,e)}function yT(t,e){const n=t.choices.map(r=>{var i;if(r.finish_reason==="length")throw new d2;if(r.finish_reason==="content_filter")throw new f2;return O2(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(s=>gte(e,s)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?mte(e,r.message.content):null}}});return{...t,choices:n}}function mte(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function gte(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return Sm(i)&&((s=i.function)==null?void 0:s.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:rd(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function yte(t,e){var r;if(!t||!("tools"in t)||!t.tools)return!1;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return Sm(i)&&((s=i.function)==null?void 0:s.name)===e.function.name});return Sm(n)&&(rd(n)||(n==null?void 0:n.function.strict)||!1)}function k2(t){var e;return gT(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>rd(n)||n.type==="function"&&n.function.strict===!0))??!1}function O2(t){for(const e of t||[])if(e.type!=="function")throw new re(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function vte(t){for(const e of t??[]){if(e.type!=="function")throw new re(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new re(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Em=t=>(t==null?void 0:t.role)==="assistant",D2=t=>(t==null?void 0:t.role)==="tool";var Qw,tp,np,dc,fc,rp,pc,Si,mc,Tm,bm,Qa,M2;class vT{constructor(){Qw.add(this),this.controller=new AbortController,tp.set(this,void 0),np.set(this,()=>{}),dc.set(this,()=>{}),fc.set(this,void 0),rp.set(this,()=>{}),pc.set(this,()=>{}),Si.set(this,{}),mc.set(this,!1),Tm.set(this,!1),bm.set(this,!1),Qa.set(this,!1),ae(this,tp,new Promise((e,n)=>{ae(this,np,e,"f"),ae(this,dc,n,"f")})),ae(this,fc,new Promise((e,n)=>{ae(this,rp,e,"f"),ae(this,pc,n,"f")})),V(this,tp,"f").catch(()=>{}),V(this,fc,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},V(this,Qw,"m",M2).bind(this))},0)}_connected(){this.ended||(V(this,np,"f").call(this),this._emit("connect"))}get ended(){return V(this,mc,"f")}get errored(){return V(this,Tm,"f")}get aborted(){return V(this,bm,"f")}abort(){this.controller.abort()}on(e,n){return(V(this,Si,"f")[e]||(V(this,Si,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=V(this,Si,"f")[e];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(V(this,Si,"f")[e]||(V(this,Si,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{ae(this,Qa,!0),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){ae(this,Qa,!0),await V(this,fc,"f")}_emit(e,...n){if(V(this,mc,"f"))return;e==="end"&&(ae(this,mc,!0),V(this,rp,"f").call(this));const r=V(this,Si,"f")[e];if(r&&(V(this,Si,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!V(this,Qa,"f")&&!(r!=null&&r.length)&&Promise.reject(i),V(this,dc,"f").call(this,i),V(this,pc,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!V(this,Qa,"f")&&!(r!=null&&r.length)&&Promise.reject(i),V(this,dc,"f").call(this,i),V(this,pc,"f").call(this,i),this._emit("end")}}_emitFinal(){}}tp=new WeakMap,np=new WeakMap,dc=new WeakMap,fc=new WeakMap,rp=new WeakMap,pc=new WeakMap,Si=new WeakMap,mc=new WeakMap,Tm=new WeakMap,bm=new WeakMap,Qa=new WeakMap,Qw=new WeakSet,M2=function(e){if(ae(this,Tm,!0),e instanceof Error&&e.name==="AbortError"&&(e=new tr),e instanceof tr)return ae(this,bm,!0),this._emit("abort",e);if(e instanceof re)return this._emit("error",e);if(e instanceof Error){const n=new re(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new re(String(e)))};function _te(t){return typeof t.parse=="function"}var on,Jw,Rm,Zw,e0,t0,L2,N2;const wte=10;class V2 extends vT{constructor(){super(...arguments),on.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),D2(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Em(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new re("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),V(this,on,"m",Jw).call(this)}async finalMessage(){return await this.done(),V(this,on,"m",Rm).call(this)}async finalFunctionToolCall(){return await this.done(),V(this,on,"m",Zw).call(this)}async finalFunctionToolCallResult(){return await this.done(),V(this,on,"m",e0).call(this)}async totalUsage(){return await this.done(),V(this,on,"m",t0).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=V(this,on,"m",Rm).call(this);n&&this._emit("finalMessage",n);const r=V(this,on,"m",Jw).call(this);r&&this._emit("finalContent",r);const i=V(this,on,"m",Zw).call(this);i&&this._emit("finalFunctionToolCall",i);const s=V(this,on,"m",e0).call(this);s!=null&&this._emit("finalFunctionToolCallResult",s),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",V(this,on,"m",t0).call(this))}async _createChatCompletion(e,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),V(this,on,"m",L2).call(this,n);const s=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(yT(s,n))}async _runChatCompletion(e,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,n,r)}async _runTools(e,n,r){var p,g,E;const i="tool",{tool_choice:s="auto",stream:o,...a}=n,l=typeof s!="string"&&s.type==="function"&&((p=s==null?void 0:s.function)==null?void 0:p.name),{maxChatCompletions:u=wte}=r||{},h=n.tools.map(b=>{if(rd(b)){if(!b.$callback)throw new re("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:b.$callback,name:b.function.name,description:b.function.description||"",parameters:b.function.parameters,parse:b.$parseRaw,strict:!0}}}return b}),d={};for(const b of h)b.type==="function"&&(d[b.function.name||b.function.function.name]=b.function);const f="tools"in n?h.map(b=>b.type==="function"?{type:"function",function:{name:b.function.name||b.function.function.name,parameters:b.function.parameters,description:b.function.description,strict:b.function.strict}}:b):void 0;for(const b of n.messages)this._addMessage(b,!1);for(let b=0;b<u;++b){const v=(g=(await this._createChatCompletion(e,{...a,tool_choice:s,tools:f,messages:[...this.messages]},r)).choices[0])==null?void 0:g.message;if(!v)throw new re("missing message in ChatCompletion response");if(!((E=v.tool_calls)!=null&&E.length))return;for(const S of v.tool_calls){if(S.type!=="function")continue;const x=S.id,{name:D,arguments:O}=S.function,T=d[D];if(T){if(l&&l!==D){const A=`Invalid tool_call: ${JSON.stringify(D)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:x,content:A});continue}}else{const A=`Invalid tool_call: ${JSON.stringify(D)}. Available options are: ${Object.keys(d).map(L=>JSON.stringify(L)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:x,content:A});continue}let y;try{y=_te(T)?await T.parse(O):O}catch(A){const L=A instanceof Error?A.message:String(A);this._addMessage({role:i,tool_call_id:x,content:L});continue}const C=await T.function(y,this),I=V(this,on,"m",N2).call(this,C);if(this._addMessage({role:i,tool_call_id:x,content:I}),l)return}}}}on=new WeakSet,Jw=function(){return V(this,on,"m",Rm).call(this).content??null},Rm=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Em(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new re("stream ended without producing a ChatCompletionMessage with role=assistant")},Zw=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(Em(i)&&((e=i==null?void 0:i.tool_calls)!=null&&e.length))return(n=i.tool_calls.filter(s=>s.type==="function").at(-1))==null?void 0:n.function}},e0=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(D2(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},t0=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},L2=function(e){if(e.n!=null&&e.n>1)throw new re("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},N2=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class _T extends V2{static runTools(e,n,r){const i=new _T,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}_addMessage(e,n=!0){super._addMessage(e,n),Em(e)&&e.content&&this._emit("content",e.content)}}const F2=1,B2=2,U2=4,j2=8,$2=16,z2=32,W2=64,H2=128,q2=256,K2=H2|q2,G2=$2|z2|K2|W2,X2=F2|B2|G2,Y2=U2|j2,Ste=X2|Y2,Ot={STR:F2,NUM:B2,ARR:U2,OBJ:j2,NULL:$2,BOOL:z2,NAN:W2,INFINITY:H2,MINUS_INFINITY:q2,INF:K2,SPECIAL:G2,ATOM:X2,COLLECTION:Y2,ALL:Ste};class Ete extends Error{}class Tte extends Error{}function bte(t,e=Ot.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return Rte(t.trim(),e)}const Rte=(t,e)=>{const n=t.length;let r=0;const i=f=>{throw new Ete(`${f} at position ${r}`)},s=f=>{throw new Tte(`${f} at position ${r}`)},o=()=>(d(),r>=n&&i("Unexpected end of input"),t[r]==='"'?a():t[r]==="{"?l():t[r]==="["?u():t.substring(r,r+4)==="null"||Ot.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||Ot.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||Ot.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||Ot.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||Ot.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||Ot.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):h()),a=()=>{const f=r;let p=!1;for(r++;r<n&&(t[r]!=='"'||p&&t[r-1]==="\\");)p=t[r]==="\\"?!p:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(f,++r-Number(p)))}catch(g){s(String(g))}else if(Ot.STR&e)try{return JSON.parse(t.substring(f,r-Number(p))+'"')}catch{return JSON.parse(t.substring(f,t.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},l=()=>{r++,d();const f={};try{for(;t[r]!=="}";){if(d(),r>=n&&Ot.OBJ&e)return f;const p=a();d(),r++;try{const g=o();Object.defineProperty(f,p,{value:g,writable:!0,enumerable:!0,configurable:!0})}catch(g){if(Ot.OBJ&e)return f;throw g}d(),t[r]===","&&r++}}catch{if(Ot.OBJ&e)return f;i("Expected '}' at end of object")}return r++,f},u=()=>{r++;const f=[];try{for(;t[r]!=="]";)f.push(o()),d(),t[r]===","&&r++}catch{if(Ot.ARR&e)return f;i("Expected ']' at end of array")}return r++,f},h=()=>{if(r===0){t==="-"&&Ot.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t)}catch(p){if(Ot.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}s(String(p))}}const f=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(Ot.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(t.substring(f,r))}catch{t.substring(f,r)==="-"&&Ot.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t.substring(f,t.lastIndexOf("e")))}catch(g){s(String(g))}}},d=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return o()},FA=t=>bte(t,Ot.ALL^Ot.NUM);var St,wi,$a,ws,vv,mf,_v,wv,Sv,gf,Ev,BA;class Ah extends V2{constructor(e){super(),St.add(this),wi.set(this,void 0),$a.set(this,void 0),ws.set(this,void 0),ae(this,wi,e),ae(this,$a,[])}get currentChatCompletionSnapshot(){return V(this,ws,"f")}static fromReadableStream(e){const n=new Ah(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const i=new Ah(n);return i._run(()=>i._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,n,r){var o;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),V(this,St,"m",vv).call(this);const s=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of s)V(this,St,"m",_v).call(this,a);if((o=s.controller.signal)!=null&&o.aborted)throw new tr;return this._addChatCompletion(V(this,St,"m",gf).call(this))}async _fromReadableStream(e,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,St,"m",vv).call(this),this._connected();const i=Qr.fromReadableStream(e,this.controller);let s;for await(const a of i)s&&s!==a.id&&this._addChatCompletion(V(this,St,"m",gf).call(this)),V(this,St,"m",_v).call(this,a),s=a.id;if((o=i.controller.signal)!=null&&o.aborted)throw new tr;return this._addChatCompletion(V(this,St,"m",gf).call(this))}[(wi=new WeakMap,$a=new WeakMap,ws=new WeakMap,St=new WeakSet,vv=function(){this.ended||ae(this,ws,void 0)},mf=function(n){let r=V(this,$a,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},V(this,$a,"f")[n.index]=r,r)},_v=function(n){var i,s,o,a,l,u,h,d,f,p,g,E,b,w,v;if(this.ended)return;const r=V(this,St,"m",BA).call(this,n);this._emit("chunk",n,r);for(const S of n.choices){const x=r.choices[S.index];S.delta.content!=null&&((i=x.message)==null?void 0:i.role)==="assistant"&&((s=x.message)!=null&&s.content)&&(this._emit("content",S.delta.content,x.message.content),this._emit("content.delta",{delta:S.delta.content,snapshot:x.message.content,parsed:x.message.parsed})),S.delta.refusal!=null&&((o=x.message)==null?void 0:o.role)==="assistant"&&((a=x.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:S.delta.refusal,snapshot:x.message.refusal}),((l=S.logprobs)==null?void 0:l.content)!=null&&((u=x.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(h=S.logprobs)==null?void 0:h.content,snapshot:((d=x.logprobs)==null?void 0:d.content)??[]}),((f=S.logprobs)==null?void 0:f.refusal)!=null&&((p=x.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(g=S.logprobs)==null?void 0:g.refusal,snapshot:((E=x.logprobs)==null?void 0:E.refusal)??[]});const D=V(this,St,"m",mf).call(this,x);x.finish_reason&&(V(this,St,"m",Sv).call(this,x),D.current_tool_call_index!=null&&V(this,St,"m",wv).call(this,x,D.current_tool_call_index));for(const O of S.delta.tool_calls??[])D.current_tool_call_index!==O.index&&(V(this,St,"m",Sv).call(this,x),D.current_tool_call_index!=null&&V(this,St,"m",wv).call(this,x,D.current_tool_call_index)),D.current_tool_call_index=O.index;for(const O of S.delta.tool_calls??[]){const T=(b=x.message.tool_calls)==null?void 0:b[O.index];T!=null&&T.type&&((T==null?void 0:T.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(w=T.function)==null?void 0:w.name,index:O.index,arguments:T.function.arguments,parsed_arguments:T.function.parsed_arguments,arguments_delta:((v=O.function)==null?void 0:v.arguments)??""}):(T==null||T.type,void 0))}}},wv=function(n,r){var o,a,l;if(V(this,St,"m",mf).call(this,n).done_tool_calls.has(r))return;const s=(o=n.message.tool_calls)==null?void 0:o[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const u=(l=(a=V(this,wi,"f"))==null?void 0:a.tools)==null?void 0:l.find(h=>Sm(h)&&h.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:rd(u)?u.$parseRaw(s.function.arguments):u!=null&&u.function.strict?JSON.parse(s.function.arguments):null})}else s.type},Sv=function(n){var i,s;const r=V(this,St,"m",mf).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=V(this,St,"m",Ev).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(i=n.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},gf=function(){if(this.ended)throw new re("stream has ended, this shouldn't happen");const n=V(this,ws,"f");if(!n)throw new re("request ended without sending any chunks");return ae(this,ws,void 0),ae(this,$a,[]),Cte(n,V(this,wi,"f"))},Ev=function(){var r;const n=(r=V(this,wi,"f"))==null?void 0:r.response_format;return gT(n)?n:null},BA=function(n){var r,i,s,o;let a=V(this,ws,"f");const{choices:l,...u}=n;a?Object.assign(a,u):a=ae(this,ws,{...u,choices:[]});for(const{delta:h,finish_reason:d,index:f,logprobs:p=null,...g}of n.choices){let E=a.choices[f];if(E||(E=a.choices[f]={finish_reason:d,index:f,message:{},logprobs:p,...g}),p)if(!E.logprobs)E.logprobs=Object.assign({},p);else{const{content:O,refusal:T,...y}=p;Object.assign(E.logprobs,y),O&&((r=E.logprobs).content??(r.content=[]),E.logprobs.content.push(...O)),T&&((i=E.logprobs).refusal??(i.refusal=[]),E.logprobs.refusal.push(...T))}if(d&&(E.finish_reason=d,V(this,wi,"f")&&k2(V(this,wi,"f")))){if(d==="length")throw new d2;if(d==="content_filter")throw new f2}if(Object.assign(E,g),!h)continue;const{content:b,refusal:w,function_call:v,role:S,tool_calls:x,...D}=h;if(Object.assign(E.message,D),w&&(E.message.refusal=(E.message.refusal||"")+w),S&&(E.message.role=S),v&&(E.message.function_call?(v.name&&(E.message.function_call.name=v.name),v.arguments&&((s=E.message.function_call).arguments??(s.arguments=""),E.message.function_call.arguments+=v.arguments)):E.message.function_call=v),b&&(E.message.content=(E.message.content||"")+b,!E.message.refusal&&V(this,St,"m",Ev).call(this)&&(E.message.parsed=FA(E.message.content))),x){E.message.tool_calls||(E.message.tool_calls=[]);for(const{index:O,id:T,type:y,function:C,...I}of x){const A=(o=E.message.tool_calls)[O]??(o[O]={});Object.assign(A,I),T&&(A.id=T),y&&(A.type=y),C&&(A.function??(A.function={name:C.name??"",arguments:""})),C!=null&&C.name&&(A.function.name=C.name),C!=null&&C.arguments&&(A.function.arguments+=C.arguments,yte(V(this,wi,"f"),A)&&(A.function.parsed_arguments=FA(A.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Qr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Cte(t,e){const{id:n,choices:r,created:i,model:s,system_fingerprint:o,...a}=t,l={...a,id:n,choices:r.map(({message:u,finish_reason:h,index:d,logprobs:f,...p})=>{if(!h)throw new re(`missing finish_reason for choice ${d}`);const{content:g=null,function_call:E,tool_calls:b,...w}=u,v=u.role;if(!v)throw new re(`missing role for choice ${d}`);if(E){const{arguments:S,name:x}=E;if(S==null)throw new re(`missing function_call.arguments for choice ${d}`);if(!x)throw new re(`missing function_call.name for choice ${d}`);return{...p,message:{content:g,function_call:{arguments:S,name:x},role:v,refusal:u.refusal??null},finish_reason:h,index:d,logprobs:f}}return b?{...p,index:d,finish_reason:h,logprobs:f,message:{...w,role:v,content:g,refusal:u.refusal??null,tool_calls:b.map((S,x)=>{const{function:D,type:O,id:T,...y}=S,{arguments:C,name:I,...A}=D||{};if(T==null)throw new re(`missing choices[${d}].tool_calls[${x}].id
${yf(t)}`);if(O==null)throw new re(`missing choices[${d}].tool_calls[${x}].type
${yf(t)}`);if(I==null)throw new re(`missing choices[${d}].tool_calls[${x}].function.name
${yf(t)}`);if(C==null)throw new re(`missing choices[${d}].tool_calls[${x}].function.arguments
${yf(t)}`);return{...y,id:T,type:O,function:{...A,name:I,arguments:C}}})}}:{...p,message:{...w,content:g,role:v,refusal:u.refusal??null},finish_reason:h,index:d,logprobs:f}}),created:i,model:s,object:"chat.completion",...o?{system_fingerprint:o}:{}};return pte(l,e)}function yf(t){return JSON.stringify(t)}class Cm extends Ah{static fromReadableStream(e){const n=new Cm(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,r){const i=new Cm(n),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}}let wT=class extends ne{constructor(){super(...arguments),this.messages=new P2(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get($`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post($`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/chat/completions",_t,{query:e,...n})}delete(e,n){return this._client.delete($`/chat/completions/${e}`,n)}parse(e,n){return vte(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>yT(r,e))}runTools(e,n){return e.stream?Cm.runTools(this._client,e,n):_T.runTools(this._client,e,n)}stream(e,n){return Ah.createChatCompletion(this._client,e,n)}};wT.Messages=P2;class ST extends ne{constructor(){super(...arguments),this.completions=new wT(this._client)}}ST.Completions=wT;const Q2=Symbol("brand.privateNullableHeaders");function*Ite(t){if(!t)return;if(Q2 in t){const{values:r,nulls:i}=t;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():TA(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=TA(r[1])?r[1]:[r[1]];let o=!1;for(const a of s)a!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,a])}}const Z=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[s,o]of Ite(r)){const a=s.toLowerCase();i.has(a)||(e.delete(s),i.add(a)),o===null?(e.delete(s),n.add(a)):(e.append(s,o),n.delete(a))}}return{[Q2]:!0,values:e,nulls:n}};class J2 extends ne{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:Z([{Accept:"application/octet-stream"},n==null?void 0:n.headers]),__binaryResponse:!0})}}class Z2 extends ne{create(e,n){return this._client.post("/audio/transcriptions",pa({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class eV extends ne{create(e,n){return this._client.post("/audio/translations",pa({body:e,...n,__metadata:{model:e.model}},this._client))}}class id extends ne{constructor(){super(...arguments),this.transcriptions=new Z2(this._client),this.translations=new eV(this._client),this.speech=new J2(this._client)}}id.Transcriptions=Z2;id.Translations=eV;id.Speech=J2;class tV extends ne{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get($`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",_t,{query:e,...n})}cancel(e,n){return this._client.post($`/batches/${e}/cancel`,n)}}class nV extends ne{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get($`/assistants/${e}`,{...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post($`/assistants/${e}`,{body:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e={},n){return this._client.getAPIList("/assistants",_t,{query:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete($`/assistants/${e}`,{...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let rV=class extends ne{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}};class iV extends ne{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let Pg=class extends ne{constructor(){super(...arguments),this.sessions=new rV(this._client),this.transcriptionSessions=new iV(this._client)}};Pg.Sessions=rV;Pg.TranscriptionSessions=iV;class sV extends ne{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}cancel(e,n){return this._client.post($`/chatkit/sessions/${e}/cancel`,{...n,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}}let oV=class extends ne{retrieve(e,n){return this._client.get($`/chatkit/threads/${e}`,{...n,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",wm,{query:e,...n,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete($`/chatkit/threads/${e}`,{...n,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}listItems(e,n={},r){return this._client.getAPIList($`/chatkit/threads/${e}/items`,wm,{query:n,...r,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},r==null?void 0:r.headers])})}};class kg extends ne{constructor(){super(...arguments),this.sessions=new sV(this._client),this.threads=new oV(this._client)}}kg.Sessions=sV;kg.Threads=oV;class aV extends ne{create(e,n,r){return this._client.post($`/threads/${e}/messages`,{body:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{thread_id:i}=n;return this._client.get($`/threads/${i}/messages/${e}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{thread_id:i,...s}=n;return this._client.post($`/threads/${i}/messages/${e}`,{body:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList($`/threads/${e}/messages`,_t,{query:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n,r){const{thread_id:i}=n;return this._client.delete($`/threads/${i}/messages/${e}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class lV extends ne{retrieve(e,n,r){const{thread_id:i,run_id:s,...o}=n;return this._client.get($`/threads/${i}/runs/${s}/steps/${e}`,{query:o,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n,r){const{thread_id:i,...s}=n;return this._client.getAPIList($`/threads/${i}/runs/${e}/steps`,_t,{query:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}const xte=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return Array.from(new Float32Array(r.buffer))}};var Tv={};const za=t=>{var e,n,r,i;if(typeof globalThis.process<"u")return((e=Tv==null?void 0:Tv[t])==null?void 0:e.trim())??void 0;if(typeof globalThis.Deno<"u")return(i=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};var Ut,Go,n0,Hr,ip,wr,Xo,vl,Fo,Im,Dn,sp,op,$c,gc,yc,UA,jA,$A,zA,WA,HA,qA;class zc extends vT{constructor(){super(...arguments),Ut.add(this),n0.set(this,[]),Hr.set(this,{}),ip.set(this,{}),wr.set(this,void 0),Xo.set(this,void 0),vl.set(this,void 0),Fo.set(this,void 0),Im.set(this,void 0),Dn.set(this,void 0),sp.set(this,void 0),op.set(this,void 0),$c.set(this,void 0)}[(n0=new WeakMap,Hr=new WeakMap,ip=new WeakMap,wr=new WeakMap,Xo=new WeakMap,vl=new WeakMap,Fo=new WeakMap,Im=new WeakMap,Dn=new WeakMap,sp=new WeakMap,op=new WeakMap,$c=new WeakMap,Ut=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Go;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=Qr.fromReadableStream(e,this.controller);for await(const o of i)V(this,Ut,"m",gc).call(this,o);if((s=i.controller.signal)!=null&&s.aborted)throw new tr;return this._addRun(V(this,Ut,"m",yc).call(this))}toReadableStream(){return new Qr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,i){const s=new Go;return s._run(()=>s._runToolAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createToolAssistantStream(e,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await e.submitToolOutputs(n,o,{...i,signal:this.controller.signal});this._connected();for await(const u of a)V(this,Ut,"m",gc).call(this,u);if((l=a.controller.signal)!=null&&l.aborted)throw new tr;return this._addRun(V(this,Ut,"m",yc).call(this))}static createThreadAssistantStream(e,n,r){const i=new Go;return i._run(()=>i._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,n,r,i){const s=new Go;return s._run(()=>s._runAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return V(this,sp,"f")}currentRun(){return V(this,op,"f")}currentMessageSnapshot(){return V(this,wr,"f")}currentRunStepSnapshot(){return V(this,$c,"f")}async finalRunSteps(){return await this.done(),Object.values(V(this,Hr,"f"))}async finalMessages(){return await this.done(),Object.values(V(this,ip,"f"))}async finalRun(){if(await this.done(),!V(this,Xo,"f"))throw Error("Final run was not received.");return V(this,Xo,"f")}async _createThreadAssistantStream(e,n,r){var a;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},o=await e.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const l of o)V(this,Ut,"m",gc).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new tr;return this._addRun(V(this,Ut,"m",yc).call(this))}async _createAssistantStream(e,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await e.create(n,o,{...i,signal:this.controller.signal});this._connected();for await(const u of a)V(this,Ut,"m",gc).call(this,u);if((l=a.controller.signal)!=null&&l.aborted)throw new tr;return this._addRun(V(this,Ut,"m",yc).call(this))}static accumulateDelta(e,n){for(const[r,i]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let s=e[r];if(s==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(mv(s)&&mv(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(o=>typeof o=="string"||typeof o=="number")){s.push(...i);continue}for(const o of i){if(!mv(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const a=o.index;if(a==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=s[a];l==null?s.push(o):s[a]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);e[r]=s}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,i){return await this._createAssistantStream(n,e,r,i)}async _runToolAssistantStream(e,n,r,i){return await this._createToolAssistantStream(n,e,r,i)}}Go=zc,gc=function(e){if(!this.ended)switch(ae(this,sp,e),V(this,Ut,"m",$A).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":V(this,Ut,"m",qA).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":V(this,Ut,"m",jA).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":V(this,Ut,"m",UA).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},yc=function(){if(this.ended)throw new re("stream has ended, this shouldn't happen");if(!V(this,Xo,"f"))throw Error("Final run has not been received");return V(this,Xo,"f")},UA=function(e){const[n,r]=V(this,Ut,"m",WA).call(this,e,V(this,wr,"f"));ae(this,wr,n),V(this,ip,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,o=n.content[i.index];if(o&&o.type=="text")this._emit("textDelta",s,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=V(this,vl,"f")){if(V(this,Fo,"f"))switch(V(this,Fo,"f").type){case"text":this._emit("textDone",V(this,Fo,"f").text,V(this,wr,"f"));break;case"image_file":this._emit("imageFileDone",V(this,Fo,"f").image_file,V(this,wr,"f"));break}ae(this,vl,i.index)}ae(this,Fo,n.content[i.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(V(this,vl,"f")!==void 0){const i=e.data.content[V(this,vl,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,V(this,wr,"f"));break;case"text":this._emit("textDone",i.text,V(this,wr,"f"));break}}V(this,wr,"f")&&this._emit("messageDone",e.data),ae(this,wr,void 0)}},jA=function(e){const n=V(this,Ut,"m",zA).call(this,e);switch(ae(this,$c,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==V(this,Im,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(V(this,Dn,"f")&&this._emit("toolCallDone",V(this,Dn,"f")),ae(this,Im,s.index),ae(this,Dn,n.step_details.tool_calls[s.index]),V(this,Dn,"f")&&this._emit("toolCallCreated",V(this,Dn,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ae(this,$c,void 0),e.data.step_details.type=="tool_calls"&&V(this,Dn,"f")&&(this._emit("toolCallDone",V(this,Dn,"f")),ae(this,Dn,void 0)),this._emit("runStepDone",e.data,n);break}},$A=function(e){V(this,n0,"f").push(e),this._emit("event",e)},zA=function(e){switch(e.event){case"thread.run.step.created":return V(this,Hr,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=V(this,Hr,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=Go.accumulateDelta(n,r.delta);V(this,Hr,"f")[e.data.id]=i}return V(this,Hr,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":V(this,Hr,"f")[e.data.id]=e.data;break}if(V(this,Hr,"f")[e.data.id])return V(this,Hr,"f")[e.data.id];throw new Error("No snapshot available")},WA=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let o=n.content[s.index];n.content[s.index]=V(this,Ut,"m",HA).call(this,s,o)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},HA=function(e,n){return Go.accumulateDelta(n,e)},qA=function(e){switch(ae(this,op,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":ae(this,Xo,e.data),V(this,Dn,"f")&&(this._emit("toolCallDone",V(this,Dn,"f")),ae(this,Dn,void 0));break}};let ET=class extends ne{constructor(){super(...arguments),this.steps=new lV(this._client)}create(e,n,r){const{include:i,...s}=n;return this._client.post($`/threads/${e}/runs`,{query:{include:i},body:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}retrieve(e,n,r){const{thread_id:i}=n;return this._client.get($`/threads/${i}/runs/${e}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{thread_id:i,...s}=n;return this._client.post($`/threads/${i}/runs/${e}`,{body:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList($`/threads/${e}/runs`,_t,{query:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(e,n,r){const{thread_id:i}=n;return this._client.post($`/threads/${i}/runs/${e}/cancel`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(i.id,{thread_id:e},r)}createAndStream(e,n,r){return zc.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){var s;const i=Z([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((s=r==null?void 0:r.pollIntervalMs)==null?void 0:s.toString())??void 0}]);for(;;){const{data:o,response:a}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=a.headers.get("openai-poll-after-ms");if(u){const h=parseInt(u);isNaN(h)||(l=h)}}await nd(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(e,n,r){return zc.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r){const{thread_id:i,...s}=n;return this._client.post($`/threads/${i}/runs/${e}/submit_tool_outputs`,{body:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,r){const i=await this.submitToolOutputs(e,n,r);return await this.poll(i.id,n,r)}submitToolOutputsStream(e,n,r){return zc.createToolAssistantStream(e,this._client.beta.threads.runs,n,r)}};ET.Steps=lV;class Og extends ne{constructor(){super(...arguments),this.runs=new ET(this._client),this.messages=new aV(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get($`/threads/${e}`,{...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post($`/threads/${e}`,{body:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n){return this._client.delete($`/threads/${e}`,{...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(e,n){return zc.createThreadAssistantStream(e,this._client.beta.threads,n)}}Og.Runs=ET;Og.Messages=aV;class pu extends ne{constructor(){super(...arguments),this.realtime=new Pg(this._client),this.chatkit=new kg(this._client),this.assistants=new nV(this._client),this.threads=new Og(this._client)}}pu.Realtime=Pg;pu.ChatKit=kg;pu.Assistants=nV;pu.Threads=Og;class uV extends ne{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class cV extends ne{retrieve(e,n,r){const{container_id:i}=n;return this._client.get($`/containers/${i}/files/${e}/content`,{...r,headers:Z([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}}let TT=class extends ne{constructor(){super(...arguments),this.content=new cV(this._client)}create(e,n,r){return this._client.post($`/containers/${e}/files`,pa({body:n,...r},this._client))}retrieve(e,n,r){const{container_id:i}=n;return this._client.get($`/containers/${i}/files/${e}`,r)}list(e,n={},r){return this._client.getAPIList($`/containers/${e}/files`,_t,{query:n,...r})}delete(e,n,r){const{container_id:i}=n;return this._client.delete($`/containers/${i}/files/${e}`,{...r,headers:Z([{Accept:"*/*"},r==null?void 0:r.headers])})}};TT.Content=cV;class bT extends ne{constructor(){super(...arguments),this.files=new TT(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get($`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",_t,{query:e,...n})}delete(e,n){return this._client.delete($`/containers/${e}`,{...n,headers:Z([{Accept:"*/*"},n==null?void 0:n.headers])})}}bT.Files=TT;class hV extends ne{create(e,n,r){const{include:i,...s}=n;return this._client.post($`/conversations/${e}/items`,{query:{include:i},body:s,...r})}retrieve(e,n,r){const{conversation_id:i,...s}=n;return this._client.get($`/conversations/${i}/items/${e}`,{query:s,...r})}list(e,n={},r){return this._client.getAPIList($`/conversations/${e}/items`,wm,{query:n,...r})}delete(e,n,r){const{conversation_id:i}=n;return this._client.delete($`/conversations/${i}/items/${e}`,r)}}class RT extends ne{constructor(){super(...arguments),this.items=new hV(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get($`/conversations/${e}`,n)}update(e,n,r){return this._client.post($`/conversations/${e}`,{body:n,...r})}delete(e,n){return this._client.delete($`/conversations/${e}`,n)}}RT.Items=hV;class dV extends ne{create(e,n){const r=!!e.encoding_format;let i=r?e.encoding_format:"base64";r&&Bt(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const s=this._client.post("/embeddings",{body:{...e,encoding_format:i},...n});return r?s:(Bt(this._client).debug("embeddings/decoding base64 embeddings from base64"),s._thenUnwrap(o=>(o&&o.data&&o.data.forEach(a=>{const l=a.embedding;a.embedding=xte(l)}),o)))}}class fV extends ne{retrieve(e,n,r){const{eval_id:i,run_id:s}=n;return this._client.get($`/evals/${i}/runs/${s}/output_items/${e}`,r)}list(e,n,r){const{eval_id:i,...s}=n;return this._client.getAPIList($`/evals/${i}/runs/${e}/output_items`,_t,{query:s,...r})}}class CT extends ne{constructor(){super(...arguments),this.outputItems=new fV(this._client)}create(e,n,r){return this._client.post($`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){const{eval_id:i}=n;return this._client.get($`/evals/${i}/runs/${e}`,r)}list(e,n={},r){return this._client.getAPIList($`/evals/${e}/runs`,_t,{query:n,...r})}delete(e,n,r){const{eval_id:i}=n;return this._client.delete($`/evals/${i}/runs/${e}`,r)}cancel(e,n,r){const{eval_id:i}=n;return this._client.post($`/evals/${i}/runs/${e}`,r)}}CT.OutputItems=fV;class IT extends ne{constructor(){super(...arguments),this.runs=new CT(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get($`/evals/${e}`,n)}update(e,n,r){return this._client.post($`/evals/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/evals",_t,{query:e,...n})}delete(e,n){return this._client.delete($`/evals/${e}`,n)}}IT.Runs=CT;let pV=class extends ne{create(e,n){return this._client.post("/files",pa({body:e,...n},this._client))}retrieve(e,n){return this._client.get($`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",_t,{query:e,...n})}delete(e,n){return this._client.delete($`/files/${e}`,n)}content(e,n){return this._client.get($`/files/${e}/content`,{...n,headers:Z([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let o=await this.retrieve(e);for(;!o.status||!i.has(o.status);)if(await nd(n),o=await this.retrieve(e),Date.now()-s>r)throw new dT({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return o}};class mV extends ne{}let gV=class extends ne{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class xT extends ne{constructor(){super(...arguments),this.graders=new gV(this._client)}}xT.Graders=gV;class yV extends ne{create(e,n,r){return this._client.getAPIList($`/fine_tuning/checkpoints/${e}/permissions`,Ag,{body:n,method:"post",...r})}retrieve(e,n={},r){return this._client.get($`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}delete(e,n,r){const{fine_tuned_model_checkpoint:i}=n;return this._client.delete($`/fine_tuning/checkpoints/${i}/permissions/${e}`,r)}}let AT=class extends ne{constructor(){super(...arguments),this.permissions=new yV(this._client)}};AT.Permissions=yV;class vV extends ne{list(e,n={},r){return this._client.getAPIList($`/fine_tuning/jobs/${e}/checkpoints`,_t,{query:n,...r})}}class PT extends ne{constructor(){super(...arguments),this.checkpoints=new vV(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get($`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",_t,{query:e,...n})}cancel(e,n){return this._client.post($`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return this._client.getAPIList($`/fine_tuning/jobs/${e}/events`,_t,{query:n,...r})}pause(e,n){return this._client.post($`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post($`/fine_tuning/jobs/${e}/resume`,n)}}PT.Checkpoints=vV;class mu extends ne{constructor(){super(...arguments),this.methods=new mV(this._client),this.jobs=new PT(this._client),this.checkpoints=new AT(this._client),this.alpha=new xT(this._client)}}mu.Methods=mV;mu.Jobs=PT;mu.Checkpoints=AT;mu.Alpha=xT;class _V extends ne{}class kT extends ne{constructor(){super(...arguments),this.graderModels=new _V(this._client)}}kT.GraderModels=_V;class wV extends ne{createVariation(e,n){return this._client.post("/images/variations",pa({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",pa({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class SV extends ne{retrieve(e,n){return this._client.get($`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Ag,e)}delete(e,n){return this._client.delete($`/models/${e}`,n)}}class EV extends ne{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class TV extends ne{accept(e,n,r){return this._client.post($`/realtime/calls/${e}/accept`,{body:n,...r,headers:Z([{Accept:"*/*"},r==null?void 0:r.headers])})}hangup(e,n){return this._client.post($`/realtime/calls/${e}/hangup`,{...n,headers:Z([{Accept:"*/*"},n==null?void 0:n.headers])})}refer(e,n,r){return this._client.post($`/realtime/calls/${e}/refer`,{body:n,...r,headers:Z([{Accept:"*/*"},r==null?void 0:r.headers])})}reject(e,n={},r){return this._client.post($`/realtime/calls/${e}/reject`,{body:n,...r,headers:Z([{Accept:"*/*"},r==null?void 0:r.headers])})}}class bV extends ne{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class Dg extends ne{constructor(){super(...arguments),this.clientSecrets=new bV(this._client),this.calls=new TV(this._client)}}Dg.ClientSecrets=bV;Dg.Calls=TV;function Ate(t,e){return!e||!kte(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:RV(t,e)}function RV(t,e){const n=t.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:Mte(e,i)};if(i.type==="message"){const s=i.content.map(o=>o.type==="output_text"?{...o,parsed:Pte(e,o.text)}:o);return{...i,content:s}}return i}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||r0(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const i of r.output)if(i.type==="message"){for(const s of i.content)if(s.type==="output_text"&&s.parsed!==null)return s.parsed}return null}}),r}function Pte(t,e){var n,r,i,s;return((r=(n=t.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((i=t.text)==null?void 0:i.format)?((s=t.text)==null?void 0:s.format).$parseRaw(e):JSON.parse(e)}function kte(t){var e;return!!gT((e=t.text)==null?void 0:e.format)}function Ote(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function Dte(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function Mte(t,e){const n=Dte(t.tools??[],e.name);return{...e,...e,parsed_arguments:Ote(n)?n.$parseRaw(e.arguments):n!=null&&n.strict?JSON.parse(e.arguments):null}}function r0(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}var Wa,vf,Ss,_f,KA,GA,XA,YA;class OT extends vT{constructor(e){super(),Wa.add(this),vf.set(this,void 0),Ss.set(this,void 0),_f.set(this,void 0),ae(this,vf,e)}static createResponse(e,n,r){const i=new OT(n);return i._run(()=>i._createOrRetrieveResponse(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(e,n,r){var a;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),V(this,Wa,"m",KA).call(this);let s,o=null;"response_id"in n?(s=await e.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),o=n.starting_after??null):s=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const l of s)V(this,Wa,"m",GA).call(this,l,o);if((a=s.controller.signal)!=null&&a.aborted)throw new tr;return V(this,Wa,"m",XA).call(this)}[(vf=new WeakMap,Ss=new WeakMap,_f=new WeakMap,Wa=new WeakSet,KA=function(){this.ended||ae(this,Ss,void 0)},GA=function(n,r){if(this.ended)return;const i=(o,a)=>{(r==null||a.sequence_number>r)&&this._emit(o,a)},s=V(this,Wa,"m",YA).call(this,n);switch(i("event",n),n.type){case"response.output_text.delta":{const o=s.output[n.output_index];if(!o)throw new re(`missing output at index ${n.output_index}`);if(o.type==="message"){const a=o.content[n.content_index];if(!a)throw new re(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new re(`expected content to be 'output_text', got ${a.type}`);i("response.output_text.delta",{...n,snapshot:a.text})}break}case"response.function_call_arguments.delta":{const o=s.output[n.output_index];if(!o)throw new re(`missing output at index ${n.output_index}`);o.type==="function_call"&&i("response.function_call_arguments.delta",{...n,snapshot:o.arguments});break}default:i(n.type,n);break}},XA=function(){if(this.ended)throw new re("stream has ended, this shouldn't happen");const n=V(this,Ss,"f");if(!n)throw new re("request ended without sending any events");ae(this,Ss,void 0);const r=Lte(n,V(this,vf,"f"));return ae(this,_f,r),r},YA=function(n){var i;let r=V(this,Ss,"f");if(!r){if(n.type!=="response.created")throw new re(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=ae(this,Ss,n.response),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new re(`missing output at index ${n.output_index}`);const o=s.type,a=n.part;o==="message"&&a.type!=="reasoning_text"?s.content.push(a):o==="reasoning"&&a.type==="reasoning_text"&&(s.content||(s.content=[]),s.content.push(a));break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new re(`missing output at index ${n.output_index}`);if(s.type==="message"){const o=s.content[n.content_index];if(!o)throw new re(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new re(`expected content to be 'output_text', got ${o.type}`);o.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new re(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.reasoning_text.delta":{const s=r.output[n.output_index];if(!s)throw new re(`missing output at index ${n.output_index}`);if(s.type==="reasoning"){const o=(i=s.content)==null?void 0:i[n.content_index];if(!o)throw new re(`missing content at index ${n.content_index}`);if(o.type!=="reasoning_text")throw new re(`expected content to be 'reasoning_text', got ${o.type}`);o.text+=n.delta}break}case"response.completed":{ae(this,Ss,n.response);break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=V(this,_f,"f");if(!e)throw new re("stream ended without producing a ChatCompletion");return e}}function Lte(t,e){return Ate(t,e)}class CV extends ne{list(e,n={},r){return this._client.getAPIList($`/responses/${e}/input_items`,_t,{query:n,...r})}}class IV extends ne{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class Mg extends ne{constructor(){super(...arguments),this.inputItems=new CV(this._client),this.inputTokens=new IV(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&r0(r),r))}retrieve(e,n={},r){return this._client.get($`/responses/${e}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&r0(i),i))}delete(e,n){return this._client.delete($`/responses/${e}`,{...n,headers:Z([{Accept:"*/*"},n==null?void 0:n.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>RV(r,e))}stream(e,n){return OT.createResponse(this._client,e,n)}cancel(e,n){return this._client.post($`/responses/${e}/cancel`,n)}compact(e={},n){return this._client.post("/responses/compact",{body:e,...n})}}Mg.InputItems=CV;Mg.InputTokens=IV;class xV extends ne{create(e,n,r){return this._client.post($`/uploads/${e}/parts`,pa({body:n,...r},this._client))}}class DT extends ne{constructor(){super(...arguments),this.parts=new xV(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post($`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post($`/uploads/${e}/complete`,{body:n,...r})}}DT.Parts=xV;const Nte=async t=>{const e=await Promise.allSettled(t),n=e.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};class AV extends ne{create(e,n,r){return this._client.post($`/vector_stores/${e}/file_batches`,{body:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{vector_store_id:i}=n;return this._client.get($`/vector_stores/${i}/file_batches/${e}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(e,n,r){const{vector_store_id:i}=n;return this._client.post($`/vector_stores/${i}/file_batches/${e}/cancel`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const i=await this.create(e,n);return await this.poll(e,i.id,r)}listFiles(e,n,r){const{vector_store_id:i,...s}=n;return this._client.getAPIList($`/vector_stores/${i}/file_batches/${e}/files`,_t,{query:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async poll(e,n,r){var s;const i=Z([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((s=r==null?void 0:r.pollIntervalMs)==null?void 0:s.toString())??void 0}]);for(;;){const{data:o,response:a}=await this.retrieve(n,{vector_store_id:e},{...r,headers:i}).withResponse();switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=a.headers.get("openai-poll-after-ms");if(u){const h=parseInt(u);isNaN(h)||(l=h)}}await nd(l);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(i==null?void 0:i.maxConcurrency)??5,o=Math.min(s,n.length),a=this._client,l=n.values(),u=[...r];async function h(f){for(let p of f){const g=await a.files.create({file:p,purpose:"assistants"},i);u.push(g.id)}}const d=Array(o).fill(l).map(h);return await Nte(d),await this.createAndPoll(e,{file_ids:u})}}class PV extends ne{create(e,n,r){return this._client.post($`/vector_stores/${e}/files`,{body:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{vector_store_id:i}=n;return this._client.get($`/vector_stores/${i}/files/${e}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{vector_store_id:i,...s}=n;return this._client.post($`/vector_stores/${i}/files/${e}`,{body:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList($`/vector_stores/${e}/files`,_t,{query:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n,r){const{vector_store_id:i}=n;return this._client.delete($`/vector_stores/${i}/files/${e}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}async poll(e,n,r){var s;const i=Z([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((s=r==null?void 0:r.pollIntervalMs)==null?void 0:s.toString())??void 0}]);for(;;){const o=await this.retrieve(n,{vector_store_id:e},{...r,headers:i}).withResponse(),a=o.data;switch(a.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.response.headers.get("openai-poll-after-ms");if(u){const h=parseInt(u);isNaN(h)||(l=h)}}await nd(l);break;case"failed":case"completed":return a}}}async upload(e,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,n,r){const i=await this.upload(e,n,r);return await this.poll(e,i.id,r)}content(e,n,r){const{vector_store_id:i}=n;return this._client.getAPIList($`/vector_stores/${i}/files/${e}/content`,Ag,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Lg extends ne{constructor(){super(...arguments),this.files=new PV(this._client),this.fileBatches=new AV(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get($`/vector_stores/${e}`,{...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post($`/vector_stores/${e}`,{body:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",_t,{query:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete($`/vector_stores/${e}`,{...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}search(e,n,r){return this._client.getAPIList($`/vector_stores/${e}/search`,Ag,{body:n,method:"post",...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}Lg.Files=PV;Lg.FileBatches=AV;class kV extends ne{create(e,n){return this._client.post("/videos",LA({body:e,...n},this._client))}retrieve(e,n){return this._client.get($`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",wm,{query:e,...n})}delete(e,n){return this._client.delete($`/videos/${e}`,n)}downloadContent(e,n={},r){return this._client.get($`/videos/${e}/content`,{query:n,...r,headers:Z([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}remix(e,n,r){return this._client.post($`/videos/${e}/remix`,LA({body:n,...r},this._client))}}var Ja,OV,ap;class DV extends ne{constructor(){super(...arguments),Ja.add(this)}async unwrap(e,n,r=this._client.webhookSecret,i=300){return await this.verifySignature(e,n,r,i),JSON.parse(e)}async verifySignature(e,n,r=this._client.webhookSecret,i=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");V(this,Ja,"m",OV).call(this,r);const s=Z([n]).values,o=V(this,Ja,"m",ap).call(this,s,"webhook-signature"),a=V(this,Ja,"m",ap).call(this,s,"webhook-timestamp"),l=V(this,Ja,"m",ap).call(this,s,"webhook-id"),u=parseInt(a,10);if(isNaN(u))throw new uc("Invalid webhook timestamp format");const h=Math.floor(Date.now()/1e3);if(h-u>i)throw new uc("Webhook timestamp is too old");if(u>h+i)throw new uc("Webhook timestamp is too new");const d=o.split(" ").map(E=>E.startsWith("v1,")?E.substring(3):E),f=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),p=l?`${l}.${a}.${e}`:`${a}.${e}`,g=await crypto.subtle.importKey("raw",f,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const E of d)try{const b=Buffer.from(E,"base64");if(await crypto.subtle.verify("HMAC",g,b,new TextEncoder().encode(p)))return}catch{continue}throw new uc("The given webhook signature does not match the expected signature")}}Ja=new WeakSet,OV=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},ap=function(e,n){if(!e)throw new Error("Headers are required");const r=e.get(n);if(r==null)throw new Error(`Missing required header: ${n}`);return r};var i0,MT,lp,MV;class ge{constructor({baseURL:e=za("OPENAI_BASE_URL"),apiKey:n=za("OPENAI_API_KEY"),organization:r=za("OPENAI_ORG_ID")??null,project:i=za("OPENAI_PROJECT_ID")??null,webhookSecret:s=za("OPENAI_WEBHOOK_SECRET")??null,...o}={}){if(i0.add(this),lp.set(this,void 0),this.completions=new uV(this),this.chat=new ST(this),this.embeddings=new dV(this),this.files=new pV(this),this.images=new wV(this),this.audio=new id(this),this.moderations=new EV(this),this.models=new SV(this),this.fineTuning=new mu(this),this.graders=new kT(this),this.vectorStores=new Lg(this),this.webhooks=new DV(this),this.beta=new pu(this),this.batches=new tV(this),this.uploads=new DT(this),this.responses=new Mg(this),this.realtime=new Dg(this),this.conversations=new RT(this),this.evals=new IT(this),this.containers=new bT(this),this.videos=new kV(this),n===void 0)throw new re("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const a={apiKey:n,organization:r,project:i,webhookSecret:s,...o,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&Fee())throw new re(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=a.baseURL,this.timeout=a.timeout??MT.DEFAULT_TIMEOUT,this.logger=a.logger??console;const l="warn";this.logLevel=l,this.logLevel=DA(a.logLevel,"ClientOptions.logLevel",this)??DA(za("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??l,this.fetchOptions=a.fetchOptions,this.maxRetries=a.maxRetries??2,this.fetch=a.fetch??zee(),ae(this,lp,Hee),this._options=a,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=r,this.project=i,this.webhookSecret=s}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return Z([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return Qee(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Ya}`}defaultIdempotencyKey(){return`stainless-node-retry-${r2()}`}makeStatusError(e,n,r,i){return qt.generate(e,n,r,i)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(r){throw r instanceof re?r:new re(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof n!="string"||!n)throw new re(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,r){const i=!V(this,i0,"m",MV).call(this)&&r||this.baseURL,s=Dee(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return Mee(o)||(n={...o,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>({method:e,path:n,...i})))}request(e,n=null){return new xg(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var w,v;const i=await e,s=i.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(i);const{req:o,url:a,timeout:l}=await this.buildRequest(i,{retryCount:s-n});await this.prepareRequest(o,{url:a,options:i});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=r===void 0?"":`, retryOf: ${r}`,d=Date.now();if(Bt(this).debug(`[${u}] sending request`,Vo({retryOfRequestLogID:r,method:i.method,url:a,options:i,headers:o.headers})),(w=i.signal)!=null&&w.aborted)throw new tr;const f=new AbortController,p=await this.fetchWithTimeout(a,o,l,f).catch(qw),g=Date.now();if(p instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if((v=i.signal)!=null&&v.aborted)throw new tr;const x=Hw(p)||/timed? ?out/i.test(String(p)+("cause"in p?String(p.cause):""));if(n)return Bt(this).info(`[${u}] connection ${x?"timed out":"failed"} - ${S}`),Bt(this).debug(`[${u}] connection ${x?"timed out":"failed"} (${S})`,Vo({retryOfRequestLogID:r,url:a,durationMs:g-d,message:p.message})),this.retryRequest(i,n,r??u);throw Bt(this).info(`[${u}] connection ${x?"timed out":"failed"} - error; no more retries left`),Bt(this).debug(`[${u}] connection ${x?"timed out":"failed"} (error; no more retries left)`,Vo({retryOfRequestLogID:r,url:a,durationMs:g-d,message:p.message})),x?new dT:new Cg({cause:p})}const E=[...p.headers.entries()].filter(([S])=>S==="x-request-id").map(([S,x])=>", "+S+": "+JSON.stringify(x)).join(""),b=`[${u}${h}${E}] ${o.method} ${a} ${p.ok?"succeeded":"failed"} with status ${p.status} in ${g-d}ms`;if(!p.ok){const S=await this.shouldRetry(p);if(n&&S){const C=`retrying, ${n} attempts remaining`;return await Wee(p.body),Bt(this).info(`${b} - ${C}`),Bt(this).debug(`[${u}] response error (${C})`,Vo({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,durationMs:g-d})),this.retryRequest(i,n,r??u,p.headers)}const x=S?"error; no more retries left":"error; not retryable";Bt(this).info(`${b} - ${x}`);const D=await p.text().catch(C=>qw(C).message),O=Vee(D),T=O?void 0:D;throw Bt(this).debug(`[${u}] response error (${x})`,Vo({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,message:T,durationMs:Date.now()-d})),this.makeStatusError(p.status,O,T,p.headers)}return Bt(this).info(b),Bt(this).debug(`[${u}] response start`,Vo({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,durationMs:g-d})),{response:p,options:i,controller:f,requestLogID:u,retryOfRequestLogID:r,startTime:d}}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}requestAPIList(e,n){const r=this.makeRequest(n,null,void 0);return new ote(this,r,e)}async fetchWithTimeout(e,n,r,i){const{signal:s,method:o,...a}=n||{};s&&s.addEventListener("abort",()=>i.abort());const l=setTimeout(()=>i.abort(),r),u=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,h={signal:i.signal,...u?{duplex:"half"}:{},method:"GET",...a};o&&(h.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(l)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){let s;const o=i==null?void 0:i.get("retry-after-ms");if(o){const l=parseFloat(o);Number.isNaN(l)||(s=l)}const a=i==null?void 0:i.get("retry-after");if(a&&!s){const l=parseFloat(a);Number.isNaN(l)?s=Date.parse(a)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await nd(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,o=Math.min(.5*Math.pow(2,s),8),a=1-Math.random()*.25;return o*a*1e3}async buildRequest(e,{retryCount:n=0}={}){const r={...e},{method:i,path:s,query:o,defaultBaseURL:a}=r,l=this.buildURL(s,o,a);"timeout"in r&&Nee("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:u,body:h}=this.buildBody({options:r}),d=await this.buildHeaders({options:e,method:i,bodyHeaders:u,retryCount:n});return{req:{method:i,headers:d,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"},...h&&{body:h},...this.fetchOptions??{},...r.fetchOptions??{}},url:l,timeout:r.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const o=Z([s,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...$ee(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(o),o.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Z([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:g2(e)}:V(this,lp,"f").call(this,{body:e,headers:r})}}MT=ge,lp=new WeakMap,i0=new WeakSet,MV=function(){return this.baseURL!=="https://api.openai.com/v1"};ge.OpenAI=MT;ge.DEFAULT_TIMEOUT=6e5;ge.OpenAIError=re;ge.APIError=qt;ge.APIConnectionError=Cg;ge.APIConnectionTimeoutError=dT;ge.APIUserAbortError=tr;ge.NotFoundError=a2;ge.ConflictError=l2;ge.RateLimitError=c2;ge.BadRequestError=i2;ge.AuthenticationError=s2;ge.InternalServerError=h2;ge.PermissionDeniedError=o2;ge.UnprocessableEntityError=u2;ge.InvalidWebhookSignatureError=uc;ge.toFile=hte;ge.Completions=uV;ge.Chat=ST;ge.Embeddings=dV;ge.Files=pV;ge.Images=wV;ge.Audio=id;ge.Moderations=EV;ge.Models=SV;ge.FineTuning=mu;ge.Graders=kT;ge.VectorStores=Lg;ge.Webhooks=DV;ge.Beta=pu;ge.Batches=tV;ge.Uploads=DT;ge.Responses=Mg;ge.Realtime=Dg;ge.Conversations=RT;ge.Evals=IT;ge.Containers=bT;ge.Videos=kV;const Vte=()=>localStorage.getItem("openai_api_key"),LV=()=>{const t=Vte();if(!t)throw new Error("OpenAI API Key not found. Please add it in the Account settings.");return new ge({apiKey:t,dangerouslyAllowBrowser:!0})};async function Fte(t){try{const n=await LV().chat.completions.create({model:"gpt-4o",messages:[{role:"user",content:[{type:"text",text:"Analyze this clothing item. Return a JSON object with the following fields: 'type' (e.g., shirt, pants, dress), 'color' (primary color), 'style' (e.g., casual, formal, sporty), 'tags' (array of 3-5 descriptive keywords), and 'refreshCycle' (suggested number of days before re-wearing, e.g., 1 for underwear, 7 for shirts, 14 for pants)."},{type:"image_url",image_url:{url:t}}]}],response_format:{type:"json_object"}});return JSON.parse(n.choices[0].message.content)}catch(e){return console.error("Error analyzing image:",e),{type:"unknown",color:"unknown",style:"unknown",tags:["manual-entry"],refreshCycle:7}}}async function NV(t,e){try{const n=t.map(a=>({id:a.id,type:a.type,color:a.color,tags:a.tags,style:a.style,rating:a.rating||3,wearCount:a.wearCount||0})),r=`
      I need 3 outfit suggestions from the following wardrobe items:
      ${JSON.stringify(n)}

      Criteria:
      - Destination: ${e.destination}
      - Temperature: ${e.temperature}
      - Style Preference: ${e.style}

      Rules:
      1. Prioritize items with higher 'rating'.
      2. Consider 'wearCount' - if an item has a high rating but low wear count, suggest it more.
      3. Ensure the outfits are appropriate for the temperature and destination.

      Please select 3 distinct outfits. For each outfit, provide:
      1. A short summary explaining why it fits the criteria.
      2. The list of item IDs used in the outfit.
      
      Return the result as a JSON object with a key "outfits" containing an array of the 3 suggestions.
    `,s=await LV().chat.completions.create({model:"gpt-4o",messages:[{role:"system",content:"You are a helpful fashion stylist assistant."},{role:"user",content:r}],response_format:{type:"json_object"}});return JSON.parse(s.choices[0].message.content).outfits}catch(n){return console.error("Error generating outfits:",n),[]}}const QA=(t,e=200,n=200)=>new Promise(r=>{let i=new Image;i.src=t,i.onload=()=>{let s=document.createElement("canvas"),o=i.width,a=i.height;o>a?o>e&&(a*=e/o,o=e):a>n&&(o*=n/a,a=n),s.width=o,s.height=a,s.getContext("2d").drawImage(i,0,0,o,a),r(s.toDataURL("image/jpeg",.4))}});function Bte(){const[t,e]=R.useState(null),[n,r]=R.useState(!1),[i,s]=R.useState(!1),[o,a]=R.useState(null),l=R.useRef(null),{addItem:u}=Rg(),h=nu(),d=hi();R.useEffect(()=>{var b;(b=d.state)!=null&&b.image&&(async()=>{const v=await QA(d.state.image);e(v),p(v)})()},[]);const f=b=>{const w=b.target.files[0];if(w){const v=new FileReader;v.onloadend=async()=>{const S=await QA(v.result);e(S),p(S)},v.readAsDataURL(w)}},p=async b=>{r(!0);try{const w=await Fte(b);a(w)}catch(w){console.error("Analysis failed",w),alert("Failed to analyze image. Please try again.")}finally{r(!1)}},g=async()=>{if(t&&o&&!i){s(!0);const w=t.length*3/4/1024;console.log(`Attempting to save image. Size: ${w.toFixed(2)} KB`);try{u({imageUri:t,...o,lastWorn:null}).catch(v=>{console.error("Background save failed:",v)}),h("/closet")}catch(v){console.error("Failed to save item:",v),alert(`Failed to save item: ${v.message}.`),s(!1)}}},E=()=>{e(null),a(null),l.current&&l.current.click()};return M.jsxs(Tr,{style:{flex:1},contentContainerStyle:ke.container,children:[M.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:l,style:{display:"none"},onChange:f}),M.jsx(q,{style:ke.title,children:"Add New Item"}),t?M.jsxs(K,{style:ke.previewContainer,children:[M.jsx(ui,{source:{uri:t},style:ke.previewImage}),n?M.jsxs(K,{style:ke.loadingContainer,children:[M.jsx(Nh,{size:"large",color:"#007AFF"}),M.jsx(q,{style:ke.loadingText,children:"Analyzing your item..."})]}):o?M.jsxs(K,{style:ke.formContainer,children:[M.jsxs(K,{style:ke.rowContainer,children:[M.jsxs(K,{style:ke.inputGroup,children:[M.jsx(q,{style:ke.label,children:"Type"}),M.jsx(jn,{style:ke.compactInput,value:o.type,onChangeText:b=>a({...o,type:b})})]}),M.jsxs(K,{style:ke.inputGroup,children:[M.jsx(q,{style:ke.label,children:"Color"}),M.jsx(jn,{style:ke.compactInput,value:o.color,onChangeText:b=>a({...o,color:b})})]}),M.jsxs(K,{style:ke.inputGroup,children:[M.jsx(q,{style:ke.label,children:"Style"}),M.jsx(jn,{style:ke.compactInput,value:o.style,onChangeText:b=>a({...o,style:b})})]})]}),M.jsx(q,{style:ke.label,children:"Tags"}),M.jsx(K,{style:ke.tagsContainer,children:o.tags.map((b,w)=>M.jsx(K,{style:ke.tagBadge,children:M.jsx(q,{style:ke.tagText,children:b})},w))}),M.jsxs(K,{style:ke.buttonGroup,children:[M.jsx(Re,{style:[ke.button,ke.secondaryButton],onPress:E,children:M.jsx(q,{style:ke.secondaryButtonText,children:"Retake"})}),M.jsx(Re,{style:ke.button,onPress:g,disabled:i,children:M.jsx(q,{style:ke.buttonText,children:i?"Saving...":"Save to Closet"})})]})]}):null]}):M.jsx(K,{style:ke.uploadContainer,children:M.jsx(Re,{style:ke.button,onPress:()=>l.current.click(),children:M.jsx(q,{style:ke.buttonText,children:"Take Photo / Upload"})})})]})}const ke=Ie.create({container:{flexGrow:1,padding:20,alignItems:"center"},title:{fontSize:24,fontWeight:"bold",marginBottom:20},uploadContainer:{flex:1,justifyContent:"center",alignItems:"center",width:"100%"},previewContainer:{width:"100%",alignItems:"center"},previewImage:{width:300,height:300,borderRadius:10,marginBottom:20},loadingContainer:{alignItems:"center"},loadingText:{marginTop:10,color:"#666"},formContainer:{width:"100%"},rowContainer:{flexDirection:"row",justifyContent:"space-between",marginBottom:15},inputGroup:{width:"30%"},label:{fontWeight:"600",fontSize:12,color:"#666",marginBottom:4,textTransform:"uppercase"},compactInput:{borderWidth:1,borderColor:"#eee",padding:8,borderRadius:8,backgroundColor:"#f9f9f9",fontSize:14},tagsContainer:{flexDirection:"row",flexWrap:"wrap",marginBottom:20,marginTop:5},tagBadge:{backgroundColor:"#f0f0f0",paddingHorizontal:10,paddingVertical:5,borderRadius:15,marginRight:8,marginBottom:8},tagText:{fontSize:12,color:"#333"},buttonGroup:{flexDirection:"row",justifyContent:"space-between",marginTop:20},button:{backgroundColor:"#007AFF",padding:15,borderRadius:10,alignItems:"center",flex:1,marginHorizontal:5},buttonText:{color:"#fff",fontWeight:"bold"},secondaryButton:{backgroundColor:"#fff",borderWidth:1,borderColor:"#007AFF"},secondaryButtonText:{color:"#007AFF",fontWeight:"bold"}});function Ute(){const{items:t,isItemAvailable:e,addToSchedule:n}=Rg(),r=nu(),[i,s]=R.useState(""),[o,a]=R.useState(""),[l,u]=R.useState(""),[h,d]=R.useState(!1),[f,p]=R.useState([]),[g,E]=R.useState(null),[b,w]=R.useState(!1),[v,S]=R.useState(new Date().toISOString().split("T")[0]),x=async()=>{if(!i||!o||!l){alert("Please fill in all fields");return}d(!0);const y=t.filter(e);try{const C=await NV(y,{destination:i,temperature:o,style:l});p(C)}catch(C){console.error("Failed to generate outfits",C),alert("Failed to generate suggestions. Please try again.")}finally{d(!1)}},D=y=>{E(y),w(!0)},O=()=>{g&&v&&(n(v,g.items),w(!1),E(null),alert("Outfit scheduled!"),r("/schedule"))},T=y=>t.find(C=>C.id===y);return M.jsxs(Tr,{contentContainerStyle:Ae.container,children:[M.jsx(q,{style:Ae.title,children:"Virtual Dressing Room"}),M.jsxs(K,{style:Ae.form,children:[M.jsx(q,{style:Ae.label,children:"Destination / Occasion"}),M.jsx(jn,{style:Ae.input,placeholder:"e.g. Work, Date Night, Gym",value:i,onChangeText:s}),M.jsx(q,{style:Ae.label,children:"Temperature"}),M.jsx(jn,{style:Ae.input,placeholder:"e.g. 75F, Cold, Rainy",value:o,onChangeText:a}),M.jsx(q,{style:Ae.label,children:"Style Preference"}),M.jsx(jn,{style:Ae.input,placeholder:"e.g. Casual, Chic, Edgy",value:l,onChangeText:u}),M.jsx(Re,{style:[Ae.button,h&&Ae.disabledButton],onPress:x,disabled:h,children:h?M.jsx(Nh,{color:"#fff"}):M.jsx(q,{style:Ae.buttonText,children:"Generate Outfits"})})]}),f.length>0&&M.jsxs(K,{style:Ae.results,children:[M.jsx(q,{style:Ae.subtitle,children:"Suggestions"}),f.map((y,C)=>M.jsxs(K,{style:Ae.outfitCard,children:[M.jsx(q,{style:Ae.outfitSummary,children:y.summary}),M.jsx(Tr,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:Ae.itemsRow,children:y.items.map(I=>{const A=T(I);return A?M.jsxs(K,{style:Ae.itemPreview,children:[M.jsx(ui,{source:{uri:A.imageUri},style:Ae.itemImage}),M.jsx(q,{style:Ae.itemType,children:A.type})]},I):null})}),M.jsx(Re,{style:Ae.scheduleButton,onPress:()=>D(y),children:M.jsx(q,{style:Ae.scheduleButtonText,children:"Schedule This Outfit"})})]},C))]}),M.jsx(hh,{visible:b,transparent:!0,animationType:"slide",children:M.jsx(K,{style:Ae.modalContainer,children:M.jsxs(K,{style:Ae.modalContent,children:[M.jsx(q,{style:Ae.modalTitle,children:"Select Date"}),M.jsx("input",{type:"date",value:v,onChange:y=>S(y.target.value),style:Ae.dateInput}),M.jsxs(K,{style:Ae.modalButtons,children:[M.jsx(Re,{style:[Ae.button,Ae.cancelButton],onPress:()=>w(!1),children:M.jsx(q,{style:Ae.cancelButtonText,children:"Cancel"})}),M.jsx(Re,{style:Ae.button,onPress:O,children:M.jsx(q,{style:Ae.buttonText,children:"Confirm"})})]})]})})})]})}const Ae=Ie.create({container:{flexGrow:1,padding:20},title:{fontSize:24,fontWeight:"bold",marginBottom:20,textAlign:"center"},form:{backgroundColor:"#fff",padding:20,borderRadius:10,marginBottom:20,elevation:2},label:{fontWeight:"bold",marginBottom:5,color:"#333"},input:{borderWidth:1,borderColor:"#ddd",padding:10,borderRadius:5,marginBottom:15,backgroundColor:"#f9f9f9"},button:{backgroundColor:"#007AFF",padding:15,borderRadius:10,alignItems:"center"},disabledButton:{backgroundColor:"#99c9ff"},buttonText:{color:"#fff",fontWeight:"bold",fontSize:16},results:{marginTop:10,paddingBottom:40},subtitle:{fontSize:20,fontWeight:"bold",marginBottom:15},outfitCard:{backgroundColor:"#fff",padding:15,borderRadius:10,marginBottom:15,elevation:2},outfitSummary:{fontSize:16,marginBottom:10,lineHeight:22},itemsRow:{flexDirection:"row",marginTop:10,marginBottom:15},itemPreview:{marginRight:15,alignItems:"center"},itemImage:{width:80,height:80,borderRadius:5,marginBottom:5},itemType:{fontSize:12,color:"#666",textTransform:"capitalize"},scheduleButton:{backgroundColor:"#34C759",padding:10,borderRadius:5,alignItems:"center"},scheduleButtonText:{color:"#fff",fontWeight:"bold"},modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.5)"},modalContent:{backgroundColor:"#fff",padding:20,borderRadius:10,width:"80%",alignItems:"center"},modalTitle:{fontSize:18,fontWeight:"bold",marginBottom:20},dateInput:{padding:10,fontSize:16,marginBottom:20,width:"100%",border:"1px solid #ddd",borderRadius:5},modalButtons:{flexDirection:"row",justifyContent:"space-between",width:"100%"},cancelButton:{backgroundColor:"#fff",borderWidth:1,borderColor:"#ddd",marginRight:10},cancelButtonText:{color:"#333"}}),bv=async(t,e)=>{try{const r=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${e}&daily=temperature_2m_max,temperature_2m_min,weathercode&temperature_unit=fahrenheit&timezone=auto`)).json(),i={};return r.daily.time.forEach((s,o)=>{i[s]={max:Math.round(r.daily.temperature_2m_max[o]),min:Math.round(r.daily.temperature_2m_min[o]),code:r.daily.weathercode[o]}}),i}catch(n){return console.error("Error fetching weather:",n),null}},jte=t=>({0:"Clear sky",1:"Mainly clear",2:"Partly cloudy",3:"Overcast",45:"Fog",48:"Depositing rime fog",51:"Light drizzle",53:"Moderate drizzle",55:"Dense drizzle",61:"Slight rain",63:"Moderate rain",65:"Heavy rain",71:"Slight snow",73:"Moderate snow",75:"Heavy snow",95:"Thunderstorm"})[t]||"Variable";function $te(){const{schedule:t,items:e,markAsWorn:n,addToSchedule:r,isItemAvailable:i}=Rg(),[s,o]=R.useState({}),[a,l]=R.useState(!1),[u,h]=R.useState(null),[d,f]=R.useState(!1),[p,g]=R.useState([]),[E,b]=R.useState({destination:"",style:"",temperature:""});R.useEffect(()=>{(async()=>{if(navigator.geolocation)navigator.geolocation.getCurrentPosition(async A=>{const L=await bv(A.coords.latitude,A.coords.longitude);L&&o(L)},async()=>{const A=await bv(40.7128,-74.006);A&&o(A)});else{const A=await bv(40.7128,-74.006);A&&o(A)}})()},[]);const w=()=>{const y=[];for(let C=0;C<7;C++){const I=new Date;I.setDate(I.getDate()+C),y.push(I.toISOString().split("T")[0])}return y},v=y=>e.find(C=>C.id===y),S=(y,C)=>{confirm("Mark this outfit as worn? Items will be unavailable for their refresh cycle.")&&n(C,y)},x=y=>{h(y),g([]),b({destination:"",style:"",temperature:""}),l(!0)},D=async()=>{f(!0);try{const y=s[u],C=y?`${y.max}F / ${y.min}F`:"Unknown",I=e.filter(i),A=await NV(I,{destination:E.destination,temperature:E.temperature||C,style:E.style});A&&A.outfits&&g(A.outfits)}catch(y){console.error("Generation failed",y),alert("Failed to generate outfits. Check your API key.")}finally{f(!1)}},O=y=>{r(u,y.itemIds),l(!1)},T=w();return M.jsxs(Tr,{contentContainerStyle:Te.container,children:[M.jsx(q,{style:Te.title,children:"Outfit Schedule"}),T.map(y=>{const C=t[y],I=new Date(y),A=I.toLocaleDateString("en-US",{weekday:"long"}),L=I.toLocaleDateString("en-US",{month:"short",day:"numeric"}),k=s[y];return M.jsxs(K,{style:Te.dayCard,children:[M.jsxs(K,{style:Te.dateHeader,children:[M.jsxs(K,{children:[M.jsx(q,{style:Te.dayName,children:A}),M.jsx(q,{style:Te.dateText,children:L})]}),k&&M.jsxs(K,{style:Te.weatherContainer,children:[M.jsxs(q,{style:Te.weatherTemp,children:[k.max," / ",k.min,""]}),M.jsx(q,{style:Te.weatherDesc,children:jte(k.code)})]})]}),C?M.jsxs(K,{children:[M.jsx(Tr,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:Te.itemsRow,children:C.map(le=>{const he=v(le);return he?M.jsxs(K,{style:Te.itemPreview,children:[M.jsx(ui,{source:{uri:he.imageUri||he.image},style:Te.itemImage}),M.jsx(q,{style:Te.itemType,children:he.type})]},le):null})}),M.jsx(Re,{style:Te.wearButton,onPress:()=>S(y,C),children:M.jsx(q,{style:Te.wearButtonText,children:"Wear This Outfit"})})]}):M.jsx(Re,{style:Te.generateButton,onPress:()=>x(y),children:M.jsx(q,{style:Te.generateButtonText,children:"+ Generate Outfit"})})]},y)}),M.jsx(hh,{visible:a,animationType:"slide",onRequestClose:()=>l(!1),children:M.jsxs(K,{style:Te.modalContainer,children:[M.jsxs(q,{style:Te.modalTitle,children:["Plan for ",u]}),M.jsxs(Tr,{style:{flex:1},children:[M.jsxs(K,{style:{marginBottom:20},children:[M.jsx(q,{style:Te.label,children:"Destination / Occasion"}),M.jsx(jn,{style:Te.input,placeholder:"e.g. Work, Date Night, Gym",value:E.destination,onChangeText:y=>b(C=>({...C,destination:y}))}),M.jsx(q,{style:Te.label,children:"Temperature"}),M.jsx(jn,{style:Te.input,placeholder:"e.g. 75F, Cold, Rainy (Leave blank to use forecast)",value:E.temperature,onChangeText:y=>b(C=>({...C,temperature:y}))}),M.jsx(q,{style:Te.label,children:"Style Preference"}),M.jsx(jn,{style:Te.input,placeholder:"e.g. Casual, Chic, Edgy",value:E.style,onChangeText:y=>b(C=>({...C,style:y}))})]}),M.jsx(Re,{style:[Te.genButton,d&&{opacity:.7}],onPress:D,disabled:d,children:d?M.jsx(Nh,{color:"#fff"}):M.jsx(q,{style:Te.genButtonText,children:"Generate Suggestions"})}),p.map((y,C)=>M.jsxs(Re,{style:Te.suggestionCard,onPress:()=>O(y),children:[M.jsx(q,{style:Te.suggestionSummary,children:y.reason||y.summary}),M.jsx(Tr,{horizontal:!0,children:y.itemIds.map(I=>{const A=v(I);return A?M.jsx(ui,{source:{uri:A.imageUri||A.image},style:Te.smallImage},I):null})}),M.jsx(K,{style:Te.selectButton,children:M.jsx(q,{style:Te.selectButtonText,children:"Select This Outfit"})})]},C))]}),M.jsx(Re,{style:Te.closeButton,onPress:()=>l(!1),children:M.jsx(q,{style:Te.closeButtonText,children:"Close"})})]})})]})}const Te=Ie.create({container:{flexGrow:1,padding:20,paddingBottom:80},title:{fontSize:24,fontWeight:"bold",marginBottom:20,textAlign:"center"},dayCard:{backgroundColor:"#fff",borderRadius:10,padding:15,marginBottom:15,elevation:2},dateHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},weatherContainer:{alignItems:"flex-end"},weatherTemp:{fontSize:16,fontWeight:"bold"},weatherDesc:{fontSize:12,color:"#666"},generateButton:{backgroundColor:"#f0f0f0",padding:15,borderRadius:8,alignItems:"center",borderWidth:1,borderColor:"#ddd",borderStyle:"dashed"},generateButtonText:{color:"#007AFF",fontSize:16},modalContainer:{flex:1,padding:20,backgroundColor:"#fff"},modalTitle:{fontSize:22,fontWeight:"bold",marginBottom:10,textAlign:"center"},modalWeather:{textAlign:"center",marginBottom:20,color:"#666"},genButton:{backgroundColor:"#007AFF",padding:15,borderRadius:10,alignItems:"center",marginBottom:10},genButtonText:{color:"#fff",fontWeight:"bold",fontSize:16},suggestionCard:{borderWidth:1,borderColor:"#ddd",borderRadius:10,padding:15,marginBottom:20},suggestionSummary:{marginBottom:10,fontStyle:"italic"},smallImage:{width:60,height:60,borderRadius:5,marginRight:5},selectButton:{backgroundColor:"#34C759",padding:10,borderRadius:5,alignItems:"center",marginTop:10},selectButtonText:{color:"#fff",fontWeight:"bold"},closeButton:{padding:15,alignItems:"center"},closeButtonText:{color:"red"},dayName:{fontSize:18,fontWeight:"bold"},dateText:{color:"#666"},itemsRow:{flexDirection:"row",marginBottom:10},itemPreview:{marginRight:10,alignItems:"center"},itemImage:{width:80,height:80,borderRadius:8,marginBottom:5},itemType:{fontSize:12},wearButton:{backgroundColor:"#007AFF",padding:10,borderRadius:5,alignItems:"center"},wearButtonText:{color:"#fff",fontWeight:"bold"},emptyText:{textAlign:"center",color:"#999",fontStyle:"italic",padding:10}});function zte(){const[t,e]=R.useState(""),[n,r]=R.useState(""),[i,s]=R.useState(!0),[o,a]=R.useState(!1),[l,u]=R.useState(""),[h,d]=R.useState(!1),[f,p]=R.useState(""),g=async()=>{u(""),p(""),a(!0);try{h?(await mX(t),p("Check your email for password reset instructions."),d(!1)):i?await dX(t,n):await fX(t,n)}catch(E){u(E.message.replace("Firebase: ",""))}finally{a(!1)}};return M.jsxs(K,{style:pn.container,children:[M.jsx(ui,{source:{uri:"/pwa-192x192.png"},style:{width:100,height:100,marginBottom:20,alignSelf:"center"}}),M.jsxs(K,{style:pn.card,children:[M.jsx(q,{style:pn.title,children:h?"Reset Password":i?"Pocket Stylist Login":"Create Account"}),l?M.jsx(q,{style:pn.error,children:l}):null,f?M.jsx(q,{style:pn.success,children:f}):null,M.jsx(jn,{style:pn.input,placeholder:"Email",value:t,onChangeText:e,autoCapitalize:"none",keyboardType:"email-address"}),!h&&M.jsx(jn,{style:pn.input,placeholder:"Password",value:n,onChangeText:r,secureTextEntry:!0}),M.jsx(Re,{style:pn.button,onPress:g,disabled:o,children:o?M.jsx(Nh,{color:"#fff"}):M.jsx(q,{style:pn.buttonText,children:h?"Send Reset Email":i?"Log In":"Sign Up"})}),M.jsx(K,{style:pn.footer,children:h?M.jsx(Re,{onPress:()=>d(!1),children:M.jsx(q,{style:pn.link,children:"Back to Login"})}):M.jsxs(M.Fragment,{children:[M.jsx(Re,{onPress:()=>s(!i),children:M.jsx(q,{style:pn.link,children:i?"Need an account? Sign Up":"Have an account? Log In"})}),M.jsx(Re,{onPress:()=>d(!0),children:M.jsx(q,{style:[pn.link,pn.forgotLink],children:"Forgot Password?"})})]})})]})]})}const pn=Ie.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5",padding:20,height:"100vh"},card:{backgroundColor:"#fff",padding:30,borderRadius:15,width:"100%",maxWidth:400,elevation:5,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4},title:{fontSize:24,fontWeight:"bold",marginBottom:20,textAlign:"center",color:"#333"},input:{backgroundColor:"#f9f9f9",padding:15,borderRadius:8,marginBottom:15,borderWidth:1,borderColor:"#eee"},button:{backgroundColor:"#007AFF",padding:15,borderRadius:8,alignItems:"center",marginTop:10},buttonText:{color:"#fff",fontWeight:"bold",fontSize:16},error:{color:"red",marginBottom:15,textAlign:"center"},success:{color:"green",marginBottom:15,textAlign:"center"},footer:{marginTop:20,alignItems:"center"},link:{color:"#007AFF",marginTop:10},forgotLink:{color:"#666",fontSize:12}});function Wte({onNavigate:t}){const e=nu(),n=hi(),r=s=>{t?t(s):e(s)},i=[{name:"Home",path:"/"},{name:"Closet",path:"/closet"},{name:"Style",path:"/outfits"},{name:"Plan",path:"/schedule"}];return M.jsx(K,{style:Yu.navBar,children:i.map(s=>{const o=n.pathname===s.path;return M.jsx(Re,{style:[Yu.tab,o&&Yu.activeTab],onPress:()=>r(s.path),children:M.jsx(q,{style:[Yu.tabText,o&&Yu.activeTabText],children:s.name})},s.name)})})}const Yu=Ie.create({navBar:{flexDirection:"row",justifyContent:"space-around",backgroundColor:Gr.colors.background,borderTopWidth:1,borderTopColor:Gr.colors.border,paddingBottom:20,paddingTop:10,position:"absolute",bottom:0,left:0,right:0},tab:{alignItems:"center",padding:10},activeTab:{borderBottomWidth:2,borderBottomColor:Gr.colors.highlight},tabText:{fontSize:16,color:Gr.colors.secondaryText},activeTabText:{color:Gr.colors.highlight,fontWeight:"bold"}});function Hte({visible:t,onClose:e}){const n=cu.currentUser,[r,i]=R.useState("");R.useEffect(()=>{n&&wee(n.uid).then(a=>{if(a!=null&&a.openai_api_key)i(a.openai_api_key),localStorage.setItem("openai_api_key",a.openai_api_key);else{const l=localStorage.getItem("openai_api_key");l&&i(l)}})},[n,t]);const s=async()=>{n&&(await _ee(n.uid,{openai_api_key:r}),localStorage.setItem("openai_api_key",r),alert("API Key saved to account!"))},o=async()=>{try{await pX(),e()}catch(a){console.error("Failed to log out",a)}};return M.jsx(hh,{visible:t,transparent:!0,animationType:"fade",onRequestClose:e,children:M.jsxs(K,{style:Yt.overlay,children:[M.jsx(Re,{style:Ie.absoluteFill,activeOpacity:1,onPress:e}),M.jsxs(K,{style:Yt.modalContent,children:[M.jsx(q,{style:Yt.title,children:"Account"}),M.jsxs(K,{style:Yt.info,children:[M.jsx(q,{style:Yt.label,children:"Email"}),M.jsx(q,{style:Yt.value,children:n==null?void 0:n.email})]}),M.jsxs(K,{style:Yt.section,children:[M.jsx(q,{style:Yt.label,children:"OpenAI API Key"}),M.jsx("input",{type:"password",style:{width:"100%",padding:10,marginBottom:10,border:"1px solid #ddd",borderRadius:8,fontSize:16,boxSizing:"border-box"},placeholder:"sk-...",value:r,onChange:a=>i(a.target.value)}),M.jsx(Re,{style:Yt.saveButton,onPress:s,children:M.jsx(q,{style:Yt.saveButtonText,children:"Save Key"})})]}),M.jsx(Re,{style:Yt.refreshButton,onPress:()=>window.location.reload(),children:M.jsx(q,{style:Yt.refreshButtonText,children:"Refresh App"})}),M.jsx(Re,{style:Yt.logoutButton,onPress:o,children:M.jsx(q,{style:Yt.logoutText,children:"Log Out"})}),M.jsx(Re,{style:Yt.closeButton,onPress:e,children:M.jsx(q,{style:Yt.closeText,children:"Close"})})]})]})})}const Yt=Ie.create({overlay:{flex:1,backgroundColor:"rgba(0,0,0,0.5)",justifyContent:"center",alignItems:"center"},modalContent:{backgroundColor:"#fff",width:"80%",maxWidth:300,borderRadius:15,padding:20,alignItems:"center",elevation:5},title:{fontSize:20,fontWeight:"bold",marginBottom:20},info:{marginBottom:20,alignItems:"center"},section:{width:"100%",marginBottom:20},label:{color:"#666",fontSize:12,marginBottom:5},value:{fontSize:16,fontWeight:"500"},input:{borderWidth:1,borderColor:"#ddd",borderRadius:8,padding:10,marginBottom:10,width:"100%"},saveButton:{backgroundColor:"#007AFF",padding:10,borderRadius:8,alignItems:"center"},saveButtonText:{color:"#fff",fontWeight:"bold"},refreshButton:{backgroundColor:"#34C759",paddingVertical:12,paddingHorizontal:30,borderRadius:25,marginBottom:10,width:"100%",alignItems:"center"},refreshButtonText:{color:"#fff",fontWeight:"bold"},logoutButton:{backgroundColor:"#FF3B30",paddingVertical:12,paddingHorizontal:30,borderRadius:25,marginBottom:10,width:"100%",alignItems:"center"},logoutText:{color:"#fff",fontWeight:"bold"},closeButton:{padding:10},closeText:{color:"#007AFF"}}),qte={enter:t=>({x:t>0?"100%":"-100%",opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:t=>({zIndex:0,x:t<0?"100%":"-100%",opacity:0})},Qu=({children:t,direction:e})=>M.jsx(gee.div,{custom:e,variants:qte,initial:"enter",animate:"center",exit:"exit",transition:{type:"tween",ease:"easeInOut",duration:.3},style:{height:"100%",width:"100%",backgroundColor:"#ffffff",overflowY:"auto",overflowX:"hidden",position:"absolute",top:0,left:0,paddingBottom:"80px"},children:t});function Kte(){const{currentUser:t}=_L(),[e,n]=R.useState(!1),[r,i]=R.useState(0),s=nu(),o=hi(),a=["/","/closet","/outfits","/schedule"],l=h=>{const d=a.indexOf(o.pathname),f=a.indexOf(h);i(f>d?1:-1),s(h)},u=IX({onSwipedLeft:()=>{const h=a.indexOf(o.pathname);h<a.length-1&&(i(1),s(a[h+1]))},onSwipedRight:()=>{const h=a.indexOf(o.pathname);h>0&&(i(-1),s(a[h-1]))},preventScrollOnSwipe:!1,trackMouse:!0,delta:50});return t?M.jsxs(K,{style:Rv.container,children:[M.jsxs(K,{style:Rv.header,children:[M.jsx(K,{style:{flexDirection:"row",alignItems:"center",flex:1},children:M.jsx(ui,{source:{uri:yee},style:{width:260,height:52,resizeMode:"contain",marginLeft:-25}})}),M.jsx(Re,{onPress:()=>n(!0),children:M.jsx(NX,{size:34,color:Gr.colors.highlight})})]}),M.jsx(K,{style:Rv.content,...u,children:M.jsx(BQ,{mode:"popLayout",custom:r,children:M.jsxs(Z5,{location:o,children:[M.jsx(Ha,{path:"/",element:M.jsx(Qu,{direction:r,children:M.jsx(vee,{})})}),M.jsx(Ha,{path:"/closet",element:M.jsx(Qu,{direction:r,children:M.jsx(kee,{})})}),M.jsx(Ha,{path:"/camera",element:M.jsx(Qu,{direction:r,children:M.jsx(Bte,{})})}),M.jsx(Ha,{path:"/outfits",element:M.jsx(Qu,{direction:r,children:M.jsx(Ute,{})})}),M.jsx(Ha,{path:"/schedule",element:M.jsx(Qu,{direction:r,children:M.jsx($te,{})})})]},o.pathname)})}),M.jsx(Wte,{onNavigate:l}),M.jsx(Hte,{visible:e,onClose:()=>n(!1)})]}):M.jsx(zte,{})}function Gte(){return M.jsx(Ez,{children:M.jsx(Kte,{})})}const Rv=Ie.create({container:{flex:1,height:"100vh",maxHeight:"100dvh",backgroundColor:"#ffffff",overflow:"hidden",position:"fixed",top:0,left:0,right:0,bottom:0},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:15,backgroundColor:Gr.colors.background,borderBottomWidth:1,borderBottomColor:Gr.colors.border,paddingTop:15,zIndex:10,height:70},headerTitle:{fontSize:18,fontWeight:"bold",color:Gr.colors.text},accountButton:{color:Gr.colors.highlight,fontWeight:"500"},content:{flex:1,paddingBottom:60,overflow:"hidden"}});"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(t){for(let e of t)console.log("Unregistering Service Worker:",e),e.unregister()});Cv.createRoot(document.getElementById("root")).render(M.jsx(ht.StrictMode,{children:M.jsx(gX,{children:M.jsx(Cee,{children:M.jsx(Gte,{})})})}));
