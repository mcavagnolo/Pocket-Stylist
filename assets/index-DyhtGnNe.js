(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Gl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function QA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var JA={exports:{}},Im={},ZA={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah=Symbol.for("react.element"),NV=Symbol.for("react.portal"),VV=Symbol.for("react.fragment"),FV=Symbol.for("react.strict_mode"),BV=Symbol.for("react.profiler"),jV=Symbol.for("react.provider"),UV=Symbol.for("react.context"),$V=Symbol.for("react.forward_ref"),zV=Symbol.for("react.suspense"),WV=Symbol.for("react.memo"),HV=Symbol.for("react.lazy"),eb=Symbol.iterator;function qV(t){return t===null||typeof t!="object"?null:(t=eb&&t[eb]||t["@@iterator"],typeof t=="function"?t:null)}var eP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tP=Object.assign,nP={};function Xl(t,e,n){this.props=t,this.context=e,this.refs=nP,this.updater=n||eP}Xl.prototype.isReactComponent={};Xl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rP(){}rP.prototype=Xl.prototype;function i0(t,e,n){this.props=t,this.context=e,this.refs=nP,this.updater=n||eP}var s0=i0.prototype=new rP;s0.constructor=i0;tP(s0,Xl.prototype);s0.isPureReactComponent=!0;var tb=Array.isArray,iP=Object.prototype.hasOwnProperty,o0={current:null},sP={key:!0,ref:!0,__self:!0,__source:!0};function oP(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)iP.call(e,r)&&!sP.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ah,type:t,key:s,ref:o,props:i,_owner:o0.current}}function KV(t,e){return{$$typeof:Ah,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function a0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ah}function GV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nb=/\/+/g;function Ug(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GV(""+t.key):e.toString(36)}function _f(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ah:case NV:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ug(o,0):r,tb(i)?(n="",t!=null&&(n=t.replace(nb,"$&/")+"/"),_f(i,e,n,"",function(u){return u})):i!=null&&(a0(i)&&(i=KV(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(nb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",tb(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ug(s,a);o+=_f(s,e,n,l,i)}else if(l=qV(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ug(s,a++),o+=_f(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Id(t,e,n){if(t==null)return t;var r=[],i=0;return _f(t,r,"","",function(s){return e.call(n,s,i++)}),r}function XV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},wf={transition:null},YV={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:wf,ReactCurrentOwner:o0};function aP(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Id,forEach:function(t,e,n){Id(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Id(t,function(){e++}),e},toArray:function(t){return Id(t,function(e){return e})||[]},only:function(t){if(!a0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=Xl;ve.Fragment=VV;ve.Profiler=BV;ve.PureComponent=i0;ve.StrictMode=FV;ve.Suspense=zV;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YV;ve.act=aP;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=tP({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=o0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)iP.call(e,l)&&!sP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ah,type:t.type,key:i,ref:s,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:UV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jV,_context:t},t.Consumer=t};ve.createElement=oP;ve.createFactory=function(t){var e=oP.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:$V,render:t}};ve.isValidElement=a0;ve.lazy=function(t){return{$$typeof:HV,_payload:{_status:-1,_result:t},_init:XV}};ve.memo=function(t,e){return{$$typeof:WV,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=wf.transition;wf.transition={};try{t()}finally{wf.transition=e}};ve.unstable_act=aP;ve.useCallback=function(t,e){return dn.current.useCallback(t,e)};ve.useContext=function(t){return dn.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};ve.useEffect=function(t,e){return dn.current.useEffect(t,e)};ve.useId=function(){return dn.current.useId()};ve.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return dn.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};ve.useRef=function(t){return dn.current.useRef(t)};ve.useState=function(t){return dn.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return dn.current.useTransition()};ve.version="18.3.1";ZA.exports=ve;var R=ZA.exports;const dt=Gl(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QV=R,JV=Symbol.for("react.element"),ZV=Symbol.for("react.fragment"),eF=Object.prototype.hasOwnProperty,tF=QV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nF={key:!0,ref:!0,__self:!0,__source:!0};function lP(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)eF.call(e,r)&&!nF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:JV,type:t,key:s,ref:o,props:i,_owner:tF.current}}Im.Fragment=ZV;Im.jsx=lP;Im.jsxs=lP;JA.exports=Im;var O=JA.exports,Rv={},uP={exports:{}},zn={},cP={exports:{}},hP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,Y){var ee=U.length;U.push(Y);e:for(;0<ee;){var ye=ee-1>>>1,xe=U[ye];if(0<i(xe,Y))U[ye]=Y,U[ee]=xe,ee=ye;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Y=U[0],ee=U.pop();if(ee!==Y){U[0]=ee;e:for(var ye=0,xe=U.length,rn=xe>>>1;ye<rn;){var rt=2*(ye+1)-1,Nt=U[rt],ct=rt+1,Ue=U[ct];if(0>i(Nt,ee))ct<xe&&0>i(Ue,Nt)?(U[ye]=Ue,U[ct]=ee,ye=ct):(U[ye]=Nt,U[rt]=ee,ye=rt);else if(ct<xe&&0>i(Ue,ee))U[ye]=Ue,U[ct]=ee,ye=ct;else break e}}return Y}function i(U,Y){var ee=U.sortIndex-Y.sortIndex;return ee!==0?ee:U.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,f=3,p=!1,g=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(U){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=U)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function A(U){if(S=!1,E(U),!g)if(n(l)!==null)g=!0,Le(M);else{var Y=n(u);Y!==null&&Re(A,Y.startTime-U)}}function M(U,Y){g=!1,S&&(S=!1,v(w),w=-1),p=!0;var ee=f;try{for(E(Y),d=n(l);d!==null&&(!(d.expirationTime>Y)||U&&!x());){var ye=d.callback;if(typeof ye=="function"){d.callback=null,f=d.priorityLevel;var xe=ye(d.expirationTime<=Y);Y=t.unstable_now(),typeof xe=="function"?d.callback=xe:d===n(l)&&r(l),E(Y)}else r(l);d=n(l)}if(d!==null)var rn=!0;else{var rt=n(u);rt!==null&&Re(A,rt.startTime-Y),rn=!1}return rn}finally{d=null,f=ee,p=!1}}var D=!1,b=null,w=-1,C=5,I=-1;function x(){return!(t.unstable_now()-I<C)}function L(){if(b!==null){var U=t.unstable_now();I=U;var Y=!0;try{Y=b(!0,U)}finally{Y?k():(D=!1,b=null)}}else D=!1}var k;if(typeof y=="function")k=function(){y(L)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,de=le.port2;le.port1.onmessage=L,k=function(){de.postMessage(null)}}else k=function(){T(L,0)};function Le(U){b=U,D||(D=!0,k())}function Re(U,Y){w=T(function(){U(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,Le(M))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var ee=f;f=Y;try{return U()}finally{f=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=f;f=U;try{return Y()}finally{f=ee}},t.unstable_scheduleCallback=function(U,Y,ee){var ye=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ye+ee:ye):ee=ye,U){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ee+xe,U={id:h++,callback:Y,priorityLevel:U,startTime:ee,expirationTime:xe,sortIndex:-1},ee>ye?(U.sortIndex=ee,e(u,U),n(l)===null&&U===n(u)&&(S?(v(w),w=-1):S=!0,Re(A,ee-ye))):(U.sortIndex=xe,e(l,U),g||p||(g=!0,Le(M))),U},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(U){var Y=f;return function(){var ee=f;f=Y;try{return U.apply(this,arguments)}finally{f=ee}}}})(hP);cP.exports=hP;var rF=cP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iF=R,$n=rF;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dP=new Set,zc={};function ya(t,e){Dl(t,e),Dl(t+"Capture",e)}function Dl(t,e){for(zc[t]=e,t=0;t<e.length;t++)dP.add(e[t])}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cv=Object.prototype.hasOwnProperty,sF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rb={},ib={};function oF(t){return Cv.call(ib,t)?!0:Cv.call(rb,t)?!1:sF.test(t)?ib[t]=!0:(rb[t]=!0,!1)}function aF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lF(t,e,n,r){if(e===null||typeof e>"u"||aF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var l0=/[\-:]([a-z])/g;function u0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(l0,u0);Wt[e]=new fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(l0,u0);Wt[e]=new fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(l0,u0);Wt[e]=new fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new fn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function c0(t,e,n,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lF(e,n,i,r)&&(n=null),r||i===null?oF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ki=iF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xd=Symbol.for("react.element"),el=Symbol.for("react.portal"),tl=Symbol.for("react.fragment"),h0=Symbol.for("react.strict_mode"),Iv=Symbol.for("react.profiler"),fP=Symbol.for("react.provider"),pP=Symbol.for("react.context"),d0=Symbol.for("react.forward_ref"),xv=Symbol.for("react.suspense"),Av=Symbol.for("react.suspense_list"),f0=Symbol.for("react.memo"),bs=Symbol.for("react.lazy"),mP=Symbol.for("react.offscreen"),sb=Symbol.iterator;function Lu(t){return t===null||typeof t!="object"?null:(t=sb&&t[sb]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,$g;function Yu(t){if($g===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$g=e&&e[1]||""}return`
`+$g+t}var zg=!1;function Wg(t,e){if(!t||zg)return"";zg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{zg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yu(t):""}function uF(t){switch(t.tag){case 5:return Yu(t.type);case 16:return Yu("Lazy");case 13:return Yu("Suspense");case 19:return Yu("SuspenseList");case 0:case 2:case 15:return t=Wg(t.type,!1),t;case 11:return t=Wg(t.type.render,!1),t;case 1:return t=Wg(t.type,!0),t;default:return""}}function Pv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tl:return"Fragment";case el:return"Portal";case Iv:return"Profiler";case h0:return"StrictMode";case xv:return"Suspense";case Av:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pP:return(t.displayName||"Context")+".Consumer";case fP:return(t._context.displayName||"Context")+".Provider";case d0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case f0:return e=t.displayName||null,e!==null?e:Pv(t.type)||"Memo";case bs:e=t._payload,t=t._init;try{return Pv(t(e))}catch{}}return null}function cF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pv(e);case 8:return e===h0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hF(t){var e=gP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ad(t){t._valueTracker||(t._valueTracker=hF(t))}function yP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kv(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ob(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vP(t,e){e=e.checked,e!=null&&c0(t,"checked",e,!1)}function Ov(t,e){vP(t,e);var n=Xs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dv(t,e.type,Xs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ab(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dv(t,e,n){(e!=="number"||lp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qu=Array.isArray;function wl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Mv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Qu(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xs(n)}}function _P(t,e){var n=Xs(e.value),r=Xs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ub(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pd,SP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pd=Pd||document.createElement("div"),Pd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dF=["Webkit","ms","Moz","O"];Object.keys(gc).forEach(function(t){dF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gc[e]=gc[t]})});function EP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gc.hasOwnProperty(t)&&gc[t]?(""+e).trim():e+"px"}function TP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=EP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var fF=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nv(t,e){if(e){if(fF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Vv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fv=null;function p0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bv=null,Sl=null,El=null;function cb(t){if(t=Oh(t)){if(typeof Bv!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Om(e),Bv(t.stateNode,t.type,e))}}function bP(t){Sl?El?El.push(t):El=[t]:Sl=t}function RP(){if(Sl){var t=Sl,e=El;if(El=Sl=null,cb(t),e)for(t=0;t<e.length;t++)cb(e[t])}}function CP(t,e){return t(e)}function IP(){}var Hg=!1;function xP(t,e,n){if(Hg)return t(e,n);Hg=!0;try{return CP(t,e,n)}finally{Hg=!1,(Sl!==null||El!==null)&&(IP(),RP())}}function Hc(t,e){var n=t.stateNode;if(n===null)return null;var r=Om(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var jv=!1;if(Ni)try{var Nu={};Object.defineProperty(Nu,"passive",{get:function(){jv=!0}}),window.addEventListener("test",Nu,Nu),window.removeEventListener("test",Nu,Nu)}catch{jv=!1}function pF(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var yc=!1,up=null,cp=!1,Uv=null,mF={onError:function(t){yc=!0,up=t}};function gF(t,e,n,r,i,s,o,a,l){yc=!1,up=null,pF.apply(mF,arguments)}function yF(t,e,n,r,i,s,o,a,l){if(gF.apply(this,arguments),yc){if(yc){var u=up;yc=!1,up=null}else throw Error(z(198));cp||(cp=!0,Uv=u)}}function va(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function AP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hb(t){if(va(t)!==t)throw Error(z(188))}function vF(t){var e=t.alternate;if(!e){if(e=va(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return hb(i),t;if(s===r)return hb(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function PP(t){return t=vF(t),t!==null?kP(t):null}function kP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kP(t);if(e!==null)return e;t=t.sibling}return null}var OP=$n.unstable_scheduleCallback,db=$n.unstable_cancelCallback,_F=$n.unstable_shouldYield,wF=$n.unstable_requestPaint,ft=$n.unstable_now,SF=$n.unstable_getCurrentPriorityLevel,m0=$n.unstable_ImmediatePriority,DP=$n.unstable_UserBlockingPriority,hp=$n.unstable_NormalPriority,EF=$n.unstable_LowPriority,MP=$n.unstable_IdlePriority,xm=null,Zr=null;function TF(t){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(xm,t,void 0,(t.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:CF,bF=Math.log,RF=Math.LN2;function CF(t){return t>>>=0,t===0?32:31-(bF(t)/RF|0)|0}var kd=64,Od=4194304;function Ju(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ju(a):(s&=o,s!==0&&(r=Ju(s)))}else o=n&~i,o!==0?r=Ju(o):s!==0&&(r=Ju(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cr(e),i=1<<n,r|=t[n],e&=~i;return r}function IF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Cr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=IF(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function $v(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function LP(){var t=kd;return kd<<=1,!(kd&4194240)&&(kd=64),t}function qg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ph(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cr(e),t[e]=n}function AF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Cr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function g0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function NP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var VP,y0,FP,BP,jP,zv=!1,Dd=[],Vs=null,Fs=null,Bs=null,qc=new Map,Kc=new Map,Is=[],PF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fb(t,e){switch(t){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":qc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(e.pointerId)}}function Vu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Oh(e),e!==null&&y0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function kF(t,e,n,r,i){switch(e){case"focusin":return Vs=Vu(Vs,t,e,n,r,i),!0;case"dragenter":return Fs=Vu(Fs,t,e,n,r,i),!0;case"mouseover":return Bs=Vu(Bs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return qc.set(s,Vu(qc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Kc.set(s,Vu(Kc.get(s)||null,t,e,n,r,i)),!0}return!1}function UP(t){var e=jo(t.target);if(e!==null){var n=va(e);if(n!==null){if(e=n.tag,e===13){if(e=AP(n),e!==null){t.blockedOn=e,jP(t.priority,function(){FP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Fv=r,n.target.dispatchEvent(r),Fv=null}else return e=Oh(n),e!==null&&y0(e),t.blockedOn=n,!1;e.shift()}return!0}function pb(t,e,n){Sf(t)&&n.delete(e)}function OF(){zv=!1,Vs!==null&&Sf(Vs)&&(Vs=null),Fs!==null&&Sf(Fs)&&(Fs=null),Bs!==null&&Sf(Bs)&&(Bs=null),qc.forEach(pb),Kc.forEach(pb)}function Fu(t,e){t.blockedOn===e&&(t.blockedOn=null,zv||(zv=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,OF)))}function Gc(t){function e(i){return Fu(i,t)}if(0<Dd.length){Fu(Dd[0],t);for(var n=1;n<Dd.length;n++){var r=Dd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vs!==null&&Fu(Vs,t),Fs!==null&&Fu(Fs,t),Bs!==null&&Fu(Bs,t),qc.forEach(e),Kc.forEach(e),n=0;n<Is.length;n++)r=Is[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Is.length&&(n=Is[0],n.blockedOn===null);)UP(n),n.blockedOn===null&&Is.shift()}var Tl=Ki.ReactCurrentBatchConfig,fp=!0;function DF(t,e,n,r){var i=De,s=Tl.transition;Tl.transition=null;try{De=1,v0(t,e,n,r)}finally{De=i,Tl.transition=s}}function MF(t,e,n,r){var i=De,s=Tl.transition;Tl.transition=null;try{De=4,v0(t,e,n,r)}finally{De=i,Tl.transition=s}}function v0(t,e,n,r){if(fp){var i=Wv(t,e,n,r);if(i===null)ny(t,e,r,pp,n),fb(t,r);else if(kF(i,t,e,n,r))r.stopPropagation();else if(fb(t,r),e&4&&-1<PF.indexOf(t)){for(;i!==null;){var s=Oh(i);if(s!==null&&VP(s),s=Wv(t,e,n,r),s===null&&ny(t,e,r,pp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ny(t,e,r,null,n)}}var pp=null;function Wv(t,e,n,r){if(pp=null,t=p0(r),t=jo(t),t!==null)if(e=va(t),e===null)t=null;else if(n=e.tag,n===13){if(t=AP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pp=t,null}function $P(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SF()){case m0:return 1;case DP:return 4;case hp:case EF:return 16;case MP:return 536870912;default:return 16}default:return 16}}var Ms=null,_0=null,Ef=null;function zP(){if(Ef)return Ef;var t,e=_0,n=e.length,r,i="value"in Ms?Ms.value:Ms.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ef=i.slice(t,1<r?1-r:void 0)}function Tf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Md(){return!0}function mb(){return!1}function Wn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Md:mb,this.isPropagationStopped=mb,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Md)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Md)},persist:function(){},isPersistent:Md}),e}var Yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},w0=Wn(Yl),kh=et({},Yl,{view:0,detail:0}),LF=Wn(kh),Kg,Gg,Bu,Am=et({},kh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:S0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bu&&(Bu&&t.type==="mousemove"?(Kg=t.screenX-Bu.screenX,Gg=t.screenY-Bu.screenY):Gg=Kg=0,Bu=t),Kg)},movementY:function(t){return"movementY"in t?t.movementY:Gg}}),gb=Wn(Am),NF=et({},Am,{dataTransfer:0}),VF=Wn(NF),FF=et({},kh,{relatedTarget:0}),Xg=Wn(FF),BF=et({},Yl,{animationName:0,elapsedTime:0,pseudoElement:0}),jF=Wn(BF),UF=et({},Yl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$F=Wn(UF),zF=et({},Yl,{data:0}),yb=Wn(zF),WF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qF[t])?!!e[t]:!1}function S0(){return KF}var GF=et({},kh,{key:function(t){if(t.key){var e=WF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?HF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:S0,charCode:function(t){return t.type==="keypress"?Tf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XF=Wn(GF),YF=et({},Am,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vb=Wn(YF),QF=et({},kh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:S0}),JF=Wn(QF),ZF=et({},Yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),eB=Wn(ZF),tB=et({},Am,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nB=Wn(tB),rB=[9,13,27,32],E0=Ni&&"CompositionEvent"in window,vc=null;Ni&&"documentMode"in document&&(vc=document.documentMode);var iB=Ni&&"TextEvent"in window&&!vc,WP=Ni&&(!E0||vc&&8<vc&&11>=vc),_b=" ",wb=!1;function HP(t,e){switch(t){case"keyup":return rB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nl=!1;function sB(t,e){switch(t){case"compositionend":return qP(e);case"keypress":return e.which!==32?null:(wb=!0,_b);case"textInput":return t=e.data,t===_b&&wb?null:t;default:return null}}function oB(t,e){if(nl)return t==="compositionend"||!E0&&HP(t,e)?(t=zP(),Ef=_0=Ms=null,nl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WP&&e.locale!=="ko"?null:e.data;default:return null}}var aB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aB[t.type]:e==="textarea"}function KP(t,e,n,r){bP(r),e=mp(e,"onChange"),0<e.length&&(n=new w0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _c=null,Xc=null;function lB(t){i1(t,0)}function Pm(t){var e=sl(t);if(yP(e))return t}function uB(t,e){if(t==="change")return e}var GP=!1;if(Ni){var Yg;if(Ni){var Qg="oninput"in document;if(!Qg){var Eb=document.createElement("div");Eb.setAttribute("oninput","return;"),Qg=typeof Eb.oninput=="function"}Yg=Qg}else Yg=!1;GP=Yg&&(!document.documentMode||9<document.documentMode)}function Tb(){_c&&(_c.detachEvent("onpropertychange",XP),Xc=_c=null)}function XP(t){if(t.propertyName==="value"&&Pm(Xc)){var e=[];KP(e,Xc,t,p0(t)),xP(lB,e)}}function cB(t,e,n){t==="focusin"?(Tb(),_c=e,Xc=n,_c.attachEvent("onpropertychange",XP)):t==="focusout"&&Tb()}function hB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pm(Xc)}function dB(t,e){if(t==="click")return Pm(e)}function fB(t,e){if(t==="input"||t==="change")return Pm(e)}function pB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ar=typeof Object.is=="function"?Object.is:pB;function Yc(t,e){if(Ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cv.call(e,i)||!Ar(t[i],e[i]))return!1}return!0}function bb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rb(t,e){var n=bb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bb(n)}}function YP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?YP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function QP(){for(var t=window,e=lp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lp(t.document)}return e}function T0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mB(t){var e=QP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&YP(n.ownerDocument.documentElement,n)){if(r!==null&&T0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Rb(n,s);var o=Rb(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gB=Ni&&"documentMode"in document&&11>=document.documentMode,rl=null,Hv=null,wc=null,qv=!1;function Cb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qv||rl==null||rl!==lp(r)||(r=rl,"selectionStart"in r&&T0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wc&&Yc(wc,r)||(wc=r,r=mp(Hv,"onSelect"),0<r.length&&(e=new w0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rl)))}function Ld(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var il={animationend:Ld("Animation","AnimationEnd"),animationiteration:Ld("Animation","AnimationIteration"),animationstart:Ld("Animation","AnimationStart"),transitionend:Ld("Transition","TransitionEnd")},Jg={},JP={};Ni&&(JP=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function km(t){if(Jg[t])return Jg[t];if(!il[t])return t;var e=il[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in JP)return Jg[t]=e[n];return t}var ZP=km("animationend"),e1=km("animationiteration"),t1=km("animationstart"),n1=km("transitionend"),r1=new Map,Ib="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(t,e){r1.set(t,e),ya(e,[t])}for(var Zg=0;Zg<Ib.length;Zg++){var ey=Ib[Zg],yB=ey.toLowerCase(),vB=ey[0].toUpperCase()+ey.slice(1);ao(yB,"on"+vB)}ao(ZP,"onAnimationEnd");ao(e1,"onAnimationIteration");ao(t1,"onAnimationStart");ao("dblclick","onDoubleClick");ao("focusin","onFocus");ao("focusout","onBlur");ao(n1,"onTransitionEnd");Dl("onMouseEnter",["mouseout","mouseover"]);Dl("onMouseLeave",["mouseout","mouseover"]);Dl("onPointerEnter",["pointerout","pointerover"]);Dl("onPointerLeave",["pointerout","pointerover"]);ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ya("onBeforeInput",["compositionend","keypress","textInput","paste"]);ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_B=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zu));function xb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yF(r,e,void 0,t),t.currentTarget=null}function i1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;xb(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;xb(i,a,u),s=l}}}if(cp)throw t=Uv,cp=!1,Uv=null,t}function ze(t,e){var n=e[Qv];n===void 0&&(n=e[Qv]=new Set);var r=t+"__bubble";n.has(r)||(s1(e,t,2,!1),n.add(r))}function ty(t,e,n){var r=0;e&&(r|=4),s1(n,t,r,e)}var Nd="_reactListening"+Math.random().toString(36).slice(2);function Qc(t){if(!t[Nd]){t[Nd]=!0,dP.forEach(function(n){n!=="selectionchange"&&(_B.has(n)||ty(n,!1,t),ty(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nd]||(e[Nd]=!0,ty("selectionchange",!1,e))}}function s1(t,e,n,r){switch($P(e)){case 1:var i=DF;break;case 4:i=MF;break;default:i=v0}n=i.bind(null,e,n,t),i=void 0,!jv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ny(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=jo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}xP(function(){var u=s,h=p0(n),d=[];e:{var f=r1.get(t);if(f!==void 0){var p=w0,g=t;switch(t){case"keypress":if(Tf(n)===0)break e;case"keydown":case"keyup":p=XF;break;case"focusin":g="focus",p=Xg;break;case"focusout":g="blur",p=Xg;break;case"beforeblur":case"afterblur":p=Xg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=gb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=VF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=JF;break;case ZP:case e1:case t1:p=jF;break;case n1:p=eB;break;case"scroll":p=LF;break;case"wheel":p=nB;break;case"copy":case"cut":case"paste":p=$F;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=vb}var S=(e&4)!==0,T=!S&&t==="scroll",v=S?f!==null?f+"Capture":null:f;S=[];for(var y=u,E;y!==null;){E=y;var A=E.stateNode;if(E.tag===5&&A!==null&&(E=A,v!==null&&(A=Hc(y,v),A!=null&&S.push(Jc(y,A,E)))),T)break;y=y.return}0<S.length&&(f=new p(f,g,null,n,h),d.push({event:f,listeners:S}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Fv&&(g=n.relatedTarget||n.fromElement)&&(jo(g)||g[Vi]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?jo(g):null,g!==null&&(T=va(g),g!==T||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(S=gb,A="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(S=vb,A="onPointerLeave",v="onPointerEnter",y="pointer"),T=p==null?f:sl(p),E=g==null?f:sl(g),f=new S(A,y+"leave",p,n,h),f.target=T,f.relatedTarget=E,A=null,jo(h)===u&&(S=new S(v,y+"enter",g,n,h),S.target=E,S.relatedTarget=T,A=S),T=A,p&&g)t:{for(S=p,v=g,y=0,E=S;E;E=Ua(E))y++;for(E=0,A=v;A;A=Ua(A))E++;for(;0<y-E;)S=Ua(S),y--;for(;0<E-y;)v=Ua(v),E--;for(;y--;){if(S===v||v!==null&&S===v.alternate)break t;S=Ua(S),v=Ua(v)}S=null}else S=null;p!==null&&Ab(d,f,p,S,!1),g!==null&&T!==null&&Ab(d,T,g,S,!0)}}e:{if(f=u?sl(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var M=uB;else if(Sb(f))if(GP)M=fB;else{M=hB;var D=cB}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=dB);if(M&&(M=M(t,u))){KP(d,M,n,h);break e}D&&D(t,f,u),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&Dv(f,"number",f.value)}switch(D=u?sl(u):window,t){case"focusin":(Sb(D)||D.contentEditable==="true")&&(rl=D,Hv=u,wc=null);break;case"focusout":wc=Hv=rl=null;break;case"mousedown":qv=!0;break;case"contextmenu":case"mouseup":case"dragend":qv=!1,Cb(d,n,h);break;case"selectionchange":if(gB)break;case"keydown":case"keyup":Cb(d,n,h)}var b;if(E0)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else nl?HP(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(WP&&n.locale!=="ko"&&(nl||w!=="onCompositionStart"?w==="onCompositionEnd"&&nl&&(b=zP()):(Ms=h,_0="value"in Ms?Ms.value:Ms.textContent,nl=!0)),D=mp(u,w),0<D.length&&(w=new yb(w,t,null,n,h),d.push({event:w,listeners:D}),b?w.data=b:(b=qP(n),b!==null&&(w.data=b)))),(b=iB?sB(t,n):oB(t,n))&&(u=mp(u,"onBeforeInput"),0<u.length&&(h=new yb("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=b))}i1(d,e)})}function Jc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Hc(t,n),s!=null&&r.unshift(Jc(t,s,i)),s=Hc(t,e),s!=null&&r.push(Jc(t,s,i))),t=t.return}return r}function Ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ab(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Hc(n,s),l!=null&&o.unshift(Jc(n,l,a))):i||(l=Hc(n,s),l!=null&&o.push(Jc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wB=/\r\n?/g,SB=/\u0000|\uFFFD/g;function Pb(t){return(typeof t=="string"?t:""+t).replace(wB,`
`).replace(SB,"")}function Vd(t,e,n){if(e=Pb(e),Pb(t)!==e&&n)throw Error(z(425))}function gp(){}var Kv=null,Gv=null;function Xv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yv=typeof setTimeout=="function"?setTimeout:void 0,EB=typeof clearTimeout=="function"?clearTimeout:void 0,kb=typeof Promise=="function"?Promise:void 0,TB=typeof queueMicrotask=="function"?queueMicrotask:typeof kb<"u"?function(t){return kb.resolve(null).then(t).catch(bB)}:Yv;function bB(t){setTimeout(function(){throw t})}function ry(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gc(e)}function js(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ob(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ql=Math.random().toString(36).slice(2),qr="__reactFiber$"+Ql,Zc="__reactProps$"+Ql,Vi="__reactContainer$"+Ql,Qv="__reactEvents$"+Ql,RB="__reactListeners$"+Ql,CB="__reactHandles$"+Ql;function jo(t){var e=t[qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vi]||n[qr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ob(t);t!==null;){if(n=t[qr])return n;t=Ob(t)}return e}t=n,n=t.parentNode}return null}function Oh(t){return t=t[qr]||t[Vi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Om(t){return t[Zc]||null}var Jv=[],ol=-1;function lo(t){return{current:t}}function He(t){0>ol||(t.current=Jv[ol],Jv[ol]=null,ol--)}function je(t,e){ol++,Jv[ol]=t.current,t.current=e}var Ys={},en=lo(Ys),En=lo(!1),ia=Ys;function Ml(t,e){var n=t.type.contextTypes;if(!n)return Ys;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tn(t){return t=t.childContextTypes,t!=null}function yp(){He(En),He(en)}function Db(t,e,n){if(en.current!==Ys)throw Error(z(168));je(en,e),je(En,n)}function o1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,cF(t)||"Unknown",i));return et({},n,r)}function vp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ys,ia=en.current,je(en,t),je(En,En.current),!0}function Mb(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=o1(t,e,ia),r.__reactInternalMemoizedMergedChildContext=t,He(En),He(en),je(en,t)):He(En),je(En,n)}var Ri=null,Dm=!1,iy=!1;function a1(t){Ri===null?Ri=[t]:Ri.push(t)}function IB(t){Dm=!0,a1(t)}function uo(){if(!iy&&Ri!==null){iy=!0;var t=0,e=De;try{var n=Ri;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ri=null,Dm=!1}catch(i){throw Ri!==null&&(Ri=Ri.slice(t+1)),OP(m0,uo),i}finally{De=e,iy=!1}}return null}var al=[],ll=0,_p=null,wp=0,Yn=[],Qn=0,sa=null,Ci=1,Ii="";function Mo(t,e){al[ll++]=wp,al[ll++]=_p,_p=t,wp=e}function l1(t,e,n){Yn[Qn++]=Ci,Yn[Qn++]=Ii,Yn[Qn++]=sa,sa=t;var r=Ci;t=Ii;var i=32-Cr(r)-1;r&=~(1<<i),n+=1;var s=32-Cr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ci=1<<32-Cr(e)+i|n<<i|r,Ii=s+t}else Ci=1<<s|n<<i|r,Ii=t}function b0(t){t.return!==null&&(Mo(t,1),l1(t,1,0))}function R0(t){for(;t===_p;)_p=al[--ll],al[ll]=null,wp=al[--ll],al[ll]=null;for(;t===sa;)sa=Yn[--Qn],Yn[Qn]=null,Ii=Yn[--Qn],Yn[Qn]=null,Ci=Yn[--Qn],Yn[Qn]=null}var jn=null,Vn=null,Ke=!1,Tr=null;function u1(t,e){var n=Zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Lb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jn=t,Vn=js(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jn=t,Vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=sa!==null?{id:Ci,overflow:Ii}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jn=t,Vn=null,!0):!1;default:return!1}}function Zv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function e_(t){if(Ke){var e=Vn;if(e){var n=e;if(!Lb(t,e)){if(Zv(t))throw Error(z(418));e=js(n.nextSibling);var r=jn;e&&Lb(t,e)?u1(r,n):(t.flags=t.flags&-4097|2,Ke=!1,jn=t)}}else{if(Zv(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ke=!1,jn=t}}}function Nb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jn=t}function Fd(t){if(t!==jn)return!1;if(!Ke)return Nb(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xv(t.type,t.memoizedProps)),e&&(e=Vn)){if(Zv(t))throw c1(),Error(z(418));for(;e;)u1(t,e),e=js(e.nextSibling)}if(Nb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vn=js(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vn=null}}else Vn=jn?js(t.stateNode.nextSibling):null;return!0}function c1(){for(var t=Vn;t;)t=js(t.nextSibling)}function Ll(){Vn=jn=null,Ke=!1}function C0(t){Tr===null?Tr=[t]:Tr.push(t)}var xB=Ki.ReactCurrentBatchConfig;function ju(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Bd(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vb(t){var e=t._init;return e(t._payload)}function h1(t){function e(v,y){if(t){var E=v.deletions;E===null?(v.deletions=[y],v.flags|=16):E.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=Ws(v,y),v.index=0,v.sibling=null,v}function s(v,y,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<y?(v.flags|=2,y):E):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,E,A){return y===null||y.tag!==6?(y=hy(E,v.mode,A),y.return=v,y):(y=i(y,E),y.return=v,y)}function l(v,y,E,A){var M=E.type;return M===tl?h(v,y,E.props.children,A,E.key):y!==null&&(y.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===bs&&Vb(M)===y.type)?(A=i(y,E.props),A.ref=ju(v,y,E),A.return=v,A):(A=Pf(E.type,E.key,E.props,null,v.mode,A),A.ref=ju(v,y,E),A.return=v,A)}function u(v,y,E,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=dy(E,v.mode,A),y.return=v,y):(y=i(y,E.children||[]),y.return=v,y)}function h(v,y,E,A,M){return y===null||y.tag!==7?(y=Jo(E,v.mode,A,M),y.return=v,y):(y=i(y,E),y.return=v,y)}function d(v,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=hy(""+y,v.mode,E),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xd:return E=Pf(y.type,y.key,y.props,null,v.mode,E),E.ref=ju(v,null,y),E.return=v,E;case el:return y=dy(y,v.mode,E),y.return=v,y;case bs:var A=y._init;return d(v,A(y._payload),E)}if(Qu(y)||Lu(y))return y=Jo(y,v.mode,E,null),y.return=v,y;Bd(v,y)}return null}function f(v,y,E,A){var M=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return M!==null?null:a(v,y,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case xd:return E.key===M?l(v,y,E,A):null;case el:return E.key===M?u(v,y,E,A):null;case bs:return M=E._init,f(v,y,M(E._payload),A)}if(Qu(E)||Lu(E))return M!==null?null:h(v,y,E,A,null);Bd(v,E)}return null}function p(v,y,E,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(E)||null,a(y,v,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case xd:return v=v.get(A.key===null?E:A.key)||null,l(y,v,A,M);case el:return v=v.get(A.key===null?E:A.key)||null,u(y,v,A,M);case bs:var D=A._init;return p(v,y,E,D(A._payload),M)}if(Qu(A)||Lu(A))return v=v.get(E)||null,h(y,v,A,M,null);Bd(y,A)}return null}function g(v,y,E,A){for(var M=null,D=null,b=y,w=y=0,C=null;b!==null&&w<E.length;w++){b.index>w?(C=b,b=null):C=b.sibling;var I=f(v,b,E[w],A);if(I===null){b===null&&(b=C);break}t&&b&&I.alternate===null&&e(v,b),y=s(I,y,w),D===null?M=I:D.sibling=I,D=I,b=C}if(w===E.length)return n(v,b),Ke&&Mo(v,w),M;if(b===null){for(;w<E.length;w++)b=d(v,E[w],A),b!==null&&(y=s(b,y,w),D===null?M=b:D.sibling=b,D=b);return Ke&&Mo(v,w),M}for(b=r(v,b);w<E.length;w++)C=p(b,v,w,E[w],A),C!==null&&(t&&C.alternate!==null&&b.delete(C.key===null?w:C.key),y=s(C,y,w),D===null?M=C:D.sibling=C,D=C);return t&&b.forEach(function(x){return e(v,x)}),Ke&&Mo(v,w),M}function S(v,y,E,A){var M=Lu(E);if(typeof M!="function")throw Error(z(150));if(E=M.call(E),E==null)throw Error(z(151));for(var D=M=null,b=y,w=y=0,C=null,I=E.next();b!==null&&!I.done;w++,I=E.next()){b.index>w?(C=b,b=null):C=b.sibling;var x=f(v,b,I.value,A);if(x===null){b===null&&(b=C);break}t&&b&&x.alternate===null&&e(v,b),y=s(x,y,w),D===null?M=x:D.sibling=x,D=x,b=C}if(I.done)return n(v,b),Ke&&Mo(v,w),M;if(b===null){for(;!I.done;w++,I=E.next())I=d(v,I.value,A),I!==null&&(y=s(I,y,w),D===null?M=I:D.sibling=I,D=I);return Ke&&Mo(v,w),M}for(b=r(v,b);!I.done;w++,I=E.next())I=p(b,v,w,I.value,A),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?w:I.key),y=s(I,y,w),D===null?M=I:D.sibling=I,D=I);return t&&b.forEach(function(L){return e(v,L)}),Ke&&Mo(v,w),M}function T(v,y,E,A){if(typeof E=="object"&&E!==null&&E.type===tl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case xd:e:{for(var M=E.key,D=y;D!==null;){if(D.key===M){if(M=E.type,M===tl){if(D.tag===7){n(v,D.sibling),y=i(D,E.props.children),y.return=v,v=y;break e}}else if(D.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===bs&&Vb(M)===D.type){n(v,D.sibling),y=i(D,E.props),y.ref=ju(v,D,E),y.return=v,v=y;break e}n(v,D);break}else e(v,D);D=D.sibling}E.type===tl?(y=Jo(E.props.children,v.mode,A,E.key),y.return=v,v=y):(A=Pf(E.type,E.key,E.props,null,v.mode,A),A.ref=ju(v,y,E),A.return=v,v=A)}return o(v);case el:e:{for(D=E.key;y!==null;){if(y.key===D)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(v,y.sibling),y=i(y,E.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=dy(E,v.mode,A),y.return=v,v=y}return o(v);case bs:return D=E._init,T(v,y,D(E._payload),A)}if(Qu(E))return g(v,y,E,A);if(Lu(E))return S(v,y,E,A);Bd(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,E),y.return=v,v=y):(n(v,y),y=hy(E,v.mode,A),y.return=v,v=y),o(v)):n(v,y)}return T}var Nl=h1(!0),d1=h1(!1),Sp=lo(null),Ep=null,ul=null,I0=null;function x0(){I0=ul=Ep=null}function A0(t){var e=Sp.current;He(Sp),t._currentValue=e}function t_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bl(t,e){Ep=t,I0=ul=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function or(t){var e=t._currentValue;if(I0!==t)if(t={context:t,memoizedValue:e,next:null},ul===null){if(Ep===null)throw Error(z(308));ul=t,Ep.dependencies={lanes:0,firstContext:t}}else ul=ul.next=t;return e}var Uo=null;function P0(t){Uo===null?Uo=[t]:Uo.push(t)}function f1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,P0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Fi(t,r)}function Fi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rs=!1;function k0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ki(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Fi(t,n)}return i=r.interleaved,i===null?(e.next=e,P0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Fi(t,n)}function bf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,g0(t,n)}}function Fb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Tp(t,e,n,r){var i=t.updateQueue;Rs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,S=a;switch(f=e,p=n,S.tag){case 1:if(g=S.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=S.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=et({},d,f);break e;case 2:Rs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=p,l=d):h=h.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);aa|=o,t.lanes=o,t.memoizedState=d}}function Bb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Dh={},ei=lo(Dh),eh=lo(Dh),th=lo(Dh);function $o(t){if(t===Dh)throw Error(z(174));return t}function O0(t,e){switch(je(th,e),je(eh,t),je(ei,Dh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lv(e,t)}He(ei),je(ei,e)}function Vl(){He(ei),He(eh),He(th)}function m1(t){$o(th.current);var e=$o(ei.current),n=Lv(e,t.type);e!==n&&(je(eh,t),je(ei,n))}function D0(t){eh.current===t&&(He(ei),He(eh))}var Ye=lo(0);function bp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sy=[];function M0(){for(var t=0;t<sy.length;t++)sy[t]._workInProgressVersionPrimary=null;sy.length=0}var Rf=Ki.ReactCurrentDispatcher,oy=Ki.ReactCurrentBatchConfig,oa=0,Je=null,bt=null,Mt=null,Rp=!1,Sc=!1,nh=0,AB=0;function Kt(){throw Error(z(321))}function L0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ar(t[n],e[n]))return!1;return!0}function N0(t,e,n,r,i,s){if(oa=s,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rf.current=t===null||t.memoizedState===null?DB:MB,t=n(r,i),Sc){s=0;do{if(Sc=!1,nh=0,25<=s)throw Error(z(301));s+=1,Mt=bt=null,e.updateQueue=null,Rf.current=LB,t=n(r,i)}while(Sc)}if(Rf.current=Cp,e=bt!==null&&bt.next!==null,oa=0,Mt=bt=Je=null,Rp=!1,e)throw Error(z(300));return t}function V0(){var t=nh!==0;return nh=0,t}function zr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Je.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function ar(){if(bt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=Mt===null?Je.memoizedState:Mt.next;if(e!==null)Mt=e,bt=t;else{if(t===null)throw Error(z(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Mt===null?Je.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function rh(t,e){return typeof e=="function"?e(t):e}function ay(t){var e=ar(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=bt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((oa&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Je.lanes|=h,aa|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ar(r,e.memoizedState)||(wn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Je.lanes|=s,aa|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ly(t){var e=ar(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ar(s,e.memoizedState)||(wn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function g1(){}function y1(t,e){var n=Je,r=ar(),i=e(),s=!Ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wn=!0),r=r.queue,F0(w1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,ih(9,_1.bind(null,n,r,i,e),void 0,null),Lt===null)throw Error(z(349));oa&30||v1(n,e,i)}return i}function v1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _1(t,e,n,r){e.value=n,e.getSnapshot=r,S1(e)&&E1(t)}function w1(t,e,n){return n(function(){S1(e)&&E1(t)})}function S1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ar(t,n)}catch{return!0}}function E1(t){var e=Fi(t,1);e!==null&&Ir(e,t,1,-1)}function jb(t){var e=zr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rh,lastRenderedState:t},e.queue=t,t=t.dispatch=OB.bind(null,Je,t),[e.memoizedState,t]}function ih(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function T1(){return ar().memoizedState}function Cf(t,e,n,r){var i=zr();Je.flags|=t,i.memoizedState=ih(1|e,n,void 0,r===void 0?null:r)}function Mm(t,e,n,r){var i=ar();r=r===void 0?null:r;var s=void 0;if(bt!==null){var o=bt.memoizedState;if(s=o.destroy,r!==null&&L0(r,o.deps)){i.memoizedState=ih(e,n,s,r);return}}Je.flags|=t,i.memoizedState=ih(1|e,n,s,r)}function Ub(t,e){return Cf(8390656,8,t,e)}function F0(t,e){return Mm(2048,8,t,e)}function b1(t,e){return Mm(4,2,t,e)}function R1(t,e){return Mm(4,4,t,e)}function C1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function I1(t,e,n){return n=n!=null?n.concat([t]):null,Mm(4,4,C1.bind(null,e,t),n)}function B0(){}function x1(t,e){var n=ar();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&L0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function A1(t,e){var n=ar();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&L0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function P1(t,e,n){return oa&21?(Ar(n,e)||(n=LP(),Je.lanes|=n,aa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=n)}function PB(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=oy.transition;oy.transition={};try{t(!1),e()}finally{De=n,oy.transition=r}}function k1(){return ar().memoizedState}function kB(t,e,n){var r=zs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},O1(t))D1(e,n);else if(n=f1(t,e,n,r),n!==null){var i=cn();Ir(n,t,r,i),M1(n,e,r)}}function OB(t,e,n){var r=zs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(O1(t))D1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ar(a,o)){var l=e.interleaved;l===null?(i.next=i,P0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=f1(t,e,i,r),n!==null&&(i=cn(),Ir(n,t,r,i),M1(n,e,r))}}function O1(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function D1(t,e){Sc=Rp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function M1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,g0(t,n)}}var Cp={readContext:or,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},DB={readContext:or,useCallback:function(t,e){return zr().memoizedState=[t,e===void 0?null:e],t},useContext:or,useEffect:Ub,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cf(4194308,4,C1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cf(4,2,t,e)},useMemo:function(t,e){var n=zr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kB.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=zr();return t={current:t},e.memoizedState=t},useState:jb,useDebugValue:B0,useDeferredValue:function(t){return zr().memoizedState=t},useTransition:function(){var t=jb(!1),e=t[0];return t=PB.bind(null,t[1]),zr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,i=zr();if(Ke){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Lt===null)throw Error(z(349));oa&30||v1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ub(w1.bind(null,r,s,t),[t]),r.flags|=2048,ih(9,_1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=zr(),e=Lt.identifierPrefix;if(Ke){var n=Ii,r=Ci;n=(r&~(1<<32-Cr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=AB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MB={readContext:or,useCallback:x1,useContext:or,useEffect:F0,useImperativeHandle:I1,useInsertionEffect:b1,useLayoutEffect:R1,useMemo:A1,useReducer:ay,useRef:T1,useState:function(){return ay(rh)},useDebugValue:B0,useDeferredValue:function(t){var e=ar();return P1(e,bt.memoizedState,t)},useTransition:function(){var t=ay(rh)[0],e=ar().memoizedState;return[t,e]},useMutableSource:g1,useSyncExternalStore:y1,useId:k1,unstable_isNewReconciler:!1},LB={readContext:or,useCallback:x1,useContext:or,useEffect:F0,useImperativeHandle:I1,useInsertionEffect:b1,useLayoutEffect:R1,useMemo:A1,useReducer:ly,useRef:T1,useState:function(){return ly(rh)},useDebugValue:B0,useDeferredValue:function(t){var e=ar();return bt===null?e.memoizedState=t:P1(e,bt.memoizedState,t)},useTransition:function(){var t=ly(rh)[0],e=ar().memoizedState;return[t,e]},useMutableSource:g1,useSyncExternalStore:y1,useId:k1,unstable_isNewReconciler:!1};function wr(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function n_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lm={isMounted:function(t){return(t=t._reactInternals)?va(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cn(),i=zs(t),s=ki(r,i);s.payload=e,n!=null&&(s.callback=n),e=Us(t,s,i),e!==null&&(Ir(e,t,i,r),bf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cn(),i=zs(t),s=ki(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Us(t,s,i),e!==null&&(Ir(e,t,i,r),bf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),r=zs(t),i=ki(n,r);i.tag=2,e!=null&&(i.callback=e),e=Us(t,i,r),e!==null&&(Ir(e,t,r,n),bf(e,t,r))}};function $b(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Yc(n,r)||!Yc(i,s):!0}function L1(t,e,n){var r=!1,i=Ys,s=e.contextType;return typeof s=="object"&&s!==null?s=or(s):(i=Tn(e)?ia:en.current,r=e.contextTypes,s=(r=r!=null)?Ml(t,i):Ys),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function zb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lm.enqueueReplaceState(e,e.state,null)}function r_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},k0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=or(s):(s=Tn(e)?ia:en.current,i.context=Ml(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(n_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lm.enqueueReplaceState(i,i.state,null),Tp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Fl(t,e){try{var n="",r=e;do n+=uF(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function uy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function i_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var NB=typeof WeakMap=="function"?WeakMap:Map;function N1(t,e,n){n=ki(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xp||(xp=!0,p_=r),i_(t,e)},n}function V1(t,e,n){n=ki(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){i_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){i_(t,e),typeof r!="function"&&($s===null?$s=new Set([this]):$s.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Wb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new NB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=YB.bind(null,t,e,n),e.then(t,t))}function Hb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ki(-1,1),e.tag=2,Us(n,e,1))),n.lanes|=1),t)}var VB=Ki.ReactCurrentOwner,wn=!1;function ln(t,e,n,r){e.child=t===null?d1(e,null,n,r):Nl(e,t.child,n,r)}function Kb(t,e,n,r,i){n=n.render;var s=e.ref;return bl(e,i),r=N0(t,e,n,r,s,i),n=V0(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bi(t,e,i)):(Ke&&n&&b0(e),e.flags|=1,ln(t,e,r,i),e.child)}function Gb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!K0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,F1(t,e,s,r,i)):(t=Pf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Yc,n(o,r)&&t.ref===e.ref)return Bi(t,e,i)}return e.flags|=1,t=Ws(s,r),t.ref=e.ref,t.return=e,e.child=t}function F1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Yc(s,r)&&t.ref===e.ref)if(wn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,Bi(t,e,i)}return s_(t,e,n,r,i)}function B1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(hl,Mn),Mn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(hl,Mn),Mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,je(hl,Mn),Mn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,je(hl,Mn),Mn|=r;return ln(t,e,i,n),e.child}function j1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function s_(t,e,n,r,i){var s=Tn(n)?ia:en.current;return s=Ml(e,s),bl(e,i),n=N0(t,e,n,r,s,i),r=V0(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bi(t,e,i)):(Ke&&r&&b0(e),e.flags|=1,ln(t,e,n,i),e.child)}function Xb(t,e,n,r,i){if(Tn(n)){var s=!0;vp(e)}else s=!1;if(bl(e,i),e.stateNode===null)If(t,e),L1(e,n,r),r_(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=or(u):(u=Tn(n)?ia:en.current,u=Ml(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&zb(e,o,r,u),Rs=!1;var f=e.memoizedState;o.state=f,Tp(e,r,o,i),l=e.memoizedState,a!==r||f!==l||En.current||Rs?(typeof h=="function"&&(n_(e,n,h,r),l=e.memoizedState),(a=Rs||$b(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,p1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:wr(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=or(l):(l=Tn(n)?ia:en.current,l=Ml(e,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&zb(e,o,r,l),Rs=!1,f=e.memoizedState,o.state=f,Tp(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||En.current||Rs?(typeof p=="function"&&(n_(e,n,p,r),g=e.memoizedState),(u=Rs||$b(e,n,u,r,f,g,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return o_(t,e,n,r,s,i)}function o_(t,e,n,r,i,s){j1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Mb(e,n,!1),Bi(t,e,s);r=e.stateNode,VB.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Nl(e,t.child,null,s),e.child=Nl(e,null,a,s)):ln(t,e,a,s),e.memoizedState=r.state,i&&Mb(e,n,!0),e.child}function U1(t){var e=t.stateNode;e.pendingContext?Db(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Db(t,e.context,!1),O0(t,e.containerInfo)}function Yb(t,e,n,r,i){return Ll(),C0(i),e.flags|=256,ln(t,e,n,r),e.child}var a_={dehydrated:null,treeContext:null,retryLane:0};function l_(t){return{baseLanes:t,cachePool:null,transitions:null}}function $1(t,e,n){var r=e.pendingProps,i=Ye.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(Ye,i&1),t===null)return e_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Fm(o,r,0,null),t=Jo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=l_(n),e.memoizedState=a_,t):j0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return FB(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ws(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ws(a,s):(s=Jo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?l_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=a_,r}return s=t.child,t=s.sibling,r=Ws(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function j0(t,e){return e=Fm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jd(t,e,n,r){return r!==null&&C0(r),Nl(e,t.child,null,n),t=j0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FB(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=uy(Error(z(422))),jd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Fm({mode:"visible",children:r.children},i,0,null),s=Jo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Nl(e,t.child,null,o),e.child.memoizedState=l_(o),e.memoizedState=a_,s);if(!(e.mode&1))return jd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=uy(s,r,void 0),jd(t,e,o,r)}if(a=(o&t.childLanes)!==0,wn||a){if(r=Lt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fi(t,i),Ir(r,t,i,-1))}return q0(),r=uy(Error(z(421))),jd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=QB.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Vn=js(i.nextSibling),jn=e,Ke=!0,Tr=null,t!==null&&(Yn[Qn++]=Ci,Yn[Qn++]=Ii,Yn[Qn++]=sa,Ci=t.id,Ii=t.overflow,sa=e),e=j0(e,r.children),e.flags|=4096,e)}function Qb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),t_(t.return,e,n)}function cy(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function z1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ln(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qb(t,n,e);else if(t.tag===19)Qb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),cy(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}cy(e,!0,n,null,s);break;case"together":cy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function If(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),aa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Ws(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ws(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BB(t,e,n){switch(e.tag){case 3:U1(e),Ll();break;case 5:m1(e);break;case 1:Tn(e.type)&&vp(e);break;case 4:O0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;je(Sp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?$1(t,e,n):(je(Ye,Ye.current&1),t=Bi(t,e,n),t!==null?t.sibling:null);je(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return z1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,B1(t,e,n)}return Bi(t,e,n)}var W1,u_,H1,q1;W1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};u_=function(){};H1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$o(ei.current);var s=null;switch(n){case"input":i=kv(t,i),r=kv(t,r),s=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),s=[];break;case"textarea":i=Mv(t,i),r=Mv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gp)}Nv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ze("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};q1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Uu(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jB(t,e,n){var r=e.pendingProps;switch(R0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return Tn(e.type)&&yp(),Gt(e),null;case 3:return r=e.stateNode,Vl(),He(En),He(en),M0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tr!==null&&(y_(Tr),Tr=null))),u_(t,e),Gt(e),null;case 5:D0(e);var i=$o(th.current);if(n=e.type,t!==null&&e.stateNode!=null)H1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Gt(e),null}if(t=$o(ei.current),Fd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qr]=e,r[Zc]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<Zu.length;i++)ze(Zu[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ob(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":lb(r,s),ze("invalid",r)}Nv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Vd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Vd(r.textContent,a,t),i=["children",""+a]):zc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":Ad(r),ab(r,s,!0);break;case"textarea":Ad(r),ub(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qr]=e,t[Zc]=r,W1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vv(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zu.length;i++)ze(Zu[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":ob(t,r),i=kv(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),ze("invalid",t);break;case"textarea":lb(t,r),i=Mv(t,r),ze("invalid",t);break;default:i=r}Nv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?TP(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&SP(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wc(t,l):typeof l=="number"&&Wc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ze("scroll",t):l!=null&&c0(t,s,l,o))}switch(n){case"input":Ad(t),ab(t,r,!1);break;case"textarea":Ad(t),ub(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?wl(t,!!r.multiple,s,!1):r.defaultValue!=null&&wl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)q1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=$o(th.current),$o(ei.current),Fd(e)){if(r=e.stateNode,n=e.memoizedProps,r[qr]=e,(s=r.nodeValue!==n)&&(t=jn,t!==null))switch(t.tag){case 3:Vd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qr]=e,e.stateNode=r}return Gt(e),null;case 13:if(He(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&Vn!==null&&e.mode&1&&!(e.flags&128))c1(),Ll(),e.flags|=98560,s=!1;else if(s=Fd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[qr]=e}else Ll(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),s=!1}else Tr!==null&&(y_(Tr),Tr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?Rt===0&&(Rt=3):q0())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return Vl(),u_(t,e),t===null&&Qc(e.stateNode.containerInfo),Gt(e),null;case 10:return A0(e.type._context),Gt(e),null;case 17:return Tn(e.type)&&yp(),Gt(e),null;case 19:if(He(Ye),s=e.memoizedState,s===null)return Gt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Uu(s,!1);else{if(Rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bp(t),o!==null){for(e.flags|=128,Uu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Ye,Ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&ft()>Bl&&(e.flags|=128,r=!0,Uu(s,!1),e.lanes=4194304)}else{if(!r)if(t=bp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Uu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ke)return Gt(e),null}else 2*ft()-s.renderingStartTime>Bl&&n!==1073741824&&(e.flags|=128,r=!0,Uu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ft(),e.sibling=null,n=Ye.current,je(Ye,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return H0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mn&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function UB(t,e){switch(R0(e),e.tag){case 1:return Tn(e.type)&&yp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vl(),He(En),He(en),M0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return D0(e),null;case 13:if(He(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ll()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Ye),null;case 4:return Vl(),null;case 10:return A0(e.type._context),null;case 22:case 23:return H0(),null;case 24:return null;default:return null}}var Ud=!1,Qt=!1,$B=typeof WeakSet=="function"?WeakSet:Set,Q=null;function cl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,e,r)}else n.current=null}function c_(t,e,n){try{n()}catch(r){ot(t,e,r)}}var Jb=!1;function zB(t,e){if(Kv=fp,t=QP(),T0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++h===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gv={focusedElem:t,selectionRange:n},fp=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var S=g.memoizedProps,T=g.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?S:wr(e.type,S),T);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(A){ot(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return g=Jb,Jb=!1,g}function Ec(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&c_(e,n,s)}i=i.next}while(i!==r)}}function Nm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function h_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function K1(t){var e=t.alternate;e!==null&&(t.alternate=null,K1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qr],delete e[Zc],delete e[Qv],delete e[RB],delete e[CB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function G1(t){return t.tag===5||t.tag===3||t.tag===4}function Zb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||G1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function d_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gp));else if(r!==4&&(t=t.child,t!==null))for(d_(t,e,n),t=t.sibling;t!==null;)d_(t,e,n),t=t.sibling}function f_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(f_(t,e,n),t=t.sibling;t!==null;)f_(t,e,n),t=t.sibling}var Vt=null,Er=!1;function ms(t,e,n){for(n=n.child;n!==null;)X1(t,e,n),n=n.sibling}function X1(t,e,n){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(xm,n)}catch{}switch(n.tag){case 5:Qt||cl(n,e);case 6:var r=Vt,i=Er;Vt=null,ms(t,e,n),Vt=r,Er=i,Vt!==null&&(Er?(t=Vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(Er?(t=Vt,n=n.stateNode,t.nodeType===8?ry(t.parentNode,n):t.nodeType===1&&ry(t,n),Gc(t)):ry(Vt,n.stateNode));break;case 4:r=Vt,i=Er,Vt=n.stateNode.containerInfo,Er=!0,ms(t,e,n),Vt=r,Er=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&c_(n,e,o),i=i.next}while(i!==r)}ms(t,e,n);break;case 1:if(!Qt&&(cl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ot(n,e,a)}ms(t,e,n);break;case 21:ms(t,e,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,ms(t,e,n),Qt=r):ms(t,e,n);break;default:ms(t,e,n)}}function eR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $B),e.forEach(function(r){var i=JB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function pr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Vt=a.stateNode,Er=!1;break e;case 3:Vt=a.stateNode.containerInfo,Er=!0;break e;case 4:Vt=a.stateNode.containerInfo,Er=!0;break e}a=a.return}if(Vt===null)throw Error(z(160));X1(s,o,i),Vt=null,Er=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ot(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Y1(e,t),e=e.sibling}function Y1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pr(e,t),jr(t),r&4){try{Ec(3,t,t.return),Nm(3,t)}catch(S){ot(t,t.return,S)}try{Ec(5,t,t.return)}catch(S){ot(t,t.return,S)}}break;case 1:pr(e,t),jr(t),r&512&&n!==null&&cl(n,n.return);break;case 5:if(pr(e,t),jr(t),r&512&&n!==null&&cl(n,n.return),t.flags&32){var i=t.stateNode;try{Wc(i,"")}catch(S){ot(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&vP(i,s),Vv(a,o);var u=Vv(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?TP(i,d):h==="dangerouslySetInnerHTML"?SP(i,d):h==="children"?Wc(i,d):c0(i,h,d,u)}switch(a){case"input":Ov(i,s);break;case"textarea":_P(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?wl(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?wl(i,!!s.multiple,s.defaultValue,!0):wl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zc]=s}catch(S){ot(t,t.return,S)}}break;case 6:if(pr(e,t),jr(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){ot(t,t.return,S)}}break;case 3:if(pr(e,t),jr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gc(e.containerInfo)}catch(S){ot(t,t.return,S)}break;case 4:pr(e,t),jr(t);break;case 13:pr(e,t),jr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(z0=ft())),r&4&&eR(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(u=Qt)||h,pr(e,t),Qt=u):pr(e,t),jr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Q=t,h=t.child;h!==null;){for(d=Q=h;Q!==null;){switch(f=Q,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ec(4,f,f.return);break;case 1:cl(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(S){ot(r,n,S)}}break;case 5:cl(f,f.return);break;case 22:if(f.memoizedState!==null){nR(d);continue}}p!==null?(p.return=f,Q=p):nR(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=EP("display",o))}catch(S){ot(t,t.return,S)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(S){ot(t,t.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pr(e,t),jr(t),r&4&&eR(t);break;case 21:break;default:pr(e,t),jr(t)}}function jr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(G1(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wc(i,""),r.flags&=-33);var s=Zb(t);f_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Zb(t);d_(t,a,o);break;default:throw Error(z(161))}}catch(l){ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WB(t,e,n){Q=t,Q1(t)}function Q1(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ud;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qt;a=Ud;var u=Qt;if(Ud=o,(Qt=l)&&!u)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?rR(i):l!==null?(l.return=o,Q=l):rR(i);for(;s!==null;)Q=s,Q1(s),s=s.sibling;Q=i,Ud=a,Qt=u}tR(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):tR(t)}}function tR(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||Nm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Bb(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Gc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Qt||e.flags&512&&h_(e)}catch(f){ot(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function nR(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function rR(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nm(4,e)}catch(l){ot(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ot(e,i,l)}}var s=e.return;try{h_(e)}catch(l){ot(e,s,l)}break;case 5:var o=e.return;try{h_(e)}catch(l){ot(e,o,l)}}}catch(l){ot(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var HB=Math.ceil,Ip=Ki.ReactCurrentDispatcher,U0=Ki.ReactCurrentOwner,nr=Ki.ReactCurrentBatchConfig,Ce=0,Lt=null,gt=null,zt=0,Mn=0,hl=lo(0),Rt=0,sh=null,aa=0,Vm=0,$0=0,Tc=null,vn=null,z0=0,Bl=1/0,Ti=null,xp=!1,p_=null,$s=null,$d=!1,Ls=null,Ap=0,bc=0,m_=null,xf=-1,Af=0;function cn(){return Ce&6?ft():xf!==-1?xf:xf=ft()}function zs(t){return t.mode&1?Ce&2&&zt!==0?zt&-zt:xB.transition!==null?(Af===0&&(Af=LP()),Af):(t=De,t!==0||(t=window.event,t=t===void 0?16:$P(t.type)),t):1}function Ir(t,e,n,r){if(50<bc)throw bc=0,m_=null,Error(z(185));Ph(t,n,r),(!(Ce&2)||t!==Lt)&&(t===Lt&&(!(Ce&2)&&(Vm|=n),Rt===4&&xs(t,zt)),bn(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Bl=ft()+500,Dm&&uo()))}function bn(t,e){var n=t.callbackNode;xF(t,e);var r=dp(t,t===Lt?zt:0);if(r===0)n!==null&&db(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&db(n),e===1)t.tag===0?IB(iR.bind(null,t)):a1(iR.bind(null,t)),TB(function(){!(Ce&6)&&uo()}),n=null;else{switch(NP(r)){case 1:n=m0;break;case 4:n=DP;break;case 16:n=hp;break;case 536870912:n=MP;break;default:n=hp}n=sk(n,J1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function J1(t,e){if(xf=-1,Af=0,Ce&6)throw Error(z(327));var n=t.callbackNode;if(Rl()&&t.callbackNode!==n)return null;var r=dp(t,t===Lt?zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pp(t,r);else{e=r;var i=Ce;Ce|=2;var s=ek();(Lt!==t||zt!==e)&&(Ti=null,Bl=ft()+500,Qo(t,e));do try{GB();break}catch(a){Z1(t,a)}while(!0);x0(),Ip.current=s,Ce=i,gt!==null?e=0:(Lt=null,zt=0,e=Rt)}if(e!==0){if(e===2&&(i=$v(t),i!==0&&(r=i,e=g_(t,i))),e===1)throw n=sh,Qo(t,0),xs(t,r),bn(t,ft()),n;if(e===6)xs(t,r);else{if(i=t.current.alternate,!(r&30)&&!qB(i)&&(e=Pp(t,r),e===2&&(s=$v(t),s!==0&&(r=s,e=g_(t,s))),e===1))throw n=sh,Qo(t,0),xs(t,r),bn(t,ft()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Lo(t,vn,Ti);break;case 3:if(xs(t,r),(r&130023424)===r&&(e=z0+500-ft(),10<e)){if(dp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yv(Lo.bind(null,t,vn,Ti),e);break}Lo(t,vn,Ti);break;case 4:if(xs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Cr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*HB(r/1960))-r,10<r){t.timeoutHandle=Yv(Lo.bind(null,t,vn,Ti),r);break}Lo(t,vn,Ti);break;case 5:Lo(t,vn,Ti);break;default:throw Error(z(329))}}}return bn(t,ft()),t.callbackNode===n?J1.bind(null,t):null}function g_(t,e){var n=Tc;return t.current.memoizedState.isDehydrated&&(Qo(t,e).flags|=256),t=Pp(t,e),t!==2&&(e=vn,vn=n,e!==null&&y_(e)),t}function y_(t){vn===null?vn=t:vn.push.apply(vn,t)}function qB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ar(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xs(t,e){for(e&=~$0,e&=~Vm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cr(e),r=1<<n;t[n]=-1,e&=~r}}function iR(t){if(Ce&6)throw Error(z(327));Rl();var e=dp(t,0);if(!(e&1))return bn(t,ft()),null;var n=Pp(t,e);if(t.tag!==0&&n===2){var r=$v(t);r!==0&&(e=r,n=g_(t,r))}if(n===1)throw n=sh,Qo(t,0),xs(t,e),bn(t,ft()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Lo(t,vn,Ti),bn(t,ft()),null}function W0(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Bl=ft()+500,Dm&&uo())}}function la(t){Ls!==null&&Ls.tag===0&&!(Ce&6)&&Rl();var e=Ce;Ce|=1;var n=nr.transition,r=De;try{if(nr.transition=null,De=1,t)return t()}finally{De=r,nr.transition=n,Ce=e,!(Ce&6)&&uo()}}function H0(){Mn=hl.current,He(hl)}function Qo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,EB(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(R0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yp();break;case 3:Vl(),He(En),He(en),M0();break;case 5:D0(r);break;case 4:Vl();break;case 13:He(Ye);break;case 19:He(Ye);break;case 10:A0(r.type._context);break;case 22:case 23:H0()}n=n.return}if(Lt=t,gt=t=Ws(t.current,null),zt=Mn=e,Rt=0,sh=null,$0=Vm=aa=0,vn=Tc=null,Uo!==null){for(e=0;e<Uo.length;e++)if(n=Uo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Uo=null}return t}function Z1(t,e){do{var n=gt;try{if(x0(),Rf.current=Cp,Rp){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rp=!1}if(oa=0,Mt=bt=Je=null,Sc=!1,nh=0,U0.current=null,n===null||n.return===null){Rt=1,sh=e,gt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Hb(o);if(p!==null){p.flags&=-257,qb(p,o,a,s,e),p.mode&1&&Wb(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var S=new Set;S.add(l),e.updateQueue=S}else g.add(l);break e}else{if(!(e&1)){Wb(s,u,e),q0();break e}l=Error(z(426))}}else if(Ke&&a.mode&1){var T=Hb(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),qb(T,o,a,s,e),C0(Fl(l,a));break e}}s=l=Fl(l,a),Rt!==4&&(Rt=2),Tc===null?Tc=[s]:Tc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=N1(s,l,e);Fb(s,v);break e;case 1:a=l;var y=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&($s===null||!$s.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=V1(s,a,e);Fb(s,A);break e}}s=s.return}while(s!==null)}nk(n)}catch(M){e=M,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function ek(){var t=Ip.current;return Ip.current=Cp,t===null?Cp:t}function q0(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Lt===null||!(aa&268435455)&&!(Vm&268435455)||xs(Lt,zt)}function Pp(t,e){var n=Ce;Ce|=2;var r=ek();(Lt!==t||zt!==e)&&(Ti=null,Qo(t,e));do try{KB();break}catch(i){Z1(t,i)}while(!0);if(x0(),Ce=n,Ip.current=r,gt!==null)throw Error(z(261));return Lt=null,zt=0,Rt}function KB(){for(;gt!==null;)tk(gt)}function GB(){for(;gt!==null&&!_F();)tk(gt)}function tk(t){var e=ik(t.alternate,t,Mn);t.memoizedProps=t.pendingProps,e===null?nk(t):gt=e,U0.current=null}function nk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=UB(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rt=6,gt=null;return}}else if(n=jB(n,e,Mn),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);Rt===0&&(Rt=5)}function Lo(t,e,n){var r=De,i=nr.transition;try{nr.transition=null,De=1,XB(t,e,n,r)}finally{nr.transition=i,De=r}return null}function XB(t,e,n,r){do Rl();while(Ls!==null);if(Ce&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(AF(t,s),t===Lt&&(gt=Lt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$d||($d=!0,sk(hp,function(){return Rl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=nr.transition,nr.transition=null;var o=De;De=1;var a=Ce;Ce|=4,U0.current=null,zB(t,n),Y1(n,t),mB(Gv),fp=!!Kv,Gv=Kv=null,t.current=n,WB(n),wF(),Ce=a,De=o,nr.transition=s}else t.current=n;if($d&&($d=!1,Ls=t,Ap=i),s=t.pendingLanes,s===0&&($s=null),TF(n.stateNode),bn(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xp)throw xp=!1,t=p_,p_=null,t;return Ap&1&&t.tag!==0&&Rl(),s=t.pendingLanes,s&1?t===m_?bc++:(bc=0,m_=t):bc=0,uo(),null}function Rl(){if(Ls!==null){var t=NP(Ap),e=nr.transition,n=De;try{if(nr.transition=null,De=16>t?16:t,Ls===null)var r=!1;else{if(t=Ls,Ls=null,Ap=0,Ce&6)throw Error(z(331));var i=Ce;for(Ce|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:Ec(8,h,s)}var d=h.child;if(d!==null)d.return=h,Q=d;else for(;Q!==null;){h=Q;var f=h.sibling,p=h.return;if(K1(h),h===u){Q=null;break}if(f!==null){f.return=p,Q=f;break}Q=p}}}var g=s.alternate;if(g!==null){var S=g.child;if(S!==null){g.child=null;do{var T=S.sibling;S.sibling=null,S=T}while(S!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ec(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Q=v;break e}Q=s.return}}var y=t.current;for(Q=y;Q!==null;){o=Q;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Q=E;else e:for(o=y;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nm(9,a)}}catch(M){ot(a,a.return,M)}if(a===o){Q=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Q=A;break e}Q=a.return}}if(Ce=i,uo(),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(xm,t)}catch{}r=!0}return r}finally{De=n,nr.transition=e}}return!1}function sR(t,e,n){e=Fl(n,e),e=N1(t,e,1),t=Us(t,e,1),e=cn(),t!==null&&(Ph(t,1,e),bn(t,e))}function ot(t,e,n){if(t.tag===3)sR(t,t,n);else for(;e!==null;){if(e.tag===3){sR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($s===null||!$s.has(r))){t=Fl(n,t),t=V1(e,t,1),e=Us(e,t,1),t=cn(),e!==null&&(Ph(e,1,t),bn(e,t));break}}e=e.return}}function YB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,Lt===t&&(zt&n)===n&&(Rt===4||Rt===3&&(zt&130023424)===zt&&500>ft()-z0?Qo(t,0):$0|=n),bn(t,e)}function rk(t,e){e===0&&(t.mode&1?(e=Od,Od<<=1,!(Od&130023424)&&(Od=4194304)):e=1);var n=cn();t=Fi(t,e),t!==null&&(Ph(t,e,n),bn(t,n))}function QB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rk(t,n)}function JB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),rk(t,n)}var ik;ik=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wn=!1,BB(t,e,n);wn=!!(t.flags&131072)}else wn=!1,Ke&&e.flags&1048576&&l1(e,wp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;If(t,e),t=e.pendingProps;var i=Ml(e,en.current);bl(e,n),i=N0(null,e,r,t,i,n);var s=V0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tn(r)?(s=!0,vp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,k0(e),i.updater=Lm,e.stateNode=i,i._reactInternals=e,r_(e,r,t,n),e=o_(null,e,r,!0,s,n)):(e.tag=0,Ke&&s&&b0(e),ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(If(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ej(r),t=wr(r,t),i){case 0:e=s_(null,e,r,t,n);break e;case 1:e=Xb(null,e,r,t,n);break e;case 11:e=Kb(null,e,r,t,n);break e;case 14:e=Gb(null,e,r,wr(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),s_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),Xb(t,e,r,i,n);case 3:e:{if(U1(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,p1(t,e),Tp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Fl(Error(z(423)),e),e=Yb(t,e,r,n,i);break e}else if(r!==i){i=Fl(Error(z(424)),e),e=Yb(t,e,r,n,i);break e}else for(Vn=js(e.stateNode.containerInfo.firstChild),jn=e,Ke=!0,Tr=null,n=d1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ll(),r===i){e=Bi(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 5:return m1(e),t===null&&e_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Xv(r,i)?o=null:s!==null&&Xv(r,s)&&(e.flags|=32),j1(t,e),ln(t,e,o,n),e.child;case 6:return t===null&&e_(e),null;case 13:return $1(t,e,n);case 4:return O0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Nl(e,null,r,n):ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),Kb(t,e,r,i,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,je(Sp,r._currentValue),r._currentValue=o,s!==null)if(Ar(s.value,o)){if(s.children===i.children&&!En.current){e=Bi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ki(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),t_(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),t_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bl(e,n),i=or(i),r=r(i),e.flags|=1,ln(t,e,r,n),e.child;case 14:return r=e.type,i=wr(r,e.pendingProps),i=wr(r.type,i),Gb(t,e,r,i,n);case 15:return F1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),If(t,e),e.tag=1,Tn(r)?(t=!0,vp(e)):t=!1,bl(e,n),L1(e,r,i),r_(e,r,i,n),o_(null,e,r,!0,t,n);case 19:return z1(t,e,n);case 22:return B1(t,e,n)}throw Error(z(156,e.tag))};function sk(t,e){return OP(t,e)}function ZB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,e,n,r){return new ZB(t,e,n,r)}function K0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ej(t){if(typeof t=="function")return K0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===d0)return 11;if(t===f0)return 14}return 2}function Ws(t,e){var n=t.alternate;return n===null?(n=Zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")K0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case tl:return Jo(n.children,i,s,e);case h0:o=8,i|=8;break;case Iv:return t=Zn(12,n,e,i|2),t.elementType=Iv,t.lanes=s,t;case xv:return t=Zn(13,n,e,i),t.elementType=xv,t.lanes=s,t;case Av:return t=Zn(19,n,e,i),t.elementType=Av,t.lanes=s,t;case mP:return Fm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fP:o=10;break e;case pP:o=9;break e;case d0:o=11;break e;case f0:o=14;break e;case bs:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Zn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Jo(t,e,n,r){return t=Zn(7,t,r,e),t.lanes=n,t}function Fm(t,e,n,r){return t=Zn(22,t,r,e),t.elementType=mP,t.lanes=n,t.stateNode={isHidden:!1},t}function hy(t,e,n){return t=Zn(6,t,null,e),t.lanes=n,t}function dy(t,e,n){return e=Zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tj(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qg(0),this.expirationTimes=qg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function G0(t,e,n,r,i,s,o,a,l){return t=new tj(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},k0(s),t}function nj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:el,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ok(t){if(!t)return Ys;t=t._reactInternals;e:{if(va(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Tn(n))return o1(t,n,e)}return e}function ak(t,e,n,r,i,s,o,a,l){return t=G0(n,r,!0,t,i,s,o,a,l),t.context=ok(null),n=t.current,r=cn(),i=zs(n),s=ki(r,i),s.callback=e??null,Us(n,s,i),t.current.lanes=i,Ph(t,i,r),bn(t,r),t}function Bm(t,e,n,r){var i=e.current,s=cn(),o=zs(i);return n=ok(n),e.context===null?e.context=n:e.pendingContext=n,e=ki(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Us(i,e,o),t!==null&&(Ir(t,i,o,s),bf(t,i,o)),o}function kp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function X0(t,e){oR(t,e),(t=t.alternate)&&oR(t,e)}function rj(){return null}var lk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Y0(t){this._internalRoot=t}jm.prototype.render=Y0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Bm(t,e,null,null)};jm.prototype.unmount=Y0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;la(function(){Bm(null,t,null,null)}),e[Vi]=null}};function jm(t){this._internalRoot=t}jm.prototype.unstable_scheduleHydration=function(t){if(t){var e=BP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Is.length&&e!==0&&e<Is[n].priority;n++);Is.splice(n,0,t),n===0&&UP(t)}};function Q0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Um(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aR(){}function ij(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=kp(o);s.call(u)}}var o=ak(e,r,t,0,null,!1,!1,"",aR);return t._reactRootContainer=o,t[Vi]=o.current,Qc(t.nodeType===8?t.parentNode:t),la(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=kp(l);a.call(u)}}var l=G0(t,0,!1,null,null,!1,!1,"",aR);return t._reactRootContainer=l,t[Vi]=l.current,Qc(t.nodeType===8?t.parentNode:t),la(function(){Bm(e,l,n,r)}),l}function $m(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=kp(o);a.call(l)}}Bm(e,o,t,i)}else o=ij(n,e,t,i,r);return kp(o)}VP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ju(e.pendingLanes);n!==0&&(g0(e,n|1),bn(e,ft()),!(Ce&6)&&(Bl=ft()+500,uo()))}break;case 13:la(function(){var r=Fi(t,1);if(r!==null){var i=cn();Ir(r,t,1,i)}}),X0(t,1)}};y0=function(t){if(t.tag===13){var e=Fi(t,134217728);if(e!==null){var n=cn();Ir(e,t,134217728,n)}X0(t,134217728)}};FP=function(t){if(t.tag===13){var e=zs(t),n=Fi(t,e);if(n!==null){var r=cn();Ir(n,t,e,r)}X0(t,e)}};BP=function(){return De};jP=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Bv=function(t,e,n){switch(e){case"input":if(Ov(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Om(r);if(!i)throw Error(z(90));yP(r),Ov(r,i)}}}break;case"textarea":_P(t,n);break;case"select":e=n.value,e!=null&&wl(t,!!n.multiple,e,!1)}};CP=W0;IP=la;var sj={usingClientEntryPoint:!1,Events:[Oh,sl,Om,bP,RP,W0]},$u={findFiberByHostInstance:jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oj={bundleType:$u.bundleType,version:$u.version,rendererPackageName:$u.rendererPackageName,rendererConfig:$u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PP(t),t===null?null:t.stateNode},findFiberByHostInstance:$u.findFiberByHostInstance||rj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{xm=zd.inject(oj),Zr=zd}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sj;zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Q0(e))throw Error(z(200));return nj(t,e,null,n)};zn.createRoot=function(t,e){if(!Q0(t))throw Error(z(299));var n=!1,r="",i=lk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=G0(t,1,!1,null,null,n,!1,r,i),t[Vi]=e.current,Qc(t.nodeType===8?t.parentNode:t),new Y0(e)};zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=PP(e),t=t===null?null:t.stateNode,t};zn.flushSync=function(t){return la(t)};zn.hydrate=function(t,e,n){if(!Um(e))throw Error(z(200));return $m(null,t,e,!0,n)};zn.hydrateRoot=function(t,e,n){if(!Q0(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=lk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ak(e,null,t,1,n??null,i,!1,s,o),t[Vi]=e.current,Qc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new jm(e)};zn.render=function(t,e,n){if(!Um(e))throw Error(z(200));return $m(null,t,e,!1,n)};zn.unmountComponentAtNode=function(t){if(!Um(t))throw Error(z(40));return t._reactRootContainer?(la(function(){$m(null,null,t,!1,function(){t._reactRootContainer=null,t[Vi]=null})}),!0):!1};zn.unstable_batchedUpdates=W0;zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Um(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return $m(t,e,n,!1,r)};zn.version="18.3.1-next-f1338f8080-20240426";function uk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uk)}catch(t){console.error(t)}}uk(),uP.exports=zn;var ck=uP.exports;const aj=Gl(ck);var lR=ck;Rv.createRoot=lR.createRoot,Rv.hydrateRoot=lR.hydrateRoot;var lj=t=>t.disabled||Array.isArray(t.accessibilityStates)&&t.accessibilityStates.indexOf("disabled")>-1,uj={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null},hk=t=>{var e=t.accessibilityRole,n=t.role,r=n||e;if(r){var i=uj[r];if(i!==null)return i||r}},cj={article:"article",banner:"header",blockquote:"blockquote",button:"button",code:"code",complementary:"aside",contentinfo:"footer",deletion:"del",emphasis:"em",figure:"figure",insertion:"ins",form:"form",list:"ul",listitem:"li",main:"main",navigation:"nav",paragraph:"p",region:"section",strong:"strong"},hj={},dj=function(e){e===void 0&&(e=hj);var n=e.role||e.accessibilityRole;if(n==="label")return"label";var r=hk(e);if(r){if(r==="heading"){var i=e.accessibilityLevel||e["aria-level"];return i!=null?"h"+i:"h1"}return cj[r]}},dk={isDisabled:lj,propsToAccessibilityComponent:dj,propsToAriaRole:hk};function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function fj(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pj(t){var e=fj(t,"string");return oh(e)=="symbol"?e:e+""}function mj(t,e,n){return(e=pj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){mj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rn(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},gj=["ms","Moz","O","Webkit"],yj=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1);Object.keys(kf).forEach(t=>{gj.forEach(e=>{kf[yj(e,t)]=kf[t]})});var vj=t=>t==="currentcolor"||t==="currentColor"||t==="inherit"||t.indexOf("var(")===0;function _j(t){if(typeof t=="number")return t>>>0===t&&t>=0&&t<=4294967295?t:null;if(typeof t!="string")return null;const e=Sj();let n;if(n=e.hex6.exec(t))return parseInt(n[1]+"ff",16)>>>0;const r=Ej(t);return r??((n=e.rgb.exec(t))?(wi(n[1])<<24|wi(n[2])<<16|wi(n[3])<<8|255)>>>0:(n=e.rgba.exec(t))?n[6]!==void 0?(wi(n[6])<<24|wi(n[7])<<16|wi(n[8])<<8|Hd(n[9]))>>>0:(wi(n[2])<<24|wi(n[3])<<16|wi(n[4])<<8|Hd(n[5]))>>>0:(n=e.hex3.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0:(n=e.hex8.exec(t))?parseInt(n[1],16)>>>0:(n=e.hex4.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0:(n=e.hsl.exec(t))?(fy(Wd(n[1]),ys(n[2]),ys(n[3]))|255)>>>0:(n=e.hsla.exec(t))?n[6]!==void 0?(fy(Wd(n[6]),ys(n[7]),ys(n[8]))|Hd(n[9]))>>>0:(fy(Wd(n[2]),ys(n[3]),ys(n[4]))|Hd(n[5]))>>>0:(n=e.hwb.exec(t))?(wj(Wd(n[1]),ys(n[2]),ys(n[3]))|255)>>>0:null)}function Cl(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function fy(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=Cl(i,r,t+1/3),o=Cl(i,r,t),a=Cl(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function wj(t,e,n){if(e+n>=1){const o=Math.round(e*255/(e+n));return o<<24|o<<16|o<<8}const r=Cl(0,1,t+1/3)*(1-e-n)+e,i=Cl(0,1,t)*(1-e-n)+e,s=Cl(0,1,t-1/3)*(1-e-n)+e;return Math.round(r*255)<<24|Math.round(i*255)<<16|Math.round(s*255)<<8}const kt="[-+]?\\d*\\.?\\d+",gs=kt+"%";function py(...t){return"\\(\\s*("+t.join(")\\s*,?\\s*(")+")\\s*\\)"}function cR(...t){return"\\(\\s*("+t.slice(0,t.length-1).join(")\\s*,?\\s*(")+")\\s*/\\s*("+t[t.length-1]+")\\s*\\)"}function hR(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}let my;function Sj(){return my===void 0&&(my={rgb:new RegExp("rgb"+py(kt,kt,kt)),rgba:new RegExp("rgba("+hR(kt,kt,kt,kt)+"|"+cR(kt,kt,kt,kt)+")"),hsl:new RegExp("hsl"+py(kt,gs,gs)),hsla:new RegExp("hsla("+hR(kt,gs,gs,kt)+"|"+cR(kt,gs,gs,kt)+")"),hwb:new RegExp("hwb"+py(kt,gs,gs)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/}),my}function wi(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function Wd(t){return(parseFloat(t)%360+360)%360/360}function Hd(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function ys(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function Ej(t){switch(t){case"transparent":return 0;case"aliceblue":return 4042850303;case"antiquewhite":return 4209760255;case"aqua":return 16777215;case"aquamarine":return 2147472639;case"azure":return 4043309055;case"beige":return 4126530815;case"bisque":return 4293182719;case"black":return 255;case"blanchedalmond":return 4293643775;case"blue":return 65535;case"blueviolet":return 2318131967;case"brown":return 2771004159;case"burlywood":return 3736635391;case"burntsienna":return 3934150143;case"cadetblue":return 1604231423;case"chartreuse":return 2147418367;case"chocolate":return 3530104575;case"coral":return 4286533887;case"cornflowerblue":return 1687547391;case"cornsilk":return 4294499583;case"crimson":return 3692313855;case"cyan":return 16777215;case"darkblue":return 35839;case"darkcyan":return 9145343;case"darkgoldenrod":return 3095792639;case"darkgray":return 2846468607;case"darkgreen":return 6553855;case"darkgrey":return 2846468607;case"darkkhaki":return 3182914559;case"darkmagenta":return 2332068863;case"darkolivegreen":return 1433087999;case"darkorange":return 4287365375;case"darkorchid":return 2570243327;case"darkred":return 2332033279;case"darksalmon":return 3918953215;case"darkseagreen":return 2411499519;case"darkslateblue":return 1211993087;case"darkslategray":return 793726975;case"darkslategrey":return 793726975;case"darkturquoise":return 13554175;case"darkviolet":return 2483082239;case"deeppink":return 4279538687;case"deepskyblue":return 12582911;case"dimgray":return 1768516095;case"dimgrey":return 1768516095;case"dodgerblue":return 512819199;case"firebrick":return 2988581631;case"floralwhite":return 4294635775;case"forestgreen":return 579543807;case"fuchsia":return 4278255615;case"gainsboro":return 3705462015;case"ghostwhite":return 4177068031;case"gold":return 4292280575;case"goldenrod":return 3668254975;case"gray":return 2155905279;case"green":return 8388863;case"greenyellow":return 2919182335;case"grey":return 2155905279;case"honeydew":return 4043305215;case"hotpink":return 4285117695;case"indianred":return 3445382399;case"indigo":return 1258324735;case"ivory":return 4294963455;case"khaki":return 4041641215;case"lavender":return 3873897215;case"lavenderblush":return 4293981695;case"lawngreen":return 2096890111;case"lemonchiffon":return 4294626815;case"lightblue":return 2916673279;case"lightcoral":return 4034953471;case"lightcyan":return 3774873599;case"lightgoldenrodyellow":return 4210742015;case"lightgray":return 3553874943;case"lightgreen":return 2431553791;case"lightgrey":return 3553874943;case"lightpink":return 4290167295;case"lightsalmon":return 4288707327;case"lightseagreen":return 548580095;case"lightskyblue":return 2278488831;case"lightslategray":return 2005441023;case"lightslategrey":return 2005441023;case"lightsteelblue":return 2965692159;case"lightyellow":return 4294959359;case"lime":return 16711935;case"limegreen":return 852308735;case"linen":return 4210091775;case"magenta":return 4278255615;case"maroon":return 2147483903;case"mediumaquamarine":return 1724754687;case"mediumblue":return 52735;case"mediumorchid":return 3126187007;case"mediumpurple":return 2473647103;case"mediumseagreen":return 1018393087;case"mediumslateblue":return 2070474495;case"mediumspringgreen":return 16423679;case"mediumturquoise":return 1221709055;case"mediumvioletred":return 3340076543;case"midnightblue":return 421097727;case"mintcream":return 4127193855;case"mistyrose":return 4293190143;case"moccasin":return 4293178879;case"navajowhite":return 4292783615;case"navy":return 33023;case"oldlace":return 4260751103;case"olive":return 2155872511;case"olivedrab":return 1804477439;case"orange":return 4289003775;case"orangered":return 4282712319;case"orchid":return 3664828159;case"palegoldenrod":return 4008225535;case"palegreen":return 2566625535;case"paleturquoise":return 2951671551;case"palevioletred":return 3681588223;case"papayawhip":return 4293907967;case"peachpuff":return 4292524543;case"peru":return 3448061951;case"pink":return 4290825215;case"plum":return 3718307327;case"powderblue":return 2967529215;case"purple":return 2147516671;case"rebeccapurple":return 1714657791;case"red":return 4278190335;case"rosybrown":return 3163525119;case"royalblue":return 1097458175;case"saddlebrown":return 2336560127;case"salmon":return 4202722047;case"sandybrown":return 4104413439;case"seagreen":return 780883967;case"seashell":return 4294307583;case"sienna":return 2689740287;case"silver":return 3233857791;case"skyblue":return 2278484991;case"slateblue":return 1784335871;case"slategray":return 1887473919;case"slategrey":return 1887473919;case"snow":return 4294638335;case"springgreen":return 16744447;case"steelblue":return 1182971135;case"tan":return 3535047935;case"teal":return 8421631;case"thistle":return 3636451583;case"tomato":return 4284696575;case"turquoise":return 1088475391;case"violet":return 4001558271;case"wheat":return 4125012991;case"white":return 4294967295;case"whitesmoke":return 4126537215;case"yellow":return 4294902015;case"yellowgreen":return 2597139199}return null}var Tj=_j;const bj=Gl(Tj);var Rj=t=>{if(t==null)return t;var e=bj(t);if(e!=null)return e=(e<<24|e>>>8)>>>0,e},fk=function(e,n){if(n===void 0&&(n=1),e!=null){if(typeof e=="string"&&vj(e))return e;var r=Rj(e);if(r!=null){var i=r>>16&255,s=r>>8&255,o=r&255,a=(r>>24&255)/255,l=(a*n).toFixed(2);return"rgba("+i+","+s+","+o+","+l+")"}}},Cj={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function Xr(t,e){var n=t;return(e==null||!kf[e])&&typeof t=="number"?n=t+"px":e!=null&&Cj[e]&&(n=fk(t)),n}var Ct=!!(typeof window<"u"&&window.document&&window.document.createElement),Ij={},xj=!Ct||window.CSS!=null&&window.CSS.supports!=null&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),Aj="monospace,monospace",dR='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',Pj={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderBlockColor:["borderTopColor","borderBottomColor"],borderInlineColor:["borderRightColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderInlineStyle:["borderRightStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderInlineWidth:["borderRightWidth","borderLeftWidth"],insetBlock:["top","bottom"],insetInline:["left","right"],marginBlock:["marginTop","marginBottom"],marginInline:["marginRight","marginLeft"],paddingBlock:["paddingTop","paddingBottom"],paddingInline:["paddingRight","paddingLeft"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],borderBlockStartColor:["borderTopColor"],borderBlockStartStyle:["borderTopStyle"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndColor:["borderBottomColor"],borderBlockEndStyle:["borderBottomStyle"],borderBlockEndWidth:["borderBottomWidth"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],insetBlockEnd:["bottom"],insetBlockStart:["top"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"]},pk=(t,e)=>{if(!t)return Ij;var n={},r=function(){var a=t[i];if(a==null)return"continue";if(i==="backgroundClip")a==="text"&&(n.backgroundClip=a,n.WebkitBackgroundClip=a);else if(i==="flex")a===-1?(n.flexGrow=0,n.flexShrink=1,n.flexBasis="auto"):n.flex=a;else if(i==="font")n[i]=a.replace("System",dR);else if(i==="fontFamily")if(a.indexOf("System")>-1){var l=a.split(/,\s*/);l[l.indexOf("System")]=dR,n[i]=l.join(",")}else a==="monospace"?n[i]=Aj:n[i]=a;else if(i==="textDecorationLine")xj?n.textDecorationLine=a:n.textDecoration=a;else if(i==="writingDirection")n.direction=a;else{var u=Xr(t[i],i),h=Pj[i];e&&i==="inset"?(t.insetInline==null&&(n.left=u,n.right=u),t.insetBlock==null&&(n.top=u,n.bottom=u)):e&&i==="margin"?(t.marginInline==null&&(n.marginLeft=u,n.marginRight=u),t.marginBlock==null&&(n.marginTop=u,n.marginBottom=u)):e&&i==="padding"?(t.paddingInline==null&&(n.paddingLeft=u,n.paddingRight=u),t.paddingBlock==null&&(n.paddingTop=u,n.paddingBottom=u)):h?h.forEach((d,f)=>{t[d]==null&&(n[d]=u)}):n[i]=u}};for(var i in t)var s=r();return n};function kj(t,e){for(var n=t.length,r=e^n,i=0,s;n>=4;)s=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,s=(s&65535)*1540483477+(((s>>>16)*1540483477&65535)<<16),s^=s>>>24,s=(s&65535)*1540483477+(((s>>>16)*1540483477&65535)<<16),r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16)^s,n-=4,++i;switch(n){case 3:r^=(t.charCodeAt(i+2)&255)<<16;case 2:r^=(t.charCodeAt(i+1)&255)<<8;case 1:r^=t.charCodeAt(i)&255,r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16)}return r^=r>>>13,r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16),r^=r>>>15,r>>>0}var Oj=t=>kj(t,1).toString(36),Dj=/[A-Z]/g,Mj=/^ms-/,gy={};function Lj(t){return"-"+t.toLowerCase()}function Nj(t){if(t in gy)return gy[t];var e=t.replace(Dj,Lj);return gy[t]=Mj.test(e)?"-"+e:e}var mk={},J0={},zm={};Object.defineProperty(zm,"__esModule",{value:!0});zm.default=Vj;function Vj(t){return t.charAt(0).toUpperCase()+t.slice(1)}Object.defineProperty(J0,"__esModule",{value:!0});J0.default=Uj;var Fj=zm,Bj=jj(Fj);function jj(t){return t&&t.__esModule?t:{default:t}}function Uj(t,e,n){var r=t[e];if(r&&n.hasOwnProperty(e))for(var i=(0,Bj.default)(e),s=0;s<r.length;++s){var o=r[s]+i;n[o]||(n[o]=n[e])}return n}var Z0={};Object.defineProperty(Z0,"__esModule",{value:!0});Z0.default=$j;function $j(t,e,n,r,i){for(var s=0,o=t.length;s<o;++s){var a=t[s](e,n,r,i);if(a)return a}}var eS={};Object.defineProperty(eS,"__esModule",{value:!0});eS.default=zj;function fR(t,e){t.indexOf(e)===-1&&t.push(e)}function zj(t,e){if(Array.isArray(e))for(var n=0,r=e.length;n<r;++n)fR(t,e[n]);else fR(t,e)}var tS={};Object.defineProperty(tS,"__esModule",{value:!0});tS.default=Wj;function Wj(t){return t instanceof Object&&!Array.isArray(t)}Object.defineProperty(mk,"__esModule",{value:!0});var Hj=mk.default=Zj,qj=J0,Kj=Wm(qj),Gj=Z0,pR=Wm(Gj),Xj=eS,Yj=Wm(Xj),Qj=tS,Jj=Wm(Qj);function Wm(t){return t&&t.__esModule?t:{default:t}}function Zj(t){var e=t.prefixMap,n=t.plugins;return function r(i){for(var s in i){var o=i[s];if((0,Jj.default)(o))i[s]=r(o);else if(Array.isArray(o)){for(var a=[],l=0,u=o.length;l<u;++l){var h=(0,pR.default)(n,s,o[l],i,e);(0,Yj.default)(a,h||o[l])}a.length>0&&(i[s]=a)}else{var d=(0,pR.default)(n,s,o,i,e);d&&(i[s]=d),i=(0,Kj.default)(e,s,i)}}return i}}var gk={};Object.defineProperty(gk,"__esModule",{value:!0});var eU=gk.default=tU;function tU(){return null}var yk={};function Of(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Of=function(n){return typeof n}:Of=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Of(t)}function nU(t){return oU(t)||sU(t)||iU(t)||rU()}function rU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iU(t,e){if(t){if(typeof t=="string")return v_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v_(t,e)}}function sU(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function oU(t){if(Array.isArray(t))return v_(t)}function v_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mR(t){return t.filter(function(e,n){return t.lastIndexOf(e)===n})}function vk(t){for(var e=0,n=arguments.length<=1?0:arguments.length-1;e<n;++e){var r=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];for(var i in r){var s=r[i],o=t[i];if(o&&s){if(Array.isArray(o)){t[i]=mR(o.concat(s));continue}if(Array.isArray(s)){t[i]=mR([o].concat(nU(s)));continue}if(Of(s)==="object"){t[i]=vk({},o,s);continue}}t[i]=s}}return t}var aU=/-([a-z])/g,lU=/^Ms/g,yy={};function uU(t){return t[1].toUpperCase()}function _k(t){if(yy.hasOwnProperty(t))return yy[t];var e=t.replace(aU,uU).replace(lU,"ms");return yy[t]=e,e}var cU=/[A-Z]/g,hU=/^ms-/,vy={};function dU(t){return"-"+t.toLowerCase()}function wk(t){if(vy.hasOwnProperty(t))return vy[t];var e=t.replace(cU,dU);return vy[t]=hU.test(e)?"-"+e:e}const fU=Object.freeze(Object.defineProperty({__proto__:null,default:wk},Symbol.toStringTag,{value:"Module"}));function Hm(t){return wk(t)}function Sk(t,e){return Hm(t)+":"+e}function pU(t){var e="";for(var n in t){var r=t[n];typeof r!="string"&&typeof r!="number"||(e&&(e+=";"),e+=Sk(n,r))}return e}var mU=/^(Webkit|Moz|O|ms)/;function gU(t){return mU.test(t)}var yU=/-webkit-|-moz-|-ms-/;function vU(t){return typeof t=="string"&&yU.test(t)}var ah={borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gR=["animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineClamp","order"],yR=["Webkit","ms","Moz","O"];function _U(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)}for(var _y=0,wU=gR.length;_y<wU;++_y){var vR=gR[_y];ah[vR]=!0;for(var wy=0,SU=yR.length;wy<SU;++wy)ah[_U(yR[wy],vR)]=!0}for(var EU in ah)ah[Hm(EU)]=!0;function TU(t){return ah.hasOwnProperty(t)}var bU=/^(ms|Webkit|Moz|O)/;function Ek(t){var e=t.replace(bU,"");return e.charAt(0).toLowerCase()+e.slice(1)}function RU(t){return Ek(_k(t))}function CU(t,e){return e.join(";"+Hm(t)+":")}var IU=/(-ms-|-webkit-|-moz-|-o-)/g;function xU(t){return typeof t=="string"?t.replace(IU,""):t}const AU=Object.freeze(Object.defineProperty({__proto__:null,assignStyle:vk,camelCaseProperty:_k,cssifyDeclaration:Sk,cssifyObject:pU,hyphenateProperty:Hm,isPrefixedProperty:gU,isPrefixedValue:vU,isUnitlessProperty:TU,normalizeProperty:RU,resolveArrayValue:CU,unprefixProperty:Ek,unprefixValue:xU},Symbol.toStringTag,{value:"Module"})),Tk=QA(AU);Object.defineProperty(yk,"__esModule",{value:!0});var PU=yk.default=MU,kU=Tk,OU=/cross-fade\(/g,DU=["-webkit-",""];function MU(t,e){if(typeof e=="string"&&!(0,kU.isPrefixedValue)(e)&&e.indexOf("cross-fade(")!==-1)return DU.map(function(n){return e.replace(OU,n+"cross-fade(")})}var bk={};Object.defineProperty(bk,"__esModule",{value:!0});var LU=bk.default=FU,NU=["-webkit-","-moz-",""],VU={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};function FU(t,e){if(t==="cursor"&&VU.hasOwnProperty(e))return NU.map(function(n){return n+e})}var Rk={};Object.defineProperty(Rk,"__esModule",{value:!0});var BU=Rk.default=zU,jU=Tk,UU=/filter\(/g,$U=["-webkit-",""];function zU(t,e){if(typeof e=="string"&&!(0,jU.isPrefixedValue)(e)&&e.indexOf("filter(")!==-1)return $U.map(function(n){return e.replace(UU,n+"filter(")})}var Ck={},nS={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var e=/-webkit-|-moz-|-ms-/;function n(r){return typeof r=="string"&&e.test(r)}})(nS);Object.defineProperty(Ck,"__esModule",{value:!0});var WU=Ck.default=XU,HU=nS,qU=KU(HU);function KU(t){return t&&t.__esModule?t:{default:t}}var GU=["-webkit-",""];function XU(t,e){if(typeof e=="string"&&!(0,qU.default)(e)&&e.indexOf("image-set(")>-1)return GU.map(function(n){return e.replace(/image-set\(/g,n+"image-set(")})}var Ik={};Object.defineProperty(Ik,"__esModule",{value:!0});var YU=Ik.default=QU,_R={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]};function QU(t,e,n){if(Object.prototype.hasOwnProperty.call(_R,t))for(var r=_R[t],i=0,s=r.length;i<s;++i)n[r[i]]=e}var xk={};Object.defineProperty(xk,"__esModule",{value:!0});var JU=xk.default=ZU;function ZU(t,e){if(t==="position"&&e==="sticky")return["-webkit-sticky","sticky"]}var Ak={};Object.defineProperty(Ak,"__esModule",{value:!0});var e4=Ak.default=i4,t4=["-webkit-","-moz-",""],n4={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},r4={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};function i4(t,e){if(n4.hasOwnProperty(t)&&r4.hasOwnProperty(e))return t4.map(function(n){return n+e})}var Pk={},kk={};const s4=QA(fU);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var e=s4,n=r(e);function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,n.default)(s)}})(kk);Object.defineProperty(Pk,"__esModule",{value:!0});var o4=Pk.default=m4,a4=kk,l4=rS(a4),u4=nS,c4=rS(u4),h4=zm,wR=rS(h4);function rS(t){return t&&t.__esModule?t:{default:t}}var d4={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},f4={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};function p4(t,e){if((0,c4.default)(t))return t;for(var n=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g),r=0,i=n.length;r<i;++r){var s=n[r],o=[s];for(var a in e){var l=(0,l4.default)(a);if(s.indexOf(l)>-1&&l!=="order")for(var u=e[a],h=0,d=u.length;h<d;++h)o.unshift(s.replace(l,f4[u[h]]+l))}n[r]=o.join(",")}return n.join(",")}function m4(t,e,n,r){if(typeof e=="string"&&d4.hasOwnProperty(t)){var i=p4(e,r),s=i.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(a){return!/-moz-|-ms-/.test(a)}).join(",");if(t.indexOf("Webkit")>-1)return s;var o=i.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(a){return!/-webkit-|-ms-/.test(a)}).join(",");return t.indexOf("Moz")>-1?o:(n["Webkit"+(0,wR.default)(t)]=s,n["Moz"+(0,wR.default)(t)]=o,i)}}var Fe=["Webkit"],g4=["Moz"],y4=["Webkit","Moz"],it=["Webkit","ms"],v4=["Webkit","Moz","ms"];const _4={plugins:[eU,PU,LU,BU,WU,YU,JU,e4,o4],prefixMap:{appearance:v4,userSelect:y4,textEmphasisPosition:it,textEmphasis:it,textEmphasisStyle:it,textEmphasisColor:it,boxDecorationBreak:it,clipPath:Fe,maskImage:it,maskMode:it,maskRepeat:it,maskPosition:it,maskClip:it,maskOrigin:it,maskSize:it,maskComposite:it,mask:it,maskBorderSource:it,maskBorderMode:it,maskBorderSlice:it,maskBorderWidth:it,maskBorderOutset:it,maskBorderRepeat:it,maskBorder:it,maskType:it,textDecorationStyle:Fe,textDecorationSkip:Fe,textDecorationLine:Fe,textDecorationColor:Fe,filter:Fe,breakAfter:Fe,breakBefore:Fe,breakInside:Fe,columnCount:Fe,columnFill:Fe,columnGap:Fe,columnRule:Fe,columnRuleColor:Fe,columnRuleStyle:Fe,columnRuleWidth:Fe,columns:Fe,columnSpan:Fe,columnWidth:Fe,backdropFilter:Fe,hyphens:Fe,flowInto:Fe,flowFrom:Fe,regionFragment:Fe,textOrientation:Fe,tabSize:g4,fontKerning:Fe,textSizeAdjust:Fe}};var w4=Hj(_4),S4=["animationKeyframes"],SR=new Map,E4={},T4=1,b4=3,R4={borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,inset:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,insetBlock:2.1,insetInline:2.1,marginInline:2.1,marginBlock:2.1,paddingInline:2.1,paddingBlock:2.1,borderBlockStartColor:2.2,borderBlockStartStyle:2.2,borderBlockStartWidth:2.2,borderBlockEndColor:2.2,borderBlockEndStyle:2.2,borderBlockEndWidth:2.2,borderInlineStartColor:2.2,borderInlineStartStyle:2.2,borderInlineStartWidth:2.2,borderInlineEndColor:2.2,borderInlineEndStyle:2.2,borderInlineEndWidth:2.2,borderEndStartRadius:2.2,borderEndEndRadius:2.2,borderStartStartRadius:2.2,borderStartEndRadius:2.2,insetBlockEnd:2.2,insetBlockStart:2.2,insetInlineEnd:2.2,insetInlineStart:2.2,marginBlockStart:2.2,marginBlockEnd:2.2,marginInlineStart:2.2,marginInlineEnd:2.2,paddingBlockStart:2.2,paddingBlockEnd:2.2,paddingInlineStart:2.2,paddingInlineEnd:2.2},__="borderTopLeftRadius",w_="borderTopRightRadius",S_="borderBottomLeftRadius",E_="borderBottomRightRadius",T_="borderLeftColor",b_="borderLeftStyle",R_="borderLeftWidth",C_="borderRightColor",I_="borderRightStyle",x_="borderRightWidth",A_="right",P_="marginLeft",k_="marginRight",O_="paddingLeft",D_="paddingRight",M_="left",Op={[__]:w_,[w_]:__,[S_]:E_,[E_]:S_,[T_]:C_,[b_]:I_,[R_]:x_,[C_]:T_,[I_]:b_,[x_]:R_,[M_]:A_,[P_]:k_,[k_]:P_,[O_]:D_,[D_]:O_,[A_]:M_},Rc={borderStartStartRadius:__,borderStartEndRadius:w_,borderEndStartRadius:S_,borderEndEndRadius:E_,borderInlineStartColor:T_,borderInlineStartStyle:b_,borderInlineStartWidth:R_,borderInlineEndColor:C_,borderInlineEndStyle:I_,borderInlineEndWidth:x_,insetInlineEnd:A_,insetInlineStart:M_,marginInlineStart:P_,marginInlineEnd:k_,paddingInlineStart:O_,paddingInlineEnd:D_},Ok=["clear","float","textAlign"];function C4(t){var e={$$css:!0},n=[];function r(i,s,o){var a=A4(o,s),l=s+a,u=SR.get(l),h;if(u!=null)h=u[0],n.push(u[1]);else{var d=i!==s?l:a;h=iS("r",i,d);var f=R4[i]||b4,p=P4(h,s,o),g=[p,f];n.push(g),SR.set(l,[h,g])}return h}return Object.keys(t).sort().forEach(i=>{var s=t[i];if(s!=null){var o;if(Ok.indexOf(i)>-1){var a=r(i,i,"left"),l=r(i,i,"right");s==="start"?o=[a,l]:s==="end"&&(o=[l,a])}var u=Rc[i];if(u!=null){var h=r(i,u,s),d=r(i,Op[u],s);o=[h,d]}if(i==="transitionProperty"){for(var f=Array.isArray(s)?s:[s],p=[],g=0;g<f.length;g++){var S=f[g];typeof S=="string"&&Rc[S]!=null&&p.push(g)}if(p.length>0){var T=[...f],v=[...f];p.forEach(y=>{var E=T[y];if(typeof E=="string"){var A=Rc[E],M=Op[A];T[y]=A,v[y]=M;var D=r(i,i,T),b=r(i,i,v);o=[D,b]}})}}o==null?o=r(i,i,s):e.$$css$localize=!0,e[i]=o}}),[e,n]}function I4(t,e){var n={$$css:!0},r=[],i=t.animationKeyframes,s=Rn(t,S4),o=iS("css",e,JSON.stringify(t)),a="."+o,l;if(i!=null){var u=Dk(i),h=u[0],d=u[1];l=h.join(","),r.push(...d)}var f=bi(me(me({},s),{},{animationName:l}));return r.push(""+a+f),n[o]=o,[n,[[r,T4]]]}function x4(t,e){var n=t||E4,r={},i={},s=function(){var u=n[o],h=o,d=u;if(!Object.prototype.hasOwnProperty.call(n,o)||u==null)return"continue";Ok.indexOf(o)>-1&&(u==="start"?d=e?"right":"left":u==="end"&&(d=e?"left":"right"));var f=Rc[o];if(f!=null&&(h=e?Op[f]:f),o==="transitionProperty"){var p=Array.isArray(u)?u:[u];p.forEach((g,S)=>{if(typeof g=="string"){var T=Rc[g];T!=null&&(p[S]=e?Op[T]:T,d=p.join(" "))}})}r[h]||(i[h]=d),h===o&&(r[h]=!0)};for(var o in n)var a=s();return pk(i,!0)}function A4(t,e){var n=Xr(t,e);return typeof n!="string"?JSON.stringify(n||""):n}function P4(t,e,n){var r=[],i="."+t;switch(e){case"animationKeyframes":{var s=Dk(n),o=s[0],a=s[1],l=bi({animationName:o.join(",")});r.push(""+i+l,...a);break}case"placeholderTextColor":{var u=bi({color:n,opacity:1});r.push(i+"::-webkit-input-placeholder"+u,i+"::-moz-placeholder"+u,i+":-ms-input-placeholder"+u,i+"::placeholder"+u);break}case"pointerEvents":{var h=n;if(n==="auto"||n==="box-only"){if(h="auto!important",n==="box-only"){var d=bi({pointerEvents:"none"});r.push(i+">*"+d)}}else if((n==="none"||n==="box-none")&&(h="none!important",n==="box-none")){var f=bi({pointerEvents:"auto"});r.push(i+">*"+f)}var p=bi({pointerEvents:h});r.push(""+i+p);break}case"scrollbarWidth":{n==="none"&&r.push(i+"::-webkit-scrollbar{display:none}");var g=bi({scrollbarWidth:n});r.push(""+i+g);break}default:{var S=bi({[e]:n});r.push(""+i+S);break}}return r}function bi(t){var e=w4(pk(t)),n=Object.keys(e).map(r=>{var i=e[r],s=Nj(r);return Array.isArray(i)?i.map(o=>s+":"+o).join(";"):s+":"+i}).sort().join(";");return"{"+n+";}"}function iS(t,e,n){var r=Oj(e+n);return t+"-"+r}function k4(t){var e=["-webkit-",""],n=iS("r","animation",JSON.stringify(t)),r="{"+Object.keys(t).map(s=>{var o=t[s],a=bi(o);return""+s+a}).join("")+"}",i=e.map(s=>"@"+s+"keyframes "+n+r);return[n,i]}function Dk(t){if(typeof t=="number")throw new Error("Invalid CSS keyframes type: "+typeof t);var e=[],n=[],r=Array.isArray(t)?t:[t];return r.forEach(i=>{if(typeof i=="string")e.push(i);else{var s=k4(i),o=s[0],a=s[1];e.push(o),n.push(...a)}}),[e,n]}function Sy(t,e,n){if(Ct){var r=e??document,i=r.getElementById(t);if(i==null)if(i=document.createElement("style"),i.setAttribute("id",t),typeof n=="string"&&i.appendChild(document.createTextNode(n)),r instanceof ShadowRoot)r.insertBefore(i,r.firstChild);else{var s=r.head;s&&s.insertBefore(i,s.firstChild)}return i.sheet}else return null}var O4=Array.prototype.slice;function Ey(t){var e={},n={};if(t!=null){var r;O4.call(t.cssRules).forEach((o,a)=>{var l=o.cssText;if(l.indexOf("stylesheet-group")>-1)r=L4(o),e[r]={start:a,rules:[l]};else{var u=TR(l);u!=null&&(n[u]=!0,e[r].rules.push(l))}})}function i(o,a,l){var u=ER(e),h=u.indexOf(a),d=h+1,f=u[d],p=f!=null&&e[f].start!=null?e[f].start:o.cssRules.length,g=V4(o,l,p);if(g){e[a].start==null&&(e[a].start=p);for(var S=d;S<u.length;S+=1){var T=u[S],v=e[T].start||0;e[T].start=v+1}}return g}var s={getTextContent(){return ER(e).map(o=>{var a=e[o].rules,l=a.shift();return a.sort(),a.unshift(l),a.join(`
`)}).join(`
`)},insert(o,a){var l=Number(a);if(e[l]==null){var u=D4(l);e[l]={start:null,rules:[u]},t!=null&&i(t,l,u)}var h=TR(o);if(h!=null&&n[h]==null&&(n[h]=!0,e[l].rules.push(o),t!=null)){var d=i(t,l,o);d||e[l].rules.pop()}}};return s}function D4(t){return'[stylesheet-group="'+t+'"]{}'}var M4=/["']/g;function L4(t){return Number(t.selectorText.split(M4)[1])}function ER(t){return Object.keys(t).map(Number).sort((e,n)=>e>n?1:-1)}var N4=/\s*([,])\s*/g;function TR(t){var e=t.split("{")[0].trim();return e!==""?e.replace(N4,"$1"):null}function V4(t,e,n){try{return t.insertRule(e,n),!0}catch{return!1}}var F4="react-native-stylesheet",Ty=new WeakMap,mr=[],bR=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"];function B4(t,e){e===void 0&&(e=F4);var n;if(Ct){var r=document;if(mr.length===0)n=Ey(Sy(e)),bR.forEach(a=>{n.insert(a,0)}),Ty.set(r,mr.length),mr.push(n);else{var i=Ty.get(r);if(i==null){var s=mr[0],o=s!=null?s.getTextContent():"";n=Ey(Sy(e,r,o)),Ty.set(r,mr.length),mr.push(n)}else n=mr[i]}}else mr.length===0?(n=Ey(Sy(e)),bR.forEach(a=>{n.insert(a,0)}),mr.push(n)):n=mr[0];return{getTextContent(){return n.getTextContent()},id:e,insert(a,l){mr.forEach(u=>{u.insert(a,l)})}}}var sS={};Object.defineProperty(sS,"__esModule",{value:!0});sS.localizeStyle=j4;var qd=new WeakMap,Mk="$$css$localize";function RR(t,e){var n={};for(var r in t)if(r!==Mk){var i=t[r];Array.isArray(i)?n[r]=e?i[1]:i[0]:n[r]=i}return n}function j4(t,e){if(t[Mk]!=null){var n=e?1:0;if(qd.has(t)){var r=qd.get(t),i=r[n];return i==null&&(i=RR(t,e),r[n]=i,qd.set(t,r)),i}var s=RR(t,e),o=new Array(2);return o[n]=s,qd.set(t,o),s}return t}var U4=sS,$4={},Lk={height:0,width:0},Nk=t=>{var e=t.shadowColor,n=t.shadowOffset,r=t.shadowOpacity,i=t.shadowRadius,s=n||Lk,o=s.height,a=s.width,l=Xr(a),u=Xr(o),h=Xr(i||0),d=fk(e||"black",r);if(d!=null&&l!=null&&u!=null&&h!=null)return l+" "+u+" "+h+" "+d},z4=t=>{var e=t.textShadowColor,n=t.textShadowOffset,r=t.textShadowRadius,i=n||Lk,s=i.height,o=i.width,a=r||0,l=Xr(o),u=Xr(s),h=Xr(a),d=Xr(e,"textShadowColor");if(d&&(s!==0||o!==0||a!==0)&&l!=null&&u!=null&&h!=null)return l+" "+u+" "+h+" "+d},W4=t=>{var e=Object.keys(t)[0],n=t[e];if(e==="matrix"||e==="matrix3d")return e+"("+n.join(",")+")";var r=Xr(n,e);return e+"("+r+")"},H4=t=>t.map(W4).join(" "),q4={borderBottomEndRadius:"borderEndEndRadius",borderBottomStartRadius:"borderEndStartRadius",borderTopEndRadius:"borderStartEndRadius",borderTopStartRadius:"borderStartStartRadius",borderEndColor:"borderInlineEndColor",borderEndStyle:"borderInlineEndStyle",borderEndWidth:"borderInlineEndWidth",borderStartColor:"borderInlineStartColor",borderStartStyle:"borderInlineStartStyle",borderStartWidth:"borderInlineStartWidth",end:"insetInlineEnd",marginEnd:"marginInlineEnd",marginHorizontal:"marginInline",marginStart:"marginInlineStart",marginVertical:"marginBlock",paddingEnd:"paddingInlineEnd",paddingHorizontal:"paddingInline",paddingStart:"paddingInlineStart",paddingVertical:"paddingBlock",start:"insetInlineStart"},K4={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},Vk=function(e,n){n===void 0&&(n={});var r=e||$4,i={};if(n.shadow,r.shadowColor!=null||r.shadowOffset!=null||r.shadowOpacity!=null||r.shadowRadius!=null){var s=Nk(r);if(s!=null&&i.boxShadow==null){var o=r.boxShadow,a=o?o+", "+s:s;i.boxShadow=a}}if(n.textShadow,r.textShadowColor!=null||r.textShadowOffset!=null||r.textShadowRadius!=null){var l=z4(r);if(l!=null&&i.textShadow==null){var u=r.textShadow,h=u?u+", "+l:l;i.textShadow=h}}for(var d in r)if(!(K4[d]!=null||d==="shadowColor"||d==="shadowOffset"||d==="shadowOpacity"||d==="shadowRadius"||d==="textShadowColor"||d==="textShadowOffset"||d==="textShadowRadius")){var f=r[d],p=q4[d]||d,g=f;!Object.prototype.hasOwnProperty.call(r,d)||p!==d&&r[p]!=null||(p==="aspectRatio"&&typeof g=="number"?i[p]=g.toString():p==="fontVariant"?(Array.isArray(g)&&g.length>0&&(g=g.join(" ")),i[p]=g):p==="textAlignVertical"?r.verticalAlign==null&&(i.verticalAlign=g==="center"?"middle":g):p==="transform"?(Array.isArray(g)&&(g=H4(g)),i.transform=g):i[p]=g)}return i},oS={};Object.defineProperty(oS,"__esModule",{value:!0});var Fk=oS.styleq=void 0,G4=new WeakMap,X4="$$css";function Bk(t){var e,n,r;return t!=null&&(e=t.disableCache===!0,n=t.disableMix===!0,r=t.transform),function(){for(var s=[],o="",a=null,l=e?null:G4,u=new Array(arguments.length),h=0;h<arguments.length;h++)u[h]=arguments[h];for(;u.length>0;){var d=u.pop();if(!(d==null||d===!1)){if(Array.isArray(d)){for(var f=0;f<d.length;f++)u.push(d[f]);continue}var p=r!=null?r(d):d;if(p.$$css){var g="";if(l!=null&&l.has(p)){var S=l.get(p);S!=null&&(g=S[0],s.push.apply(s,S[1]),l=S[2])}else{var T=[];for(var v in p){var y=p[v];v!==X4&&(typeof y=="string"||y===null?s.includes(v)||(s.push(v),l!=null&&T.push(v),typeof y=="string"&&(g+=g?" "+y:y)):console.error("styleq: ".concat(v," typeof ").concat(String(y),' is not "string" or "null".')))}if(l!=null){var E=new WeakMap;l.set(p,[g,T,E]),l=E}}g&&(o=o?g+" "+o:g)}else if(n)a==null&&(a={}),a=Object.assign({},p,a);else{var A=null;for(var M in p){var D=p[M];D!==void 0&&(s.includes(M)||(D!=null&&(a==null&&(a={}),A==null&&(A={}),A[M]=D),s.push(M),l=null))}A!=null&&(a=Object.assign(A,a))}}}var b=[o,a];return b}}var jk=Bk();Fk=oS.styleq=jk;jk.factory=Bk;var Y4=["writingDirection"],Uk=new WeakMap,Dp=B4(),$k={shadow:!0,textShadow:!0};function Q4(t,e){e===void 0&&(e={});var n=e,r=n.writingDirection,i=Rn(n,Y4),s=r==="rtl";return Fk.factory({transform(o){var a=Uk.get(o);return a!=null?U4.localizeStyle(a,s):Vk(o,me(me({},$k),i))}})(t)}function zk(t){t.forEach(e=>{var n=e[0],r=e[1];Dp!=null&&n.forEach(i=>{Dp.insert(i,r)})})}function J4(t){var e=C4(Vk(t,$k)),n=e[0],r=e[1];return zk(r),n}function Z4(t,e){var n=I4(t,e),r=n[0],i=n[1];return zk(i),r}var Wk={position:"absolute",left:0,right:0,top:0,bottom:0},e$=Hk({x:me({},Wk)}).x;function Hk(t){return Object.keys(t).forEach(e=>{var n=t[e];if(n!=null&&n.$$css!==!0){var r;e.indexOf("$raw")>-1?r=Z4(n,e.split("$raw")[0]):r=J4(n),Uk.set(n,r)}}),t}function t$(t,e){return[t,e]}function n$(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.flat(1/0),i={},s=0;s<r.length;s++){var o=r[s];o!=null&&typeof o=="object"&&Object.assign(i,o)}return i}function r$(){return{id:Dp.id,textContent:Dp.getTextContent()}}function Gi(t,e){e===void 0&&(e={});var n=e.writingDirection==="rtl",r=Q4(t,e);return Array.isArray(r)&&r[1]!=null&&(r[1]=x4(r[1],n)),r}Gi.absoluteFill=e$;Gi.absoluteFillObject=Wk;Gi.create=Hk;Gi.compose=t$;Gi.flatten=n$;Gi.getSheet=r$;Gi.hairlineWidth=1;Ct&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=Gi.flatten);var Ie=Gi,i$=["aria-activedescendant","accessibilityActiveDescendant","aria-atomic","accessibilityAtomic","aria-autocomplete","accessibilityAutoComplete","aria-busy","accessibilityBusy","aria-checked","accessibilityChecked","aria-colcount","accessibilityColumnCount","aria-colindex","accessibilityColumnIndex","aria-colspan","accessibilityColumnSpan","aria-controls","accessibilityControls","aria-current","accessibilityCurrent","aria-describedby","accessibilityDescribedBy","aria-details","accessibilityDetails","aria-disabled","accessibilityDisabled","aria-errormessage","accessibilityErrorMessage","aria-expanded","accessibilityExpanded","aria-flowto","accessibilityFlowTo","aria-haspopup","accessibilityHasPopup","aria-hidden","accessibilityHidden","aria-invalid","accessibilityInvalid","aria-keyshortcuts","accessibilityKeyShortcuts","aria-label","accessibilityLabel","aria-labelledby","accessibilityLabelledBy","aria-level","accessibilityLevel","aria-live","accessibilityLiveRegion","aria-modal","accessibilityModal","aria-multiline","accessibilityMultiline","aria-multiselectable","accessibilityMultiSelectable","aria-orientation","accessibilityOrientation","aria-owns","accessibilityOwns","aria-placeholder","accessibilityPlaceholder","aria-posinset","accessibilityPosInSet","aria-pressed","accessibilityPressed","aria-readonly","accessibilityReadOnly","aria-required","accessibilityRequired","role","accessibilityRole","aria-roledescription","accessibilityRoleDescription","aria-rowcount","accessibilityRowCount","aria-rowindex","accessibilityRowIndex","aria-rowspan","accessibilityRowSpan","aria-selected","accessibilitySelected","aria-setsize","accessibilitySetSize","aria-sort","accessibilitySort","aria-valuemax","accessibilityValueMax","aria-valuemin","accessibilityValueMin","aria-valuenow","accessibilityValueNow","aria-valuetext","accessibilityValueText","dataSet","focusable","id","nativeID","pointerEvents","style","tabIndex","testID"],s$={},o$=Object.prototype.hasOwnProperty,a$=Array.isArray,l$=/[A-Z]/g;function u$(t){return"-"+t.toLowerCase()}function c$(t){return t.replace(l$,u$)}function $a(t){return a$(t)?t.join(" "):t}var h$=Ie.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}}),d$=(t,e,n)=>{e||(e=s$);var r=e,i=r["aria-activedescendant"],s=r.accessibilityActiveDescendant,o=r["aria-atomic"],a=r.accessibilityAtomic,l=r["aria-autocomplete"],u=r.accessibilityAutoComplete,h=r["aria-busy"],d=r.accessibilityBusy,f=r["aria-checked"],p=r.accessibilityChecked,g=r["aria-colcount"],S=r.accessibilityColumnCount,T=r["aria-colindex"],v=r.accessibilityColumnIndex,y=r["aria-colspan"],E=r.accessibilityColumnSpan,A=r["aria-controls"],M=r.accessibilityControls,D=r["aria-current"],b=r.accessibilityCurrent,w=r["aria-describedby"],C=r.accessibilityDescribedBy,I=r["aria-details"],x=r.accessibilityDetails,L=r["aria-disabled"],k=r.accessibilityDisabled,le=r["aria-errormessage"],de=r.accessibilityErrorMessage,Le=r["aria-expanded"],Re=r.accessibilityExpanded,U=r["aria-flowto"],Y=r.accessibilityFlowTo,ee=r["aria-haspopup"],ye=r.accessibilityHasPopup,xe=r["aria-hidden"],rn=r.accessibilityHidden,rt=r["aria-invalid"],Nt=r.accessibilityInvalid,ct=r["aria-keyshortcuts"],Ue=r.accessibilityKeyShortcuts,xt=r["aria-label"],Cn=r.accessibilityLabel,pi=r["aria-labelledby"],Zi=r.accessibilityLabelledBy,ur=r["aria-level"],Dr=r.accessibilityLevel,Hn=r["aria-live"],yo=r.accessibilityLiveRegion,es=r["aria-modal"],vo=r.accessibilityModal,ts=r["aria-multiline"],Pe=r.accessibilityMultiline,Xe=r["aria-multiselectable"],In=r.accessibilityMultiSelectable,qn=r["aria-orientation"],ns=r.accessibilityOrientation,_o=r["aria-owns"],cr=r.accessibilityOwns,wo=r["aria-placeholder"],ba=r.accessibilityPlaceholder,rs=r["aria-posinset"],pu=r.accessibilityPosInSet,Ra=r["aria-pressed"],Ca=r.accessibilityPressed,So=r["aria-readonly"],mi=r.accessibilityReadOnly,is=r["aria-required"],Ne=r.accessibilityRequired;r.role,r.accessibilityRole;var Kn=r["aria-roledescription"],Ia=r.accessibilityRoleDescription,gi=r["aria-rowcount"],xa=r.accessibilityRowCount,Mr=r["aria-rowindex"],Aa=r.accessibilityRowIndex,J=r["aria-rowspan"],qe=r.accessibilityRowSpan,At=r["aria-selected"],hr=r.accessibilitySelected,Lr=r["aria-setsize"],Pa=r.accessibilitySetSize,yi=r["aria-sort"],Lg=r.accessibilitySort,id=r["aria-valuemax"],ka=r.accessibilityValueMax,mu=r["aria-valuemin"],sd=r.accessibilityValueMin,Oa=r["aria-valuenow"],Eo=r.accessibilityValueNow,od=r["aria-valuetext"],Nr=r.accessibilityValueText,To=r.dataSet,bo=r.focusable,Da=r.id,gu=r.nativeID,yu=r.pointerEvents,Ng=r.style,ss=r.tabIndex,ad=r.testID,X=Rn(r,i$),ld=L||k,xn=dk.propsToAriaRole(e),os=i??s;os!=null&&(X["aria-activedescendant"]=os);var Vr=o!=null?i:a;Vr!=null&&(X["aria-atomic"]=Vr);var Ma=l??u;Ma!=null&&(X["aria-autocomplete"]=Ma);var ud=h??d;ud!=null&&(X["aria-busy"]=ud);var vu=f??p;vu!=null&&(X["aria-checked"]=vu);var _u=g??S;_u!=null&&(X["aria-colcount"]=_u);var wu=T??v;wu!=null&&(X["aria-colindex"]=wu);var La=y??E;La!=null&&(X["aria-colspan"]=La);var Na=A??M;Na!=null&&(X["aria-controls"]=$a(Na));var Su=D??b;Su!=null&&(X["aria-current"]=Su);var Eu=w??C;Eu!=null&&(X["aria-describedby"]=$a(Eu));var Tu=I??x;Tu!=null&&(X["aria-details"]=Tu),ld===!0&&(X["aria-disabled"]=!0,(t==="button"||t==="form"||t==="input"||t==="select"||t==="textarea")&&(X.disabled=!0));var cd=le??de;cd!=null&&(X["aria-errormessage"]=cd);var dr=Le??Re;dr!=null&&(X["aria-expanded"]=dr);var An=U??Y;An!=null&&(X["aria-flowto"]=$a(An));var as=ee??ye;as!=null&&(X["aria-haspopup"]=as);var ls=xe??rn;ls===!0&&(X["aria-hidden"]=ls);var Va=rt??Nt;Va!=null&&(X["aria-invalid"]=Va);var Me=ct??Ue;Me!=null&&(X["aria-keyshortcuts"]=$a(Me));var Ro=xt??Cn;Ro!=null&&(X["aria-label"]=Ro);var us=pi??Zi;us!=null&&(X["aria-labelledby"]=$a(us));var cs=ur??Dr;cs!=null&&(X["aria-level"]=cs);var bu=Hn??yo;bu!=null&&(X["aria-live"]=bu==="none"?"off":bu);var Ru=es??vo;Ru!=null&&(X["aria-modal"]=Ru);var hd=ts??Pe;hd!=null&&(X["aria-multiline"]=hd);var dd=Xe??In;dd!=null&&(X["aria-multiselectable"]=dd);var fd=qn??ns;fd!=null&&(X["aria-orientation"]=fd);var pd=_o??cr;pd!=null&&(X["aria-owns"]=$a(pd));var hs=wo??ba;hs!=null&&(X["aria-placeholder"]=hs);var Fr=rs??pu;Fr!=null&&(X["aria-posinset"]=Fr);var Cu=Ra??Ca;Cu!=null&&(X["aria-pressed"]=Cu);var Iu=So??mi;Iu!=null&&(X["aria-readonly"]=Iu,(t==="input"||t==="select"||t==="textarea")&&(X.readOnly=!0));var xu=is??Ne;xu!=null&&(X["aria-required"]=xu,(t==="input"||t==="select"||t==="textarea")&&(X.required=Ne)),xn!=null&&(X.role=xn==="none"?"presentation":xn);var Au=Kn??Ia;Au!=null&&(X["aria-roledescription"]=Au);var Pu=gi??xa;Pu!=null&&(X["aria-rowcount"]=Pu);var vi=Mr??Aa;vi!=null&&(X["aria-rowindex"]=vi);var md=J??qe;md!=null&&(X["aria-rowspan"]=md);var gd=At??hr;gd!=null&&(X["aria-selected"]=gd);var yd=Lr??Pa;yd!=null&&(X["aria-setsize"]=yd);var fr=yi??Lg;fr!=null&&(X["aria-sort"]=fr);var vd=id??ka;vd!=null&&(X["aria-valuemax"]=vd);var Fa=mu??sd;Fa!=null&&(X["aria-valuemin"]=Fa);var Co=Oa??Eo;Co!=null&&(X["aria-valuenow"]=Co);var ku=od??Nr;if(ku!=null&&(X["aria-valuetext"]=ku),To!=null){for(var _i in To)if(o$.call(To,_i)){var Io=c$(_i),Ou=To[_i];Ou!=null&&(X["data-"+Io]=Ou)}}ss===0||ss==="0"||ss===-1||ss==="-1"?X.tabIndex=ss:(bo===!1&&(X.tabIndex="-1"),t==="a"||t==="button"||t==="input"||t==="select"||t==="textarea"?(bo===!1||k===!0)&&(X.tabIndex="-1"):xn==="button"||xn==="checkbox"||xn==="link"||xn==="radio"||xn==="textbox"||xn==="switch"?bo!==!1&&(X.tabIndex="0"):bo===!0&&(X.tabIndex="0"));var Ba=Ie([Ng,yu&&h$[yu]],me({writingDirection:"ltr"},n)),$e=Ba[0],_d=Ba[1];$e&&(X.className=$e),_d&&(X.style=_d);var wd=Da??gu;return wd!=null&&(X.id=wd),ad!=null&&(X["data-testid"]=ad),X.type==null&&t==="button"&&(X.type="button"),X},f$=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),CR=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","far","glk","he","iw","khw","ks","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),IR=new Map;function p$(t){var e=IR.get(t);if(e)return e;var n=!1;if(Intl.Locale)try{var r=new Intl.Locale(t).maximize().script;n=f$.has(r)}catch{var i=t.split("-")[0];n=CR.has(i)}else{var s=t.split("-")[0];n=CR.has(s)}return IR.set(t,n),n}var m$={direction:"ltr",locale:"en-US"},qk=R.createContext(m$);function qm(t){return p$(t)?"rtl":"ltr"}function g$(t){var e=t.direction,n=t.locale,r=t.children,i=e||n;return i?dt.createElement(qk.Provider,{children:r,value:{direction:n?qm(n):e,locale:n}}):r}function aS(){return R.useContext(qk)}var Jl=(t,e,n)=>{var r;t&&t.constructor===String&&(r=dk.propsToAccessibilityComponent(e));var i=r||t,s=d$(i,e,n),o=dt.createElement(i,s),a=s.dir?dt.createElement(g$,{children:o,direction:s.dir,locale:s.lang}):o;return a},L_=t=>{if(t!=null){var e=t.nodeType===1;if(e&&typeof t.getBoundingClientRect=="function")return t.getBoundingClientRect()}},Cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},y$=["ms","Moz","O","Webkit"],v$=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1);Object.keys(Cc).forEach(t=>{y$.forEach(e=>{Cc[v$(e,t)]=Cc[t]})});function _$(t,e,n){var r=e==null||typeof e=="boolean"||e==="";return r?"":!n&&typeof e=="number"&&e!==0&&!(Cc.hasOwnProperty(t)&&Cc[t])?e+"px":(""+e).trim()}function w$(t,e){var n=t.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=_$(r,e[r],i);r==="float"&&(r="cssFloat"),i?n.setProperty(r,s):n[r]=s}}var xR=t=>{var e=t.offsetHeight,n=t.offsetWidth,r=t.offsetLeft,i=t.offsetTop;for(t=t.offsetParent;t&&t.nodeType===1;)r+=t.offsetLeft+t.clientLeft-t.scrollLeft,i+=t.offsetTop+t.clientTop-t.scrollTop,t=t.offsetParent;return i-=window.scrollY,r-=window.scrollX,{width:n,height:e,top:i,left:r}},AR=(t,e,n)=>{var r=e||t&&t.parentNode;t&&r&&setTimeout(()=>{if(t.isConnected&&r.isConnected){var i=xR(r),s=xR(t),o=s.height,a=s.left,l=s.top,u=s.width,h=a-i.left,d=l-i.top;n(h,d,u,o,a,l)}},0)},S$={A:!0,BODY:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0},Oi={blur(t){try{t.blur()}catch{}},focus(t){try{var e=t.nodeName;t.getAttribute("tabIndex")==null&&t.isContentEditable!==!0&&S$[e]==null&&t.setAttribute("tabIndex","-1"),t.focus()}catch{}},measure(t,e){AR(t,null,e)},measureInWindow(t,e){t&&setTimeout(()=>{var n=L_(t),r=n.height,i=n.left,s=n.top,o=n.width;e(i,s,o,r)},0)},measureLayout(t,e,n,r){AR(t,e,r)},updateView(t,e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];switch(n){case"style":{w$(t,r);break}case"class":case"className":{t.setAttribute("class",r);break}case"text":case"value":t.value=r;break;default:t.setAttribute(n,r)}}},configureNextLayoutAnimation(t,e){e()},setLayoutAnimationEnabledExperimental(){}},E$={OS:"web"};function tn(){return tn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tn.apply(null,arguments)}var lS={children:!0,dataSet:!0,dir:!0,id:!0,ref:!0,suppressHydrationWarning:!0,tabIndex:!0,testID:!0,focusable:!0,nativeID:!0},uS={"aria-activedescendant":!0,"aria-atomic":!0,"aria-autocomplete":!0,"aria-busy":!0,"aria-checked":!0,"aria-colcount":!0,"aria-colindex":!0,"aria-colspan":!0,"aria-controls":!0,"aria-current":!0,"aria-describedby":!0,"aria-details":!0,"aria-disabled":!0,"aria-errormessage":!0,"aria-expanded":!0,"aria-flowto":!0,"aria-haspopup":!0,"aria-hidden":!0,"aria-invalid":!0,"aria-keyshortcuts":!0,"aria-label":!0,"aria-labelledby":!0,"aria-level":!0,"aria-live":!0,"aria-modal":!0,"aria-multiline":!0,"aria-multiselectable":!0,"aria-orientation":!0,"aria-owns":!0,"aria-placeholder":!0,"aria-posinset":!0,"aria-pressed":!0,"aria-readonly":!0,"aria-required":!0,role:!0,"aria-roledescription":!0,"aria-rowcount":!0,"aria-rowindex":!0,"aria-rowspan":!0,"aria-selected":!0,"aria-setsize":!0,"aria-sort":!0,"aria-valuemax":!0,"aria-valuemin":!0,"aria-valuenow":!0,"aria-valuetext":!0,accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0},cS={onClick:!0,onAuxClick:!0,onContextMenu:!0,onGotPointerCapture:!0,onLostPointerCapture:!0,onPointerCancel:!0,onPointerDown:!0,onPointerEnter:!0,onPointerMove:!0,onPointerLeave:!0,onPointerOut:!0,onPointerOver:!0,onPointerUp:!0},hS={onBlur:!0,onFocus:!0},dS={onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0},fS={onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},pS={onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},mS={style:!0};function gS(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&e[r]===!0&&(n[r]=t[r]);return n}var N_=Ct?R.useLayoutEffect:R.useEffect,V_="__reactLayoutHandler",by=null;function T$(){return Ct&&typeof window.ResizeObserver<"u"&&by==null&&(by=new window.ResizeObserver(function(t){t.forEach(e=>{var n=e.target,r=n[V_];typeof r=="function"&&Oi.measure(n,(i,s,o,a,l,u)=>{var h={nativeEvent:{layout:{x:i,y:s,width:o,height:a,left:l,top:u}},timeStamp:Date.now()};Object.defineProperty(h.nativeEvent,"target",{enumerable:!0,get:()=>e.target}),r(h)})})})),by}function yS(t,e){var n=T$();N_(()=>{var r=t.current;r!=null&&(r[V_]=e)},[t,e]),N_(()=>{var r=t.current;return r!=null&&n!=null&&(typeof r[V_]=="function"?n.observe(r):n.unobserve(r)),()=>{r!=null&&n!=null&&n.unobserve(r)}},[t,n])}function Kk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){e.forEach(s=>{if(s!=null){if(typeof s=="function"){s(i);return}if(typeof s=="object"){s.current=i;return}console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(s))}})}}function Mh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return R.useMemo(()=>Kk(...e),[...e])}var PR=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():Object.freeze({});function b$(t){var e=R.useRef(PR);return e.current===PR&&(e.current=t()),e.current}function vS(t){t.pointerEvents,t.style;var e=b$(()=>n=>{n!=null&&(n.measure=r=>Oi.measure(n,r),n.measureLayout=(r,i,s)=>Oi.measureLayout(n,r,s,i),n.measureInWindow=r=>Oi.measureInWindow(n,r))});return e}var kR=()=>{},R$={},C$=[];function OR(t){return t>20?t%20:t}function Gk(t,e){var n,r=!1,i,s,o=t.changedTouches,a=t.type,l=t.metaKey===!0,u=t.shiftKey===!0,h=o&&o[0].force||0,d=OR(o&&o[0].identifier||0),f=o&&o[0].clientX||t.clientX,p=o&&o[0].clientY||t.clientY,g=o&&o[0].pageX||t.pageX,S=o&&o[0].pageY||t.pageY,T=typeof t.preventDefault=="function"?t.preventDefault.bind(t):kR,v=t.timeStamp;function y(b){return Array.prototype.slice.call(b).map(w=>({force:w.force,identifier:OR(w.identifier),get locationX(){return M(w.clientX)},get locationY(){return D(w.clientY)},pageX:w.pageX,pageY:w.pageY,target:w.target,timestamp:v}))}if(o!=null)i=y(o),s=y(t.touches);else{var E=[{force:h,identifier:d,get locationX(){return M(f)},get locationY(){return D(p)},pageX:g,pageY:S,target:t.target,timestamp:v}];i=E,s=a==="mouseup"||a==="dragstart"?C$:E}var A={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:t.defaultPrevented,dispatchConfig:R$,eventPhase:t.eventPhase,isDefaultPrevented(){return t.defaultPrevented},isPropagationStopped(){return r},isTrusted:t.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:l,shiftKey:u,changedTouches:i,force:h,identifier:d,get locationX(){return M(f)},get locationY(){return D(p)},pageX:g,pageY:S,target:t.target,timestamp:v,touches:s,type:a},persist:kR,preventDefault:T,stopPropagation(){r=!0},target:t.target,timeStamp:v,touchHistory:e.touchHistory};function M(b){if(n=n||L_(A.currentTarget),n)return b-n.left}function D(b){if(n=n||L_(A.currentTarget),n)return b-n.top}return A}var I$="mousedown",x$="mousemove",A$="mouseup",P$="dragstart",k$="touchstart",O$="touchmove",D$="touchend",M$="touchcancel",L$="scroll",N$="select",V$="selectionchange";function Xk(t){return t===k$||t===I$}function Yk(t){return t===O$||t===x$}function Qk(t){return t===D$||t===A$||Jk(t)}function Jk(t){return t===M$||t===P$}function F$(t){return t===L$}function B$(t){return t===N$||t===V$}function j$(){var t=window.getSelection(),e=t.toString(),n=t.anchorNode,r=t.focusNode,i=n&&n.nodeType===window.Node.TEXT_NODE||r&&r.nodeType===window.Node.TEXT_NODE;return e.length>=1&&e!==`
`&&i}var Zk="__reactResponderId";function U$(t){if(t.type==="selectionchange"){var e=window.getSelection().anchorNode;return DR(e)}else{var n=t.composedPath!=null?t.composedPath():DR(t.target);return n}}function DR(t){for(var e=[];t!=null&&t!==document.body;)e.push(t),t=t.parentNode;return e}function $$(t){return t!=null?t[Zk]:null}function z$(t,e){t!=null&&(t[Zk]=e)}function W$(t){for(var e=[],n=[],r=U$(t),i=0;i<r.length;i++){var s=r[i],o=$$(s);o!=null&&(e.push(o),n.push(s))}return{idPath:e,nodePath:n}}function H$(t,e){var n=t.length,r=e.length;if(n===0||r===0||t[n-1]!==e[r-1])return null;var i=t[0],s=0,o=e[0],a=0;n-r>0&&(s=n-r,i=t[s],n=r),r-n>0&&(a=r-n,o=e[a],r=n);for(var l=n;l--;){if(i===o)return i;i=t[s++],o=e[a++]}return null}function q$(t,e){if(!e||e.length===0)return!1;for(var n=0;n<e.length;n++){var r=e[n].target;if(r!=null&&t.contains(r))return!0}return!1}function K$(t){return t.type==="selectionchange"?j$():t.type==="select"}function G$(t){var e=t.altKey,n=t.button,r=t.buttons,i=t.ctrlKey,s=t.type,o=s==="touchstart"||s==="touchmove",a=s==="mousedown"&&(n===0||r===1),l=s==="mousemove"&&r===1,u=e===!1&&i===!1;return!!(o||a&&u||l&&u)}var MR=20;function rr(t){return t.timeStamp||t.timestamp}function X$(t){return{touchActive:!0,startPageX:t.pageX,startPageY:t.pageY,startTimeStamp:rr(t),currentPageX:t.pageX,currentPageY:t.pageY,currentTimeStamp:rr(t),previousPageX:t.pageX,previousPageY:t.pageY,previousTimeStamp:rr(t)}}function Y$(t,e){t.touchActive=!0,t.startPageX=e.pageX,t.startPageY=e.pageY,t.startTimeStamp=rr(e),t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=rr(e),t.previousPageX=e.pageX,t.previousPageY=e.pageY,t.previousTimeStamp=rr(e)}function _S(t){var e=t.identifier;return e==null&&console.error("Touch object is missing identifier."),e}function Q$(t,e){var n=_S(t),r=e.touchBank[n];r?Y$(r,t):e.touchBank[n]=X$(t),e.mostRecentTimeStamp=rr(t)}function J$(t,e){var n=e.touchBank[_S(t)];n?(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=t.pageX,n.currentPageY=t.pageY,n.currentTimeStamp=rr(t),e.mostRecentTimeStamp=rr(t)):console.warn(`Cannot record touch move without a touch start.
`,"Touch Move: "+eO(t)+`
`,"Touch Bank: "+tO(e))}function Z$(t,e){var n=e.touchBank[_S(t)];n?(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=t.pageX,n.currentPageY=t.pageY,n.currentTimeStamp=rr(t),e.mostRecentTimeStamp=rr(t)):console.warn(`Cannot record touch end without a touch start.
`,"Touch End: "+eO(t)+`
`,"Touch Bank: "+tO(e))}function eO(t){return JSON.stringify({identifier:t.identifier,pageX:t.pageX,pageY:t.pageY,timestamp:rr(t)})}function tO(t){var e=t.touchBank,n=JSON.stringify(e.slice(0,MR));return e.length>MR&&(n+=" (original size: "+e.length+")"),n}class e3{constructor(){this._touchHistory={touchBank:[],numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0}}recordTouchTrack(e,n){var r=this._touchHistory;if(Yk(e))n.changedTouches.forEach(a=>J$(a,r));else if(Xk(e))n.changedTouches.forEach(a=>Q$(a,r)),r.numberActiveTouches=n.touches.length,r.numberActiveTouches===1&&(r.indexOfSingleActiveTouch=n.touches[0].identifier);else if(Qk(e)&&(n.changedTouches.forEach(a=>Z$(a,r)),r.numberActiveTouches=n.touches.length,r.numberActiveTouches===1))for(var i=r.touchBank,s=0;s<i.length;s++){var o=i[s];if(o!=null&&o.touchActive){r.indexOfSingleActiveTouch=s;break}}}get touchHistory(){return this._touchHistory}}var t3={},LR=["onStartShouldSetResponderCapture","onStartShouldSetResponder",{bubbles:!0}],NR=["onMoveShouldSetResponderCapture","onMoveShouldSetResponder",{bubbles:!0}],n3=["onScrollShouldSetResponderCapture","onScrollShouldSetResponder",{bubbles:!1}],r3={touchstart:LR,mousedown:LR,touchmove:NR,mousemove:NR,scroll:n3},F_={id:null,idPath:null,node:null},Mp=new Map,Es=!1,$r=0,Kr={id:null,node:null,idPath:null},B_=new e3;function lh(t){Kr=t}function uh(t){var e=Mp.get(t);return e??t3}function Ry(t){var e=t.type,n=t.target;if(e==="touchstart"&&(Es=!0),(e==="touchmove"||$r>1)&&(Es=!1),!(e==="mousedown"&&Es||e==="mousemove"&&Es||e==="mousemove"&&$r<1)){if(Es&&e==="mouseup"){$r===0&&(Es=!1);return}var r=Xk(e)&&G$(t),i=Yk(e),s=Qk(e),o=F$(e),a=B$(e),l=Gk(t,B_);(r||i||s)&&(t.touches?$r=t.touches.length:r?$r=1:s&&($r=0),B_.recordTouchTrack(e,l.nativeEvent));var u=W$(t),h=!1,d;if(r||i||o&&$r>0){var f=Kr.idPath,p=u.idPath;if(f!=null&&p!=null){var g=H$(f,p);if(g!=null){var S=p.indexOf(g),T=S+(g===Kr.id?1:0);u={idPath:p.slice(T),nodePath:u.nodePath.slice(T)}}else u=null}u!=null&&(d=i3(u,t,l),d!=null&&(s3(l,d),h=!0))}if(Kr.id!=null&&Kr.node!=null){var v=Kr,y=v.id,E=v.node,A=uh(y),M=A.onResponderStart,D=A.onResponderMove,b=A.onResponderEnd,w=A.onResponderRelease,C=A.onResponderTerminate,I=A.onResponderTerminationRequest;if(l.bubbles=!1,l.cancelable=!1,l.currentTarget=E,r)M!=null&&(l.dispatchConfig.registrationName="onResponderStart",M(l));else if(i)D!=null&&(l.dispatchConfig.registrationName="onResponderMove",D(l));else{var x=Jk(e)||e==="contextmenu"||e==="blur"&&n===window||e==="blur"&&n.contains(E)&&t.relatedTarget!==E||o&&$r===0||o&&n.contains(E)&&n!==E||a&&K$(t),L=s&&!x&&!q$(E,t.touches);if(s&&b!=null&&(l.dispatchConfig.registrationName="onResponderEnd",b(l)),L&&(w!=null&&(l.dispatchConfig.registrationName="onResponderRelease",w(l)),lh(F_)),x){var k=!0;(e==="contextmenu"||e==="scroll"||e==="selectionchange")&&(h?k=!1:I!=null&&(l.dispatchConfig.registrationName="onResponderTerminationRequest",I(l)===!1&&(k=!1))),k&&(C!=null&&(l.dispatchConfig.registrationName="onResponderTerminate",C(l)),lh(F_),Es=!1,$r=0)}}}}}function i3(t,e,n){var r=r3[e.type];if(r!=null){for(var i=t.idPath,s=t.nodePath,o=r[0],a=r[1],l=r[2].bubbles,u=function(D,b,w){var C=uh(D),I=C[w];if(I!=null&&(n.currentTarget=b,I(n)===!0)){var x=i.slice(i.indexOf(D));return{id:D,node:b,idPath:x}}},h=i.length-1;h>=0;h--){var d=i[h],f=s[h],p=u(d,f,o);if(p!=null)return p;if(n.isPropagationStopped()===!0)return}if(l)for(var g=0;g<i.length;g++){var S=i[g],T=s[g],v=u(S,T,a);if(v!=null)return v;if(n.isPropagationStopped()===!0)return}else{var y=i[0],E=s[0],A=e.target;if(A===E)return u(y,E,a)}}}function s3(t,e){var n=Kr,r=n.id,i=n.node,s=e.id,o=e.node,a=uh(s),l=a.onResponderGrant,u=a.onResponderReject;if(t.bubbles=!1,t.cancelable=!1,t.currentTarget=o,r==null)l!=null&&(t.currentTarget=o,t.dispatchConfig.registrationName="onResponderGrant",l(t)),lh(e);else{var h=uh(r),d=h.onResponderTerminate,f=h.onResponderTerminationRequest,p=!0;f!=null&&(t.currentTarget=i,t.dispatchConfig.registrationName="onResponderTerminationRequest",f(t)===!1&&(p=!1)),p?(d!=null&&(t.currentTarget=i,t.dispatchConfig.registrationName="onResponderTerminate",d(t)),l!=null&&(t.currentTarget=o,t.dispatchConfig.registrationName="onResponderGrant",l(t)),lh(e)):u!=null&&(t.currentTarget=o,t.dispatchConfig.registrationName="onResponderReject",u(t))}}var o3=["blur","scroll"],a3=["mousedown","mousemove","mouseup","dragstart","touchstart","touchmove","touchend","touchcancel","contextmenu","select","selectionchange"];function l3(){Ct&&window.__reactResponderSystemActive==null&&(window.addEventListener("blur",Ry),a3.forEach(t=>{document.addEventListener(t,Ry)}),o3.forEach(t=>{document.addEventListener(t,Ry,!0)}),window.__reactResponderSystemActive=!0)}function u3(t,e,n){z$(e,t),Mp.set(t,n)}function VR(t){Kr.id===t&&c3(),Mp.has(t)&&Mp.delete(t)}function c3(){var t=Kr,e=t.id,n=t.node;if(e!=null&&n!=null){var r=uh(e),i=r.onResponderTerminate;if(i!=null){var s=Gk({},B_);s.currentTarget=n,i(s)}lh(F_)}Es=!1,$r=0}function h3(){return Kr.node}var d3={},f3=0;function p3(t){var e=R.useRef(null);return e.current==null&&(e.current=t()),e.current}function wS(t,e){e===void 0&&(e=d3);var n=p3(()=>f3++),r=R.useRef(!1);R.useEffect(()=>(l3(),()=>{VR(n)}),[n]),R.useEffect(()=>{var i=e,s=i.onMoveShouldSetResponder,o=i.onMoveShouldSetResponderCapture,a=i.onScrollShouldSetResponder,l=i.onScrollShouldSetResponderCapture,u=i.onSelectionChangeShouldSetResponder,h=i.onSelectionChangeShouldSetResponderCapture,d=i.onStartShouldSetResponder,f=i.onStartShouldSetResponderCapture,p=s!=null||o!=null||a!=null||l!=null||u!=null||h!=null||d!=null||f!=null,g=t.current;p?(u3(n,g,e),r.current=!0):r.current&&(VR(n),r.current=!1)},[e,t,n]),R.useDebugValue({isResponder:t.current===h3()}),R.useDebugValue(e)}var Lp=R.createContext(!1),m3=["hrefAttrs","onLayout","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture"],g3=Object.assign({},lS,uS,cS,hS,dS,fS,pS,mS,{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),y3=t=>gS(t,g3),q=R.forwardRef((t,e)=>{var n=t.hrefAttrs,r=t.onLayout,i=t.onMoveShouldSetResponder,s=t.onMoveShouldSetResponderCapture,o=t.onResponderEnd,a=t.onResponderGrant,l=t.onResponderMove,u=t.onResponderReject,h=t.onResponderRelease,d=t.onResponderStart,f=t.onResponderTerminate,p=t.onResponderTerminationRequest,g=t.onScrollShouldSetResponder,S=t.onScrollShouldSetResponderCapture,T=t.onSelectionChangeShouldSetResponder,v=t.onSelectionChangeShouldSetResponderCapture,y=t.onStartShouldSetResponder,E=t.onStartShouldSetResponderCapture,A=Rn(t,m3),M=R.useContext(Lp),D=R.useRef(null),b=aS(),w=b.direction;yS(D,r),wS(D,{onMoveShouldSetResponder:i,onMoveShouldSetResponderCapture:s,onResponderEnd:o,onResponderGrant:a,onResponderMove:l,onResponderReject:u,onResponderRelease:h,onResponderStart:d,onResponderTerminate:f,onResponderTerminationRequest:p,onScrollShouldSetResponder:g,onScrollShouldSetResponderCapture:S,onSelectionChangeShouldSetResponder:T,onSelectionChangeShouldSetResponderCapture:v,onStartShouldSetResponder:y,onStartShouldSetResponderCapture:E});var C="div",I=t.lang!=null?qm(t.lang):null,x=t.dir||I,L=x||w,k=y3(A);if(k.dir=x,k.style=[FR.view$raw,M&&FR.inline,t.style],t.href!=null&&(C="a",n!=null)){var le=n.download,de=n.rel,Le=n.target;le!=null&&(k.download=le),de!=null&&(k.rel=de),typeof Le=="string"&&(k.target=Le.charAt(0)!=="_"?"_"+Le:Le)}var Re=vS(k),U=Mh(D,Re,e);return k.ref=U,Jl(C,k,{writingDirection:L})});q.displayName="View";var FR=Ie.create({view$raw:{alignItems:"stretch",backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,listStyle:"none",margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",textDecoration:"none",zIndex:0},inline:{display:"inline-flex"}}),v3=function t(e,n,r){if(r===void 0&&(r=-1),r===0)return!0;if(e===n||typeof e=="function"&&typeof n=="function")return!1;if(typeof e!="object"||e===null)return e!==n;if(typeof n!="object"||n===null||e.constructor!==n.constructor)return!0;if(Array.isArray(e)){var i=e.length;if(n.length!==i)return!0;for(var s=0;s<i;s++)if(t(e[s],n[s],r-1))return!0}else{for(var o in e)if(t(e[o],n[o],r-1))return!0;for(var a in n)if(e[a]===void 0&&n[a]!==void 0)return!0}return!1};function _3(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!t){var s;if(e===void 0)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;s=new Error(e.replace(/%s/g,function(){return String(r[o++])})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}var w3=_3;const pe=Gl(w3);function BR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function S3(t,e){if(t){if(typeof t=="string")return BR(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BR(t,e):void 0}}function zo(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=S3(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E3=["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"];function T3(t){t.colors,t.enabled,t.onRefresh,t.progressBackgroundColor,t.progressViewOffset,t.refreshing,t.size,t.tintColor,t.title,t.titleColor;var e=Rn(t,E3);return dt.createElement(q,e)}var Wo={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},Cs={},jR=Ct;function nO(){if(Ct){var t=window,e,n;if(t.visualViewport){var r=t.visualViewport;e=Math.round(r.height*r.scale),n=Math.round(r.width*r.scale)}else{var i=t.document.documentElement;e=i.clientHeight,n=i.clientWidth}Wo.window={fontScale:1,height:e,scale:t.devicePixelRatio||1,width:n},Wo.screen={fontScale:1,height:t.screen.height,scale:t.devicePixelRatio||1,width:t.screen.width}}}function UR(){nO(),Array.isArray(Cs.change)&&Cs.change.forEach(t=>t(Wo))}class Np{static get(e){return jR&&(jR=!1,nO()),pe(Wo[e],"No dimension set for key "+e),Wo[e]}static set(e){e&&(Ct?pe(!1,"Dimensions cannot be set in the browser"):(e.screen!=null&&(Wo.screen=e.screen),e.window!=null&&(Wo.window=e.window)))}static addEventListener(e,n){return Cs[e]=Cs[e]||[],Cs[e].push(n),{remove:()=>{this.removeEventListener(e,n)}}}static removeEventListener(e,n){Array.isArray(Cs[e])&&(Cs[e]=Cs[e].filter(r=>r!==n))}}Ct&&(window.visualViewport?window.visualViewport.addEventListener("resize",UR,!1):window.addEventListener("resize",UR,!1));var xi={_currentlyFocusedNode:null,currentlyFocusedField(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput(t){t!==null&&(this._currentlyFocusedNode=t,document.activeElement!==t&&Oi.focus(t))},blurTextInput(t){t!==null&&(this._currentlyFocusedNode=null,document.activeElement===t&&Oi.blur(t))}},b3=()=>{xi.blurTextInput(xi.currentlyFocusedField())},R3=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function $R(t){return{nativeEvent:{contentOffset:{get x(){return t.target.scrollLeft},get y(){return t.target.scrollTop}},contentSize:{get height(){return t.target.scrollHeight},get width(){return t.target.scrollWidth}},layoutMeasurement:{get height(){return t.target.offsetHeight},get width(){return t.target.offsetWidth}}},timeStamp:Date.now()}}function C3(t,e){var n=Date.now()-t;return e>0&&n>=e}var I3=R.forwardRef((t,e)=>{var n=t.onScroll,r=t.onTouchMove,i=t.onWheel,s=t.scrollEnabled,o=s===void 0?!0:s,a=t.scrollEventThrottle,l=a===void 0?0:a,u=t.showsHorizontalScrollIndicator,h=t.showsVerticalScrollIndicator,d=t.style,f=Rn(t,R3),p=R.useRef({isScrolling:!1,scrollLastTick:0}),g=R.useRef(null),S=R.useRef(null);function T(D){return b=>{o&&D&&D(b)}}function v(D){D.stopPropagation(),D.target===S.current&&(D.persist(),g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{A(D)},100),p.current.isScrolling?C3(p.current.scrollLastTick,l)&&E(D):y(D))}function y(D){p.current.isScrolling=!0,E(D)}function E(D){p.current.scrollLastTick=Date.now(),n&&n($R(D))}function A(D){p.current.isScrolling=!1,n&&n($R(D))}var M=u===!1||h===!1;return R.createElement(q,tn({},f,{onScroll:v,onTouchMove:T(r),onWheel:T(i),ref:Mh(S,e),style:[d,!o&&zR.scrollDisabled,M&&zR.hideScrollbar]}))}),zR=Ie.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}});function Km(t){return function(){return t}}var _a=function(){};_a.thatReturns=Km;_a.thatReturnsFalse=Km(!1);_a.thatReturnsTrue=Km(!0);_a.thatReturnsNull=Km(null);_a.thatReturnsThis=function(){return this};_a.thatReturnsArgument=function(t){return t};var x3=_a,A3=x3,P3=A3,k3=P3;const O3=Gl(k3);var D3=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],WR={},M3=16;class L3 extends dt.Component{constructor(){super(...arguments),this._scrollNodeRef=null,this._innerViewRef=null,this.isTouching=!1,this.lastMomentumScrollBeginTime=0,this.lastMomentumScrollEndTime=0,this.observedScrollSinceBecomingResponder=!1,this.becameResponderWhileAnimating=!1,this.scrollResponderHandleScrollShouldSetResponder=()=>this.isTouching,this.scrollResponderHandleStartShouldSetResponderCapture=e=>this.scrollResponderIsAnimating(),this.scrollResponderHandleTerminationRequest=()=>!this.observedScrollSinceBecomingResponder,this.scrollResponderHandleTouchEnd=e=>{var n=e.nativeEvent;this.isTouching=n.touches.length!==0,this.props.onTouchEnd&&this.props.onTouchEnd(e)},this.scrollResponderHandleResponderRelease=e=>{this.props.onResponderRelease&&this.props.onResponderRelease(e);var n=xi.currentlyFocusedField();!this.props.keyboardShouldPersistTaps&&n!=null&&e.target!==n&&!this.observedScrollSinceBecomingResponder&&!this.becameResponderWhileAnimating&&(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),xi.blurTextInput(n))},this.scrollResponderHandleScroll=e=>{this.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},this.scrollResponderHandleResponderGrant=e=>{this.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},this.scrollResponderHandleScrollBeginDrag=e=>{this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this.scrollResponderHandleScrollEndDrag=e=>{this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this.scrollResponderHandleMomentumScrollBegin=e=>{this.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this.scrollResponderHandleMomentumScrollEnd=e=>{this.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this.scrollResponderHandleTouchStart=e=>{this.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},this.scrollResponderHandleTouchMove=e=>{this.props.onTouchMove&&this.props.onTouchMove(e)},this.scrollResponderIsAnimating=()=>{var e=Date.now(),n=e-this.lastMomentumScrollEndTime,r=n<M3||this.lastMomentumScrollEndTime<this.lastMomentumScrollBeginTime;return r},this.scrollResponderScrollTo=(e,n,r)=>{if(typeof e=="number")console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var i=e||WR;e=i.x,n=i.y,r=i.animated}var s=this.getScrollableNode(),o=e||0,a=n||0;s!=null&&(typeof s.scroll=="function"?s.scroll({top:a,left:o,behavior:r?"smooth":"auto"}):(s.scrollLeft=o,s.scrollTop=a))},this.scrollResponderZoomTo=(e,n)=>{pe("zoomToRect is not implemented")},this.scrollResponderScrollNativeHandleToKeyboard=(e,n,r)=>{this.additionalScrollOffset=n||0,this.preventNegativeScrollOffset=!!r,Oi.measureLayout(e,this.getInnerViewNode(),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},this.scrollResponderInputMeasureAndScrollToKeyboard=(e,n,r,i)=>{var s=Np.get("window").height;this.keyboardWillOpenTo&&(s=this.keyboardWillOpenTo.endCoordinates.screenY);var o=n-s+i+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(o=Math.max(0,o)),this.scrollResponderScrollTo({x:0,y:o,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},this.scrollResponderKeyboardWillShow=e=>{this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},this.scrollResponderKeyboardWillHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},this.scrollResponderKeyboardDidShow=e=>{e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},this.scrollResponderKeyboardDidHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)},this.flashScrollIndicators=()=>{this.scrollResponderFlashScrollIndicators()},this.getScrollResponder=()=>this,this.getScrollableNode=()=>this._scrollNodeRef,this.getInnerViewRef=()=>this._innerViewRef,this.getInnerViewNode=()=>this._innerViewRef,this.getNativeScrollRef=()=>this._scrollNodeRef,this.scrollTo=(e,n,r)=>{if(typeof e=="number")console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var i=e||WR;n=i.x,e=i.y,r=i.animated}this.scrollResponderScrollTo({x:n||0,y:e||0,animated:r!==!1})},this.scrollToEnd=e=>{var n=(e&&e.animated)!==!1,r=this.props.horizontal,i=this.getScrollableNode(),s=r?i.scrollWidth:0,o=r?0:i.scrollHeight;this.scrollResponderScrollTo({x:s,y:o,animated:n})},this._handleContentOnLayout=e=>{var n=e.nativeEvent.layout,r=n.width,i=n.height;this.props.onContentSizeChange(r,i)},this._handleScroll=e=>{this.props.keyboardDismissMode==="on-drag"&&b3(),this.scrollResponderHandleScroll(e)},this._setInnerViewRef=e=>{this._innerViewRef=e},this._setScrollNodeRef=e=>{this._scrollNodeRef=e,e!=null&&(e.getScrollResponder=this.getScrollResponder,e.getInnerViewNode=this.getInnerViewNode,e.getInnerViewRef=this.getInnerViewRef,e.getNativeScrollRef=this.getNativeScrollRef,e.getScrollableNode=this.getScrollableNode,e.scrollTo=this.scrollTo,e.scrollToEnd=this.scrollToEnd,e.flashScrollIndicators=this.flashScrollIndicators,e.scrollResponderZoomTo=this.scrollResponderZoomTo,e.scrollResponderScrollNativeHandleToKeyboard=this.scrollResponderScrollNativeHandleToKeyboard);var n=Kk(this.props.forwardedRef);n(e)}}scrollResponderHandleStartShouldSetResponder(){return!1}scrollResponderHandleResponderReject(){O3(!1,"ScrollView doesn't take rejection well - scrolls anyway")}scrollResponderFlashScrollIndicators(){}scrollResponderTextInputFocusError(e){console.error("Error measuring text field: ",e)}render(){var e=this.props,n=e.contentContainerStyle,r=e.horizontal,i=e.onContentSizeChange,s=e.refreshControl,o=e.stickyHeaderIndices,a=e.pagingEnabled;e.forwardedRef,e.keyboardDismissMode,e.onScroll;var l=e.centerContent,u=Rn(e,D3),h={};i&&(h={onLayout:this._handleContentOnLayout});var d=!r&&Array.isArray(o),f=d||a?dt.Children.map(this.props.children,(E,A)=>{var M=d&&o.indexOf(A)>-1;return E!=null&&(M||a)?dt.createElement(q,{style:[M&&vs.stickyHeader,a&&vs.pagingEnabledChild]},E):E}):this.props.children,p=dt.createElement(q,tn({},h,{children:f,collapsable:!1,ref:this._setInnerViewRef,style:[r&&vs.contentContainerHorizontal,l&&vs.contentContainerCenterContent,n]})),g=r?vs.baseHorizontal:vs.baseVertical,S=r?vs.pagingEnabledHorizontal:vs.pagingEnabledVertical,T=me(me({},u),{},{style:[g,a&&S,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),v=I3;pe(v!==void 0,"ScrollViewClass must not be undefined");var y=dt.createElement(v,tn({},T,{ref:this._setScrollNodeRef}),p);return s?dt.cloneElement(s,{style:T.style},y):y}}var HR={flexGrow:1,flexShrink:1,transform:"translateZ(0)",WebkitOverflowScrolling:"touch"},vs=Ie.create({baseVertical:me(me({},HR),{},{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:me(me({},HR),{},{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},contentContainerCenterContent:{justifyContent:"center",flexGrow:1},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),br=dt.forwardRef((t,e)=>dt.createElement(L3,tn({},t,{forwardedRef:e})));br.displayName="ScrollView";class N3{constructor(e){var n=e.onMoreTasks;this._onMoreTasks=n,this._queueStack=[{tasks:[],popable:!0}]}enqueue(e){this._getCurrentQueue().push(e)}enqueueTasks(e){e.forEach(n=>this.enqueue(n))}cancelTasks(e){this._queueStack=this._queueStack.map(n=>me(me({},n),{},{tasks:n.tasks.filter(r=>e.indexOf(r)===-1)})).filter((n,r)=>n.tasks.length>0||r===0)}hasTasksToProcess(){return this._getCurrentQueue().length>0}processNext(){var e=this._getCurrentQueue();if(e.length){var n=e.shift();try{typeof n=="object"&&n.gen?this._genPromise(n):typeof n=="object"&&n.run?n.run():(pe(typeof n=="function",`Expected Function, SimpleTask, or PromiseTask, but got:
`+JSON.stringify(n,null,2)),n())}catch(r){throw r.message="TaskQueue: Error with task "+(n.name||"")+": "+r.message,r}}}_getCurrentQueue(){var e=this._queueStack.length-1,n=this._queueStack[e];return n.popable&&n.tasks.length===0&&e>0?(this._queueStack.pop(),this._getCurrentQueue()):n.tasks}_genPromise(e){var n=this._queueStack.push({tasks:[],popable:!1}),r=n-1,i=this._queueStack[r];e.gen().then(()=>{i.popable=!0,this.hasTasksToProcess()&&this._onMoreTasks()}).catch(s=>{setTimeout(()=>{throw s.message="TaskQueue: Error resolving Promise in task "+e.name+": "+s.message,s},0)})}}class V3{constructor(){this._registry={}}addListener(e,n,r){var i=F3(this._registry,e),s={context:r,listener:n,remove(){i.delete(s)}};return i.add(s),s}emit(e){var n=this._registry[e];if(n!=null){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];for(var o=0,a=[...n];o<a.length;o++){var l=a[o];l.listener.apply(l.context,i)}}}removeAllListeners(e){e==null?this._registry={}:delete this._registry[e]}listenerCount(e){var n=this._registry[e];return n==null?0:n.size}}function F3(t,e){var n=t[e];return n==null&&(n=new Set,t[e]=n),n}var B3=function(e,n){return setTimeout(()=>{var r=Date.now();e({didTimeout:!1,timeRemaining(){return Math.max(0,50-(Date.now()-r))}})},1)},j3=Ct&&typeof window.requestIdleCallback<"u",U3=j3?window.requestIdleCallback:B3,Vp=new V3,j_={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions(t){var e=[],n=new Promise(r=>{Ic(),t&&e.push(t),e.push({run:r,name:"resolve "+(t&&t.name||"?")}),Bp.enqueueTasks(e)});return{then:n.then.bind(n),done:n.then.bind(n),cancel:()=>{Bp.cancelTasks(e)}}},createInteractionHandle(){Ic();var t=++$3;return Fp.add(t),t},clearInteractionHandle(t){pe(!!t,"Must provide a handle to clear."),Ic(),Fp.delete(t),U_.add(t)},addListener:Vp.addListener.bind(Vp),setDeadline(t){jp=t}},Kd=new Set,Fp=new Set,U_=new Set,Bp=new N3({onMoreTasks:Ic}),Df=0,$3=0,jp=-1;function Ic(){Df||(jp>0?Df=setTimeout(qR):Df=U3(qR))}function qR(){Df=0;var t=Kd.size;Fp.forEach(r=>Kd.add(r)),U_.forEach(r=>Kd.delete(r));var e=Kd.size;if(t!==0&&e===0?Vp.emit(j_.Events.interactionComplete):t===0&&e!==0&&Vp.emit(j_.Events.interactionStart),e===0){for(var n=Date.now();Bp.hasTasksToProcess();)if(Bp.processNext(),jp>0&&Date.now()-n>=jp){Ic();break}}Fp.clear(),U_.clear()}class z3{constructor(e,n){this._delay=n,this._callback=e}dispose(e){e===void 0&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)}schedule(){if(!this._taskHandle){var e=setTimeout(()=>{this._taskHandle=j_.runAfterInteractions(()=>{this._taskHandle=null,this._callback()})},this._delay);this._taskHandle={cancel:()=>clearTimeout(e)}}}}function KR(t,e,n){return e<t?t:e>n?n:e}function W3(){return console.log(...arguments)}class H3{constructor(e){pe(e>=0,"CellRenderMask must contain a non-negative number os cells"),this._numCells=e,e===0?this._regions=[]:this._regions=[{first:0,last:e-1,isSpacer:!0}]}enumerateRegions(){return this._regions}addCells(e){if(pe(e.first>=0&&e.first<this._numCells&&e.last>=-1&&e.last<this._numCells&&e.last>=e.first-1,"CellRenderMask.addCells called with invalid cell range"),!(e.last<e.first)){var n=this._findRegion(e.first),r=n[0],i=n[1],s=this._findRegion(e.last),o=s[0],a=s[1];if(!(i===a&&!r.isSpacer)){var l=[],u=[],h=me(me({},e),{},{isSpacer:!1});r.first<h.first&&(r.isSpacer?l.push({first:r.first,last:h.first-1,isSpacer:!0}):h.first=r.first),o.last>h.last&&(o.isSpacer?u.push({first:h.last+1,last:o.last,isSpacer:!0}):h.last=o.last);var d=[...l,h,...u],f=a-i+1;this._regions.splice(i,f,...d)}}}numCells(){return this._numCells}equals(e){return this._numCells===e._numCells&&this._regions.length===e._regions.length&&this._regions.every((n,r)=>n.first===e._regions[r].first&&n.last===e._regions[r].last&&n.isSpacer===e._regions[r].isSpacer)}_findRegion(e){for(var n=0,r=this._regions.length-1;n<=r;){var i=Math.floor((n+r)/2),s=this._regions[i];if(e>=s.first&&e<=s.last)return[s,i];e<s.first?r=i-1:e>s.last&&(n=i+1)}pe(!1,"A region was not found containing cellIdx "+e)}}class q3{constructor(){this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map}add(e,n){var r;pe(!this._childrenToCellKey.has(e),"Trying to add already present child list");var i=(r=this._cellKeyToChildren.get(n))!==null&&r!==void 0?r:new Set;i.add(e),this._cellKeyToChildren.set(n,i),this._childrenToCellKey.set(e,n)}remove(e){var n=this._childrenToCellKey.get(e);pe(n!=null,"Trying to remove non-present child list"),this._childrenToCellKey.delete(e);var r=this._cellKeyToChildren.get(n);pe(r,"_cellKeyToChildren should contain cellKey"),r.delete(e),r.size===0&&this._cellKeyToChildren.delete(n)}forEach(e){for(var n=zo(this._cellKeyToChildren.values()),r;!(r=n()).done;)for(var i=r.value,s=zo(i),o;!(o=s()).done;){var a=o.value;e(a)}}forEachInCell(e,n){for(var r,i=(r=this._cellKeyToChildren.get(e))!==null&&r!==void 0?r:[],s=zo(i),o;!(o=s()).done;){var a=o.value;n(a)}}anyInCell(e,n){for(var r,i=(r=this._cellKeyToChildren.get(e))!==null&&r!==void 0?r:[],s=zo(i),o;!(o=s()).done;){var a=o.value;if(n(a))return!0}return!1}size(){return this._childrenToCellKey.size}}class GR{constructor(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}}var Gd=[],XR=10,Cy=null;class K3{static addListener(e){return Cy===null&&console.warn("Call `FillRateHelper.setSampleRate` before `addListener`."),Gd.push(e),{remove:()=>{Gd=Gd.filter(n=>e!==n)}}}static setSampleRate(e){Cy=e}static setMinSampleCount(e){XR=e}constructor(e){this._anyBlankStartTime=null,this._enabled=!1,this._info=new GR,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=e,this._enabled=(Cy||0)>Math.random(),this._resetData()}activate(){this._enabled&&this._samplesStartTime==null&&(this._samplesStartTime=global.performance.now())}deactivateAndFlush(){if(this._enabled){var e=this._samplesStartTime;if(e!=null){if(this._info.sample_count<XR){this._resetData();return}var n=global.performance.now()-e,r=me(me({},this._info),{},{total_time_spent:n});Gd.forEach(i=>i(r)),this._resetData()}}}computeBlankness(e,n,r){if(!this._enabled||e.getItemCount(e.data)===0||n.last<n.first||this._samplesStartTime==null)return 0;var i=r.dOffset,s=r.offset,o=r.velocity,a=r.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(a),this._info.pixels_scrolled+=Math.round(Math.abs(i));var l=Math.round(Math.abs(o)*1e3),u=global.performance.now();this._anyBlankStartTime!=null&&(this._info.any_blank_ms+=u-this._anyBlankStartTime),this._anyBlankStartTime=null,this._mostlyBlankStartTime!=null&&(this._info.mostly_blank_ms+=u-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var h=0,d=n.first,f=this._getFrameMetrics(d,e);d<=n.last&&(!f||!f.inLayout);)f=this._getFrameMetrics(d,e),d++;f&&d>0&&(h=Math.min(a,Math.max(0,f.offset-s)));for(var p=0,g=n.last,S=this._getFrameMetrics(g,e);g>=n.first&&(!S||!S.inLayout);)S=this._getFrameMetrics(g,e),g--;if(S&&g<e.getItemCount(e.data)-1){var T=S.offset+S.length;p=Math.min(a,Math.max(0,s+a-T))}var v=Math.round(h+p),y=v/a;return y>0?(this._anyBlankStartTime=u,this._info.any_blank_speed_sum+=l,this._info.any_blank_count++,this._info.pixels_blank+=v,y>.5&&(this._mostlyBlankStartTime=u,this._info.mostly_blank_count++)):(l<.01||Math.abs(i)<1)&&this.deactivateAndFlush(),y}enabled(){return this._enabled}_resetData(){this._anyBlankStartTime=null,this._info=new GR,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}class G3 extends R.PureComponent{constructor(e){super(e),this._inAsyncStateUpdate=!1,this._installSetStateHooks()}setState(e,n){typeof e=="function"?super.setState((r,i)=>{this._inAsyncStateUpdate=!0;var s;try{s=e(r,i)}catch(o){throw o}finally{this._inAsyncStateUpdate=!1}return s},n):super.setState(e,n)}_installSetStateHooks(){var e=this,n=this.props,r=this.state;Object.defineProperty(this,"props",{get(){return pe(!e._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),n},set(i){n=i}}),Object.defineProperty(this,"state",{get(){return pe(!e._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),r},set(i){r=i}})}}class YR{constructor(e){e===void 0&&(e={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=e}dispose(){this._timers.forEach(clearTimeout)}computeViewableItems(e,n,r,i,s){var o=e.getItemCount(e.data),a=this._config,l=a.itemVisiblePercentThreshold,u=a.viewAreaCoveragePercentThreshold,h=u!=null,d=h?u:l;pe(d!=null&&l!=null!=(u!=null),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var f=[];if(o===0)return f;var p=-1,g=s||{first:0,last:o-1},S=g.first,T=g.last;if(T>=o)return console.warn("Invalid render range computing viewability "+JSON.stringify({renderRange:s,itemCount:o})),[];for(var v=S;v<=T;v++){var y=i(v,e);if(y){var E=y.offset-n,A=E+y.length;if(E<r&&A>0)p=v,X3(h,d,E,A,r,y.length)&&f.push(v);else if(p>=0)break}}return f}onUpdate(e,n,r,i,s,o,a){var l=e.getItemCount(e.data);if(!(this._config.waitForInteraction&&!this._hasInteracted||l===0||!i(0,e))){var u=[];if(l&&(u=this.computeViewableItems(e,n,r,i,a)),!(this._viewableIndices.length===u.length&&this._viewableIndices.every((d,f)=>d===u[f])))if(this._viewableIndices=u,this._config.minimumViewTime){var h=setTimeout(()=>{this._timers.delete(h),this._onUpdateSync(e,u,o,s)},this._config.minimumViewTime);this._timers.add(h)}else this._onUpdateSync(e,u,o,s)}}resetViewableIndices(){this._viewableIndices=[]}recordInteraction(){this._hasInteracted=!0}_onUpdateSync(e,n,r,i){n=n.filter(y=>this._viewableIndices.includes(y));for(var s=this._viewableItems,o=new Map(n.map(y=>{var E=i(y,!0,e);return[E.key,E]})),a=[],l=zo(o),u;!(u=l()).done;){var h=u.value,d=h[0],f=h[1];s.has(d)||a.push(f)}for(var p=zo(s),g;!(g=p()).done;){var S=g.value,T=S[0],v=S[1];o.has(T)||a.push(me(me({},v),{},{isViewable:!1}))}a.length>0&&(this._viewableItems=o,r({viewableItems:Array.from(o.values()),changed:a,viewabilityConfig:this._config}))}}function X3(t,e,n,r,i,s){if(Q3(n,r,i))return!0;var o=Y3(n,r,i),a=100*(t?o/i:o/s);return a>=e}function Y3(t,e,n){var r=Math.min(e,n)-Math.max(t,0);return Math.max(0,r)}function Q3(t,e,n){return t>=0&&e<=n&&e>t}var Up=R.createContext(null);function J3(t){var e=t.children,n=t.value,r=R.useMemo(()=>({cellKey:null,getScrollMetrics:n.getScrollMetrics,horizontal:n.horizontal,getOutermostParentListRef:n.getOutermostParentListRef,registerAsNestedChild:n.registerAsNestedChild,unregisterAsNestedChild:n.unregisterAsNestedChild}),[n.getScrollMetrics,n.horizontal,n.getOutermostParentListRef,n.registerAsNestedChild,n.unregisterAsNestedChild]);return R.createElement(Up.Provider,{value:r},e)}function Mf(t){var e=t.cellKey,n=t.children,r=R.useContext(Up),i=R.useMemo(()=>r==null?null:me(me({},r),{},{cellKey:e}),[r,e]);return R.createElement(Up.Provider,{value:i},n)}class Z3 extends R.Component{constructor(){super(...arguments),this.state={separatorProps:{highlighted:!1,leadingItem:this.props.item}},this._separators={highlight:()=>{var e=this.props,n=e.cellKey,r=e.prevCellKey;this.props.onUpdateSeparators([n,r],{highlighted:!0})},unhighlight:()=>{var e=this.props,n=e.cellKey,r=e.prevCellKey;this.props.onUpdateSeparators([n,r],{highlighted:!1})},updateProps:(e,n)=>{var r=this.props,i=r.cellKey,s=r.prevCellKey;this.props.onUpdateSeparators([e==="leading"?s:i],n)}},this._onLayout=e=>{this.props.onCellLayout&&this.props.onCellLayout(e,this.props.cellKey,this.props.index)}}static getDerivedStateFromProps(e,n){return{separatorProps:me(me({},n.separatorProps),{},{leadingItem:e.item})}}updateSeparatorProps(e){this.setState(n=>({separatorProps:me(me({},n.separatorProps),e)}))}componentWillUnmount(){this.props.onUnmount(this.props.cellKey)}_renderElement(e,n,r,i){if(e&&n&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),n)return R.createElement(n,{item:r,index:i,separators:this._separators});if(e)return e({item:r,index:i,separators:this._separators});pe(!1,"VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.")}render(){var e=this.props,n=e.CellRendererComponent,r=e.ItemSeparatorComponent,i=e.ListItemComponent,s=e.cellKey,o=e.horizontal,a=e.item,l=e.index,u=e.inversionStyle,h=e.onCellFocusCapture,d=e.onCellLayout,f=e.renderItem,p=this._renderElement(f,i,a,l),g=R.isValidElement(r)?r:r&&R.createElement(r,this.state.separatorProps),S=u?o?[Iy.rowReverse,u]:[Iy.columnReverse,u]:o?[Iy.row,u]:u,T=n?R.createElement(n,tn({cellKey:s,index:l,item:a,style:S,onFocusCapture:h},d&&{onLayout:this._onLayout}),p,g):R.createElement(q,tn({style:S,onFocusCapture:h},d&&{onLayout:this._onLayout}),p,g);return R.createElement(Mf,{cellKey:this.props.cellKey},T)}}var Iy=Ie.create({row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"}});function e6(t,e,n,r){r===void 0&&(r=1);for(var i=e.getItemCount(e.data),s=[],o=0;o<t.length;o++)for(var a=t[o],l=0,u=i-1;l<=u;){var h=l+(u-l>>>1),d=n(h,e),f=d.offset*r,p=(d.offset+d.length)*r;if(h===0&&a<f||h!==0&&a<=f)u=h-1;else if(a>p)l=h+1;else{s[o]=h;break}}return s}function t6(t,e){return e.last-e.first+1-Math.max(0,1+Math.min(e.last,t.last)-Math.max(e.first,t.first))}function n6(t,e,n,r,i,s){var o=t.getItemCount(t.data);if(o===0)return{first:0,last:-1};var a=s.offset,l=s.velocity,u=s.visibleLength,h=s.zoomScale,d=h===void 0?1:h,f=Math.max(0,a),p=f+u,g=(n-1)*u,S=.5,T=l>1?"after":l<-1?"before":"none",v=Math.max(0,f-(1-S)*g),y=Math.max(0,p+S*g),E=i(o-1,t).offset*d;if(E<v)return{first:Math.max(0,o-1-e),last:o-1};var A=e6([v,f,p,y],t,i,d),M=A[0],D=A[1],b=A[2],w=A[3];M=M??0,D=D??Math.max(0,M),w=w??o-1,b=b??Math.min(w,D+e-1);for(var C={first:D,last:b},I=t6(r,C);!(D<=M&&b>=w);){var x=I>=e,L=D<=r.first||D>r.last,k=D>M&&(!x||!L),le=b>=r.last||b<r.first,de=b<w&&(!x||!le);if(x&&!k&&!de)break;k&&!(T==="after"&&de&&le)&&(L&&I++,D--),de&&!(T==="before"&&k&&L)&&(le&&I++,b++)}if(!(b>=D&&D>=0&&b<o&&D>=M&&b<=w&&D<=C.first&&b>=C.last))throw new Error("Bad window calculation "+JSON.stringify({first:D,last:b,itemCount:o,overscanFirst:M,overscanLast:w,visible:C}));return{first:D,last:b}}function $_(t,e){return typeof t=="object"&&(t==null?void 0:t.key)!=null?t.key:typeof t=="object"&&(t==null?void 0:t.id)!=null?t.id:String(e)}var Gm={exports:{}};function rO(t,e){if(t!=null)return t;var n=new Error(e!==void 0?e:"Got unexpected "+t);throw n.framesToPop=1,n}Gm.exports=rO;Gm.exports.default=rO;Object.defineProperty(Gm.exports,"__esModule",{value:!0});var r6=Gm.exports;const i6=Gl(r6);var QR=.001,xy=!1,Ay="";function Po(t){return t??!1}function s6(t){return t??10}function Py(t){return t??10}function o6(t){return t??2}function JR(t){return t??2}function ZR(t,e){return t*e/2}function a6(t){return t??50}function eC(t){return t??21}function l6(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null}class Xn extends G3{scrollToEnd(e){var n=e?e.animated:!0,r=this.props.getItemCount(this.props.data)-1;if(!(r<0)){var i=this.__getFrameMetricsApprox(r,this.props),s=Math.max(0,i.offset+i.length+this._footerLength-this._scrollMetrics.visibleLength);if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(Po(this.props.horizontal)?{x:s,animated:n}:{y:s,animated:n})}}}scrollToIndex(e){var n=this.props,r=n.data,i=n.horizontal,s=n.getItemCount,o=n.getItemLayout,a=n.onScrollToIndexFailed,l=e.animated,u=e.index,h=e.viewOffset,d=e.viewPosition;if(pe(u>=0,"scrollToIndex out of range: requested index "+u+" but minimum is 0"),pe(s(r)>=1,"scrollToIndex out of range: item length "+s(r)+" but minimum is 1"),pe(u<s(r),"scrollToIndex out of range: requested index "+u+" is out of 0 to "+(s(r)-1)),!o&&u>this._highestMeasuredFrameIndex){pe(!!a,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),a({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:u});return}var f=this.__getFrameMetricsApprox(Math.floor(u),this.props),p=Math.max(0,this._getOffsetApprox(u,this.props)-(d||0)*(this._scrollMetrics.visibleLength-f.length))-(h||0);if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(i?{x:p,animated:l}:{y:p,animated:l})}}scrollToItem(e){for(var n=e.item,r=this.props,i=r.data,s=r.getItem,o=r.getItemCount,a=o(i),l=0;l<a;l++)if(s(i,l)===n){this.scrollToIndex(me(me({},e),{},{index:l}));break}}scrollToOffset(e){var n=e.animated,r=e.offset;if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(Po(this.props.horizontal)?{x:r,animated:n}:{y:r,animated:n})}}recordInteraction(){this._nestedChildLists.forEach(e=>{e.recordInteraction()}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}flashScrollIndicators(){this._scrollRef!=null&&this._scrollRef.flashScrollIndicators()}getScrollResponder(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}getScrollableNode(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():this._scrollRef}getScrollRef(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}_getCellKey(){var e;return((e=this.context)==null?void 0:e.cellKey)||"rootList"}hasMore(){return this._hasMore}constructor(e){var n;if(super(e),this._getScrollMetrics=()=>this._scrollMetrics,this._getOutermostParentListRef=()=>this._isNestedWithSameOrientation()?this.context.getOutermostParentListRef():this,this._registerAsNestedChild=a=>{this._nestedChildLists.add(a.ref,a.cellKey),this._hasInteracted&&a.ref.recordInteraction()},this._unregisterAsNestedChild=a=>{this._nestedChildLists.remove(a.ref)},this._onUpdateSeparators=(a,l)=>{a.forEach(u=>{var h=u!=null&&this._cellRefs[u];h&&h.updateSeparatorProps(l)})},this._getSpacerKey=a=>a?"height":"width",this._averageCellLength=0,this._cellRefs={},this._frames={},this._footerLength=0,this._hasTriggeredInitialScrollToIndex=!1,this._hasInteracted=!1,this._hasMore=!1,this._hasWarned={},this._headerLength=0,this._hiPriInProgress=!1,this._highestMeasuredFrameIndex=0,this._indicesToKeys=new Map,this._lastFocusedCellKey=null,this._nestedChildLists=new q3,this._offsetFromParentVirtualizedList=0,this._prevParentOffset=0,this._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},this._scrollRef=null,this._sentStartForContentLength=0,this._sentEndForContentLength=0,this._totalCellLength=0,this._totalCellsMeasured=0,this._viewabilityTuples=[],this._captureScrollRef=a=>{this._scrollRef=a},this._defaultRenderScrollComponent=a=>{var l=a.onRefresh;if(this._isNestedWithSameOrientation())return R.createElement(q,a);if(l){var u;return pe(typeof a.refreshing=="boolean","`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify((u=a.refreshing)!==null&&u!==void 0?u:"undefined")+"`"),R.createElement(br,tn({},a,{refreshControl:a.refreshControl==null?R.createElement(T3,{refreshing:a.refreshing,onRefresh:l,progressViewOffset:a.progressViewOffset}):a.refreshControl}))}else return R.createElement(br,a)},this._onCellLayout=(a,l,u)=>{var h=a.nativeEvent.layout,d={offset:this._selectOffset(h),length:this._selectLength(h),index:u,inLayout:!0},f=this._frames[l];!f||d.offset!==f.offset||d.length!==f.length||u!==f.index?(this._totalCellLength+=d.length-(f?f.length:0),this._totalCellsMeasured+=f?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[l]=d,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,u),this._scheduleCellsToRenderUpdate()):this._frames[l].inLayout=!0,this._triggerRemeasureForChildListsInCell(l),this._computeBlankness(),this._updateViewableItems(this.props,this.state.cellsAroundViewport)},this._onCellUnmount=a=>{delete this._cellRefs[a];var l=this._frames[a];l&&(this._frames[a]=me(me({},l),{},{inLayout:!1}))},this._onLayout=a=>{this._isNestedWithSameOrientation()?this.measureLayoutRelativeToContainingList():this._scrollMetrics.visibleLength=this._selectLength(a.nativeEvent.layout),this.props.onLayout&&this.props.onLayout(a),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._onLayoutEmpty=a=>{this.props.onLayout&&this.props.onLayout(a)},this._onLayoutFooter=a=>{this._triggerRemeasureForChildListsInCell(this._getFooterCellKey()),this._footerLength=this._selectLength(a.nativeEvent.layout)},this._onLayoutHeader=a=>{this._headerLength=this._selectLength(a.nativeEvent.layout)},this._onContentSizeChange=(a,l)=>{a>0&&l>0&&this.props.initialScrollIndex!=null&&this.props.initialScrollIndex>0&&!this._hasTriggeredInitialScrollToIndex&&(this.props.contentOffset==null&&(this.props.initialScrollIndex<this.props.getItemCount(this.props.data)?this.scrollToIndex({animated:!1,index:i6(this.props.initialScrollIndex)}):this.scrollToEnd({animated:!1})),this._hasTriggeredInitialScrollToIndex=!0),this.props.onContentSizeChange&&this.props.onContentSizeChange(a,l),this._scrollMetrics.contentLength=this._selectLength({height:l,width:a}),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._convertParentScrollMetrics=a=>{var l=a.offset-this._offsetFromParentVirtualizedList,u=a.visibleLength,h=l-this._scrollMetrics.offset,d=this._scrollMetrics.contentLength;return{visibleLength:u,contentLength:d,offset:l,dOffset:h}},this._onScroll=a=>{this._nestedChildLists.forEach(v=>{v._onScroll(a)}),this.props.onScroll&&this.props.onScroll(a);var l=a.timeStamp,u=this._selectLength(a.nativeEvent.layoutMeasurement),h=this._selectLength(a.nativeEvent.contentSize),d=this._selectOffset(a.nativeEvent.contentOffset),f=d-this._scrollMetrics.offset;if(this._isNestedWithSameOrientation()){if(this._scrollMetrics.contentLength===0)return;var p=this._convertParentScrollMetrics({visibleLength:u,offset:d});u=p.visibleLength,h=p.contentLength,d=p.offset,f=p.dOffset}var g=this._scrollMetrics.timestamp?Math.max(1,l-this._scrollMetrics.timestamp):1,S=f/g;g>500&&this._scrollMetrics.dt>500&&h>5*u&&!this._hasWarned.perf&&(W3("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:g,prevDt:this._scrollMetrics.dt,contentLength:h}),this._hasWarned.perf=!0);var T=a.nativeEvent.zoomScale<0?1:a.nativeEvent.zoomScale;this._scrollMetrics={contentLength:h,dt:g,dOffset:f,offset:d,timestamp:l,velocity:S,visibleLength:u,zoomScale:T},this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.props&&(this._maybeCallOnEdgeReached(),S!==0&&this._fillRateHelper.activate(),this._computeBlankness(),this._scheduleCellsToRenderUpdate())},this._onScrollBeginDrag=a=>{this._nestedChildLists.forEach(l=>{l._onScrollBeginDrag(a)}),this._viewabilityTuples.forEach(l=>{l.viewabilityHelper.recordInteraction()}),this._hasInteracted=!0,this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(a)},this._onScrollEndDrag=a=>{this._nestedChildLists.forEach(u=>{u._onScrollEndDrag(a)});var l=a.nativeEvent.velocity;l&&(this._scrollMetrics.velocity=this._selectOffset(l)),this._computeBlankness(),this.props.onScrollEndDrag&&this.props.onScrollEndDrag(a)},this._onMomentumScrollBegin=a=>{this._nestedChildLists.forEach(l=>{l._onMomentumScrollBegin(a)}),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(a)},this._onMomentumScrollEnd=a=>{this._nestedChildLists.forEach(l=>{l._onMomentumScrollEnd(a)}),this._scrollMetrics.velocity=0,this._computeBlankness(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(a)},this._updateCellsToRender=()=>{this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.setState((a,l)=>{var u=this._adjustCellsAroundViewport(l,a.cellsAroundViewport),h=Xn._createRenderMask(l,u,this._getNonViewportRenderRegions(l));return u.first===a.cellsAroundViewport.first&&u.last===a.cellsAroundViewport.last&&h.equals(a.renderMask)?null:{cellsAroundViewport:u,renderMask:h}})},this._createViewToken=(a,l,u)=>{var h=u.data,d=u.getItem,f=d(h,a);return{index:a,item:f,key:this._keyExtractor(f,a,u),isViewable:l}},this._getOffsetApprox=(a,l)=>{if(Number.isInteger(a))return this.__getFrameMetricsApprox(a,l).offset;var u=this.__getFrameMetricsApprox(Math.floor(a),l),h=a-Math.floor(a);return u.offset+h*u.length},this.__getFrameMetricsApprox=(a,l)=>{var u=this._getFrameMetrics(a,l);if(u&&u.index===a)return u;var h=l.data,d=l.getItemCount,f=l.getItemLayout;return pe(a>=0&&a<d(h),"Tried to get frame for out of range index "+a),pe(!f,"Should not have to estimate frames when a measurement metrics function is provided"),{length:this._averageCellLength,offset:this._averageCellLength*a}},this._getFrameMetrics=(a,l)=>{var u=l.data,h=l.getItem,d=l.getItemCount,f=l.getItemLayout;pe(a>=0&&a<d(u),"Tried to get frame for out of range index "+a);var p=h(u,a),g=this._frames[this._keyExtractor(p,a,l)];return(!g||g.index!==a)&&f?f(u,a):g},this._getNonViewportRenderRegions=a=>{if(!(this._lastFocusedCellKey&&this._cellRefs[this._lastFocusedCellKey]))return[];var l=this._cellRefs[this._lastFocusedCellKey],u=l.props.index,h=a.getItemCount(a.data);if(u>=h||this._keyExtractor(a.getItem(a.data,u),u,a)!==this._lastFocusedCellKey)return[];for(var d=u,f=0,p=d-1;p>=0&&f<this._scrollMetrics.visibleLength;p--)d--,f+=this.__getFrameMetricsApprox(p,a).length;for(var g=u,S=0,T=g+1;T<h&&S<this._scrollMetrics.visibleLength;T++)g++,S+=this.__getFrameMetricsApprox(T,a).length;return[{first:d,last:g}]},this._checkProps(e),this._fillRateHelper=new K3(this._getFrameMetrics),this._updateCellsToRenderBatcher=new z3(this._updateCellsToRender,(n=this.props.updateCellsBatchingPeriod)!==null&&n!==void 0?n:50),this.props.viewabilityConfigCallbackPairs)this._viewabilityTuples=this.props.viewabilityConfigCallbackPairs.map(a=>({viewabilityHelper:new YR(a.viewabilityConfig),onViewableItemsChanged:a.onViewableItemsChanged}));else{var r=this.props,i=r.onViewableItemsChanged,s=r.viewabilityConfig;i&&this._viewabilityTuples.push({viewabilityHelper:new YR(s),onViewableItemsChanged:i})}var o=Xn._initialRenderRegion(e);this.state={cellsAroundViewport:o,renderMask:Xn._createRenderMask(e,o)},this.invertedWheelEventHandler=a=>{var l=this.props.horizontal?a.target.scrollLeft:a.target.scrollTop,u=this.props.horizontal?a.target.scrollWidth:a.target.scrollHeight,h=this.props.horizontal?a.target.clientWidth:a.target.clientHeight,d=u>h,f=this.props.horizontal?a.deltaX||a.wheelDeltaX:a.deltaY||a.wheelDeltaY,p=f;d&&(p=f<0?Math.min(f+l,0):Math.max(f-(u-h-l),0));var g=f-p;if(this.props.inverted&&this._scrollRef&&this._scrollRef.getScrollableNode){var S=this._scrollRef.getScrollableNode();if(this.props.horizontal){a.target.scrollLeft+=g;var T=S.scrollLeft-p;S.scrollLeft=this.props.getItemLayout?T:Math.min(T,this._totalCellLength)}else{a.target.scrollTop+=g;var v=S.scrollTop-p;S.scrollTop=this.props.getItemLayout?v:Math.min(v,this._totalCellLength)}a.preventDefault()}}}_checkProps(e){var n=e.onScroll,r=e.windowSize,i=e.getItemCount,s=e.data,o=e.initialScrollIndex;pe(!n||!n.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),pe(eC(r)>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),pe(i,'VirtualizedList: The "getItemCount" prop must be provided');var a=i(s);o!=null&&!this._hasTriggeredInitialScrollToIndex&&(o<0||a>0&&o>=a)&&!this._hasWarned.initialScrollIndex&&(console.warn('initialScrollIndex "'+o+'" is not valid (list has '+a+" items)"),this._hasWarned.initialScrollIndex=!0)}static _createRenderMask(e,n,r){var i=e.getItemCount(e.data);pe(n.first>=0&&n.last>=n.first-1&&n.last<i,'Invalid cells around viewport "['+n.first+", "+n.last+']" was passed to VirtualizedList._createRenderMask');var s=new H3(i);if(i>0){for(var o=[n,...r??[]],a=0,l=o;a<l.length;a++){var u=l[a];s.addCells(u)}if(e.initialScrollIndex==null||e.initialScrollIndex<=0){var h=Xn._initialRenderRegion(e);s.addCells(h)}var d=new Set(e.stickyHeaderIndices);Xn._ensureClosestStickyHeader(e,d,s,n.first)}return s}static _initialRenderRegion(e){var n,r=e.getItemCount(e.data),i=Math.max(0,Math.min(r-1,Math.floor((n=e.initialScrollIndex)!==null&&n!==void 0?n:0))),s=Math.min(r,i+s6(e.initialNumToRender))-1;return{first:i,last:s}}static _ensureClosestStickyHeader(e,n,r,i){for(var s=e.ListHeaderComponent?1:0,o=i-1;o>=0;o--)if(n.has(o+s)){r.addCells({first:o,last:o});break}}_adjustCellsAroundViewport(e,n){var r=e.data,i=e.getItemCount,s=JR(e.onEndReachedThreshold),o=this._scrollMetrics,a=o.contentLength,l=o.offset,u=o.visibleLength,h=a-u-l;if(u<=0||a<=0)return n.last>=i(r)?Xn._constrainToItemCount(n,e):n;var d;if(e.disableVirtualization){var f=h<s*u?Py(e.maxToRenderPerBatch):0;d={first:0,last:Math.min(n.last+f,i(r)-1)}}else{if(e.initialScrollIndex&&!this._scrollMetrics.offset&&Math.abs(h)>=Number.EPSILON)return n.last>=i(r)?Xn._constrainToItemCount(n,e):n;d=n6(e,Py(e.maxToRenderPerBatch),eC(e.windowSize),n,this.__getFrameMetricsApprox,this._scrollMetrics),pe(d.last<i(r),"computeWindowedRenderLimits() should return range in-bounds")}if(this._nestedChildLists.size()>0){var p=this._findFirstChildWithMore(d.first,d.last);d.last=p??d.last}return d}_findFirstChildWithMore(e,n){for(var r=e;r<=n;r++){var i=this._indicesToKeys.get(r);if(i!=null&&this._nestedChildLists.anyInCell(i,s=>s.hasMore()))return r}return null}componentDidMount(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey}),this.setupWebWheelHandler()}componentWillUnmount(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}setupWebWheelHandler(){if(this._scrollRef&&this._scrollRef.getScrollableNode)this._scrollRef.getScrollableNode().addEventListener("wheel",this.invertedWheelEventHandler);else{setTimeout(()=>this.setupWebWheelHandler(),50);return}}teardownWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener("wheel",this.invertedWheelEventHandler)}static getDerivedStateFromProps(e,n){var r=e.getItemCount(e.data);if(r===n.renderMask.numCells())return n;var i=Xn._constrainToItemCount(n.cellsAroundViewport,e);return{cellsAroundViewport:i,renderMask:Xn._createRenderMask(e,i)}}_pushCells(e,n,r,i,s,o){var a=this,l=this.props,u=l.CellRendererComponent,h=l.ItemSeparatorComponent,d=l.ListHeaderComponent,f=l.ListItemComponent,p=l.data,g=l.debug,S=l.getItem,T=l.getItemCount,v=l.getItemLayout,y=l.horizontal,E=l.renderItem,A=d?1:0,M=T(p)-1,D;s=Math.min(M,s);for(var b=function(){var I=S(p,w),x=a._keyExtractor(I,w,a.props);a._indicesToKeys.set(w,x),r.has(w+A)&&n.push(e.length);var L=v==null||g||a._fillRateHelper.enabled();e.push(R.createElement(Z3,tn({CellRendererComponent:u,ItemSeparatorComponent:w<M?h:void 0,ListItemComponent:f,cellKey:x,horizontal:y,index:w,inversionStyle:o,item:I,key:x,prevCellKey:D,onUpdateSeparators:a._onUpdateSeparators,onCellFocusCapture:k=>a._onCellFocusCapture(x),onUnmount:a._onCellUnmount,ref:k=>{a._cellRefs[x]=k},renderItem:E},L&&{onCellLayout:a._onCellLayout}))),D=x},w=i;w<=s;w++)b()}static _constrainToItemCount(e,n){var r=n.getItemCount(n.data),i=Math.min(r-1,e.last),s=Py(n.maxToRenderPerBatch);return{first:KR(0,r-1-s,e.first),last:i}}_isNestedWithSameOrientation(){var e=this.context;return!!(e&&!!e.horizontal===Po(this.props.horizontal))}_keyExtractor(e,n,r){if(r.keyExtractor!=null)return r.keyExtractor(e,n);var i=$_(e,n);return i===String(n)&&(xy=!0,e.type&&e.type.displayName&&(Ay=e.type.displayName)),i}render(){this._checkProps(this.props);var e=this.props,n=e.ListEmptyComponent,r=e.ListFooterComponent,i=e.ListHeaderComponent,s=this.props,o=s.data,a=s.horizontal,l=this.props.inverted?Po(this.props.horizontal)?gr.horizontallyInverted:gr.verticallyInverted:null,u=[],h=new Set(this.props.stickyHeaderIndices),d=[];if(i){h.has(0)&&d.push(0);var f=R.isValidElement(i)?i:R.createElement(i,null);u.push(R.createElement(Mf,{cellKey:this._getCellKey()+"-header",key:"$header"},R.createElement(q,{onLayout:this._onLayoutHeader,style:[l,this.props.ListHeaderComponentStyle]},f)))}var p=this.props.getItemCount(o);if(p===0&&n){var g=R.isValidElement(n)?n:R.createElement(n,null);u.push(R.createElement(Mf,{cellKey:this._getCellKey()+"-empty",key:"$empty"},R.cloneElement(g,{onLayout:de=>{this._onLayoutEmpty(de),g.props.onLayout&&g.props.onLayout(de)},style:[l,g.props.style]})))}if(p>0){xy=!1,Ay="";for(var S=this._getSpacerKey(!a),T=this.state.renderMask.enumerateRegions(),v=l6(T,de=>de.isSpacer),y=zo(T),E;!(E=y()).done;){var A=E.value;if(A.isSpacer){if(this.props.disableVirtualization)continue;var M=A===v,D=M&&!this.props.getItemLayout,b=D?KR(A.first-1,A.last,this._highestMeasuredFrameIndex):A.last,w=this.__getFrameMetricsApprox(A.first,this.props),C=this.__getFrameMetricsApprox(b,this.props),I=C.offset+C.length-w.offset;u.push(R.createElement(q,{key:"$spacer-"+A.first,style:{[S]:I}}))}else this._pushCells(u,d,h,A.first,A.last,l)}!this._hasWarned.keys&&xy&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",Ay),this._hasWarned.keys=!0)}if(r){var x=R.isValidElement(r)?r:R.createElement(r,null);u.push(R.createElement(Mf,{cellKey:this._getFooterCellKey(),key:"$footer"},R.createElement(q,{onLayout:this._onLayoutFooter,style:[l,this.props.ListFooterComponentStyle]},x)))}var L=me(me({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:a6(this.props.scrollEventThrottle),invertStickyHeaders:this.props.invertStickyHeaders!==void 0?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:d,style:l?[l,this.props.style]:this.props.style});this._hasMore=this.state.cellsAroundViewport.last<p-1;var k=R.createElement(J3,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:Po(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}},R.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(L),{ref:this._captureScrollRef},u)),le=k;return this.props.debug?R.createElement(q,{style:gr.debug},le,this._renderDebugOverlay()):le}componentDidUpdate(e){var n=this.props,r=n.data,i=n.extraData;(r!==e.data||i!==e.extraData)&&this._viewabilityTuples.forEach(o=>{o.viewabilityHelper.resetViewableIndices()});var s=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),s&&(this._hiPriInProgress=!1)}_computeBlankness(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}_onCellFocusCapture(e){this._lastFocusedCellKey=e,this._updateCellsToRender()}_triggerRemeasureForChildListsInCell(e){this._nestedChildLists.forEachInCell(e,n=>{n.measureLayoutRelativeToContainingList()})}measureLayoutRelativeToContainingList(){try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),(e,n,r,i)=>{this._offsetFromParentVirtualizedList=this._selectOffset({x:e,y:n}),this._scrollMetrics.contentLength=this._selectLength({width:r,height:i});var s=this._convertParentScrollMetrics(this.context.getScrollMetrics()),o=this._scrollMetrics.visibleLength!==s.visibleLength||this._scrollMetrics.offset!==s.offset;o&&(this._scrollMetrics.visibleLength=s.visibleLength,this._scrollMetrics.offset=s.offset,this._nestedChildLists.forEach(a=>{a.measureLayoutRelativeToContainingList()}))},e=>{console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(e){console.warn("measureLayoutRelativeToContainingList threw an error",e.stack)}}_getFooterCellKey(){return this._getCellKey()+"-footer"}_renderDebugOverlay(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),n=[],r=this.props.getItemCount(this.props.data),i=0;i<r;i++){var s=this.__getFrameMetricsApprox(i,this.props);s.inLayout&&n.push(s)}var o=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,a=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last,this.props),l=a.offset+a.length-o,u=this._scrollMetrics.offset,h=this._scrollMetrics.visibleLength;return R.createElement(q,{style:[gr.debugOverlayBase,gr.debugOverlay]},n.map((d,f)=>R.createElement(q,{key:"f"+f,style:[gr.debugOverlayBase,gr.debugOverlayFrame,{top:d.offset*e,height:d.length*e}]})),R.createElement(q,{style:[gr.debugOverlayBase,gr.debugOverlayFrameLast,{top:o*e,height:l*e}]}),R.createElement(q,{style:[gr.debugOverlayBase,gr.debugOverlayFrameVis,{top:u*e,height:h*e}]}))}_selectLength(e){return Po(this.props.horizontal)?e.width:e.height}_selectOffset(e){return Po(this.props.horizontal)?e.x:e.y}_maybeCallOnEdgeReached(){var e=this.props,n=e.data,r=e.getItemCount,i=e.onStartReached,s=e.onStartReachedThreshold,o=e.onEndReached,a=e.onEndReachedThreshold,l=e.initialScrollIndex,u=this._scrollMetrics,h=u.contentLength,d=u.visibleLength,f=u.offset,p=f,g=h-d-f;p<QR&&(p=0),g<QR&&(g=0);var S=2,T=s!=null?s*d:S,v=a!=null?a*d:S,y=p<=T,E=g<=v;o&&this.state.cellsAroundViewport.last===r(n)-1&&E&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,o({distanceFromEnd:g})):i!=null&&this.state.cellsAroundViewport.first===0&&y&&this._scrollMetrics.contentLength!==this._sentStartForContentLength?(!l||this._scrollMetrics.timestamp!==0)&&(this._sentStartForContentLength=this._scrollMetrics.contentLength,i({distanceFromStart:p})):(this._sentStartForContentLength=y?this._sentStartForContentLength:0,this._sentEndForContentLength=E?this._sentEndForContentLength:0)}_scheduleCellsToRenderUpdate(){var e=this.state.cellsAroundViewport,n=e.first,r=e.last,i=this._scrollMetrics,s=i.offset,o=i.visibleLength,a=i.velocity,l=this.props.getItemCount(this.props.data),u=!1,h=o6(this.props.onStartReachedThreshold),d=JR(this.props.onEndReachedThreshold);if(n>0){var f=s-this.__getFrameMetricsApprox(n,this.props).offset;u=f<0||a<-2&&f<ZR(h,o)}if(!u&&r>=0&&r<l-1){var p=this.__getFrameMetricsApprox(r,this.props).offset-(s+o);u=p<0||a>2&&p<ZR(d,o)}if(u&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress){this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),this._updateCellsToRender();return}else this._updateCellsToRenderBatcher.schedule()}_updateViewableItems(e,n){this._viewabilityTuples.forEach(r=>{r.viewabilityHelper.onUpdate(e,this._scrollMetrics.offset,this._scrollMetrics.visibleLength,this._getFrameMetrics,this._createViewToken,r.onViewableItemsChanged,n)})}}Xn.contextType=Up;var gr=Ie.create({verticallyInverted:{transform:"scaleY(-1)"},horizontallyInverted:{transform:"scaleX(-1)"},debug:{flex:1},debugOverlayBase:{position:"absolute",top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:"blue",borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:"orange"},debugOverlayFrameLast:{left:0,borderColor:"green",borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:"red",borderWidth:2}}),tC=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function u6(t,e){return!!(t===e||tC(t)&&tC(e))}function c6(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!u6(t[n],e[n]))return!1;return!0}function h6(t,e){e===void 0&&(e=c6);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var d6=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function f6(t){return t??E$.OS==="android"}function ko(t){return t??1}function p6(t){return typeof Object(t).length=="number"}class m6 extends R.PureComponent{scrollToEnd(e){this._listRef&&this._listRef.scrollToEnd(e)}scrollToIndex(e){this._listRef&&this._listRef.scrollToIndex(e)}scrollToItem(e){this._listRef&&this._listRef.scrollToItem(e)}scrollToOffset(e){this._listRef&&this._listRef.scrollToOffset(e)}recordInteraction(){this._listRef&&this._listRef.recordInteraction()}flashScrollIndicators(){this._listRef&&this._listRef.flashScrollIndicators()}getScrollResponder(){if(this._listRef)return this._listRef.getScrollResponder()}getNativeScrollRef(){if(this._listRef)return this._listRef.getScrollRef()}getScrollableNode(){if(this._listRef)return this._listRef.getScrollableNode()}constructor(e){super(e),this._virtualizedListPairs=[],this._captureRef=n=>{this._listRef=n},this._getItem=(n,r)=>{var i=ko(this.props.numColumns);if(i>1){for(var s=[],o=0;o<i;o++){var a=r*i+o;if(a<n.length){var l=n[a];s.push(l)}}return s}else return n[r]},this._getItemCount=n=>{if(n!=null&&p6(n)){var r=ko(this.props.numColumns);return r>1?Math.ceil(n.length/r):n.length}else return 0},this._keyExtractor=(n,r)=>{var i,s=ko(this.props.numColumns),o=(i=this.props.keyExtractor)!==null&&i!==void 0?i:$_;return s>1?(pe(Array.isArray(n),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",s),n.map((a,l)=>o(a,r*s+l)).join(":")):o(n,r)},this._renderer=(n,r,i,s,o)=>{var a=ko(s),l=h=>n?R.createElement(n,h):r?r(h):null,u=h=>{if(a>1){var d=h.item,f=h.index;return pe(Array.isArray(d),"Expected array of items with numColumns > 1"),R.createElement(q,{style:[g6.row,i]},d.map((p,g)=>{var S=l({item:p,index:f*a+g,separators:h.separators});return S!=null?R.createElement(R.Fragment,{key:g},S):null}))}else return l(h)};return n?{ListItemComponent:u}:{renderItem:u}},this._memoizedRenderer=h6(this._renderer),this._checkProps(this.props),this.props.viewabilityConfigCallbackPairs?this._virtualizedListPairs=this.props.viewabilityConfigCallbackPairs.map(n=>({viewabilityConfig:n.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(n.onViewableItemsChanged)})):this.props.onViewableItemsChanged&&this._virtualizedListPairs.push({viewabilityConfig:this.props.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(this.props.onViewableItemsChanged)})}componentDidUpdate(e){pe(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),pe(e.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),pe(!v3(e.viewabilityConfig,this.props.viewabilityConfig),"Changing viewabilityConfig on the fly is not supported"),pe(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(this.props)}_checkProps(e){var n=e.getItem,r=e.getItemCount,i=e.horizontal,s=e.columnWrapperStyle,o=e.onViewableItemsChanged,a=e.viewabilityConfigCallbackPairs,l=ko(this.props.numColumns);pe(!n&&!r,"FlatList does not support custom data formats."),l>1?pe(!i,"numColumns does not support horizontal."):pe(!s,"columnWrapperStyle not supported for single column lists"),pe(!(o&&a),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}_pushMultiColumnViewable(e,n){var r,i=ko(this.props.numColumns),s=(r=this.props.keyExtractor)!==null&&r!==void 0?r:$_;n.item.forEach((o,a)=>{pe(n.index!=null,"Missing index!");var l=n.index*i+a;e.push(me(me({},n),{},{item:o,key:s(o,l),index:l}))})}_createOnViewableItemsChanged(e){return n=>{var r=ko(this.props.numColumns);if(e)if(r>1){var i=[],s=[];n.viewableItems.forEach(o=>this._pushMultiColumnViewable(s,o)),n.changed.forEach(o=>this._pushMultiColumnViewable(i,o)),e({viewableItems:s,changed:i})}else e(n)}}render(){var e=this.props,n=e.numColumns,r=e.columnWrapperStyle,i=e.removeClippedSubviews,s=e.strictMode,o=s===void 0?!1:s,a=Rn(e,d6),l=o?this._memoizedRenderer:this._renderer;return R.createElement(Xn,tn({},a,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:f6(i)},l(this.props.ListItemComponent,this.props.renderItem,r,n,this.props.extraData)))}}var g6=Ie.create({row:{flexDirection:"row"}}),y6=[];function iO(t){return y6[t-1]}var v6=/^data:/;class Ln{static has(e){var n=Ln._entries,r=v6.test(e);return r||!!n[e]}static add(e){var n=Ln._entries,r=Date.now();n[e]?(n[e].lastUsedTimestamp=r,n[e].refCount+=1):n[e]={lastUsedTimestamp:r,refCount:1}}static remove(e){var n=Ln._entries;n[e]&&(n[e].refCount-=1),Ln._cleanUpIfNeeded()}static _cleanUpIfNeeded(){var e=Ln._entries,n=Object.keys(e);if(n.length+1>Ln._maximumEntries){var r,i;n.forEach(s=>{var o=e[s];(!i||o.lastUsedTimestamp<i.lastUsedTimestamp)&&o.refCount===0&&(r=s,i=o)}),r&&delete e[r]}}}Ln._maximumEntries=256;Ln._entries={};var ky=0,Xd={},Yr={abort(t){var e=Xd[""+t];e&&(e.onerror=null,e.onload=null,e=null,delete Xd[""+t])},getSize(t,e,n){var r=!1,i=setInterval(o,16),s=Yr.load(t,o,a);function o(){var l=Xd[""+s];if(l){var u=l.naturalHeight,h=l.naturalWidth;u&&h&&(e(h,u),r=!0)}r&&(Yr.abort(s),clearInterval(i))}function a(){typeof n=="function"&&n(),Yr.abort(s),clearInterval(i)}},has(t){return Ln.has(t)},load(t,e,n){ky+=1;var r=new window.Image;return r.onerror=n,r.onload=i=>{var s=()=>e({nativeEvent:i});typeof r.decode=="function"?r.decode().then(s,s):setTimeout(s,0)},r.src=t,Xd[""+ky]=r,ky},prefetch(t){return new Promise((e,n)=>{Yr.load(t,()=>{Ln.add(t),Ln.remove(t),e()},n)})},queryCache(t){var e={};return t.forEach(n=>{Ln.has(n)&&(e[n]="disk/memory")}),Promise.resolve(e)}};class xc{static get(){return Np.get("window").scale}static getFontScale(){return Np.get("window").fontScale||xc.get()}static getPixelSizeForLayoutSize(e){return Math.round(e*xc.get())}static roundToNearestPixel(e){var n=xc.get();return Math.round(e*n)/n}}var _6=["aria-label","accessibilityLabel","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"],w6="ERRORED",Oy="LOADED",nC="LOADING",S6="IDLE",E6=0,T6=/^(data:image\/svg\+xml;utf8,)(.*)/;function b6(t,e){return t&&e!=null?R.createElement("svg",{style:{position:"absolute",height:0,visibility:"hidden",width:0}},R.createElement("defs",null,R.createElement("filter",{id:"tint-"+e,suppressHydrationWarning:!0},R.createElement("feFlood",{floodColor:""+t,key:t}),R.createElement("feComposite",{in2:"SourceAlpha",operator:"in"})))):null}function R6(t,e,n,r){var i=Ie.flatten(t),s=i.filter,o=i.resizeMode,a=i.shadowOffset,l=i.tintColor;i.resizeMode,i.tintColor;var u=[],h=null;if(s&&u.push(s),e&&u.push("blur("+e+"px)"),a){var d=Nk(i);d&&u.push("drop-shadow("+d+")")}return(r||l)&&n!=null&&u.push("url(#tint-"+n+")"),u.length>0&&(h=u.join(" ")),[o,h,l]}function C6(t){if(typeof t=="number"){var e=iO(t),n=e.height,r=e.width;return{height:n,width:r}}else if(t!=null&&!Array.isArray(t)&&typeof t=="object"){var i=t.height,s=t.width;return{height:i,width:s}}}function Dy(t){var e=null;if(typeof t=="number"){var n=iO(t);if(n==null)throw new Error('Image: asset with ID "'+t+'" could not be found. Please check the image source or packager.');var r=n.scales[0];if(n.scales.length>1){var i=xc.get();r=n.scales.reduce((h,d)=>Math.abs(d-i)<Math.abs(h-i)?d:h)}var s=r!==1?"@"+r+"x":"";e=n?n.httpServerLocation+"/"+n.name+s+"."+n.type:""}else typeof t=="string"?e=t:t&&typeof t.uri=="string"&&(e=t.uri);if(e){var o=e.match(T6);if(o){var a=o[1],l=o[2],u=encodeURIComponent(l);return""+a+u}}return e}var sO=R.forwardRef((t,e)=>{var n=t["aria-label"],r=t.accessibilityLabel,i=t.blurRadius,s=t.defaultSource,o=t.draggable,a=t.onError,l=t.onLayout,u=t.onLoad,h=t.onLoadEnd,d=t.onLoadStart,f=t.pointerEvents,p=t.source,g=t.style,S=Rn(t,_6),T=n||r,v=R.useState(()=>{var Ue=Dy(p);if(Ue!=null){var xt=Yr.has(Ue);if(xt)return Oy}return S6}),y=v[0],E=v[1],A=R.useState({}),M=A[0],D=A[1],b=R.useContext(Lp),w=R.useRef(null),C=R.useRef(E6++),I=R.useRef(null),x=y===Oy||y===nC&&s==null,L=R6(g,i,C.current,t.tintColor),k=L[0],le=L[1],de=L[2],Le=t.resizeMode||k||"cover",Re=t.tintColor||de,U=x?p:s,Y=Dy(U),ee=C6(U),ye=Y?'url("'+Y+'")':null,xe=rt(),rn=Y?Jl("img",{alt:T||"",style:zu.accessibilityImage$raw,draggable:o||!1,ref:w,src:Y}):null;function rt(){if(w.current!=null&&(Le==="center"||Le==="repeat")){var Ue=w.current,xt=Ue.naturalHeight,Cn=Ue.naturalWidth,pi=M.height,Zi=M.width;if(xt&&Cn&&pi&&Zi){var ur=Math.min(1,Zi/Cn,pi/xt),Dr=Math.ceil(ur*Cn),Hn=Math.ceil(ur*xt);return Dr+"px "+Hn+"px"}}}function Nt(Ue){if(Le==="center"||Le==="repeat"||l){var xt=Ue.nativeEvent.layout;l&&l(Ue),D(xt)}}var ct=Dy(p);return R.useEffect(()=>{Ue(),ct!=null&&(E(nC),d&&d(),I.current=Yr.load(ct,function(Cn){E(Oy),u&&u(Cn),h&&h()},function(){E(w6),a&&a({nativeEvent:{error:"Failed to load resource "+ct}}),h&&h()}));function Ue(){I.current!=null&&(Yr.abort(I.current),I.current=null)}return Ue},[ct,I,E,a,u,h,d]),R.createElement(q,tn({},S,{"aria-label":T,onLayout:Nt,pointerEvents:f,ref:e,style:[zu.root,b&&zu.inline,ee,g,zu.undo,{boxShadow:null}]}),R.createElement(q,{style:[zu.image,I6[Le],{backgroundImage:ye,filter:le},xe!=null&&{backgroundSize:xe}],suppressHydrationWarning:!0}),rn,b6(Re,C.current))});sO.displayName="Image";var ci=sO;ci.getSize=function(t,e,n){Yr.getSize(t,e,n)};ci.prefetch=function(t){return Yr.prefetch(t)};ci.queryCache=function(t){return Yr.queryCache(t)};var zu=Ie.create({root:{flexBasis:"auto",overflow:"hidden",zIndex:0},inline:{display:"inline-flex"},undo:{blurRadius:null,shadowColor:null,shadowOpacity:null,shadowOffset:null,shadowRadius:null,tintColor:null,overlayColor:null,resizeMode:null},image:me(me({},Ie.absoluteFillObject),{},{backgroundColor:"transparent",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",width:"100%",zIndex:-1}),accessibilityImage$raw:me(me({},Ie.absoluteFillObject),{},{height:"100%",opacity:0,width:"100%",zIndex:-1})}),I6=Ie.create({center:{backgroundSize:"auto"},contain:{backgroundSize:"contain"},cover:{backgroundSize:"cover"},none:{backgroundPosition:"0",backgroundSize:"auto"},repeat:{backgroundPosition:"0",backgroundRepeat:"repeat",backgroundSize:"auto"},stretch:{backgroundSize:"100% 100%"}}),x6=["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"],A6=Object.assign({},lS,uS,cS,hS,dS,fS,pS,mS,{href:!0,lang:!0,pointerEvents:!0}),P6=t=>gS(t,A6),H=R.forwardRef((t,e)=>{var n=t.hrefAttrs,r=t.numberOfLines,i=t.onClick,s=t.onLayout,o=t.onPress,a=t.onMoveShouldSetResponder,l=t.onMoveShouldSetResponderCapture,u=t.onResponderEnd,h=t.onResponderGrant,d=t.onResponderMove,f=t.onResponderReject,p=t.onResponderRelease,g=t.onResponderStart,S=t.onResponderTerminate,T=t.onResponderTerminationRequest,v=t.onScrollShouldSetResponder,y=t.onScrollShouldSetResponderCapture,E=t.onSelectionChangeShouldSetResponder,A=t.onSelectionChangeShouldSetResponderCapture,M=t.onStartShouldSetResponder,D=t.onStartShouldSetResponderCapture,b=t.selectable,w=Rn(t,x6),C=R.useContext(Lp),I=R.useRef(null),x=aS(),L=x.direction;yS(I,s),wS(I,{onMoveShouldSetResponder:a,onMoveShouldSetResponderCapture:l,onResponderEnd:u,onResponderGrant:h,onResponderMove:d,onResponderReject:f,onResponderRelease:p,onResponderStart:g,onResponderTerminate:S,onResponderTerminationRequest:T,onScrollShouldSetResponder:v,onScrollShouldSetResponderCapture:y,onSelectionChangeShouldSetResponder:E,onSelectionChangeShouldSetResponderCapture:A,onStartShouldSetResponder:M,onStartShouldSetResponderCapture:D});var k=R.useCallback(Nt=>{i!=null?i(Nt):o!=null&&(Nt.stopPropagation(),o(Nt))},[i,o]),le=C?"span":"div",de=t.lang!=null?qm(t.lang):null,Le=t.dir||de,Re=Le||L,U=P6(w);if(U.dir=Le,C||(U.dir=Le??"auto"),(i||o)&&(U.onClick=k),U.style=[r!=null&&r>1&&{WebkitLineClamp:r},C===!0?Oo.textHasAncestor$raw:Oo.text$raw,r===1&&Oo.textOneLine,r!=null&&r>1&&Oo.textMultiLine,t.style,b===!0&&Oo.selectable,b===!1&&Oo.notSelectable,o&&Oo.pressable],t.href!=null&&(le="a",n!=null)){var Y=n.download,ee=n.rel,ye=n.target;Y!=null&&(U.download=Y),ee!=null&&(U.rel=ee),typeof ye=="string"&&(U.target=ye.charAt(0)!=="_"?"_"+ye:ye)}var xe=vS(U),rn=Mh(I,xe,e);U.ref=rn;var rt=Jl(le,U,{writingDirection:Re});return C?rt:R.createElement(Lp.Provider,{value:!0},rt)});H.displayName="Text";var rC={backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",listStyle:"none",margin:0,padding:0,position:"relative",textAlign:"start",textDecoration:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},Oo=Ie.create({text$raw:rC,textHasAncestor$raw:me(me({},rC),{},{color:"inherit",font:"inherit",textAlign:"inherit",whiteSpace:"inherit"}),textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}}),k6=["animating","color","hidesWhenStopped","size","style"],iC=t=>R.createElement("circle",{cx:"16",cy:"16",fill:"none",r:"14",strokeWidth:"4",style:t}),Lh=R.forwardRef((t,e)=>{var n=t.animating,r=n===void 0?!0:n,i=t.color,s=i===void 0?"#1976D2":i,o=t.hidesWhenStopped,a=o===void 0?!0:o,l=t.size,u=l===void 0?"small":l,h=t.style,d=Rn(t,k6),f=R.createElement("svg",{height:"100%",viewBox:"0 0 32 32",width:"100%"},iC({stroke:s,opacity:.2}),iC({stroke:s,strokeDasharray:80,strokeDashoffset:60}));return R.createElement(q,tn({},d,{"aria-valuemax":1,"aria-valuemin":0,ref:e,role:"progressbar",style:[Yd.container,h]}),R.createElement(q,{children:f,style:[typeof u=="number"?{height:u,width:u}:O6[u],Yd.animation,!r&&Yd.animationPause,!r&&a&&Yd.hidesWhenStopped]}))});Lh.displayName="ActivityIndicator";var Yd=Ie.create({container:{alignItems:"center",justifyContent:"center"},hidesWhenStopped:{visibility:"hidden"},animation:{animationDuration:"0.75s",animationKeyframes:[{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}],animationTimingFunction:"linear",animationIterationCount:"infinite"},animationPause:{animationPlayState:"paused"}}),O6=Ie.create({small:{width:20,height:20},large:{width:36,height:36}}),sC="DELAY",vr="ERROR",oC="LONG_PRESS_DETECTED",an="NOT_RESPONDER",jl="RESPONDER_ACTIVE_LONG_PRESS_START",Xm="RESPONDER_ACTIVE_PRESS_START",z_="RESPONDER_INACTIVE_PRESS_START",D6="RESPONDER_GRANT",Lf="RESPONDER_RELEASE",oO="RESPONDER_TERMINATED",aC=Object.freeze({NOT_RESPONDER:{DELAY:vr,RESPONDER_GRANT:z_,RESPONDER_RELEASE:vr,RESPONDER_TERMINATED:vr,LONG_PRESS_DETECTED:vr},RESPONDER_INACTIVE_PRESS_START:{DELAY:Xm,RESPONDER_GRANT:vr,RESPONDER_RELEASE:an,RESPONDER_TERMINATED:an,LONG_PRESS_DETECTED:vr},RESPONDER_ACTIVE_PRESS_START:{DELAY:vr,RESPONDER_GRANT:vr,RESPONDER_RELEASE:an,RESPONDER_TERMINATED:an,LONG_PRESS_DETECTED:jl},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:vr,RESPONDER_GRANT:vr,RESPONDER_RELEASE:an,RESPONDER_TERMINATED:an,LONG_PRESS_DETECTED:jl},ERROR:{DELAY:an,RESPONDER_GRANT:z_,RESPONDER_RELEASE:an,RESPONDER_TERMINATED:an,LONG_PRESS_DETECTED:an}}),aO=t=>t.getAttribute("role"),W_=t=>t.tagName.toLowerCase(),lC=t=>t===Xm||t===jl,Nf=t=>aO(t)==="button",uC=t=>t===z_||t===Xm||t===jl,M6=t=>t===oO||t===Lf,cC=t=>{var e=t.key,n=t.target,r=e===" "||e==="Spacebar",i=W_(n)==="button"||Nf(n);return e==="Enter"||r&&i},L6=450,N6=50;class V6{constructor(e){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=an,this._responderElement=null,this.configure(e)}configure(e){this._config=e}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return this._eventHandlers==null&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var e=(i,s)=>{i.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=an,this._isPointerTouch=i.nativeEvent.type==="touchstart",this._receiveSignal(D6,i);var o=My(this._config.delayPressStart,0,N6);s!==!1&&o>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(sC,i)},o):this._receiveSignal(sC,i);var a=My(this._config.delayLongPress,10,L6);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(i)},a+o)},n=i=>{this._receiveSignal(Lf,i)},r=i=>{var s=this._config.onPress,o=i.target;if(this._touchState!==an&&cC(i)){n(i),document.removeEventListener("keyup",r);var a=o.getAttribute("role"),l=W_(o),u=a==="link"||l==="a"||l==="button"||l==="input"||l==="select"||l==="textarea",h=this._responderElement===o;s!=null&&!u&&h&&s(i),this._responderElement=null}};return{onStartShouldSetResponder:i=>{var s=this._config.disabled;return s&&Nf(i.currentTarget)&&i.stopPropagation(),s==null?!0:!s},onKeyDown:i=>{var s=this._config.disabled,o=i.key,a=i.target;if(!s&&cC(i)){this._touchState===an&&(e(i,!1),this._responderElement=a,document.addEventListener("keyup",r));var l=o===" "||o==="Spacebar",u=aO(a),h=u==="button"||u==="menuitem";l&&h&&W_(a)!=="button"&&i.preventDefault(),i.stopPropagation()}},onResponderGrant:i=>e(i),onResponderMove:i=>{this._config.onPressMove!=null&&this._config.onPressMove(i);var s=hC(i);if(this._touchActivatePosition!=null){var o=this._touchActivatePosition.pageX-s.pageX,a=this._touchActivatePosition.pageY-s.pageY;Math.hypot(o,a)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:i=>n(i),onResponderTerminate:i=>{i.nativeEvent.type==="selectionchange"&&(this._selectionTerminated=!0),this._receiveSignal(oO,i)},onResponderTerminationRequest:i=>{var s=this._config,o=s.cancelable,a=s.disabled,l=s.onLongPress;return!a&&l!=null&&this._isPointerTouch&&i.nativeEvent.type==="contextmenu"?!1:o??!0},onClick:i=>{var s=this._config,o=s.disabled,a=s.onPress;o?Nf(i.currentTarget)&&i.stopPropagation():(i.stopPropagation(),this._longPressDispatched||this._selectionTerminated?i.preventDefault():a!=null&&i.altKey===!1&&a(i))},onContextMenu:i=>{var s=this._config,o=s.disabled,a=s.onLongPress;o?Nf(i.currentTarget)&&i.stopPropagation():a!=null&&this._isPointerTouch&&!i.defaultPrevented&&(i.preventDefault(),i.stopPropagation())}}}_receiveSignal(e,n){var r=this._touchState,i=null;aC[r]!=null&&(i=aC[r][e]),!(this._touchState===an&&e===Lf)&&(i==null||i===vr?console.error("PressResponder: Invalid signal "+e+" for state "+r+" on responder"):r!==i&&(this._performTransitionSideEffects(r,i,e,n),this._touchState=i))}_performTransitionSideEffects(e,n,r,i){if(M6(r)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),uC(e)&&r===oC){var s=this._config.onLongPress;s!=null&&i.nativeEvent.key==null&&(s(i),this._longPressDispatched=!0)}var o=lC(e),a=lC(n);if(!o&&a?this._activate(i):o&&!a&&this._deactivate(i),uC(e)&&r===Lf){var l=this._config,u=l.onLongPress,h=l.onPress;if(h!=null){var d=u!=null&&e===jl;d||!a&&!o&&(this._activate(i),this._deactivate(i))}}this._cancelPressDelayTimeout()}_activate(e){var n=this._config,r=n.onPressChange,i=n.onPressStart,s=hC(e);this._touchActivatePosition={pageX:s.pageX,pageY:s.pageY},i!=null&&i(e),r!=null&&r(!0)}_deactivate(e){var n=this._config,r=n.onPressChange,i=n.onPressEnd;function s(){i!=null&&i(e),r!=null&&r(!1)}var o=My(this._config.delayPressEnd);o>0?this._pressOutDelayTimeout=setTimeout(()=>{s()},o):s()}_handleLongPress(e){(this._touchState===Xm||this._touchState===jl)&&this._receiveSignal(oC,e)}_cancelLongPressDelayTimeout(){this._longPressDelayTimeout!=null&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){this._pressDelayTimeout!=null&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){this._pressOutDelayTimeout!=null&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}function My(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=0),Math.max(e,t??n)}function hC(t){var e=t.nativeEvent,n=e.changedTouches,r=e.touches;return r!=null&&r.length>0?r[0]:n!=null&&n.length>0?n[0]:t.nativeEvent}function F6(t,e){var n=R.useRef(null);n.current==null&&(n.current=new V6(e));var r=n.current;return R.useEffect(()=>{r.configure(e)},[e,r]),R.useEffect(()=>()=>{r.reset()},[r]),R.useDebugValue(e),r.getEventHandlers()}var B6=["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"];function j6(t,e){var n=t.activeOpacity,r=t.delayPressIn,i=t.delayPressOut,s=t.delayLongPress,o=t.disabled,a=t.focusable,l=t.onLongPress,u=t.onPress,h=t.onPressIn,d=t.onPressOut,f=t.rejectResponderTermination,p=t.style,g=Rn(t,B6),S=R.useRef(null),T=Mh(e,S),v=R.useState("0s"),y=v[0],E=v[1],A=R.useState(null),M=A[0],D=A[1],b=R.useCallback((L,k)=>{D(L),E(k?k/1e3+"s":"0s")},[D,E]),w=R.useCallback(L=>{b(n??.2,L)},[n,b]),C=R.useCallback(L=>{b(null,L)},[b]),I=R.useMemo(()=>({cancelable:!f,disabled:o,delayLongPress:s,delayPressStart:r,delayPressEnd:i,onLongPress:l,onPress:u,onPressStart(L){var k=L.dispatchConfig!=null?L.dispatchConfig.registrationName==="onResponderGrant":L.type==="keydown";w(k?0:150),h!=null&&h(L)},onPressEnd(L){C(250),d!=null&&d(L)}}),[s,r,i,o,l,u,h,d,f,w,C]),x=F6(S,I);return R.createElement(q,tn({},g,x,{accessibilityDisabled:o,focusable:!o&&a!==!1,pointerEvents:o?"box-none":void 0,ref:T,style:[dC.root,!o&&dC.actionable,p,M!=null&&{opacity:M},{transitionDuration:y}]}))}var dC=Ie.create({root:{transitionProperty:"opacity",transitionDuration:"0.15s",userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),be=R.memo(R.forwardRef(j6));be.displayName="TouchableOpacity";function U6(t){var e=t.children,n=R.useRef(null);if(Ct&&!n.current){var r=document.createElement("div");r&&document.body&&(document.body.appendChild(r),n.current=r)}return R.useEffect(()=>{if(Ct)return()=>{document.body&&n.current&&(document.body.removeChild(n.current),n.current=null)}},[]),n.current&&Ct?aj.createPortal(e,n.current):null}var fC=300;function $6(t,e){return t==="slide"?e?W6:H6:t==="fade"?e?q6:K6:e?hn.container:hn.hidden}function z6(t){var e=t.animationType,n=t.children,r=t.onDismiss,i=t.onShow,s=t.visible,o=R.useState(!1),a=o[0],l=o[1],u=R.useRef(!1),h=R.useRef(!1),d=e&&e!=="none",f=R.useCallback(p=>{p&&p.currentTarget!==p.target||(s?i&&i():l(!1))},[i,s]);return R.useEffect(()=>{h.current&&!a&&r&&r(),h.current=a},[a,r]),R.useEffect(()=>{s&&l(!0),s!==u.current&&!d&&f(),u.current=s},[d,s,f]),a||s?Jl("div",{style:a?$6(e,s):hn.hidden,onAnimationEnd:f,children:n}):null}var hn=Ie.create({container:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:9999},animatedIn:{animationDuration:fC+"ms",animationTimingFunction:"ease-in"},animatedOut:{pointerEvents:"none",animationDuration:fC+"ms",animationTimingFunction:"ease-out"},fadeIn:{opacity:1,animationKeyframes:{"0%":{opacity:0},"100%":{opacity:1}}},fadeOut:{opacity:0,animationKeyframes:{"0%":{opacity:1},"100%":{opacity:0}}},slideIn:{transform:"translateY(0%)",animationKeyframes:{"0%":{transform:"translateY(100%)"},"100%":{transform:"translateY(0%)"}}},slideOut:{transform:"translateY(100%)",animationKeyframes:{"0%":{transform:"translateY(0%)"},"100%":{transform:"translateY(100%)"}}},hidden:{opacity:0}}),W6=[hn.container,hn.animatedIn,hn.slideIn],H6=[hn.container,hn.animatedOut,hn.slideOut],q6=[hn.container,hn.animatedIn,hn.fadeIn],K6=[hn.container,hn.animatedOut,hn.fadeOut],G6=["active","children","onRequestClose","transparent"],X6=R.forwardRef((t,e)=>{var n=t.active,r=t.children,i=t.onRequestClose,s=t.transparent,o=Rn(t,G6);R.useEffect(()=>{if(Ct){var l=u=>{n&&u.key==="Escape"&&(u.stopPropagation(),i&&i())};return document.addEventListener("keyup",l,!1),()=>document.removeEventListener("keyup",l,!1)}},[n,i]);var a=R.useMemo(()=>[Qd.modal,s?Qd.modalTransparent:Qd.modalOpaque],[s]);return R.createElement(q,tn({},o,{"aria-modal":!0,ref:e,role:n?"dialog":null,style:a}),R.createElement(q,{style:Qd.container},r))}),Qd=Ie.create({modal:{position:"fixed",top:0,right:0,bottom:0,left:0},modalTransparent:{backgroundColor:"transparent"},modalOpaque:{backgroundColor:"white"},container:{top:0,flex:1}}),pC=()=>Jl("div",{role:"none",tabIndex:0,style:Q6.focusBracket});function lO(t){if(!Ct)return!1;try{t.focus()}catch{}return document.activeElement===t}function uO(t){for(var e=0;e<t.childNodes.length;e++){var n=t.childNodes[e];if(lO(n)||uO(n))return!0}return!1}function cO(t){for(var e=t.childNodes.length-1;e>=0;e--){var n=t.childNodes[e];if(lO(n)||cO(n))return!0}return!1}var Y6=t=>{var e=t.active,n=t.children,r=R.useRef(),i=R.useRef({trapFocusInProgress:!1,lastFocusedElement:null});return R.useEffect(()=>{if(Ct){var s=()=>{if(!(r.current==null||i.current.trapFocusInProgress||!e)){try{if(i.current.trapFocusInProgress=!0,document.activeElement instanceof Node&&!r.current.contains(document.activeElement)){var o=uO(r.current);i.current.lastFocusedElement===document.activeElement&&(o=cO(r.current)),!o&&r.current!=null&&document.activeElement&&Oi.focus(r.current)}}finally{i.current.trapFocusInProgress=!1}i.current.lastFocusedElement=document.activeElement}};return s(),document.addEventListener("focus",s,!0),()=>document.removeEventListener("focus",s,!0)}},[e]),R.useEffect(function(){if(Ct){var s=document.activeElement;return function(){s&&document.contains(s)&&Oi.focus(s)}}},[]),R.createElement(R.Fragment,null,R.createElement(pC,null),R.createElement(q,{ref:r},n),R.createElement(pC,null))},Q6=Ie.create({focusBracket:{outlineStyle:"none"}}),J6=["animationType","children","onDismiss","onRequestClose","onShow","transparent","visible"],Z6=0,Ho=[],Il={};function hO(){if(Ho.length!==0){var t=Ho[Ho.length-1];Ho.forEach(e=>{e in Il&&Il[e](e===t)})}}function H_(t){t in Il&&(Il[t](!1),delete Il[t]);var e=Ho.indexOf(t);e!==-1&&(Ho.splice(e,1),hO())}function e5(t,e){H_(t),Ho.push(t),Il[t]=e,hO()}var ch=R.forwardRef((t,e)=>{var n=t.animationType,r=t.children,i=t.onDismiss,s=t.onRequestClose,o=t.onShow,a=t.transparent,l=t.visible,u=l===void 0?!0:l,h=Rn(t,J6),d=R.useMemo(()=>Z6++,[]),f=R.useState(!1),p=f[0],g=f[1],S=R.useCallback(()=>{H_(d),i&&i()},[d,i]),T=R.useCallback(()=>{e5(d,g),o&&o()},[d,o]);return R.useEffect(()=>()=>H_(d),[d]),R.createElement(U6,null,R.createElement(z6,{animationType:n,onDismiss:S,onShow:T,visible:u},R.createElement(Y6,{active:p},R.createElement(X6,tn({},h,{active:p,onRequestClose:s,ref:e,transparent:a}),r))))}),t5=(t,e)=>{var n=t.selectionEnd,r=t.selectionStart,i=e.start,s=e.end;return i!==r||s!==n},mC=(t,e)=>{if(t5(t,e)){var n=e.start,r=e.end;try{t.setSelectionRange(n,r||n)}catch{}}},n5=Object.assign({},lS,uS,cS,hS,dS,fS,pS,mS,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0}),r5=t=>gS(t,n5);function i5(t){return t.isComposing||t.keyCode===229}var Ly=null,Un=R.forwardRef((t,e)=>{var n=t.autoCapitalize,r=n===void 0?"sentences":n,i=t.autoComplete,s=t.autoCompleteType,o=t.autoCorrect,a=o===void 0?!0:o,l=t.blurOnSubmit,u=t.caretHidden,h=t.clearTextOnFocus,d=t.dir,f=t.editable,p=t.enterKeyHint,g=t.inputMode,S=t.keyboardType,T=t.multiline,v=T===void 0?!1:T,y=t.numberOfLines,E=t.onBlur,A=t.onChange,M=t.onChangeText,D=t.onContentSizeChange,b=t.onFocus,w=t.onKeyPress,C=t.onLayout,I=t.onMoveShouldSetResponder,x=t.onMoveShouldSetResponderCapture,L=t.onResponderEnd,k=t.onResponderGrant,le=t.onResponderMove,de=t.onResponderReject,Le=t.onResponderRelease,Re=t.onResponderStart,U=t.onResponderTerminate,Y=t.onResponderTerminationRequest,ee=t.onScrollShouldSetResponder,ye=t.onScrollShouldSetResponderCapture,xe=t.onSelectionChange,rn=t.onSelectionChangeShouldSetResponder,rt=t.onSelectionChangeShouldSetResponderCapture,Nt=t.onStartShouldSetResponder,ct=t.onStartShouldSetResponderCapture,Ue=t.onSubmitEditing,xt=t.placeholderTextColor,Cn=t.readOnly,pi=Cn===void 0?!1:Cn,Zi=t.returnKeyType,ur=t.rows,Dr=t.secureTextEntry,Hn=Dr===void 0?!1:Dr,yo=t.selection,es=t.selectTextOnFocus,vo=t.showSoftInputOnFocus,ts=t.spellCheck,Pe,Xe;if(g!=null)Xe=g,g==="email"?Pe="email":g==="tel"?Pe="tel":g==="search"?Pe="search":g==="url"?Pe="url":Pe="text";else if(S!=null)switch(S){case"email-address":Pe="email";break;case"number-pad":case"numeric":Xe="numeric";break;case"decimal-pad":Xe="decimal";break;case"phone-pad":Pe="tel";break;case"search":case"web-search":Pe="search";break;case"url":Pe="url";break;default:Pe="text"}Hn&&(Pe="password");var In=R.useRef({height:null,width:null}),qn=R.useRef(null),ns=R.useRef(null),_o=R.useRef(!1);R.useEffect(()=>{qn.current&&ns.current&&mC(qn.current,ns.current),_o.current=Hn},[Hn]);var cr=R.useCallback(J=>{if(v&&D&&J!=null){var qe=J.scrollHeight,At=J.scrollWidth;(qe!==In.current.height||At!==In.current.width)&&(In.current.height=qe,In.current.width=At,D({nativeEvent:{contentSize:{height:In.current.height,width:In.current.width}}}))}},[v,D]),wo=R.useMemo(()=>J=>{J!=null&&(J.clear=function(){J!=null&&(J.value="")},J.isFocused=function(){return J!=null&&xi.currentlyFocusedField()===J},cr(J))},[cr]);function ba(J){xi._currentlyFocusedNode=null,E&&(J.nativeEvent.text=J.target.value,E(J))}function rs(J){var qe=J.target,At=qe.value;J.nativeEvent.text=At,cr(qe),A&&A(J),M&&M(At)}function pu(J){var qe=J.target;b&&(J.nativeEvent.text=qe.value,b(J)),qe!=null&&(xi._currentlyFocusedNode=qe,h&&(qe.value=""),es&&(Ly!=null&&clearTimeout(Ly),Ly=setTimeout(()=>{qe!=null&&document.activeElement===qe&&qe.select()},0)))}function Ra(J){var qe=J.target;J.stopPropagation();var At=!v,hr=l??At,Lr=J.nativeEvent,Pa=i5(Lr);w&&w(J),J.key==="Enter"&&!J.shiftKey&&!Pa&&!J.isDefaultPrevented()&&((l||!v)&&Ue&&(J.preventDefault(),Lr.text=J.target.value,Ue(J)),hr&&qe!=null&&setTimeout(()=>qe.blur(),0))}function Ca(J){try{var qe=J.target,At=qe.selectionStart,hr=qe.selectionEnd,Lr={start:At,end:hr};xe&&(J.nativeEvent.selection=Lr,J.nativeEvent.text=J.target.value,xe(J)),_o.current===Hn&&(ns.current=Lr)}catch{}}N_(()=>{var J=qn.current;J!=null&&yo!=null&&mC(J,yo),document.activeElement===J&&(xi._currentlyFocusedNode=J)},[qn,yo]);var So=v?"textarea":"input";yS(qn,C),wS(qn,{onMoveShouldSetResponder:I,onMoveShouldSetResponderCapture:x,onResponderEnd:L,onResponderGrant:k,onResponderMove:le,onResponderReject:de,onResponderRelease:Le,onResponderStart:Re,onResponderTerminate:U,onResponderTerminationRequest:Y,onScrollShouldSetResponder:ee,onScrollShouldSetResponderCapture:ye,onSelectionChangeShouldSetResponder:rn,onSelectionChangeShouldSetResponderCapture:rt,onStartShouldSetResponder:Nt,onStartShouldSetResponderCapture:ct});var mi=aS(),is=mi.direction,Ne=r5(t);Ne.autoCapitalize=r,Ne.autoComplete=i||s||"on",Ne.autoCorrect=a?"on":"off",Ne.dir=d!==void 0?d:"auto",Ne.enterKeyHint=p||Zi,Ne.inputMode=Xe,Ne.onBlur=ba,Ne.onChange=rs,Ne.onFocus=pu,Ne.onKeyDown=Ra,Ne.onSelect=Ca,Ne.readOnly=pi===!0||f===!1,Ne.rows=v?ur??y:1,Ne.spellCheck=ts??a,Ne.style=[{"--placeholderTextColor":xt},Ny.textinput$raw,Ny.placeholder,t.style,u&&Ny.caretHidden],Ne.type=v?void 0:Pe,Ne.virtualkeyboardpolicy=vo===!1?"manual":"auto";var Kn=vS(Ne),Ia=Mh(qn,Kn,wo,e);Ne.ref=Ia;var gi=t.lang!=null?qm(t.lang):null,xa=t.dir||gi,Mr=xa||is,Aa=Jl(So,Ne,{writingDirection:Mr});return Aa});Un.displayName="TextInput";Un.State=xi;var Ny=Ie.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gC="popstate";function s5(t={}){function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=wa(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),q_("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:hh(s))}function r(i,s){lr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return a5(e,n,r,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o5(){return Math.random().toString(36).substring(2,10)}function yC(t,e){return{usr:t.state,key:t.key,idx:e}}function q_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wa(e):e,state:n,key:e&&e.key||r||o5()}}function hh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function a5(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function d(){a="POP";let T=h(),v=T==null?null:T-u;u=T,l&&l({action:a,location:S.location,delta:v})}function f(T,v){a="PUSH";let y=q_(S.location,T,v);n&&n(y,T),u=h()+1;let E=yC(y,u),A=S.createHref(y);try{o.pushState(E,"",A)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(A)}s&&l&&l({action:a,location:S.location,delta:1})}function p(T,v){a="REPLACE";let y=q_(S.location,T,v);n&&n(y,T),u=h();let E=yC(y,u),A=S.createHref(y);o.replaceState(E,"",A),s&&l&&l({action:a,location:S.location,delta:0})}function g(T){return l5(T)}let S={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(gC,d),l=T,()=>{i.removeEventListener(gC,d),l=null}},createHref(T){return e(i,T)},createURL:g,encodeLocation(T){let v=g(T);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(T){return o.go(T)}};return S}function l5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:hh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function dO(t,e,n="/"){return u5(t,e,n,!1)}function u5(t,e,n,r){let i=typeof e=="string"?wa(e):e,s=ji(i.pathname||"/",n);if(s==null)return null;let o=fO(t);c5(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=S5(s);a=_5(o[l],u,r)}return a}function fO(t,e=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&l)return;Ze(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let d=Di([r,h.relativePath]),f=n.concat(h);o.children&&o.children.length>0&&(Ze(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),fO(o.children,e,f,d,l)),!(o.path==null&&!o.index)&&e.push({path:d,score:y5(d,o.index),routesMeta:f})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of pO(o.path))s(o,a,!0,u)}),e}function pO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=pO(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function c5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:v5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var h5=/^:[\w-]+$/,d5=3,f5=2,p5=1,m5=10,g5=-2,vC=t=>t==="*";function y5(t,e){let n=t.split("/"),r=n.length;return n.some(vC)&&(r+=g5),e&&(r+=f5),n.filter(i=>!vC(i)).reduce((i,s)=>i+(h5.test(s)?d5:s===""?p5:m5),r)}function v5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function _5(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=$p({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=$p({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Di([s,d.pathname]),pathnameBase:C5(Di([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Di([s,d.pathnameBase]))}return o}function $p(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=w5(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:d},f)=>{if(h==="*"){let g=a[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[f];return d&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function w5(t,e=!1,n=!0){lr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function S5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ji(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var E5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T5=t=>E5.test(t);function b5(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?wa(t):t,s;if(n)if(T5(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),lr(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?s=_C(n.substring(1),"/"):s=_C(n,e)}else s=e;return{pathname:s,search:I5(r),hash:x5(i)}}function _C(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mO(t){let e=R5(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function gO(t,e,n,r=!1){let i;typeof t=="string"?i=wa(t):(i={...t},Ze(!i.pathname||!i.pathname.includes("?"),Vy("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),Vy("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),Vy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=b5(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var Di=t=>t.join("/").replace(/\/\/+/g,"/"),C5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),I5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,x5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function A5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function P5(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yO=["POST","PUT","PATCH","DELETE"];new Set(yO);var k5=["GET",...yO];new Set(k5);var Zl=R.createContext(null);Zl.displayName="DataRouter";var Ym=R.createContext(null);Ym.displayName="DataRouterState";R.createContext(!1);var vO=R.createContext({isTransitioning:!1});vO.displayName="ViewTransition";var O5=R.createContext(new Map);O5.displayName="Fetchers";var D5=R.createContext(null);D5.displayName="Await";var Or=R.createContext(null);Or.displayName="Navigation";var Nh=R.createContext(null);Nh.displayName="Location";var Xi=R.createContext({outlet:null,matches:[],isDataRoute:!1});Xi.displayName="Route";var SS=R.createContext(null);SS.displayName="RouteError";function M5(t,{relative:e}={}){Ze(Vh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(Or),{hash:i,pathname:s,search:o}=Fh(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Di([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Vh(){return R.useContext(Nh)!=null}function di(){return Ze(Vh(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Nh).location}var _O="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wO(t){R.useContext(Or).static||R.useLayoutEffect(t)}function eu(){let{isDataRoute:t}=R.useContext(Xi);return t?K5():L5()}function L5(){Ze(Vh(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Zl),{basename:e,navigator:n}=R.useContext(Or),{matches:r}=R.useContext(Xi),{pathname:i}=di(),s=JSON.stringify(mO(r)),o=R.useRef(!1);return wO(()=>{o.current=!0}),R.useCallback((l,u={})=>{if(lr(o.current,_O),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=gO(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Di([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,s,i,t])}R.createContext(null);function Fh(t,{relative:e}={}){let{matches:n}=R.useContext(Xi),{pathname:r}=di(),i=JSON.stringify(mO(n));return R.useMemo(()=>gO(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function N5(t,e){return SO(t,e)}function SO(t,e,n,r,i){var y;Ze(Vh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=R.useContext(Or),{matches:o}=R.useContext(Xi),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",h=a?a.pathnameBase:"/",d=a&&a.route;{let E=d&&d.path||"";EO(u,!d||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let f=di(),p;if(e){let E=typeof e=="string"?wa(e):e;Ze(h==="/"||((y=E.pathname)==null?void 0:y.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),p=E}else p=f;let g=p.pathname||"/",S=g;if(h!=="/"){let E=h.replace(/^\//,"").split("/");S="/"+g.replace(/^\//,"").split("/").slice(E.length).join("/")}let T=dO(t,{pathname:S});lr(d||T!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),lr(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=U5(T&&T.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:Di([h,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:Di([h,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,n,r,i);return e&&v?R.createElement(Nh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},v):v}function V5(){let t=q5(),e=A5(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:s},"ErrorBoundary")," or"," ",R.createElement("code",{style:s},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,o)}var F5=R.createElement(V5,null),B5=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(Xi.Provider,{value:this.props.routeContext},R.createElement(SS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function j5({routeContext:t,match:e,children:n}){let r=R.useContext(Zl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Xi.Provider,{value:t},n)}function U5(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let h=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Ze(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let a=!1,l=-1;if(n)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=h),d.route.id){let{loaderData:f,errors:p}=n,g=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=n&&r?(h,d)=>{var f,p;r(h,{location:n.location,params:((p=(f=n.matches)==null?void 0:f[0])==null?void 0:p.params)??{},unstable_pattern:P5(n.matches),errorInfo:d})}:void 0;return s.reduceRight((h,d,f)=>{let p,g=!1,S=null,T=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,S=d.route.errorElement||F5,a&&(l<0&&f===0?(EO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,T=null):l===f&&(g=!0,T=d.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,f+1)),y=()=>{let E;return p?E=S:g?E=T:d.route.Component?E=R.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=h,R.createElement(j5,{match:d,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?R.createElement(B5,{location:n.location,revalidation:n.revalidation,component:S,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:u}):y()},null)}function ES(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $5(t){let e=R.useContext(Zl);return Ze(e,ES(t)),e}function z5(t){let e=R.useContext(Ym);return Ze(e,ES(t)),e}function W5(t){let e=R.useContext(Xi);return Ze(e,ES(t)),e}function TS(t){let e=W5(t),n=e.matches[e.matches.length-1];return Ze(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function H5(){return TS("useRouteId")}function q5(){var r;let t=R.useContext(SS),e=z5("useRouteError"),n=TS("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function K5(){let{router:t}=$5("useNavigate"),e=TS("useNavigate"),n=R.useRef(!1);return wO(()=>{n.current=!0}),R.useCallback(async(i,s={})=>{lr(n.current,_O),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var wC={};function EO(t,e,n){!e&&!wC[t]&&(wC[t]=!0,lr(!1,n))}R.memo(G5);function G5({routes:t,future:e,state:n,unstable_onError:r}){return SO(t,void 0,n,r,e)}function qa(t){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function X5({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:o}){Ze(!Vh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=R.useMemo(()=>({basename:a,navigator:i,static:s,unstable_useTransitions:o,future:{}}),[a,i,s,o]);typeof n=="string"&&(n=wa(n));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=n,g=R.useMemo(()=>{let S=ji(u,a);return S==null?null:{location:{pathname:S,search:h,hash:d,state:f,key:p},navigationType:r}},[a,u,h,d,f,p,r]);return lr(g!=null,`<Router basename="${a}"> is not able to match the URL "${u}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:R.createElement(Or.Provider,{value:l},R.createElement(Nh.Provider,{children:e,value:g}))}function Y5({children:t,location:e}){return N5(K_(t),e)}function K_(t,e=[]){let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let s=[...e,i];if(r.type===R.Fragment){n.push.apply(n,K_(r.props.children,s));return}Ze(r.type===qa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=K_(r.props.children,s)),n.push(o)}),n}var Vf="get",Ff="application/x-www-form-urlencoded";function Qm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Q5(t){return Qm(t)&&t.tagName.toLowerCase()==="button"}function J5(t){return Qm(t)&&t.tagName.toLowerCase()==="form"}function Z5(t){return Qm(t)&&t.tagName.toLowerCase()==="input"}function ez(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tz(t,e){return t.button===0&&(!e||e==="_self")&&!ez(t)}var Jd=null;function nz(){if(Jd===null)try{new FormData(document.createElement("form"),0),Jd=!1}catch{Jd=!0}return Jd}var rz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fy(t){return t!=null&&!rz.has(t)?(lr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ff}"`),null):t}function iz(t,e){let n,r,i,s,o;if(J5(t)){let a=t.getAttribute("action");r=a?ji(a,e):null,n=t.getAttribute("method")||Vf,i=Fy(t.getAttribute("enctype"))||Ff,s=new FormData(t)}else if(Q5(t)||Z5(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?ji(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Vf,i=Fy(t.getAttribute("formenctype"))||Fy(a.getAttribute("enctype"))||Ff,s=new FormData(a,t),!nz()){let{name:u,type:h,value:d}=t;if(h==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,d)}}else{if(Qm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vf,r=null,i=Ff,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sz(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ji(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function oz(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function az(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lz(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await oz(s,n);return o.links?o.links():[]}return[]}));return dz(r.flat(1).filter(az).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function SC(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var h;return n[u].pathname!==l.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var d;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function uz(t,e,{includeHydrateFallback:n}={}){return cz(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function cz(t){return[...new Set(t)]}function hz(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function dz(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(hz(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function TO(){let t=R.useContext(Zl);return bS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fz(){let t=R.useContext(Ym);return bS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var RS=R.createContext(void 0);RS.displayName="FrameworkContext";function bO(){let t=R.useContext(RS);return bS(t,"You must render this element inside a <HydratedRouter> element"),t}function pz(t,e){let n=R.useContext(RS),[r,i]=R.useState(!1),[s,o]=R.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=e,f=R.useRef(null);R.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let S=v=>{v.forEach(y=>{o(y.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return f.current&&T.observe(f.current),()=>{T.disconnect()}}},[t]),R.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let p=()=>{i(!0)},g=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Wu(a,p),onBlur:Wu(l,g),onMouseEnter:Wu(u,p),onMouseLeave:Wu(h,g),onTouchStart:Wu(d,p)}]:[!1,f,{}]}function Wu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function mz({page:t,...e}){let{router:n}=TO(),r=R.useMemo(()=>dO(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(yz,{page:t,matches:r,...e}):null}function gz(t){let{manifest:e,routeModules:n}=bO(),[r,i]=R.useState([]);return R.useEffect(()=>{let s=!1;return lz(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function yz({page:t,matches:e,...n}){let r=di(),{manifest:i,routeModules:s}=bO(),{basename:o}=TO(),{loaderData:a,matches:l}=fz(),u=R.useMemo(()=>SC(t,e,l,i,r,"data"),[t,e,l,i,r]),h=R.useMemo(()=>SC(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let g=new Set,S=!1;if(e.forEach(v=>{var E;let y=i.routes[v.route.id];!y||!y.hasLoader||(!u.some(A=>A.route.id===v.route.id)&&v.route.id in a&&((E=s[v.route.id])!=null&&E.shouldRevalidate)||y.hasClientLoader?S=!0:g.add(v.route.id))}),g.size===0)return[];let T=sz(t,o,"data");return S&&g.size>0&&T.searchParams.set("_routes",e.filter(v=>g.has(v.route.id)).map(v=>v.route.id).join(",")),[T.pathname+T.search]},[o,a,r,i,u,e,t,s]),f=R.useMemo(()=>uz(h,i),[h,i]),p=gz(h);return R.createElement(R.Fragment,null,d.map(g=>R.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),f.map(g=>R.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),p.map(({key:g,link:S})=>R.createElement("link",{key:g,nonce:n.nonce,...S})))}function vz(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var RO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RO&&(window.__reactRouterVersion="7.10.1")}catch{}function _z({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=R.useRef();i.current==null&&(i.current=s5({window:r,v5Compat:!0}));let s=i.current,[o,a]=R.useState({action:s.action,location:s.location}),l=R.useCallback(u=>{n===!1?a(u):R.startTransition(()=>a(u))},[n]);return R.useLayoutEffect(()=>s.listen(l),[s,l]),R.createElement(X5,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:n===!0})}var CO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IO=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:d,...f},p){let{basename:g,unstable_useTransitions:S}=R.useContext(Or),T=typeof u=="string"&&CO.test(u),v,y=!1;if(typeof u=="string"&&T&&(v=u,RO))try{let I=new URL(window.location.href),x=u.startsWith("//")?new URL(I.protocol+u):new URL(u),L=ji(x.pathname,g);x.origin===I.origin&&L!=null?u=L+x.search+x.hash:y=!0}catch{lr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=M5(u,{relative:i}),[A,M,D]=pz(r,f),b=Tz(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:d,unstable_useTransitions:S});function w(I){e&&e(I),I.defaultPrevented||b(I)}let C=R.createElement("a",{...f,...D,href:v||E,onClick:y||s?e:w,ref:vz(p,M),target:l,"data-discover":!T&&n==="render"?"true":void 0});return A&&!T?R.createElement(R.Fragment,null,C,R.createElement(mz,{page:E})):C});IO.displayName="Link";var wz=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},h){let d=Fh(o,{relative:u.relative}),f=di(),p=R.useContext(Ym),{navigator:g,basename:S}=R.useContext(Or),T=p!=null&&xz(d)&&a===!0,v=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,y=f.pathname,E=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(y=y.toLowerCase(),E=E?E.toLowerCase():null,v=v.toLowerCase()),E&&S&&(E=ji(E,S)||E);const A=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let M=y===v||!i&&y.startsWith(v)&&y.charAt(A)==="/",D=E!=null&&(E===v||!i&&E.startsWith(v)&&E.charAt(v.length)==="/"),b={isActive:M,isPending:D,isTransitioning:T},w=M?e:void 0,C;typeof r=="function"?C=r(b):C=[r,M?"active":null,D?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(b):s;return R.createElement(IO,{...u,"aria-current":w,className:C,ref:h,style:I,to:o,viewTransition:a},typeof l=="function"?l(b):l)});wz.displayName="NavLink";var Sz=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Vf,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:d,...f},p)=>{let{unstable_useTransitions:g}=R.useContext(Or),S=Cz(),T=Iz(a,{relative:u}),v=o.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&CO.test(a),E=A=>{if(l&&l(A),A.defaultPrevented)return;A.preventDefault();let M=A.nativeEvent.submitter,D=(M==null?void 0:M.getAttribute("formmethod"))||o,b=()=>S(M||A.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:d});g&&n!==!1?R.startTransition(()=>b()):b()};return R.createElement("form",{ref:p,method:v,action:T,onSubmit:r?l:E,...f,"data-discover":!y&&t==="render"?"true":void 0})});Sz.displayName="Form";function Ez(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xO(t){let e=R.useContext(Zl);return Ze(e,Ez(t)),e}function Tz(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_useTransitions:a}={}){let l=eu(),u=di(),h=Fh(t,{relative:s});return R.useCallback(d=>{if(tz(d,e)){d.preventDefault();let f=n!==void 0?n:hh(u)===hh(h),p=()=>l(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o});a?R.startTransition(()=>p()):p()}},[u,l,h,n,r,e,t,i,s,o,a])}var bz=0,Rz=()=>`__${String(++bz)}__`;function Cz(){let{router:t}=xO("useSubmit"),{basename:e}=R.useContext(Or),n=H5(),r=t.fetch,i=t.navigate;return R.useCallback(async(s,o={})=>{let{action:a,method:l,encType:u,formData:h,body:d}=iz(s,e);if(o.navigate===!1){let f=o.fetcherKey||Rz();await r(f,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||l,formEncType:o.encType||u,flushSync:o.flushSync})}else await i(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||l,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,e,n])}function Iz(t,{relative:e}={}){let{basename:n}=R.useContext(Or),r=R.useContext(Xi);Ze(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Fh(t||".",{relative:e})},o=di();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Di([n,s.pathname])),hh(s)}function xz(t,{relative:e}={}){let n=R.useContext(vO);Ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xO("useViewTransitionState"),i=Fh(t,{relative:e});if(!n.isTransitioning)return!1;let s=ji(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ji(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $p(i.pathname,o)!=null||$p(i.pathname,s)!=null}const Az=()=>{};var EC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Pz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},PO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[h],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Pz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new kz;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oz=function(t){const e=AO(t);return PO.encodeByteArray(e,!0)},zp=function(t){return Oz(t).replace(/\./g,"")},kO=function(t){try{return PO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=()=>Dz().__FIREBASE_DEFAULTS__,Lz=()=>{if(typeof process>"u"||typeof EC>"u")return;const t=EC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Nz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kO(t[1]);return e&&JSON.parse(e)},Jm=()=>{try{return Az()||Mz()||Lz()||Nz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OO=t=>{var e,n;return(n=(e=Jm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Vz=t=>{const e=OO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},DO=()=>{var t;return(t=Jm())==null?void 0:t.config},MO=t=>{var e;return(e=Jm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[zp(JSON.stringify(n)),zp(JSON.stringify(o)),""].join(".")}const Ac={};function jz(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ac))Ac[e]?t.emulator.push(e):t.prod.push(e);return t}function Uz(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let TC=!1;function LO(t,e){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Ac[t]===e||Ac[t]||TC)return;Ac[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=jz().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{TC=!0,o()},f}function h(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=Uz(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),S=n("learnmore"),T=document.getElementById(S)||document.createElement("a"),v=n("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const E=f.element;a(E),h(T,S);const A=u();l(y,v),E.append(y,g,T,A),document.body.appendChild(E)}s?(g.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function zz(){var e;const t=(e=Jm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kz(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Gz(){return!zz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xz(){try{return typeof indexedDB=="object"}catch{return!1}}function Yz(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz="FirebaseError";class fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Qz,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bh.prototype.create)}}class Bh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Jz(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new fi(i,a,r)}}function Jz(t,e){return t.replace(Zz,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Zz=/\{\$([^}]+)}/g;function e9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ua(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(bC(s)&&bC(o)){if(!ua(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ec(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function tc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function t9(t,e){const n=new n9(t,e);return n.subscribe.bind(n)}class n9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");r9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=By),i.error===void 0&&(i.error=By),i.complete===void 0&&(i.complete=By);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function By(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t){return t&&t._delegate?t._delegate:t}class Qs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Fz;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o9(e))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=No){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=No){return this.instances.has(e)}getOptions(e=No){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:s9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=No){return this.component?this.component.multipleInstances?e:No:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s9(t){return t===No?void 0:t}function o9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const l9={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},u9=_e.INFO,c9={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},h9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=c9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class IS{constructor(e){this.name=e,this._logLevel=u9,this._logHandler=h9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const d9=(t,e)=>e.some(n=>t instanceof n);let RC,CC;function f9(){return RC||(RC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p9(){return CC||(CC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NO=new WeakMap,G_=new WeakMap,VO=new WeakMap,jy=new WeakMap,xS=new WeakMap;function m9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Hs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NO.set(n,t)}).catch(()=>{}),xS.set(e,t),e}function g9(t){if(G_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});G_.set(t,e)}let X_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return G_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y9(t){X_=t(X_)}function v9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Uy(this),e,...n);return VO.set(r,e.sort?e.sort():[e]),Hs(r)}:p9().includes(t)?function(...e){return t.apply(Uy(this),e),Hs(NO.get(this))}:function(...e){return Hs(t.apply(Uy(this),e))}}function _9(t){return typeof t=="function"?v9(t):(t instanceof IDBTransaction&&g9(t),d9(t,f9())?new Proxy(t,X_):t)}function Hs(t){if(t instanceof IDBRequest)return m9(t);if(jy.has(t))return jy.get(t);const e=_9(t);return e!==t&&(jy.set(t,e),xS.set(e,t)),e}const Uy=t=>xS.get(t);function w9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Hs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Hs(o.result),l.oldVersion,l.newVersion,Hs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const S9=["get","getKey","getAll","getAllKeys","count"],E9=["put","add","delete","clear"],$y=new Map;function IC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($y.get(e))return $y.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=E9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||S9.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return $y.set(e,s),s}y9(t=>({...t,get:(e,n,r)=>IC(e,n)||t.get(e,n,r),has:(e,n)=>!!IC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(b9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function b9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Y_="@firebase/app",xC="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new IS("@firebase/app"),R9="@firebase/app-compat",C9="@firebase/analytics-compat",I9="@firebase/analytics",x9="@firebase/app-check-compat",A9="@firebase/app-check",P9="@firebase/auth",k9="@firebase/auth-compat",O9="@firebase/database",D9="@firebase/data-connect",M9="@firebase/database-compat",L9="@firebase/functions",N9="@firebase/functions-compat",V9="@firebase/installations",F9="@firebase/installations-compat",B9="@firebase/messaging",j9="@firebase/messaging-compat",U9="@firebase/performance",$9="@firebase/performance-compat",z9="@firebase/remote-config",W9="@firebase/remote-config-compat",H9="@firebase/storage",q9="@firebase/storage-compat",K9="@firebase/firestore",G9="@firebase/ai",X9="@firebase/firestore-compat",Y9="firebase",Q9="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="[DEFAULT]",J9={[Y_]:"fire-core",[R9]:"fire-core-compat",[I9]:"fire-analytics",[C9]:"fire-analytics-compat",[A9]:"fire-app-check",[x9]:"fire-app-check-compat",[P9]:"fire-auth",[k9]:"fire-auth-compat",[O9]:"fire-rtdb",[D9]:"fire-data-connect",[M9]:"fire-rtdb-compat",[L9]:"fire-fn",[N9]:"fire-fn-compat",[V9]:"fire-iid",[F9]:"fire-iid-compat",[B9]:"fire-fcm",[j9]:"fire-fcm-compat",[U9]:"fire-perf",[$9]:"fire-perf-compat",[z9]:"fire-rc",[W9]:"fire-rc-compat",[H9]:"fire-gcs",[q9]:"fire-gcs-compat",[K9]:"fire-fst",[X9]:"fire-fst-compat",[G9]:"fire-vertex","fire-js":"fire-js",[Y9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=new Map,Z9=new Map,J_=new Map;function AC(t,e){try{t.container.addComponent(e)}catch(n){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ca(t){const e=t.name;if(J_.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;J_.set(e,t);for(const n of Wp.values())AC(n,t);for(const n of Z9.values())AC(n,t);return!0}function Zm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new Bh("app","Firebase",eW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=Q9;function FO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Q_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw qs.create("bad-app-name",{appName:String(i)});if(n||(n=DO()),!n)throw qs.create("no-options");const s=Wp.get(i);if(s){if(ua(n,s.options)&&ua(r,s.config))return s;throw qs.create("duplicate-app",{appName:i})}const o=new a9(i);for(const l of J_.values())o.addComponent(l);const a=new tW(n,r,o);return Wp.set(i,a),a}function BO(t=Q_){const e=Wp.get(t);if(!e&&t===Q_&&DO())return FO();if(!e)throw qs.create("no-app",{appName:t});return e}function ti(t,e,n){let r=J9[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(o.join(" "));return}ca(new Qs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW="firebase-heartbeat-database",rW=1,dh="firebase-heartbeat-store";let zy=null;function jO(){return zy||(zy=w9(nW,rW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dh)}catch(n){console.warn(n)}}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),zy}async function iW(t){try{const n=(await jO()).transaction(dh),r=await n.objectStore(dh).get(UO(t));return await n.done,r}catch(e){if(e instanceof fi)Ui.warn(e.message);else{const n=qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(n.message)}}}async function PC(t,e){try{const r=(await jO()).transaction(dh,"readwrite");await r.objectStore(dh).put(e,UO(t)),await r.done}catch(n){if(n instanceof fi)Ui.warn(n.message);else{const r=qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ui.warn(r.message)}}}function UO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW=1024,oW=30;class aW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>oW){const o=cW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ui.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kC(),{heartbeatsToSend:r,unsentEntries:i}=lW(this._heartbeatsCache.heartbeats),s=zp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ui.warn(n),""}}}function kC(){return new Date().toISOString().substring(0,10)}function lW(t,e=sW){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),OC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),OC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xz()?Yz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return PC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function OC(t){return zp(JSON.stringify({version:2,heartbeats:t})).length}function cW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(t){ca(new Qs("platform-logger",e=>new T9(e),"PRIVATE")),ca(new Qs("heartbeat",e=>new aW(e),"PRIVATE")),ti(Y_,xC,t),ti(Y_,xC,"esm2020"),ti("fire-js","")}hW("");var dW="firebase",fW="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(dW,fW,"app");var DC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,$O;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,w){function C(){}C.prototype=w.prototype,b.F=w.prototype,b.prototype=new C,b.prototype.constructor=b,b.D=function(I,x,L){for(var k=Array(arguments.length-2),le=2;le<arguments.length;le++)k[le-2]=arguments[le];return w.prototype[x].apply(I,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,w,C){C||(C=0);const I=Array(16);if(typeof w=="string")for(var x=0;x<16;++x)I[x]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(x=0;x<16;++x)I[x]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=b.g[0],C=b.g[1],x=b.g[2];let L=b.g[3],k;k=w+(L^C&(x^L))+I[0]+3614090360&4294967295,w=C+(k<<7&4294967295|k>>>25),k=L+(x^w&(C^x))+I[1]+3905402710&4294967295,L=w+(k<<12&4294967295|k>>>20),k=x+(C^L&(w^C))+I[2]+606105819&4294967295,x=L+(k<<17&4294967295|k>>>15),k=C+(w^x&(L^w))+I[3]+3250441966&4294967295,C=x+(k<<22&4294967295|k>>>10),k=w+(L^C&(x^L))+I[4]+4118548399&4294967295,w=C+(k<<7&4294967295|k>>>25),k=L+(x^w&(C^x))+I[5]+1200080426&4294967295,L=w+(k<<12&4294967295|k>>>20),k=x+(C^L&(w^C))+I[6]+2821735955&4294967295,x=L+(k<<17&4294967295|k>>>15),k=C+(w^x&(L^w))+I[7]+4249261313&4294967295,C=x+(k<<22&4294967295|k>>>10),k=w+(L^C&(x^L))+I[8]+1770035416&4294967295,w=C+(k<<7&4294967295|k>>>25),k=L+(x^w&(C^x))+I[9]+2336552879&4294967295,L=w+(k<<12&4294967295|k>>>20),k=x+(C^L&(w^C))+I[10]+4294925233&4294967295,x=L+(k<<17&4294967295|k>>>15),k=C+(w^x&(L^w))+I[11]+2304563134&4294967295,C=x+(k<<22&4294967295|k>>>10),k=w+(L^C&(x^L))+I[12]+1804603682&4294967295,w=C+(k<<7&4294967295|k>>>25),k=L+(x^w&(C^x))+I[13]+4254626195&4294967295,L=w+(k<<12&4294967295|k>>>20),k=x+(C^L&(w^C))+I[14]+2792965006&4294967295,x=L+(k<<17&4294967295|k>>>15),k=C+(w^x&(L^w))+I[15]+1236535329&4294967295,C=x+(k<<22&4294967295|k>>>10),k=w+(x^L&(C^x))+I[1]+4129170786&4294967295,w=C+(k<<5&4294967295|k>>>27),k=L+(C^x&(w^C))+I[6]+3225465664&4294967295,L=w+(k<<9&4294967295|k>>>23),k=x+(w^C&(L^w))+I[11]+643717713&4294967295,x=L+(k<<14&4294967295|k>>>18),k=C+(L^w&(x^L))+I[0]+3921069994&4294967295,C=x+(k<<20&4294967295|k>>>12),k=w+(x^L&(C^x))+I[5]+3593408605&4294967295,w=C+(k<<5&4294967295|k>>>27),k=L+(C^x&(w^C))+I[10]+38016083&4294967295,L=w+(k<<9&4294967295|k>>>23),k=x+(w^C&(L^w))+I[15]+3634488961&4294967295,x=L+(k<<14&4294967295|k>>>18),k=C+(L^w&(x^L))+I[4]+3889429448&4294967295,C=x+(k<<20&4294967295|k>>>12),k=w+(x^L&(C^x))+I[9]+568446438&4294967295,w=C+(k<<5&4294967295|k>>>27),k=L+(C^x&(w^C))+I[14]+3275163606&4294967295,L=w+(k<<9&4294967295|k>>>23),k=x+(w^C&(L^w))+I[3]+4107603335&4294967295,x=L+(k<<14&4294967295|k>>>18),k=C+(L^w&(x^L))+I[8]+1163531501&4294967295,C=x+(k<<20&4294967295|k>>>12),k=w+(x^L&(C^x))+I[13]+2850285829&4294967295,w=C+(k<<5&4294967295|k>>>27),k=L+(C^x&(w^C))+I[2]+4243563512&4294967295,L=w+(k<<9&4294967295|k>>>23),k=x+(w^C&(L^w))+I[7]+1735328473&4294967295,x=L+(k<<14&4294967295|k>>>18),k=C+(L^w&(x^L))+I[12]+2368359562&4294967295,C=x+(k<<20&4294967295|k>>>12),k=w+(C^x^L)+I[5]+4294588738&4294967295,w=C+(k<<4&4294967295|k>>>28),k=L+(w^C^x)+I[8]+2272392833&4294967295,L=w+(k<<11&4294967295|k>>>21),k=x+(L^w^C)+I[11]+1839030562&4294967295,x=L+(k<<16&4294967295|k>>>16),k=C+(x^L^w)+I[14]+4259657740&4294967295,C=x+(k<<23&4294967295|k>>>9),k=w+(C^x^L)+I[1]+2763975236&4294967295,w=C+(k<<4&4294967295|k>>>28),k=L+(w^C^x)+I[4]+1272893353&4294967295,L=w+(k<<11&4294967295|k>>>21),k=x+(L^w^C)+I[7]+4139469664&4294967295,x=L+(k<<16&4294967295|k>>>16),k=C+(x^L^w)+I[10]+3200236656&4294967295,C=x+(k<<23&4294967295|k>>>9),k=w+(C^x^L)+I[13]+681279174&4294967295,w=C+(k<<4&4294967295|k>>>28),k=L+(w^C^x)+I[0]+3936430074&4294967295,L=w+(k<<11&4294967295|k>>>21),k=x+(L^w^C)+I[3]+3572445317&4294967295,x=L+(k<<16&4294967295|k>>>16),k=C+(x^L^w)+I[6]+76029189&4294967295,C=x+(k<<23&4294967295|k>>>9),k=w+(C^x^L)+I[9]+3654602809&4294967295,w=C+(k<<4&4294967295|k>>>28),k=L+(w^C^x)+I[12]+3873151461&4294967295,L=w+(k<<11&4294967295|k>>>21),k=x+(L^w^C)+I[15]+530742520&4294967295,x=L+(k<<16&4294967295|k>>>16),k=C+(x^L^w)+I[2]+3299628645&4294967295,C=x+(k<<23&4294967295|k>>>9),k=w+(x^(C|~L))+I[0]+4096336452&4294967295,w=C+(k<<6&4294967295|k>>>26),k=L+(C^(w|~x))+I[7]+1126891415&4294967295,L=w+(k<<10&4294967295|k>>>22),k=x+(w^(L|~C))+I[14]+2878612391&4294967295,x=L+(k<<15&4294967295|k>>>17),k=C+(L^(x|~w))+I[5]+4237533241&4294967295,C=x+(k<<21&4294967295|k>>>11),k=w+(x^(C|~L))+I[12]+1700485571&4294967295,w=C+(k<<6&4294967295|k>>>26),k=L+(C^(w|~x))+I[3]+2399980690&4294967295,L=w+(k<<10&4294967295|k>>>22),k=x+(w^(L|~C))+I[10]+4293915773&4294967295,x=L+(k<<15&4294967295|k>>>17),k=C+(L^(x|~w))+I[1]+2240044497&4294967295,C=x+(k<<21&4294967295|k>>>11),k=w+(x^(C|~L))+I[8]+1873313359&4294967295,w=C+(k<<6&4294967295|k>>>26),k=L+(C^(w|~x))+I[15]+4264355552&4294967295,L=w+(k<<10&4294967295|k>>>22),k=x+(w^(L|~C))+I[6]+2734768916&4294967295,x=L+(k<<15&4294967295|k>>>17),k=C+(L^(x|~w))+I[13]+1309151649&4294967295,C=x+(k<<21&4294967295|k>>>11),k=w+(x^(C|~L))+I[4]+4149444226&4294967295,w=C+(k<<6&4294967295|k>>>26),k=L+(C^(w|~x))+I[11]+3174756917&4294967295,L=w+(k<<10&4294967295|k>>>22),k=x+(w^(L|~C))+I[2]+718787259&4294967295,x=L+(k<<15&4294967295|k>>>17),k=C+(L^(x|~w))+I[9]+3951481745&4294967295,b.g[0]=b.g[0]+w&4294967295,b.g[1]=b.g[1]+(x+(k<<21&4294967295|k>>>11))&4294967295,b.g[2]=b.g[2]+x&4294967295,b.g[3]=b.g[3]+L&4294967295}r.prototype.v=function(b,w){w===void 0&&(w=b.length);const C=w-this.blockSize,I=this.C;let x=this.h,L=0;for(;L<w;){if(x==0)for(;L<=C;)i(this,b,L),L+=this.blockSize;if(typeof b=="string"){for(;L<w;)if(I[x++]=b.charCodeAt(L++),x==this.blockSize){i(this,I),x=0;break}}else for(;L<w;)if(I[x++]=b[L++],x==this.blockSize){i(this,I),x=0;break}}this.h=x,this.o+=w},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var w=1;w<b.length-8;++w)b[w]=0;w=this.o*8;for(var C=b.length-8;C<b.length;++C)b[C]=w&255,w/=256;for(this.v(b),b=Array(16),w=0,C=0;C<4;++C)for(let I=0;I<32;I+=8)b[w++]=this.g[C]>>>I&255;return b};function s(b,w){var C=a;return Object.prototype.hasOwnProperty.call(C,b)?C[b]:C[b]=w(b)}function o(b,w){this.h=w;const C=[];let I=!0;for(let x=b.length-1;x>=0;x--){const L=b[x]|0;I&&L==w||(C[x]=L,I=!1)}this.g=C}var a={};function l(b){return-128<=b&&b<128?s(b,function(w){return new o([w|0],w<0?-1:0)}):new o([b|0],b<0?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return d;if(b<0)return T(u(-b));const w=[];let C=1;for(let I=0;b>=C;I++)w[I]=b/C|0,C*=4294967296;return new o(w,0)}function h(b,w){if(b.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(b.charAt(0)=="-")return T(h(b.substring(1),w));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(w,8));let I=d;for(let L=0;L<b.length;L+=8){var x=Math.min(8,b.length-L);const k=parseInt(b.substring(L,L+x),w);x<8?(x=u(Math.pow(w,x)),I=I.j(x).add(u(k))):(I=I.j(C),I=I.add(u(k)))}return I}var d=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-T(this).m();let b=0,w=1;for(let C=0;C<this.g.length;C++){const I=this.i(C);b+=(I>=0?I:4294967296+I)*w,w*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(g(this))return"0";if(S(this))return"-"+T(this).toString(b);const w=u(Math.pow(b,6));var C=this;let I="";for(;;){const x=A(C,w).g;C=v(C,x.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(b);if(C=x,g(C))return L+I;for(;L.length<6;)L="0"+L;I=L+I}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function g(b){if(b.h!=0)return!1;for(let w=0;w<b.g.length;w++)if(b.g[w]!=0)return!1;return!0}function S(b){return b.h==-1}t.l=function(b){return b=v(this,b),S(b)?-1:g(b)?0:1};function T(b){const w=b.g.length,C=[];for(let I=0;I<w;I++)C[I]=~b.g[I];return new o(C,~b.h).add(f)}t.abs=function(){return S(this)?T(this):this},t.add=function(b){const w=Math.max(this.g.length,b.g.length),C=[];let I=0;for(let x=0;x<=w;x++){let L=I+(this.i(x)&65535)+(b.i(x)&65535),k=(L>>>16)+(this.i(x)>>>16)+(b.i(x)>>>16);I=k>>>16,L&=65535,k&=65535,C[x]=k<<16|L}return new o(C,C[C.length-1]&-2147483648?-1:0)};function v(b,w){return b.add(T(w))}t.j=function(b){if(g(this)||g(b))return d;if(S(this))return S(b)?T(this).j(T(b)):T(T(this).j(b));if(S(b))return T(this.j(T(b)));if(this.l(p)<0&&b.l(p)<0)return u(this.m()*b.m());const w=this.g.length+b.g.length,C=[];for(var I=0;I<2*w;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(let x=0;x<b.g.length;x++){const L=this.i(I)>>>16,k=this.i(I)&65535,le=b.i(x)>>>16,de=b.i(x)&65535;C[2*I+2*x]+=k*de,y(C,2*I+2*x),C[2*I+2*x+1]+=L*de,y(C,2*I+2*x+1),C[2*I+2*x+1]+=k*le,y(C,2*I+2*x+1),C[2*I+2*x+2]+=L*le,y(C,2*I+2*x+2)}for(b=0;b<w;b++)C[b]=C[2*b+1]<<16|C[2*b];for(b=w;b<2*w;b++)C[b]=0;return new o(C,0)};function y(b,w){for(;(b[w]&65535)!=b[w];)b[w+1]+=b[w]>>>16,b[w]&=65535,w++}function E(b,w){this.g=b,this.h=w}function A(b,w){if(g(w))throw Error("division by zero");if(g(b))return new E(d,d);if(S(b))return w=A(T(b),w),new E(T(w.g),T(w.h));if(S(w))return w=A(b,T(w)),new E(T(w.g),w.h);if(b.g.length>30){if(S(b)||S(w))throw Error("slowDivide_ only works with positive integers.");for(var C=f,I=w;I.l(b)<=0;)C=M(C),I=M(I);var x=D(C,1),L=D(I,1);for(I=D(I,2),C=D(C,2);!g(I);){var k=L.add(I);k.l(b)<=0&&(x=x.add(C),L=k),I=D(I,1),C=D(C,1)}return w=v(b,x.j(w)),new E(x,w)}for(x=d;b.l(w)>=0;){for(C=Math.max(1,Math.floor(b.m()/w.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),L=u(C),k=L.j(w);S(k)||k.l(b)>0;)C-=I,L=u(C),k=L.j(w);g(L)&&(L=f),x=x.add(L),b=v(b,k)}return new E(x,b)}t.B=function(b){return A(this,b).h},t.and=function(b){const w=Math.max(this.g.length,b.g.length),C=[];for(let I=0;I<w;I++)C[I]=this.i(I)&b.i(I);return new o(C,this.h&b.h)},t.or=function(b){const w=Math.max(this.g.length,b.g.length),C=[];for(let I=0;I<w;I++)C[I]=this.i(I)|b.i(I);return new o(C,this.h|b.h)},t.xor=function(b){const w=Math.max(this.g.length,b.g.length),C=[];for(let I=0;I<w;I++)C[I]=this.i(I)^b.i(I);return new o(C,this.h^b.h)};function M(b){const w=b.g.length+1,C=[];for(let I=0;I<w;I++)C[I]=b.i(I)<<1|b.i(I-1)>>>31;return new o(C,b.h)}function D(b,w){const C=w>>5;w%=32;const I=b.g.length-C,x=[];for(let L=0;L<I;L++)x[L]=w>0?b.i(L+C)>>>w|b.i(L+C+1)<<32-w:b.i(L+C);return new o(x,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$O=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Ks=o}).apply(typeof DC<"u"?DC:typeof self<"u"?self:typeof window<"u"?window:{});var Zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zO,nc,WO,Bf,Z_,HO,qO,KO;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zd=="object"&&Zd];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var _=r;c=c.split(".");for(var P=0;P<c.length-1;P++){var N=c[P];if(!(N in _))break e;_=_[N]}c=c[c.length-1],P=_[c],m=m(P),m!=P&&m!=null&&e(_,c,{configurable:!0,writable:!0,value:m})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(m){var _=[],P;for(P in m)Object.prototype.hasOwnProperty.call(m,P)&&_.push([P,m[P]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function l(c,m,_){return c.call.apply(c.bind,arguments)}function u(c,m,_){return u=l,u.apply(null,arguments)}function h(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var P=_.slice();return P.push.apply(P,arguments),c.apply(this,P)}}function d(c,m){function _(){}_.prototype=m.prototype,c.Z=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(P,N,F){for(var W=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)W[fe-2]=arguments[fe];return m.prototype[N].apply(P,W)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function p(c){const m=c.length;if(m>0){const _=Array(m);for(let P=0;P<m;P++)_[P]=c[P];return _}return[]}function g(c,m){for(let P=1;P<arguments.length;P++){const N=arguments[P];var _=typeof N;if(_=_!="object"?_:N?Array.isArray(N)?"array":_:"null",_=="array"||_=="object"&&typeof N.length=="number"){_=c.length||0;const F=N.length||0;c.length=_+F;for(let W=0;W<F;W++)c[_+W]=N[W]}else c.push(N)}}class S{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function T(c){o.setTimeout(()=>{throw c},0)}function v(){var c=b;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class y{constructor(){this.h=this.g=null}add(m,_){const P=E.get();P.set(m,_),this.h?this.h.next=P:this.g=P,this.h=P}}var E=new S(()=>new A,c=>c.reset());class A{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let M,D=!1,b=new y,w=()=>{const c=Promise.resolve(void 0);M=()=>{c.then(C)}};function C(){for(var c;c=v();){try{c.h.call(c.g)}catch(_){T(_)}var m=E;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}D=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};o.addEventListener("test",_,m),o.removeEventListener("test",_,m)}catch{}return c}();function k(c){return/^[\s\xa0]*$/.test(c)}function le(c,m){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}d(le,x),le.prototype.init=function(c,m){const _=this.type=c.type,P=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(_=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),Le=0;function Re(c,m,_,P,N){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!P,this.ha=N,this.key=++Le,this.da=this.fa=!1}function U(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Y(c,m,_){for(const P in c)m.call(_,c[P],P,c)}function ee(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function ye(c){const m={};for(const _ in c)m[_]=c[_];return m}const xe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rn(c,m){let _,P;for(let N=1;N<arguments.length;N++){P=arguments[N];for(_ in P)c[_]=P[_];for(let F=0;F<xe.length;F++)_=xe[F],Object.prototype.hasOwnProperty.call(P,_)&&(c[_]=P[_])}}function rt(c){this.src=c,this.g={},this.h=0}rt.prototype.add=function(c,m,_,P,N){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const W=ct(c,m,P,N);return W>-1?(m=c[W],_||(m.fa=!1)):(m=new Re(m,this.src,F,!!P,N),m.fa=_,c.push(m)),m};function Nt(c,m){const _=m.type;if(_ in c.g){var P=c.g[_],N=Array.prototype.indexOf.call(P,m,void 0),F;(F=N>=0)&&Array.prototype.splice.call(P,N,1),F&&(U(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ct(c,m,_,P){for(let N=0;N<c.length;++N){const F=c[N];if(!F.da&&F.listener==m&&F.capture==!!_&&F.ha==P)return N}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),xt={};function Cn(c,m,_,P,N){if(Array.isArray(m)){for(let F=0;F<m.length;F++)Cn(c,m[F],_,P,N);return null}return _=ts(_),c&&c[de]?c.J(m,_,a(P)?!!P.capture:!1,N):pi(c,m,_,!1,P,N)}function pi(c,m,_,P,N,F){if(!m)throw Error("Invalid event type");const W=a(N)?!!N.capture:!!N;let fe=es(c);if(fe||(c[Ue]=fe=new rt(c)),_=fe.add(m,_,P,W,F),_.proxy)return _;if(P=Zi(),_.proxy=P,P.src=c,P.listener=_,c.addEventListener)L||(N=W),N===void 0&&(N=!1),c.addEventListener(m.toString(),P,N);else if(c.attachEvent)c.attachEvent(Hn(m.toString()),P);else if(c.addListener&&c.removeListener)c.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Zi(){function c(_){return m.call(c.src,c.listener,_)}const m=yo;return c}function ur(c,m,_,P,N){if(Array.isArray(m))for(var F=0;F<m.length;F++)ur(c,m[F],_,P,N);else P=a(P)?!!P.capture:!!P,_=ts(_),c&&c[de]?(c=c.i,F=String(m).toString(),F in c.g&&(m=c.g[F],_=ct(m,_,P,N),_>-1&&(U(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete c.g[F],c.h--)))):c&&(c=es(c))&&(m=c.g[m.toString()],c=-1,m&&(c=ct(m,_,P,N)),(_=c>-1?m[c]:null)&&Dr(_))}function Dr(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[de])Nt(m.i,c);else{var _=c.type,P=c.proxy;m.removeEventListener?m.removeEventListener(_,P,c.capture):m.detachEvent?m.detachEvent(Hn(_),P):m.addListener&&m.removeListener&&m.removeListener(P),(_=es(m))?(Nt(_,c),_.h==0&&(_.src=null,m[Ue]=null)):U(c)}}}function Hn(c){return c in xt?xt[c]:xt[c]="on"+c}function yo(c,m){if(c.da)c=!0;else{m=new le(m,this);const _=c.listener,P=c.ha||c.src;c.fa&&Dr(c),c=_.call(P,m)}return c}function es(c){return c=c[Ue],c instanceof rt?c:null}var vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function ts(c){return typeof c=="function"?c:(c[vo]||(c[vo]=function(m){return c.handleEvent(m)}),c[vo])}function Pe(){I.call(this),this.i=new rt(this),this.M=this,this.G=null}d(Pe,I),Pe.prototype[de]=!0,Pe.prototype.removeEventListener=function(c,m,_,P){ur(this,c,m,_,P)};function Xe(c,m){var _,P=c.G;if(P)for(_=[];P;P=P.G)_.push(P);if(c=c.M,P=m.type||m,typeof m=="string")m=new x(m,c);else if(m instanceof x)m.target=m.target||c;else{var N=m;m=new x(P,c),rn(m,N)}N=!0;let F,W;if(_)for(W=_.length-1;W>=0;W--)F=m.g=_[W],N=In(F,P,!0,m)&&N;if(F=m.g=c,N=In(F,P,!0,m)&&N,N=In(F,P,!1,m)&&N,_)for(W=0;W<_.length;W++)F=m.g=_[W],N=In(F,P,!1,m)&&N}Pe.prototype.N=function(){if(Pe.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const _=c.g[m];for(let P=0;P<_.length;P++)U(_[P]);delete c.g[m],c.h--}}this.G=null},Pe.prototype.J=function(c,m,_,P){return this.i.add(String(c),m,!1,_,P)},Pe.prototype.K=function(c,m,_,P){return this.i.add(String(c),m,!0,_,P)};function In(c,m,_,P){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let N=!0;for(let F=0;F<m.length;++F){const W=m[F];if(W&&!W.da&&W.capture==_){const fe=W.listener,wt=W.ha||W.src;W.fa&&Nt(c.i,W),N=fe.call(wt,P)!==!1&&N}}return N&&!P.defaultPrevented}function qn(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(c,m||0)}function ns(c){c.g=qn(()=>{c.g=null,c.i&&(c.i=!1,ns(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class _o extends I{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ns(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cr(c){I.call(this),this.h=c,this.g={}}d(cr,I);var wo=[];function ba(c){Y(c.g,function(m,_){this.g.hasOwnProperty(_)&&Dr(m)},c),c.g={}}cr.prototype.N=function(){cr.Z.N.call(this),ba(this)},cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=o.JSON.stringify,pu=o.JSON.parse,Ra=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Ca(){}function So(){}var mi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function is(){x.call(this,"d")}d(is,x);function Ne(){x.call(this,"c")}d(Ne,x);var Kn={},Ia=null;function gi(){return Ia=Ia||new Pe}Kn.Ia="serverreachability";function xa(c){x.call(this,Kn.Ia,c)}d(xa,x);function Mr(c){const m=gi();Xe(m,new xa(m))}Kn.STAT_EVENT="statevent";function Aa(c,m){x.call(this,Kn.STAT_EVENT,c),this.stat=m}d(Aa,x);function J(c){const m=gi();Xe(m,new Aa(m,c))}Kn.Ja="timingevent";function qe(c,m){x.call(this,Kn.Ja,c),this.size=m}d(qe,x);function At(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},m)}function hr(){this.g=!0}hr.prototype.ua=function(){this.g=!1};function Lr(c,m,_,P,N,F){c.info(function(){if(c.g)if(F){var W="",fe=F.split("&");for(let Ve=0;Ve<fe.length;Ve++){var wt=fe[Ve].split("=");if(wt.length>1){const Pt=wt[0];wt=wt[1];const Br=Pt.split("_");W=Br.length>=2&&Br[1]=="type"?W+(Pt+"="+wt+"&"):W+(Pt+"=redacted&")}}}else W=null;else W=F;return"XMLHTTP REQ ("+P+") [attempt "+N+"]: "+m+`
`+_+`
`+W})}function Pa(c,m,_,P,N,F,W){c.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+N+"]: "+m+`
`+_+`
`+F+" "+W})}function yi(c,m,_,P){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+id(c,_)+(P?" "+P:"")})}function Lg(c,m){c.info(function(){return"TIMEOUT: "+m})}hr.prototype.info=function(){};function id(c,m){if(!c.g)return m;if(!m)return null;try{const F=JSON.parse(m);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var _=F[c];if(!(_.length<2)){var P=_[1];if(Array.isArray(P)&&!(P.length<1)){var N=P[0];if(N!="noop"&&N!="stop"&&N!="close")for(let W=1;W<P.length;W++)P[W]=""}}}}return rs(F)}catch{return m}}var ka={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sd;function Oa(){}d(Oa,Ca),Oa.prototype.g=function(){return new XMLHttpRequest},sd=new Oa;function Eo(c){return encodeURIComponent(String(c))}function od(c){var m=1;c=c.split(":");const _=[];for(;m>0&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function Nr(c,m,_,P){this.j=c,this.i=m,this.l=_,this.S=P||1,this.V=new cr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new To}function To(){this.i=null,this.g="",this.h=!1}var bo={},Da={};function gu(c,m,_){c.M=1,c.A=Ro(An(m)),c.u=_,c.R=!0,yu(c,null)}function yu(c,m){c.F=Date.now(),X(c),c.B=An(c.A);var _=c.B,P=c.S;Array.isArray(P)||(P=[String(P)]),Au(_.i,"t",P),c.C=0,_=c.j.L,c.h=new To,c.g=YT(c.j,_?m:null,!c.u),c.P>0&&(c.O=new _o(u(c.Y,c,c.g),c.P)),m=c.V,_=c.g,P=c.ba;var N="readystatechange";Array.isArray(N)||(N&&(wo[0]=N.toString()),N=wo);for(let F=0;F<N.length;F++){const W=Cn(_,N[F],P||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=c.J?ye(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),Mr(),Lr(c.i,c.v,c.B,c.l,c.S,c.u)}Nr.prototype.ba=function(c){c=c.target;const m=this.O;m&&ds(c)==3?m.j():this.Y(c)},Nr.prototype.Y=function(c){try{if(c==this.g)e:{const fe=ds(this.g),wt=this.g.ya(),Ve=this.g.ca();if(!(fe<3)&&(fe!=3||this.g&&(this.h.h||this.g.la()||BT(this.g)))){this.K||fe!=4||wt==7||(wt==8||Ve<=0?Mr(3):Mr(2)),xn(this);var m=this.g.ca();this.X=m;var _=Ng(this);if(this.o=m==200,Pa(this.i,this.v,this.B,this.l,this.S,fe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var P,N=this.g;if((P=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(P)){var F=P;break t}}F=null}if(c=F)yi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ma(this,c);else{this.o=!1,this.m=3,J(12),Vr(this),os(this);break e}}if(this.R){c=!0;let Pt;for(;!this.K&&this.C<_.length;)if(Pt=ad(this,_),Pt==Da){fe==4&&(this.m=4,J(14),c=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==bo){this.m=4,J(15),yi(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else yi(this.i,this.l,Pt,null),Ma(this,Pt);if(ss(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||_.length!=0||this.h.h||(this.m=1,J(16),c=!1),this.o=this.o&&c,!c)yi(this.i,this.l,_,"[Invalid Chunked Response]"),Vr(this),os(this);else if(_.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Bg(W),W.P=!0,J(11))}}else yi(this.i,this.l,_,null),Ma(this,_);fe==4&&Vr(this),this.o&&!this.K&&(fe==4?qT(this.j,this):(this.o=!1,X(this)))}else MV(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,J(12)):(this.m=0,J(13)),Vr(this),os(this)}}}catch{}finally{}};function Ng(c){if(!ss(c))return c.g.la();const m=BT(c.g);if(m==="")return"";let _="";const P=m.length,N=ds(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Vr(c),os(c),"";c.h.i=new o.TextDecoder}for(let F=0;F<P;F++)c.h.h=!0,_+=c.h.i.decode(m[F],{stream:!(N&&F==P-1)});return m.length=0,c.h.g+=_,c.C=0,c.h.g}function ss(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ad(c,m){var _=c.C,P=m.indexOf(`
`,_);return P==-1?Da:(_=Number(m.substring(_,P)),isNaN(_)?bo:(P+=1,P+_>m.length?Da:(m=m.slice(P,P+_),c.C=P+_,m)))}Nr.prototype.cancel=function(){this.K=!0,Vr(this)};function X(c){c.T=Date.now()+c.H,ld(c,c.H)}function ld(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=At(u(c.aa,c),m)}function xn(c){c.D&&(o.clearTimeout(c.D),c.D=null)}Nr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Lg(this.i,this.B),this.M!=2&&(Mr(),J(17)),Vr(this),this.m=2,os(this)):ld(this,this.T-c)};function os(c){c.j.I==0||c.K||qT(c.j,c)}function Vr(c){xn(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,ba(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Ma(c,m){try{var _=c.j;if(_.I!=0&&(_.g==c||La(_.h,c))){if(!c.L&&La(_.h,c)&&_.I==3){try{var P=_.Ba.g.parse(m)}catch{P=null}if(Array.isArray(P)&&P.length==3){var N=P;if(N[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)bd(_),Ed(_);else break e;Fg(_),J(18)}}else _.xa=N[1],0<_.xa-_.K&&N[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=At(u(_.Va,_),6e3));wu(_.h)<=1&&_.ta&&(_.ta=void 0)}else xo(_,11)}else if((c.L||_.g==c)&&bd(_),!k(m))for(N=_.Ba.g.parse(m),m=0;m<N.length;m++){let Ve=N[m];const Pt=Ve[0];if(!(Pt<=_.K))if(_.K=Pt,Ve=Ve[1],_.I==2)if(Ve[0]=="c"){_.M=Ve[1],_.ba=Ve[2];const Br=Ve[3];Br!=null&&(_.ka=Br,_.j.info("VER="+_.ka));const Ao=Ve[4];Ao!=null&&(_.za=Ao,_.j.info("SVER="+_.za));const fs=Ve[5];fs!=null&&typeof fs=="number"&&fs>0&&(P=1.5*fs,_.O=P,_.j.info("backChannelRequestTimeoutMs_="+P)),P=_;const ps=c.g;if(ps){const Cd=ps.g?ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cd){var F=P.h;F.g||Cd.indexOf("spdy")==-1&&Cd.indexOf("quic")==-1&&Cd.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Na(F,F.h),F.h=null))}if(P.G){const jg=ps.g?ps.g.getResponseHeader("X-HTTP-Session-Id"):null;jg&&(P.wa=jg,Me(P.J,P.G,jg))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),P=_;var W=c;if(P.na=XT(P,P.L?P.ba:null,P.W),W.L){Su(P.h,W);var fe=W,wt=P.O;wt&&(fe.H=wt),fe.D&&(xn(fe),X(fe)),P.g=W}else WT(P);_.i.length>0&&Td(_)}else Ve[0]!="stop"&&Ve[0]!="close"||xo(_,7);else _.I==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?xo(_,7):Vg(_):Ve[0]!="noop"&&_.l&&_.l.qa(Ve),_.A=0)}}Mr(4)}catch{}}var ud=class{constructor(c,m){this.g=c,this.map=m}};function vu(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _u(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wu(c){return c.h?1:c.g?c.g.size:0}function La(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Na(c,m){c.g?c.g.add(m):c.h=m}function Su(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}vu.prototype.cancel=function(){if(this.i=Eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Eu(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.G);return m}return p(c.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cd(c,m){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const P=c[_].indexOf("=");let N,F=null;P>=0?(N=c[_].substring(0,P),F=c[_].substring(P+1)):N=c[_],m(N,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function dr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof dr?(this.l=c.l,as(this,c.j),this.o=c.o,this.g=c.g,ls(this,c.u),this.h=c.h,Va(this,Pu(c.i)),this.m=c.m):c&&(m=String(c).match(Tu))?(this.l=!1,as(this,m[1]||"",!0),this.o=us(m[2]||""),this.g=us(m[3]||"",!0),ls(this,m[4]),this.h=us(m[5]||"",!0),Va(this,m[6]||"",!0),this.m=us(m[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}dr.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(cs(m,Ru,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(cs(m,Ru,!0),"@"),c.push(Eo(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(cs(_,_.charAt(0)=="/"?dd:hd,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",cs(_,pd)),c.join("")},dr.prototype.resolve=function(c){const m=An(this);let _=!!c.j;_?as(m,c.j):_=!!c.o,_?m.o=c.o:_=!!c.g,_?m.g=c.g:_=c.u!=null;var P=c.h;if(_)ls(m,c.u);else if(_=!!c.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var N=m.h.lastIndexOf("/");N!=-1&&(P=m.h.slice(0,N+1)+P)}if(N=P,N==".."||N==".")P="";else if(N.indexOf("./")!=-1||N.indexOf("/.")!=-1){P=N.lastIndexOf("/",0)==0,N=N.split("/");const F=[];for(let W=0;W<N.length;){const fe=N[W++];fe=="."?P&&W==N.length&&F.push(""):fe==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),P&&W==N.length&&F.push("")):(F.push(fe),P=!0)}P=F.join("/")}else P=N}return _?m.h=P:_=c.i.toString()!=="",_?Va(m,Pu(c.i)):_=!!c.m,_&&(m.m=c.m),m};function An(c){return new dr(c)}function as(c,m,_){c.j=_?us(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ls(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Va(c,m,_){m instanceof hs?(c.i=m,md(c.i,c.l)):(_||(m=cs(m,fd)),c.i=new hs(m,c.l))}function Me(c,m,_){c.i.set(m,_)}function Ro(c){return Me(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function us(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function cs(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,bu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function bu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ru=/[#\/\?@]/g,hd=/[#\?:]/g,dd=/[#\?]/g,fd=/[#\?@]/g,pd=/#/g;function hs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Fr(c){c.g||(c.g=new Map,c.h=0,c.i&&cd(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}t=hs.prototype,t.add=function(c,m){Fr(this),this.i=null,c=vi(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function Cu(c,m){Fr(c),m=vi(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Iu(c,m){return Fr(c),m=vi(c,m),c.g.has(m)}t.forEach=function(c,m){Fr(this),this.g.forEach(function(_,P){_.forEach(function(N){c.call(m,N,P,this)},this)},this)};function xu(c,m){Fr(c);let _=[];if(typeof m=="string")Iu(c,m)&&(_=_.concat(c.g.get(vi(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)_=_.concat(c[m]);return _}t.set=function(c,m){return Fr(this),this.i=null,c=vi(this,c),Iu(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=xu(this,c),c.length>0?String(c[0]):m):m};function Au(c,m,_){Cu(c,m),_.length>0&&(c.i=null,c.g.set(vi(c,m),p(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let P=0;P<m.length;P++){var _=m[P];const N=Eo(_);_=xu(this,_);for(let F=0;F<_.length;F++){let W=N;_[F]!==""&&(W+="="+Eo(_[F])),c.push(W)}}return this.i=c.join("&")};function Pu(c){const m=new hs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function vi(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function md(c,m){m&&!c.j&&(Fr(c),c.i=null,c.g.forEach(function(_,P){const N=P.toLowerCase();P!=N&&(Cu(this,P),Au(this,N,_))},c)),c.j=m}function gd(c,m){const _=new hr;if(o.Image){const P=new Image;P.onload=h(fr,_,"TestLoadImage: loaded",!0,m,P),P.onerror=h(fr,_,"TestLoadImage: error",!1,m,P),P.onabort=h(fr,_,"TestLoadImage: abort",!1,m,P),P.ontimeout=h(fr,_,"TestLoadImage: timeout",!1,m,P),o.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=c}else m(!1)}function yd(c,m){const _=new hr,P=new AbortController,N=setTimeout(()=>{P.abort(),fr(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:P.signal}).then(F=>{clearTimeout(N),F.ok?fr(_,"TestPingServer: ok",!0,m):fr(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(N),fr(_,"TestPingServer: error",!1,m)})}function fr(c,m,_,P,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),P(_)}catch{}}function vd(){this.g=new Ra}function Fa(c){this.i=c.Sb||null,this.h=c.ab||!1}d(Fa,Ca),Fa.prototype.g=function(){return new Co(this.i,this.h)};function Co(c,m){Pe.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Co,Pe),t=Co.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Io(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Io(this)),this.g&&(this.readyState=3,Io(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ku(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ku(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?_i(this):Io(this),this.readyState==3&&ku(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,_i(this))},t.Na=function(c){this.g&&(this.response=c,_i(this))},t.ga=function(){this.g&&_i(this)};function _i(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Io(c)}t.setRequestHeader=function(c,m){this.A.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function Io(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Co.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ou(c){let m="";return Y(c,function(_,P){m+=P,m+=":",m+=_,m+=`\r
`}),m}function Ba(c,m,_){e:{for(P in _){var P=!1;break e}P=!0}P||(_=Ou(_),typeof c=="string"?_!=null&&Eo(_):Me(c,m,_))}function $e(c){Pe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d($e,Pe);var _d=/^https?$/i,wd=["POST","PUT"];t=$e.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,m,_,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sd.g(),this.g.onreadystatechange=f(u(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(F){NT(this,F);return}if(c=_||"",_=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var N in P)_.set(N,P[N]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const F of P.keys())_.set(F,P.get(F));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),N=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(wd,m,void 0)>=0)||P||N||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,W]of _)this.g.setRequestHeader(F,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){NT(this,F)}};function NT(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,VT(c),Sd(c)}function VT(c){c.A||(c.A=!0,Xe(c,"complete"),Xe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Xe(this,"complete"),Xe(this,"abort"),Sd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sd(this,!0)),$e.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?FT(this):this.Xa())},t.Xa=function(){FT(this)};function FT(c){if(c.h&&typeof s<"u"){if(c.v&&ds(c)==4)setTimeout(c.Ca.bind(c),0);else if(Xe(c,"readystatechange"),ds(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var P;if(P=F===0){let W=String(c.D).match(Tu)[1]||null;!W&&o.self&&o.self.location&&(W=o.self.location.protocol.slice(0,-1)),P=!_d.test(W?W.toLowerCase():"")}_=P}if(_)Xe(c,"complete"),Xe(c,"success");else{c.o=6;try{var N=ds(c)>2?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.ca()+"]",VT(c)}}finally{Sd(c)}}}}function Sd(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,m||Xe(c,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ds(c){return c.g?c.g.readyState:0}t.ca=function(){try{return ds(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),pu(m)}};function BT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function MV(c){const m={};c=(c.g&&ds(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<c.length;P++){if(k(c[P]))continue;var _=od(c[P]);const N=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=m[N]||[];m[N]=F,F.push(_)}ee(m,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Du(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function jT(c){this.za=0,this.i=[],this.j=new hr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Du("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Du("baseRetryDelayMs",5e3,c),this.Za=Du("retryDelaySeedMs",1e4,c),this.Ta=Du("forwardChannelMaxRetries",2,c),this.va=Du("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new vu(c&&c.concurrentRequestLimit),this.Ba=new vd,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=jT.prototype,t.ka=8,t.I=1,t.connect=function(c,m,_,P){J(0),this.W=c,this.H=m||{},_&&P!==void 0&&(this.H.OSID=_,this.H.OAID=P),this.F=this.X,this.J=XT(this,null,this.W),Td(this)};function Vg(c){if(UT(c),c.I==3){var m=c.V++,_=An(c.J);if(Me(_,"SID",c.M),Me(_,"RID",m),Me(_,"TYPE","terminate"),Mu(c,_),m=new Nr(c,c.j,m),m.M=2,m.A=Ro(An(_)),_=!1,o.navigator&&o.navigator.sendBeacon)try{_=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&o.Image&&(new Image().src=m.A,_=!0),_||(m.g=YT(m.j,null),m.g.ea(m.A)),m.F=Date.now(),X(m)}GT(c)}function Ed(c){c.g&&(Bg(c),c.g.cancel(),c.g=null)}function UT(c){Ed(c),c.v&&(o.clearTimeout(c.v),c.v=null),bd(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Td(c){if(!_u(c.h)&&!c.m){c.m=!0;var m=c.Ea;M||w(),D||(M(),D=!0),b.add(m,c),c.D=0}}function LV(c,m){return wu(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=At(u(c.Ea,c,m),KT(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const N=new Nr(this,this.j,c);let F=this.o;if(this.U&&(F?(F=ye(F),rn(F,this.U)):F=this.U),this.u!==null||this.R||(N.J=F,F=null),this.S)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var P=this.i[_];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(m+=P,m>4096){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=zT(this,N,m),_=An(this.J),Me(_,"RID",c),Me(_,"CVER",22),this.G&&Me(_,"X-HTTP-Session-Id",this.G),Mu(this,_),F&&(this.R?m="headers="+Eo(Ou(F))+"&"+m:this.u&&Ba(_,this.u,F)),Na(this.h,N),this.Ra&&Me(_,"TYPE","init"),this.S?(Me(_,"$req",m),Me(_,"SID","null"),N.U=!0,gu(N,_,null)):gu(N,_,m),this.I=2}}else this.I==3&&(c?$T(this,c):this.i.length==0||_u(this.h)||$T(this))};function $T(c,m){var _;m?_=m.l:_=c.V++;const P=An(c.J);Me(P,"SID",c.M),Me(P,"RID",_),Me(P,"AID",c.K),Mu(c,P),c.u&&c.o&&Ba(P,c.u,c.o),_=new Nr(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),m&&(c.i=m.G.concat(c.i)),m=zT(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Na(c.h,_),gu(_,P,m)}function Mu(c,m){c.H&&Y(c.H,function(_,P){Me(m,P,_)}),c.l&&Y({},function(_,P){Me(m,P,_)})}function zT(c,m,_){_=Math.min(c.i.length,_);const P=c.l?u(c.l.Ka,c.l,c):null;e:{var N=c.i;let fe=-1;for(;;){const wt=["count="+_];fe==-1?_>0?(fe=N[0].g,wt.push("ofs="+fe)):fe=0:wt.push("ofs="+fe);let Ve=!0;for(let Pt=0;Pt<_;Pt++){var F=N[Pt].g;const Br=N[Pt].map;if(F-=fe,F<0)fe=Math.max(0,N[Pt].g-100),Ve=!1;else try{F="req"+F+"_"||"";try{var W=Br instanceof Map?Br:Object.entries(Br);for(const[Ao,fs]of W){let ps=fs;a(fs)&&(ps=rs(fs)),wt.push(F+Ao+"="+encodeURIComponent(ps))}}catch(Ao){throw wt.push(F+"type="+encodeURIComponent("_badmap")),Ao}}catch{P&&P(Br)}}if(Ve){W=wt.join("&");break e}}W=void 0}return c=c.i.splice(0,_),m.G=c,W}function WT(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;M||w(),D||(M(),D=!0),b.add(m,c),c.A=0}}function Fg(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=At(u(c.Da,c),KT(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,HT(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=At(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,J(10),Ed(this),HT(this))};function Bg(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function HT(c){c.g=new Nr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=An(c.na);Me(m,"RID","rpc"),Me(m,"SID",c.M),Me(m,"AID",c.K),Me(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Me(m,"TO",c.ia),Me(m,"TYPE","xmlhttp"),Mu(c,m),c.u&&c.o&&Ba(m,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Ro(An(m)),_.u=null,_.R=!0,yu(_,c)}t.Va=function(){this.C!=null&&(this.C=null,Ed(this),Fg(this),J(19))};function bd(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function qT(c,m){var _=null;if(c.g==m){bd(c),Bg(c),c.g=null;var P=2}else if(La(c.h,m))_=m.G,Su(c.h,m),P=1;else return;if(c.I!=0){if(m.o)if(P==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var N=c.D;P=gi(),Xe(P,new qe(P,_)),Td(c)}else WT(c);else if(N=m.m,N==3||N==0&&m.X>0||!(P==1&&LV(c,m)||P==2&&Fg(c)))switch(_&&_.length>0&&(m=c.h,m.i=m.i.concat(_)),N){case 1:xo(c,5);break;case 4:xo(c,10);break;case 3:xo(c,6);break;default:xo(c,2)}}}function KT(c,m){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*m}function xo(c,m){if(c.j.info("Error code "+m),m==2){var _=u(c.bb,c),P=c.Ua;const N=!P;P=new dr(P||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||as(P,"https"),Ro(P),N?gd(P.toString(),_):yd(P.toString(),_)}else J(2);c.I=0,c.l&&c.l.pa(m),GT(c),UT(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function GT(c){if(c.I=0,c.ja=[],c.l){const m=Eu(c.h);(m.length!=0||c.i.length!=0)&&(g(c.ja,m),g(c.ja,c.i),c.h.i.length=0,p(c.i),c.i.length=0),c.l.oa()}}function XT(c,m,_){var P=_ instanceof dr?An(_):new dr(_);if(P.g!="")m&&(P.g=m+"."+P.g),ls(P,P.u);else{var N=o.location;P=N.protocol,m=m?m+"."+N.hostname:N.hostname,N=+N.port;const F=new dr(null);P&&as(F,P),m&&(F.g=m),N&&ls(F,N),_&&(F.h=_),P=F}return _=c.G,m=c.wa,_&&m&&Me(P,_,m),Me(P,"VER",c.ka),Mu(c,P),P}function YT(c,m,_){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new $e(new Fa({ab:_})):new $e(c.ma),m.Fa(c.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function QT(){}t=QT.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Rd(){}Rd.prototype.g=function(c,m){return new Pn(c,m)};function Pn(c,m){Pe.call(this),this.g=new jT(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!k(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!k(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ja(this)}d(Pn,Pe),Pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Vg(this.g)},Pn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=rs(c),c=_);m.i.push(new ud(m.Ya++,c)),m.I==3&&Td(m)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Vg(this.g),delete this.g,Pn.Z.N.call(this)};function JT(c){is.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const _ in m){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}d(JT,is);function ZT(){Ne.call(this),this.status=1}d(ZT,Ne);function ja(c){this.g=c}d(ja,QT),ja.prototype.ra=function(){Xe(this.g,"a")},ja.prototype.qa=function(c){Xe(this.g,new JT(c))},ja.prototype.pa=function(c){Xe(this.g,new ZT)},ja.prototype.oa=function(){Xe(this.g,"b")},Rd.prototype.createWebChannel=Rd.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,KO=function(){return new Rd},qO=function(){return gi()},HO=Kn,Z_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ka.NO_ERROR=0,ka.TIMEOUT=8,ka.HTTP_ERROR=6,Bf=ka,mu.COMPLETE="complete",WO=mu,So.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",Pe.prototype.listen=Pe.prototype.J,nc=So,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,zO=$e}).apply(typeof Zd<"u"?Zd:typeof self<"u"?self:typeof window<"u"?window:{});const MC="@firebase/firestore",LC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new IS("@firebase/firestore");function Ka(){return ha.logLevel}function G(t,...e){if(ha.logLevel<=_e.DEBUG){const n=e.map(AS);ha.debug(`Firestore (${tu}): ${t}`,...n)}}function $i(t,...e){if(ha.logLevel<=_e.ERROR){const n=e.map(AS);ha.error(`Firestore (${tu}): ${t}`,...n)}}function fh(t,...e){if(ha.logLevel<=_e.WARN){const n=e.map(AS);ha.warn(`Firestore (${tu}): ${t}`,...n)}}function AS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,GO(t,r,n)}function GO(t,e,n){let r=`FIRESTORE (${tu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw $i(r),new Error(r)}function Oe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||GO(e,i,r)}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class gW{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string",31837,{l:r}),new pW(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class yW{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new yW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _W{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Oe(this.o===void 0,3512);const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new NC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new NC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=wW(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function ew(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Wy(i)===Wy(s)?we(i,s):Wy(i)?1:-1}return we(t.length,e.length)}const SW=55296,EW=57343;function Wy(t){const e=t.charCodeAt(0);return e>=SW&&e<=EW}function Ul(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="__name__";class Wr{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Wr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return we(e.length,n.length)}static compareSegments(e,n){const r=Wr.isNumericId(e),i=Wr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Wr.extractNumericId(e).compare(Wr.extractNumericId(n)):ew(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ks.fromString(e.substring(4,e.length-2))}}class Be extends Wr{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const TW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Wr{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return TW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VC}static keyField(){return new $t([VC])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(Be.fromString(e))}static fromName(e){return new re(Be.fromString(e).popFirst(5))}static empty(){return new re(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Be(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t,e,n){if(!n)throw new K(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bW(t,e,n,r){if(e===!0&&r===!0)throw new K(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FC(t){if(!re.isDocumentKey(t))throw new K(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BC(t){if(re.isDocumentKey(t))throw new K(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function YO(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function eg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function ir(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eg(t);throw new K(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Uh(t,e){if(!YO(t))throw new K(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new K(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=-62135596800,UC=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*UC);return new We(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jC)throw new K(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UC}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uh(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:vt("string",We._jsonSchemaVersion),seconds:vt("number"),nanoseconds:vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new We(0,0))}static max(){return new ue(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=-1;function RW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new We(n+1,0):new We(n,r));return new Js(i,re.empty(),e)}function CW(t){return new Js(t.readTime,t.key,ph)}class Js{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Js(ue.min(),re.empty(),ph)}static max(){return new Js(ue.max(),re.empty(),ph)}}function IW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==xW)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function PW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ru(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=-1;function ng(t){return t==null}function Hp(t){return t===0&&1/t==-1/0}function kW(t){return typeof t=="number"&&Number.isInteger(t)&&!Hp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="";function OW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$C(e)),e=DW(t.get(n),e);return $C(e)}function DW(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case QO:n+="";break;default:n+=s}}return n}function $C(t){return t+QO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ho(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ef(this.root,e,this.comparator,!0)}}class ef{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=s??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WC(this.data.getIterator())}getIteratorFrom(e){return new WC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class WC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Fn([])}unionWith(e){let n=new It($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ul(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ZO("Invalid base64 string: "+s):s}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const MW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(t){if(Oe(!!t,39018),typeof t=="string"){let e=0;const n=MW.exec(t);if(Oe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eo(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="server_timestamp",tD="__type__",nD="__previous_value__",rD="__local_write_time__";function OS(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[tD])==null?void 0:r.stringValue)===eD}function rg(t){const e=t.mapValue.fields[nD];return OS(e)?rg(e):e}function mh(t){const e=Zs(t.mapValue.fields[rD].timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e,n,r,i,s,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const qp="(default)";class gh{constructor(e,n){this.projectId=e,this.database=n||qp}static empty(){return new gh("","")}get isDefaultDatabase(){return this.database===qp}isEqual(e){return e instanceof gh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="__type__",NW="__max__",tf={mapValue:{}},sD="__vector__",Kp="value";function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?OS(t)?4:FW(t)?9007199254740991:VW(t)?10:11:se(28295,{value:t})}function hi(t,e){if(t===e)return!0;const n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mh(t).isEqual(mh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Zs(i.timestampValue),a=Zs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return eo(i.bytesValue).isEqual(eo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ht(i.geoPointValue.latitude)===ht(s.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ht(i.integerValue)===ht(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ht(i.doubleValue),a=ht(s.doubleValue);return o===a?Hp(o)===Hp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ul(t.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(zC(o)!==zC(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!hi(o[l],a[l])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function yh(t,e){return(t.values||[]).find(n=>hi(n,e))!==void 0}function $l(t,e){if(t===e)return 0;const n=to(t),r=to(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ht(s.integerValue||s.doubleValue),l=ht(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return HC(t.timestampValue,e.timestampValue);case 4:return HC(mh(t),mh(e));case 5:return ew(t.stringValue,e.stringValue);case 6:return function(s,o){const a=eo(s),l=eo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=we(a[u],l[u]);if(h!==0)return h}return we(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=we(ht(s.latitude),ht(o.latitude));return a!==0?a:we(ht(s.longitude),ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qC(t.arrayValue,e.arrayValue);case 10:return function(s,o){var f,p,g,S;const a=s.fields||{},l=o.fields||{},u=(f=a[Kp])==null?void 0:f.arrayValue,h=(p=l[Kp])==null?void 0:p.arrayValue,d=we(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((S=h==null?void 0:h.values)==null?void 0:S.length)||0);return d!==0?d:qC(u,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===tf.mapValue&&o===tf.mapValue)return 0;if(s===tf.mapValue)return 1;if(o===tf.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=ew(l[d],h[d]);if(f!==0)return f;const p=$l(a[l[d]],u[h[d]]);if(p!==0)return p}return we(l.length,h.length)}(t.mapValue,e.mapValue);default:throw se(23264,{he:n})}}function HC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=Zs(t),r=Zs(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function qC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=$l(n[i],r[i]);if(s)return s}return we(n.length,r.length)}function zl(t){return tw(t)}function tw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return eo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=tw(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${tw(n.fields[o])}`;return i+"}"}(t.mapValue):se(61005,{value:t})}function jf(t){switch(to(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rg(t);return e?16+jf(e):16;case 5:return 2*t.stringValue.length;case 6:return eo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+jf(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ho(r.fields,(s,o)=>{i+=s.length+jf(o)}),i}(t.mapValue);default:throw se(13486,{value:t})}}function KC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function nw(t){return!!t&&"integerValue"in t}function DS(t){return!!t&&"arrayValue"in t}function GC(t){return!!t&&"nullValue"in t}function XC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uf(t){return!!t&&"mapValue"in t}function VW(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[iD])==null?void 0:r.stringValue)===sD}function Pc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ho(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pc(t.arrayValue.values[n]);return e}return{...t}}function FW(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===NW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pc(n)}setAll(e){let n=$t.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Pc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ho(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _n(Pc(this.value))}}function oD(t){const e=[];return ho(t.fields,(n,r)=>{const i=new $t([n]);if(Uf(r)){const s=oD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Jt(e,0,ue.min(),ue.min(),ue.min(),_n.empty(),0)}static newFoundDocument(e,n,r,i){return new Jt(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new Jt(e,2,n,ue.min(),ue.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,ue.min(),ue.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){this.position=e,this.inclusive=n}}function YC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=$l(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function QC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function BW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{}class yt extends aD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UW(e,n,r):n==="array-contains"?new WW(e,r):n==="in"?new HW(e,r):n==="not-in"?new qW(e,r):n==="array-contains-any"?new KW(e,r):new yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $W(e,r):new zW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($l(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison($l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends aD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Pr(e,n)}matches(e){return lD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lD(t){return t.op==="and"}function uD(t){return jW(t)&&lD(t)}function jW(t){for(const e of t.filters)if(e instanceof Pr)return!1;return!0}function rw(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+zl(t.value);if(uD(t))return t.filters.map(e=>rw(e)).join(",");{const e=t.filters.map(n=>rw(n)).join(",");return`${t.op}(${e})`}}function cD(t,e){return t instanceof yt?function(r,i){return i instanceof yt&&r.op===i.op&&r.field.isEqual(i.field)&&hi(r.value,i.value)}(t,e):t instanceof Pr?function(r,i){return i instanceof Pr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&cD(o,i.filters[a]),!0):!1}(t,e):void se(19439)}function hD(t){return t instanceof yt?function(n){return`${n.field.canonicalString()} ${n.op} ${zl(n.value)}`}(t):t instanceof Pr?function(n){return n.op.toString()+" {"+n.getFilters().map(hD).join(" ,")+"}"}(t):"Filter"}class UW extends yt{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class $W extends yt{constructor(e,n){super(e,"in",n),this.keys=dD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zW extends yt{constructor(e,n){super(e,"not-in",n),this.keys=dD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class WW extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return DS(n)&&yh(n.arrayValue,this.value)}}class HW extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yh(this.value.arrayValue,n)}}class qW extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(yh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yh(this.value.arrayValue,n)}}class KW extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!DS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function JC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new GW(t,e,n,r,i,s,o)}function MS(t){const e=ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ng(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zl(r)).join(",")),e.Te=n}return e.Te}function LS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QC(t.startAt,e.startAt)&&QC(t.endAt,e.endAt)}function iw(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XW(t,e,n,r,i,s,o,a){return new iu(t,e,n,r,i,s,o,a)}function ig(t){return new iu(t)}function ZC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fD(t){return t.collectionGroup!==null}function kc(t){const e=ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new It($t.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new vh(s,r))}),n.has($t.keyField().canonicalString())||e.Ie.push(new vh($t.keyField(),r))}return e.Ie}function ni(t){const e=ce(t);return e.Ee||(e.Ee=YW(e,kc(t))),e.Ee}function YW(t,e){if(t.limitType==="F")return JC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new vh(i.field,s)});const n=t.endAt?new Gp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gp(t.startAt.position,t.startAt.inclusive):null;return JC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function sw(t,e){const n=t.filters.concat([e]);return new iu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ow(t,e,n){return new iu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sg(t,e){return LS(ni(t),ni(e))&&t.limitType===e.limitType}function pD(t){return`${MS(ni(t))}|lt:${t.limitType}`}function Ga(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>hD(i)).join(", ")}]`),ng(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zl(i)).join(",")),`Target(${r})`}(ni(t))}; limitType=${t.limitType})`}function og(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of kc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=YC(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,kc(r),i)||r.endAt&&!function(o,a,l){const u=YC(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,kc(r),i))}(t,e)}function QW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mD(t){return(e,n)=>{let r=!1;for(const i of kc(t)){const s=JW(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function JW(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?$l(l,u):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return JO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZW=new nt(re.comparator);function zi(){return ZW}const gD=new nt(re.comparator);function rc(...t){let e=gD;for(const n of t)e=e.insert(n.key,n);return e}function yD(t){let e=gD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qo(){return Oc()}function vD(){return Oc()}function Oc(){return new Ea(t=>t.toString(),(t,e)=>t.isEqual(e))}const e8=new nt(re.comparator),t8=new It(re.comparator);function Se(...t){let e=t8;for(const n of t)e=e.add(n);return e}const n8=new It(we);function r8(){return n8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hp(e)?"-0":e}}function _D(t){return{integerValue:""+t}}function i8(t,e){return kW(e)?_D(e):NS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this._=void 0}}function s8(t,e,n){return t instanceof Xp?function(i,s){const o={fields:{[tD]:{stringValue:eD},[rD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&OS(s)&&(s=rg(s)),s&&(o.fields[nD]=s),{mapValue:o}}(n,e):t instanceof _h?SD(t,e):t instanceof wh?ED(t,e):function(i,s){const o=wD(i,s),a=eI(o)+eI(i.Ae);return nw(o)&&nw(i.Ae)?_D(a):NS(i.serializer,a)}(t,e)}function o8(t,e,n){return t instanceof _h?SD(t,e):t instanceof wh?ED(t,e):n}function wD(t,e){return t instanceof Yp?function(r){return nw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Xp extends ag{}class _h extends ag{constructor(e){super(),this.elements=e}}function SD(t,e){const n=TD(e);for(const r of t.elements)n.some(i=>hi(i,r))||n.push(r);return{arrayValue:{values:n}}}class wh extends ag{constructor(e){super(),this.elements=e}}function ED(t,e){let n=TD(e);for(const r of t.elements)n=n.filter(i=>!hi(i,r));return{arrayValue:{values:n}}}class Yp extends ag{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function eI(t){return ht(t.integerValue||t.doubleValue)}function TD(t){return DS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function a8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof _h&&i instanceof _h||r instanceof wh&&i instanceof wh?Ul(r.elements,i.elements,hi):r instanceof Yp&&i instanceof Yp?hi(r.Ae,i.Ae):r instanceof Xp&&i instanceof Xp}(t.transform,e.transform)}class l8{constructor(e,n){this.version=e,this.transformResults=n}}class xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $f(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lg{}function bD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new VS(t.key,xr.none()):new $h(t.key,t.data,xr.none());{const n=t.data,r=_n.empty();let i=new It($t.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fo(t.key,r,new Fn(i.toArray()),xr.none())}}function u8(t,e,n){t instanceof $h?function(i,s,o){const a=i.value.clone(),l=nI(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fo?function(i,s,o){if(!$f(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=nI(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(RD(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Dc(t,e,n,r){return t instanceof $h?function(s,o,a,l){if(!$f(s.precondition,o))return a;const u=s.value.clone(),h=rI(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof fo?function(s,o,a,l){if(!$f(s.precondition,o))return a;const u=rI(s.fieldTransforms,l,o),h=o.data;return h.setAll(RD(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return $f(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function c8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=wD(r.transform,i||null);s!=null&&(n===null&&(n=_n.empty()),n.set(r.field,s))}return n||null}function tI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ul(r,i,(s,o)=>a8(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $h extends lg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fo extends lg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function RD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function nI(t,e,n){const r=new Map;Oe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,o8(o,a,n[i]))}return r}function rI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,s8(s,o,e))}return r}class VS extends lg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h8 extends lg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&u8(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vD();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=bD(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&Ul(this.mutations,e.mutations,(n,r)=>tI(n,r))&&Ul(this.baseMutations,e.baseMutations,(n,r)=>tI(n,r))}}class FS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Oe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return e8}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new FS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Ee;function m8(t){switch(t){case B.OK:return se(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function CD(t){if(t===void 0)return $i("GRPC error has no .code"),B.UNKNOWN;switch(t){case pt.OK:return B.OK;case pt.CANCELLED:return B.CANCELLED;case pt.UNKNOWN:return B.UNKNOWN;case pt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case pt.INTERNAL:return B.INTERNAL;case pt.UNAVAILABLE:return B.UNAVAILABLE;case pt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case pt.NOT_FOUND:return B.NOT_FOUND;case pt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case pt.ABORTED:return B.ABORTED;case pt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case pt.DATA_LOSS:return B.DATA_LOSS;default:return se(39323,{code:t})}}(Ee=pt||(pt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=new Ks([4294967295,4294967295],0);function iI(t){const e=g8().encode(t),n=new $O;return n.update(e),new Uint8Array(n.digest())}function sI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ks([n,r],0),new Ks([i,s],0)]}class BS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ic(`Invalid padding: ${n}`);if(r<0)throw new ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ks.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ks.fromNumber(r)));return i.compare(y8)===1&&(i=new Ks([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=iI(e),[r,i]=sI(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new BS(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=iI(e),[r,i]=sI(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ug(ue.min(),i,new nt(we),zi(),Se())}}class zh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zh(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class ID{constructor(e,n){this.targetId=e,this.Ce=n}}class xD{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class oI{constructor(){this.ve=0,this.Fe=aI(),this.Me=Ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Se(),n=Se(),r=Se();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se(38017,{changeType:s})}}),new zh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=aI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class v8{constructor(e){this.Ge=e,this.ze=new Map,this.je=zi(),this.Je=nf(),this.He=nf(),this.Ye=new nt(we)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(iw(s))if(r===0){const o=new re(s.path);this.et(n,o,Jt.newNoDocument(o,ue.min()))}else Oe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=eo(r).toUint8Array()}catch(l){if(l instanceof ZO)return fh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new BS(o,i,s)}catch(l){return fh(l instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&iw(a.target)){const l=new re(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Jt.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=Se();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new ug(e,n,this.Ye,this.je,r);return this.je=zi(),this.Je=nf(),this.He=nf(),this.Ye=new nt(we),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new oI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new It(we),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new It(we),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oI),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nf(){return new nt(re.comparator)}function aI(){return new nt(re.comparator)}const _8={asc:"ASCENDING",desc:"DESCENDING"},w8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S8={and:"AND",or:"OR"};class E8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function aw(t,e){return t.useProto3Json||ng(e)?e:{value:e}}function Qp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function T8(t,e){return Qp(t,e.toTimestamp())}function ri(t){return Oe(!!t,49232),ue.fromTimestamp(function(n){const r=Zs(n);return new We(r.seconds,r.nanos)}(t))}function jS(t,e){return lw(t,e).canonicalString()}function lw(t,e){const n=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function PD(t){const e=Be.fromString(t);return Oe(LD(e),10190,{key:e.toString()}),e}function uw(t,e){return jS(t.databaseId,e.path)}function Hy(t,e){const n=PD(e);if(n.get(1)!==t.databaseId.projectId)throw new K(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(OD(n))}function kD(t,e){return jS(t.databaseId,e)}function b8(t){const e=PD(t);return e.length===4?Be.emptyPath():OD(e)}function cw(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OD(t){return Oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lI(t,e,n){return{name:uw(t,e),fields:n.value.mapValue.fields}}function R8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(Oe(h===void 0||typeof h=="string",58123),Ht.fromBase64String(h||"")):(Oe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ht.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?B.UNKNOWN:CD(u.code);return new K(h,u.message||"")}(o);n=new xD(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hy(t,r.document.name),s=ri(r.document.updateTime),o=r.document.createTime?ri(r.document.createTime):ue.min(),a=new _n({mapValue:{fields:r.document.fields}}),l=Jt.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new zf(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hy(t,r.document),s=r.readTime?ri(r.readTime):ue.min(),o=Jt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new zf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hy(t,r.document),s=r.removedTargetIds||[];n=new zf([],s,i,null)}else{if(!("filter"in e))return se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new p8(i,s),a=r.targetId;n=new ID(a,o)}}return n}function C8(t,e){let n;if(e instanceof $h)n={update:lI(t,e.key,e.value)};else if(e instanceof VS)n={delete:uw(t,e.key)};else if(e instanceof fo)n={update:lI(t,e.key,e.data),updateMask:L8(e.fieldMask)};else{if(!(e instanceof h8))return se(16599,{Vt:e.type});n={verify:uw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Xp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof _h)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Yp)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:T8(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se(27497)}(t,e.precondition)),n}function I8(t,e){return t&&t.length>0?(Oe(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?ri(i.updateTime):ri(s);return o.isEqual(ue.min())&&(o=ri(s)),new l8(o,i.transformResults||[])}(n,e))):[]}function x8(t,e){return{documents:[kD(t,e.path)]}}function A8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kD(t,i);const s=function(u){if(u.length!==0)return MD(Pr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:Xa(f.field),direction:O8(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=aw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function P8(t){let e=b8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Oe(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=DD(d);return f instanceof Pr&&uD(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(g){return new vh(Ya(g.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,ng(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new Gp(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new Gp(p,f)}(n.endAt)),XW(e,i,o,s,a,"F",l,u)}function k8(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ya(n.unaryFilter.field);return yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ya(n.unaryFilter.field);return yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ya(n.unaryFilter.field);return yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ya(n.unaryFilter.field);return yt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return yt.create(Ya(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pr.create(n.compositeFilter.filters.map(r=>DD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function O8(t){return _8[t]}function D8(t){return w8[t]}function M8(t){return S8[t]}function Xa(t){return{fieldPath:t.canonicalString()}}function Ya(t){return $t.fromServerFormat(t.fieldPath)}function MD(t){return t instanceof yt?function(n){if(n.op==="=="){if(XC(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(GC(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(XC(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(GC(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:D8(n.op),value:n.value}}}(t):t instanceof Pr?function(n){const r=n.getFilters().map(i=>MD(i));return r.length===1?r[0]:{compositeFilter:{op:M8(n.op),filters:r}}}(t):se(54877,{filter:t})}function L8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,r,i,s=ue.min(),o=ue.min(),a=Ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e){this.yt=e}}function V8(t){const e=P8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ow(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(){this.Cn=new B8}addToCollectionParentIndex(e,n){return this.Cn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Js.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class B8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new It(Be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ND=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(ND,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wl(0)}static cr(){return new Wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="LruGarbageCollector",VD=1048576;function hI([t,e],[n,r]){const i=we(t,n);return i===0?we(e,r):i}class j8{constructor(e){this.Ir=e,this.buffer=new It(hI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class U8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(cI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ru(n)?G(cI,"Ignoring IndexedDB error during garbage collection: ",n):await nu(n)}await this.Vr(3e5)})}}class $8{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(tg.ce);const r=new j8(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(uI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uI):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Ka()<=_e.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function z8(t,e){return new $8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(){this.changes=new Ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Dc(r.mutation,i,Fn.empty(),We.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=qo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=rc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=zi();const o=Oc(),a=function(){return Oc()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof fo)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Dc(h.mutation,u,h.mutation.getFieldMask(),We.now())):o.set(u.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new H8(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Oc();let i=new nt((o,a)=>o-a),s=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Fn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const d=(i.get(a.batchId)||Se()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=vD();h.forEach(f=>{if(!s.has(f)){const p=bD(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(qo());let a=ph,l=s;return o.next(u=>j.forEach(u,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Se())).next(h=>({batchId:a,changes:yD(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=rc();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,l=>{const u=function(d,f){return new iu(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Jt.newInvalidDocument(h)))});let a=rc();return o.forEach((l,u)=>{const h=s.get(l);h!==void 0&&Dc(h.mutation,u,Fn.empty(),We.now()),og(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return j.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ri(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:V8(i.bundledQuery),readTime:ri(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(){this.overlays=new nt(re.comparator),this.qr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qo();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=qo(),s=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nt((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=qo(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=qo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return j.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new f8(n,r));let s=this.qr.get(n);s===void 0&&(s=Se(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.Qr=new It(Dt.$r),this.Ur=new It(Dt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Dt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Dt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new re(new Be([])),r=new Dt(n,e),i=new Dt(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new re(new Be([])),r=new Dt(n,e),i=new Dt(n,e+1);let s=Se();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Dt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Dt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return re.comparator(e.key,n.key)||we(e.Yr,n.Yr)}static Kr(e,n){return we(e.Yr,n.Yr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new It(Dt.$r)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new d8(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?kS:this.tr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dt(n,0),i=new Dt(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(we);return n.forEach(i=>{const s=new Dt(i,0),o=new Dt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),j.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;re.isDocumentKey(s)||(s=s.child(""));const o=new Dt(new re(s),0);let a=new It(we);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},o),j.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Oe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return j.forEach(n.mutations,i=>{const s=new Dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Dt(n,0),i=this.Zr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e){this.ri=e,this.docs=function(){return new nt(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=zi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Jt.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=zi();const o=n.path,a=new re(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||IW(CW(h),r)<=0||(i.has(h.key)||og(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se(9500)}ii(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new J8(this)}getSize(e){return j.resolve(this.size)}}class J8 extends W8{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e){this.persistence=e,this.si=new Ea(n=>MS(n),LS),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.oi=0,this._i=new US,this.targetCount=0,this.ai=Wl.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),j.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Wl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Pr(n),j.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.ui={},this.overlays={},this.ci=new tg(0),this.li=!1,this.li=!0,this.hi=new X8,this.referenceDelegate=e(this),this.Pi=new Z8(this),this.indexManager=new F8,this.remoteDocumentCache=function(i){return new Q8(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new N8(n),this.Ii=new K8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new G8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Y8(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new eH(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return j.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class eH extends AW{constructor(e){super(),this.currentSequenceNumber=e}}class $S{constructor(e){this.persistence=e,this.Ri=new US,this.Vi=null}static mi(e){return new $S(e)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.fi,r=>{const i=re.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Jp{constructor(e,n){this.persistence=e,this.pi=new Ea(r=>OW(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=z8(this,n)}static mi(e,n){return new Jp(e,n)}Ei(){}di(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return j.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?j.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ue.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jf(e.data.value)),n}br(e,n,r){return j.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Se(),i=Se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new zS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Gz()?8:PW(nn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new tH;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ka()<=_e.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),j.resolve()):(Ka()<=_e.DEBUG&&G("QueryEngine","Query:",Ga(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ka()<=_e.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(n))):j.resolve())}ys(e,n){if(ZC(n))return j.resolve(null);let r=ni(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ow(n,null,"F"),r=ni(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Se(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,ow(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return ZC(n)||i.isEqual(ue.min())?j.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?j.resolve(null):(Ka()<=_e.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ga(n)),this.vs(e,o,n,RW(i,ph)).next(a=>a))})}Ds(e,n){let r=new It(mD(e));return n.forEach((i,s)=>{og(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Ka()<=_e.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.ps.getDocumentsMatchingQuery(e,n,Js.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="LocalStore",rH=3e8;class iH{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new nt(we),this.xs=new Ea(s=>MS(s),LS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new q8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function sH(t,e,n,r){return new iH(t,e,n,r)}async function BD(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Se();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function oH(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const d=u.batch,f=d.keys();let p=j.resolve();return f.forEach(g=>{p=p.next(()=>h.getEntry(l,g)).next(S=>{const T=u.docVersions.get(g);Oe(T!==null,48541),S.version.compareTo(T)<0&&(d.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),h.addEntry(S)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function jD(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function aH(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Ht.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),i=i.insert(d,p),function(S,T,v){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=rH?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,p,h)&&a.push(n.Pi.updateTargetData(s,p))});let l=zi(),u=Se();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(lH(s,o,e.documentUpdates).next(h=>{l=h.ks,u=h.qs})),!r.isEqual(ue.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(d=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ms=i,s))}function lH(t,e,n){let r=Se(),i=Se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=zi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G(WS,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function uH(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=kS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cH(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Ns(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function hw(t,e,n){const r=ce(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ru(o))throw o;G(WS,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function dI(t,e,n){const r=ce(t);let i=ue.min(),s=Se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const d=ce(l),f=d.xs.get(h);return f!==void 0?j.resolve(d.Ms.get(f)):d.Pi.getTargetData(u,h)}(r,o,ni(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:Se())).next(a=>(hH(r,QW(e),a),{documents:a,Qs:s})))}function hH(t,e,n){let r=t.Os.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class fI{constructor(){this.activeTargetIds=r8()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dH{constructor(){this.Mo=new fI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="ConnectivityMonitor";class mI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(pI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(pI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf=null;function dw(){return rf===null?rf=function(){return 268435456+Math.round(2147483648*Math.random())}():rf++,"0x"+rf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="RestConnection",pH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mH{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===qp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=dw(),a=this.zo(e,n.toUriEncodedString());G(qy,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(a),h=co(u);return this.Jo(e,a,l,r,h).then(d=>(G(qy,`Received RPC '${e}' ${o}: `,d),d),d=>{throw fh(qy,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=pH[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class yH extends mH{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=dw();return new Promise((a,l)=>{const u=new zO;u.setWithCredentials(!0),u.listenOnce(WO.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Bf.NO_ERROR:const d=u.getResponseJson();G(Xt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Bf.TIMEOUT:G(Xt,`RPC '${e}' ${o} timed out`),l(new K(B.DEADLINE_EXCEEDED,"Request time out"));break;case Bf.HTTP_ERROR:const f=u.getStatus();if(G(Xt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const S=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(y)>=0?y:B.UNKNOWN}(g.status);l(new K(S,g.message))}else l(new K(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new K(B.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{G(Xt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);G(Xt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}T_(e,n,r){const i=dw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=KO(),a=qO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");G(Xt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let f=!1,p=!1;const g=new gH({Yo:T=>{p?G(Xt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(f||(G(Xt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),G(Xt,`RPC '${e}' stream ${i} sending:`,T),d.send(T))},Zo:()=>d.close()}),S=(T,v,y)=>{T.listen(v,E=>{try{y(E)}catch(A){setTimeout(()=>{throw A},0)}})};return S(d,nc.EventType.OPEN,()=>{p||(G(Xt,`RPC '${e}' stream ${i} transport opened.`),g.o_())}),S(d,nc.EventType.CLOSE,()=>{p||(p=!0,G(Xt,`RPC '${e}' stream ${i} transport closed`),g.a_(),this.E_(d))}),S(d,nc.EventType.ERROR,T=>{p||(p=!0,fh(Xt,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),g.a_(new K(B.UNAVAILABLE,"The operation could not be completed")))}),S(d,nc.EventType.MESSAGE,T=>{var v;if(!p){const y=T.data[0];Oe(!!y,16349);const E=y,A=(E==null?void 0:E.error)||((v=E[0])==null?void 0:v.error);if(A){G(Xt,`RPC '${e}' stream ${i} received error:`,A);const M=A.status;let D=function(C){const I=pt[C];if(I!==void 0)return CD(I)}(M),b=A.message;D===void 0&&(D=B.INTERNAL,b="Unknown error status: "+M+" with message "+A.message),p=!0,g.a_(new K(D,b)),d.close()}else G(Xt,`RPC '${e}' stream ${i} received:`,y),g.u_(y)}}),S(a,HO.STAT_EVENT,T=>{T.stat===Z_.PROXY?G(Xt,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===Z_.NOPROXY&&G(Xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Ky(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t){return new E8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="PersistentStream";class $D{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new K(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(gI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(gI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vH extends $D{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=R8(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?ri(o.readTime):ue.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=cw(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=iw(l)?{documents:x8(s,l)}:{query:A8(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=AD(s,o.resumeToken);const u=aw(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=Qp(s,o.snapshotVersion.toTimestamp());const u=aw(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=k8(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=cw(this.serializer),n.removeTarget=e,this.q_(n)}}class _H extends $D{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=I8(e.writeResults,e.commitTime),r=ri(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=cw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>C8(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{}class SH extends wH{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new K(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,lw(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(B.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,lw(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class EH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class TH{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Ta(this)&&(G(da,"Restarting streams for network reachability change."),await async function(l){const u=ce(l);u.Ea.add(4),await Wh(u),u.Ra.set("Unknown"),u.Ea.delete(4),await hg(u)}(this))})}),this.Ra=new EH(r,i)}}async function hg(t){if(Ta(t))for(const e of t.da)await e(!0)}async function Wh(t){for(const e of t.da)await e(!1)}function zD(t,e){const n=ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),GS(n)?KS(n):su(n).O_()&&qS(n,e))}function HS(t,e){const n=ce(t),r=su(n);n.Ia.delete(e),r.O_()&&WD(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ta(n)&&n.Ra.set("Unknown"))}function qS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}su(t).Y_(e)}function WD(t,e){t.Va.Ue(e),su(t).Z_(e)}function KS(t){t.Va=new v8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),su(t).start(),t.Ra.ua()}function GS(t){return Ta(t)&&!su(t).x_()&&t.Ia.size>0}function Ta(t){return ce(t).Ea.size===0}function HD(t){t.Va=void 0}async function bH(t){t.Ra.set("Online")}async function RH(t){t.Ia.forEach((e,n)=>{qS(t,e)})}async function CH(t,e){HD(t),GS(t)?(t.Ra.ha(e),KS(t)):t.Ra.set("Unknown")}async function IH(t,e,n){if(t.Ra.set("Online"),e instanceof xD&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){G(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zp(t,r)}else if(e instanceof zf?t.Va.Ze(e):e instanceof ID?t.Va.st(e):t.Va.tt(e),!n.isEqual(ue.min()))try{const r=await jD(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ia.get(u);h&&s.Ia.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s.Ia.get(l);if(!h)return;s.Ia.set(l,h.withResumeToken(Ht.EMPTY_BYTE_STRING,h.snapshotVersion)),WD(s,l);const d=new Ns(h.target,l,u,h.sequenceNumber);qS(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(da,"Failed to raise snapshot:",r),await Zp(t,r)}}async function Zp(t,e,n){if(!ru(e))throw e;t.Ea.add(1),await Wh(t),t.Ra.set("Offline"),n||(n=()=>jD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(da,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await hg(t)})}function qD(t,e){return e().catch(n=>Zp(t,n,e))}async function dg(t){const e=ce(t),n=no(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kS;for(;xH(e);)try{const i=await uH(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,AH(e,i)}catch(i){await Zp(e,i)}KD(e)&&GD(e)}function xH(t){return Ta(t)&&t.Ta.length<10}function AH(t,e){t.Ta.push(e);const n=no(t);n.O_()&&n.X_&&n.ea(e.mutations)}function KD(t){return Ta(t)&&!no(t).x_()&&t.Ta.length>0}function GD(t){no(t).start()}async function PH(t){no(t).ra()}async function kH(t){const e=no(t);for(const n of t.Ta)e.ea(n.mutations)}async function OH(t,e,n){const r=t.Ta.shift(),i=FS.from(r,e,n);await qD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await dg(t)}async function DH(t,e){e&&no(t).X_&&await async function(r,i){if(function(o){return m8(o)&&o!==B.ABORTED}(i.code)){const s=r.Ta.shift();no(r).B_(),await qD(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await dg(r)}}(t,e),KD(t)&&GD(t)}async function yI(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),G(da,"RemoteStore received new credentials");const r=Ta(n);n.Ea.add(3),await Wh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hg(n)}async function MH(t,e){const n=ce(t);e?(n.Ea.delete(2),await hg(n)):e||(n.Ea.add(2),await Wh(n),n.Ra.set("Unknown"))}function su(t){return t.ma||(t.ma=function(n,r,i){const s=ce(n);return s.sa(),new vH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:bH.bind(null,t),t_:RH.bind(null,t),r_:CH.bind(null,t),H_:IH.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),GS(t)?KS(t):t.Ra.set("Unknown")):(await t.ma.stop(),HD(t))})),t.ma}function no(t){return t.fa||(t.fa=function(n,r,i){const s=ce(n);return s.sa(),new _H(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:PH.bind(null,t),r_:DH.bind(null,t),ta:kH.bind(null,t),na:OH.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await dg(t)):(await t.fa.stop(),t.Ta.length>0&&(G(da,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new XS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function YS(t,e){if($i("AsyncQueue",`${e}: ${t}`),ru(t))return new K(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{static emptySet(e){return new xl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=rc(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.ga=new nt(re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Hl(e,n,xl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class NH{constructor(){this.queries=_I(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ce(n),s=i.queries;i.queries=_I(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new K(B.ABORTED,"Firestore shutting down"))}}function _I(){return new Ea(t=>pD(t),sg)}async function QS(t,e){const n=ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new LH,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=YS(o,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&ZS(n)}async function JS(t,e){const n=ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function VH(t,e){const n=ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&ZS(n)}function FH(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function ZS(t){t.Ca.forEach(e=>{e.next()})}var fw,wI;(wI=fw||(fw={})).Ma="default",wI.Cache="cache";class eE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.key=e}}class YD{constructor(e){this.key=e}}class BH{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Se(),this.mutatedKeys=Se(),this.eu=mD(e),this.tu=new xl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new vI,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),p=og(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),S=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let T=!1;f&&p?f.data.isEqual(p.data)?g!==S&&(r.track({type:3,doc:p}),T=!0):this.su(f,p)||(r.track({type:2,doc:p}),T=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),T=!0):f&&!p&&(r.track({type:1,doc:f}),T=!0,(l||u)&&(a=!0)),T&&(p?(o=o.add(p),s=S?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,d)=>function(p,g){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:T})}};return S(p)-S(g)}(h.type,d.type)||this.eu(h.doc,d.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Hl(this.query,e.tu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Se(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new YD(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new XD(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Se();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tE="SyncEngine";class jH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class UH{constructor(e){this.key=e,this.hu=!1}}class $H{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ea(a=>pD(a),sg),this.Iu=new Map,this.Eu=new Set,this.du=new nt(re.comparator),this.Au=new Map,this.Ru=new US,this.Vu={},this.mu=new Map,this.fu=Wl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zH(t,e,n=!0){const r=nM(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await QD(r,e,n,!0),i}async function WH(t,e){const n=nM(t);await QD(n,e,!0,!1)}async function QD(t,e,n,r){const i=await cH(t.localStore,ni(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await HH(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&zD(t.remoteStore,i),a}async function HH(t,e,n,r,i){t.pu=(d,f,p)=>async function(S,T,v,y){let E=T.view.ru(v);E.Cs&&(E=await dI(S.localStore,T.query,!1).then(({documents:b})=>T.view.ru(b,E)));const A=y&&y.targetChanges.get(T.targetId),M=y&&y.targetMismatches.get(T.targetId)!=null,D=T.view.applyChanges(E,S.isPrimaryClient,A,M);return EI(S,T.targetId,D.au),D.snapshot}(t,d,f,p);const s=await dI(t.localStore,e,!0),o=new BH(e,s.Qs),a=o.ru(s.documents),l=zh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);EI(t,n,u.au);const h=new jH(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function qH(t,e,n){const r=ce(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!sg(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&HS(r.remoteStore,i.targetId),pw(r,i.targetId)}).catch(nu)):(pw(r,i.targetId),await hw(r.localStore,i.targetId,!0))}async function KH(t,e){const n=ce(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),HS(n.remoteStore,r.targetId))}async function GH(t,e,n){const r=tq(t);try{const i=await function(o,a){const l=ce(o),u=We.now(),h=a.reduce((p,g)=>p.add(g.key),Se());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=zi(),S=Se();return l.Ns.getEntries(p,h).next(T=>{g=T,g.forEach((v,y)=>{y.isValidDocument()||(S=S.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(T=>{d=T;const v=[];for(const y of a){const E=c8(y,d.get(y.key).overlayedDocument);E!=null&&v.push(new fo(y.key,E,oD(E.value.mapValue),xr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,a)}).next(T=>{f=T;const v=T.applyToLocalDocumentSet(d,S);return l.documentOverlayCache.saveOverlays(p,T.batchId,v)})}).then(()=>({batchId:f.batchId,changes:yD(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new nt(we)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await Hh(r,i.changes),await dg(r.remoteStore)}catch(i){const s=YS(i,"Failed to persist write");n.reject(s)}}async function JD(t,e){const n=ce(t);try{const r=await aH(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Oe(o.hu,14607):i.removedDocuments.size>0&&(Oe(o.hu,42227),o.hu=!1))}),await Hh(n,r,e)}catch(r){await nu(r)}}function SI(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ce(o);l.onlineState=a;let u=!1;l.queries.forEach((h,d)=>{for(const f of d.Sa)f.va(a)&&(u=!0)}),u&&ZS(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XH(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new nt(re.comparator);o=o.insert(s,Jt.newNoDocument(s,ue.min()));const a=Se().add(s),l=new ug(ue.min(),new Map,new nt(we),o,a);await JD(r,l),r.du=r.du.remove(s),r.Au.delete(e),nE(r)}else await hw(r.localStore,e,!1).then(()=>pw(r,e,n)).catch(nu)}async function YH(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await oH(n.localStore,e);eM(n,r,null),ZD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hh(n,i)}catch(i){await nu(i)}}async function QH(t,e,n){const r=ce(t);try{const i=await function(o,a){const l=ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Oe(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);eM(r,e,n),ZD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hh(r,i)}catch(i){await nu(i)}}function ZD(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function eM(t,e,n){const r=ce(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function pw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||tM(t,r)})}function tM(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(HS(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),nE(t))}function EI(t,e,n){for(const r of n)r instanceof XD?(t.Ru.addReference(r.key,e),JH(t,r)):r instanceof YD?(G(tE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||tM(t,r.key)):se(19791,{wu:r})}function JH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(tE,"New document in limbo: "+n),t.Eu.add(r),nE(t))}function nE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new re(Be.fromString(e)),r=t.fu.next();t.Au.set(r,new UH(n)),t.du=t.du.insert(n,r),zD(t.remoteStore,new Ns(ni(ig(n.path)),r,"TargetPurposeLimboResolution",tg.ce))}}async function Hh(t,e,n){const r=ce(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=zS.As(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,u){const h=ce(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>j.forEach(u,f=>j.forEach(f.Es,p=>h.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>j.forEach(f.ds,p=>h.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!ru(d))throw d;G(WS,"Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const p=h.Ms.get(f),g=p.snapshotVersion,S=p.withLastLimboFreeSnapshotVersion(g);h.Ms=h.Ms.insert(f,S)}}}(r.localStore,s))}async function ZH(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){G(tE,"User change. New user:",e.toKey());const r=await BD(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new K(B.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hh(n,r.Ls)}}function eq(t,e){const n=ce(t),r=n.Au.get(e);if(r&&r.hu)return Se().add(r.key);{let i=Se();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function nM(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XH.bind(null,e),e.Pu.H_=VH.bind(null,e.eventManager),e.Pu.yu=FH.bind(null,e.eventManager),e}function tq(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QH.bind(null,e),e}class em{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return sH(this.persistence,new nH,e.initialUser,this.serializer)}Cu(e){return new FD($S.mi,this.serializer)}Du(e){return new dH}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}em.provider={build:()=>new em};class nq extends em{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Oe(this.persistence.referenceDelegate instanceof Jp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new U8(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new FD(r=>Jp.mi(r,n),this.serializer)}}class mw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZH.bind(null,this.syncEngine),await MH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NH}()}createDatastore(e){const n=cg(e.databaseInfo.databaseId),r=function(s){return new yH(s)}(e.databaseInfo);return function(s,o,a,l){return new SH(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new TH(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>SI(this.syncEngine,n,0),function(){return mI.v()?new mI:new fH}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,h){const d=new $H(i,s,o,a,l,u);return h&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ce(i);G(da,"RemoteStore shutting down."),s.Ea.add(5),await Wh(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}mw.provider={build:()=>new mw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="FirestoreClient";class rq{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mn.UNAUTHENTICATED,this.clientId=PS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{G(ro,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(ro,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=YS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gy(t,e){t.asyncQueue.verifyOperationInProgress(),G(ro,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await BD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function TI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iq(t);G(ro,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>yI(e.remoteStore,i)),t._onlineComponents=e}async function iq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(ro,"Using user provided OfflineComponentProvider");try{await Gy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;fh("Error using user provided cache. Falling back to memory cache: "+n),await Gy(t,new em)}}else G(ro,"Using default OfflineComponentProvider"),await Gy(t,new nq(void 0));return t._offlineComponents}async function rM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(ro,"Using user provided OnlineComponentProvider"),await TI(t,t._uninitializedComponentsProvider._online)):(G(ro,"Using default OnlineComponentProvider"),await TI(t,new mw))),t._onlineComponents}function sq(t){return rM(t).then(e=>e.syncEngine)}async function tm(t){const e=await rM(t),n=e.eventManager;return n.onListen=zH.bind(null,e.syncEngine),n.onUnlisten=qH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KH.bind(null,e.syncEngine),n}function oq(t,e,n={}){const r=new Mi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new rE({next:f=>{h.Nu(),o.enqueueAndForget(()=>JS(s,d));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new K(B.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new K(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new eE(ig(a.path),h,{includeMetadataChanges:!0,qa:!0});return QS(s,d)}(await tm(t),t.asyncQueue,e,n,r)),r.promise}function aq(t,e,n={}){const r=new Mi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new rE({next:f=>{h.Nu(),o.enqueueAndForget(()=>JS(s,d)),f.fromCache&&l.source==="server"?u.reject(new K(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new eE(a,h,{includeMetadataChanges:!0,qa:!0});return QS(s,d)}(await tm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq="firestore.googleapis.com",RI=!0;class CI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lq,this.ssl=RI}else this.host=e.host,this.ssl=e.ssl??RI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ND;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VD)throw new K(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iM(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mW;switch(r.type){case"firstParty":return new vW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bI.get(n);r&&(G("ComponentProvider","Removing Datastore"),bI.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new po(this.firestore,e,this._query)}}class at{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new at(this.firestore,e,this._key)}toJSON(){return{type:at._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Uh(n,at._jsonSchema))return new at(e,r||null,new re(Be.fromString(n.referencePath)))}}at._jsonSchemaVersion="firestore/documentReference/1.0",at._jsonSchema={type:vt("string",at._jsonSchemaVersion),referencePath:vt("string")};class Gs extends po{constructor(e,n,r){super(e,n,ig(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new re(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function fg(t,e,...n){if(t=tt(t),XO("collection","path",e),t instanceof iE){const r=Be.fromString(e,...n);return BC(r),new Gs(t,null,r)}{if(!(t instanceof at||t instanceof Gs))throw new K(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return BC(r),new Gs(t.firestore,null,r)}}function ou(t,e,...n){if(t=tt(t),arguments.length===1&&(e=PS.newId()),XO("doc","path",e),t instanceof iE){const r=Be.fromString(e,...n);return FC(r),new at(t,null,new re(r))}{if(!(t instanceof at||t instanceof Gs))throw new K(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return FC(r),new at(t.firestore,t instanceof Gs?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="AsyncQueue";class xI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UD(this,"async_queue_retry"),this._c=()=>{const r=Ky();r&&G(II,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ky();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ky();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Mi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ru(e))throw e;G(II,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",AI(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=XS.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&se(47125,{Pc:AI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function AI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class io extends iE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xI(e),this._firestoreClient=void 0,await e}}}function uq(t,e,n){n||(n=qp);const r=Zm(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(ua(s,e))return i;throw new K(B.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new K(B.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VD)throw new K(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&co(e.host)&&CS(e.host),r.initialize({options:e,instanceIdentifier:n})}function pg(t){if(t._terminated)throw new K(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cq(t),t._firestoreClient}function cq(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,u,h){return new LW(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,iM(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new rq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(Ht.fromBase64String(e))}catch(n){throw new K(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jn(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uh(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:vt("string",Jn._jsonSchemaVersion),bytes:vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(Uh(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:vt("string",ii._jsonSchemaVersion),latitude:vt("number"),longitude:vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uh(e,si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new si(e.vectorValues);throw new K(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:vt("string",si._jsonSchemaVersion),vectorValues:vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq=/^__.*__$/;class dq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new $h(e,this.data,n,this.fieldTransforms)}}class sM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:t})}}class oE{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new oE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return nm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oM(this.Ac)&&hq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cg(e)}Cc(e,n,r,i=!1){return new oE({Ac:e,methodName:n,Dc:r,path:$t.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aE(t){const e=t._freezeSettings(),n=cg(t._databaseId);return new fq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pq(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);lE("Data must be an object, but it was:",o,r);const a=aM(r,o);let l,u;if(s.merge)l=new Fn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=gw(e,d,n);if(!o.contains(f))throw new K(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);uM(h,f)||h.push(f)}l=new Fn(h),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new dq(new _n(a),l,u)}class gg extends sE{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gg}}function mq(t,e,n,r){const i=t.Cc(1,e,n);lE("Data must be an object, but it was:",i,r);const s=[],o=_n.empty();ho(r,(l,u)=>{const h=uE(e,l,n);u=tt(u);const d=i.yc(h);if(u instanceof gg)s.push(h);else{const f=qh(u,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new Fn(s);return new sM(o,a,i.fieldTransforms)}function gq(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[gw(e,r,n)],l=[i];if(s.length%2!=0)throw new K(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(gw(e,s[f])),l.push(s[f+1]);const u=[],h=_n.empty();for(let f=a.length-1;f>=0;--f)if(!uM(u,a[f])){const p=a[f];let g=l[f];g=tt(g);const S=o.yc(p);if(g instanceof gg)u.push(p);else{const T=qh(g,S);T!=null&&(u.push(p),h.set(p,T))}}const d=new Fn(u);return new sM(h,d,o.fieldTransforms)}function yq(t,e,n,r=!1){return qh(n,t.Cc(r?4:3,e))}function qh(t,e){if(lM(t=tt(t)))return lE("Unsupported field value:",e,t),aM(t,e);if(t instanceof sE)return function(r,i){if(!oM(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=qh(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return i8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=We.fromDate(r);return{timestampValue:Qp(i.serializer,s)}}if(r instanceof We){const s=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qp(i.serializer,s)}}if(r instanceof ii)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jn)return{bytesValue:AD(i.serializer,r._byteString)};if(r instanceof at){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:jS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof si)return function(o,a){return{mapValue:{fields:{[iD]:{stringValue:sD},[Kp]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return NS(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${eg(r)}`)}(t,e)}function aM(t,e){const n={};return JO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(t,(r,i)=>{const s=qh(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function lM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof ii||t instanceof Jn||t instanceof at||t instanceof sE||t instanceof si)}function lE(t,e,n){if(!lM(n)||!YO(n)){const r=eg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function gw(t,e,n){if((e=tt(e))instanceof mg)return e._internalPath;if(typeof e=="string")return uE(t,e);throw nm("Field path arguments must be of type string or ",t,!1,void 0,n)}const vq=new RegExp("[~\\*/\\[\\]]");function uE(t,e,n){if(e.search(vq)>=0)throw nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mg(...e.split("."))._internalPath}catch{throw nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new K(B.INVALID_ARGUMENT,a+t+l)}function uM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _q(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _q extends cM{data(){return super.data()}}function cE(t,e){return typeof e=="string"?uE(t,e):e instanceof mg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hE{}class dM extends hE{}function dE(t,e,...n){let r=[];e instanceof hE&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof pE).length,a=s.filter(l=>l instanceof fE).length;if(o>1||o>0&&a>0)throw new K(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class fE extends dM{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fE(e,n,r)}_apply(e){const n=this._parse(e);return pM(e._query,n),new po(e.firestore,e.converter,sw(e._query,n))}_parse(e){const n=aE(e.firestore);return function(s,o,a,l,u,h,d){let f;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new K(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){OI(d,h);const g=[];for(const S of d)g.push(kI(l,s,S));f={arrayValue:{values:g}}}else f=kI(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||OI(d,h),f=yq(a,o,d,h==="in"||h==="not-in");return yt.create(u,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class pE extends hE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)pM(o,l),o=sw(o,l)}(e._query,n),new po(e.firestore,e.converter,sw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mE extends dM{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mE(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new K(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new K(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vh(s,o)}(e._query,this._field,this._direction);return new po(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new iu(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function fM(t,e="asc"){const n=e,r=cE("orderBy",t);return mE._create(r,n)}function kI(t,e,n){if(typeof(n=tt(n))=="string"){if(n==="")throw new K(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fD(e)&&n.indexOf("/")!==-1)throw new K(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Be.fromString(n));if(!re.isDocumentKey(r))throw new K(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KC(t,new re(r))}if(n instanceof at)return KC(t,n._key);throw new K(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eg(n)}.`)}function OI(t,e){if(!Array.isArray(t)||t.length===0)throw new K(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pM(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wq{convertValue(e,n="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ho(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Kp].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>ht(o.doubleValue));return new si(n)}convertGeoPoint(e){return new ii(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mh(e));default:return null}}convertTimestamp(e){const n=Zs(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);Oe(LD(r),9688,{name:e});const i=new gh(r.get(1),r.get(3)),s=new re(r.popFirst(5));return i.isEqual(n)||$i(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class sc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zo extends cM{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zo._jsonSchema={type:vt("string",Zo._jsonSchemaVersion),bundleSource:vt("string","DocumentSnapshot"),bundleName:vt("string"),bundle:vt("string")};class Wf extends Zo{data(e={}){return super.data(e)}}class ea{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new sc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wf(this._firestore,this._userDataWriter,r.key,r,new sc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Wf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new sc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Wf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new sc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Eq(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=PS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Eq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(t){t=ir(t,at);const e=ir(t.firestore,io);return oq(pg(e),t._key).then(n=>gM(e,t,n))}ea._jsonSchemaVersion="firestore/querySnapshot/1.0",ea._jsonSchema={type:vt("string",ea._jsonSchemaVersion),bundleSource:vt("string","QuerySnapshot"),bundleName:vt("string"),bundle:vt("string")};class gE extends wq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,n)}}function mM(t){t=ir(t,po);const e=ir(t.firestore,io),n=pg(e),r=new gE(e);return hM(t._query),aq(n,t._query).then(i=>new ea(e,r,t,i))}function yE(t,e,n){t=ir(t,at);const r=ir(t.firestore,io),i=Sq(t.converter,e,n);return vE(r,[pq(aE(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,xr.none())])}function bq(t,e,n,...r){t=ir(t,at);const i=ir(t.firestore,io),s=aE(i);let o;return o=typeof(e=tt(e))=="string"||e instanceof mg?gq(s,"updateDoc",t._key,e,n,r):mq(s,"updateDoc",t._key,e),vE(i,[o.toMutation(t._key,xr.exists(!0))])}function Rq(t){return vE(ir(t.firestore,io),[new VS(t._key,xr.none())])}function Cq(t,...e){var l,u,h;t=tt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||PI(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(PI(e[r])){const d=e[r];e[r]=(l=d.next)==null?void 0:l.bind(d),e[r+1]=(u=d.error)==null?void 0:u.bind(d),e[r+2]=(h=d.complete)==null?void 0:h.bind(d)}let s,o,a;if(t instanceof at)o=ir(t.firestore,io),a=ig(t._key.path),s={next:d=>{e[r]&&e[r](gM(o,t,d))},error:e[r+1],complete:e[r+2]};else{const d=ir(t,po);o=ir(d.firestore,io),a=d._query;const f=new gE(o);s={next:p=>{e[r]&&e[r](new ea(o,f,d,p))},error:e[r+1],complete:e[r+2]},hM(t._query)}return function(f,p,g,S){const T=new rE(S),v=new eE(p,T,g);return f.asyncQueue.enqueueAndForget(async()=>QS(await tm(f),v)),()=>{T.Nu(),f.asyncQueue.enqueueAndForget(async()=>JS(await tm(f),v))}}(pg(o),a,i,s)}function vE(t,e){return function(r,i){const s=new Mi;return r.asyncQueue.enqueueAndForget(async()=>GH(await sq(r),i,s)),s.promise}(pg(t),e)}function gM(t,e,n){const r=n.docs.get(e._key),i=new gE(t);return new Zo(t,i,e._key,r,new sc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){tu=i})(Sa),ca(new Qs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new io(new gW(r.getProvider("auth-internal")),new _W(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gh(u.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ti(MC,LC,e),ti(MC,LC,"esm2020")})();function yM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Iq=yM,vM=new Bh("auth","Firebase",yM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new IS("@firebase/auth");function xq(t,...e){rm.logLevel<=_e.WARN&&rm.warn(`Auth (${Sa}): ${t}`,...e)}function Hf(t,...e){rm.logLevel<=_e.ERROR&&rm.error(`Auth (${Sa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,...e){throw _E(t,...e)}function oi(t,...e){return _E(t,...e)}function _M(t,e,n){const r={...Iq(),[e]:n};return new Bh("auth","Firebase",r).create(e,{appName:t.name})}function Li(t){return _M(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _E(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vM.create(t,...e)}function ie(t,e,...n){if(!t)throw _E(e,...n)}function Ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hf(e),new Error(e)}function Wi(t,e){t||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Aq(){return DI()==="http:"||DI()==="https:"}function DI(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Aq()||Hz()||"connection"in navigator)?navigator.onLine:!0}function kq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=$z()||qz()}get(){return Pq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t,e){Wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Mq=new Kh(3e4,6e4);function Yi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qi(t,e,n,r,i={}){return SM(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=jh({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return Wz()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&co(t.emulatorConfig.host)&&(u.credentials="include"),wM.fetch()(await EM(t,t.config.apiHost,n,a),u)})}async function SM(t,e,n){t._canInitEmulator=!1;const r={...Oq,...e};try{const i=new Nq(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw sf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw sf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw sf(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw _M(t,h,u);kr(t,h)}}catch(i){if(i instanceof fi)throw i;kr(t,"network-request-failed",{message:String(i)})}}async function Gh(t,e,n,r,i={}){const s=await Qi(t,e,n,r,i);return"mfaPendingCredential"in s&&kr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function EM(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?wE(t.config,i):`${t.config.apiScheme}://${i}`;return Dq.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Lq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),Mq.get())})}}function sf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=oi(t,e,r);return i.customData._tokenResponse=n,i}function MI(t){return t!==void 0&&t.enterprise!==void 0}class Vq{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Lq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Fq(t,e){return Qi(t,"GET","/v2/recaptchaConfig",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bq(t,e){return Qi(t,"POST","/v1/accounts:delete",e)}async function im(t,e){return Qi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jq(t,e=!1){const n=tt(t),r=await n.getIdToken(e),i=SE(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Mc(Xy(i.auth_time)),issuedAtTime:Mc(Xy(i.iat)),expirationTime:Mc(Xy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Xy(t){return Number(t)*1e3}function SE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hf("JWT malformed, contained fewer than 3 sections"),null;try{const i=kO(n);return i?JSON.parse(i):(Hf("Failed to decode base64 JWT payload"),null)}catch(i){return Hf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function LI(t){const e=SE(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fi&&Uq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Uq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mc(this.lastLoginAt),this.creationTime=Mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sm(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Sh(t,im(e,{idToken:n}));ie(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?TM(i.providerUserInfo):[],o=Wq(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new vw(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function zq(t){const e=tt(t);await sm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Wq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hq(t,e){const n=await SM(t,{},async()=>{const r=jh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await EM(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&co(t.emulatorConfig.host)&&(l.credentials="include"),wM.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qq(t,e){return Qi(t,"POST","/v2/accounts:revokeToken",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=LI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Hq(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Al;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new $q(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new vw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Sh(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jq(this,e)}reload(){return zq(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await Sh(this,Bq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:g,stsTokenManager:S}=n;ie(d&&S,e,"internal-error");const T=Al.fromJSON(this.name,S);ie(typeof d=="string",e,"internal-error"),_s(r,e.name),_s(i,e.name),ie(typeof f=="boolean",e,"internal-error"),ie(typeof p=="boolean",e,"internal-error"),_s(s,e.name),_s(o,e.name),_s(a,e.name),_s(l,e.name),_s(u,e.name),_s(h,e.name);const v=new Rr({uid:d,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:T,createdAt:u,lastLoginAt:h});return g&&Array.isArray(g)&&(v.providerData=g.map(y=>({...y}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new Al;i.updateFromServerResponse(n);const s=new Rr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?TM(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Al;a.updateFromIdToken(r);const l=new Rr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new vw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new Map;function Pi(t){Wi(t instanceof Function,"Expected a class definition");let e=NI.get(t);return e?(Wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bM.type="NONE";const VI=bM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t,e,n){return`firebase:${t}:${e}:${n}`}class Pl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=qf(this.userKey,i.apiKey,s),this.fullPersistenceKey=qf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await im(this.auth,{idToken:e}).catch(()=>{});return n?Rr._fromGetAccountInfoResponse(this.auth,n,e):null}return Rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pl(Pi(VI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Pi(VI);const o=qf(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let d;if(typeof h=="string"){const f=await im(e,{idToken:h}).catch(()=>{});if(!f)break;d=await Rr._fromGetAccountInfoResponse(e,f,h)}else d=Rr._fromJSON(e,h);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Pl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Pl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PM(e))return"Blackberry";if(kM(e))return"Webos";if(CM(e))return"Safari";if((e.includes("chrome/")||IM(e))&&!e.includes("edge/"))return"Chrome";if(AM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RM(t=nn()){return/firefox\//i.test(t)}function CM(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IM(t=nn()){return/crios\//i.test(t)}function xM(t=nn()){return/iemobile/i.test(t)}function AM(t=nn()){return/android/i.test(t)}function PM(t=nn()){return/blackberry/i.test(t)}function kM(t=nn()){return/webos/i.test(t)}function EE(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Kq(t=nn()){var e;return EE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Gq(){return Kz()&&document.documentMode===10}function OM(t=nn()){return EE(t)||AM(t)||kM(t)||PM(t)||/windows phone/i.test(t)||xM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t,e=[]){let n;switch(t){case"Browser":n=FI(nn());break;case"Worker":n=`${FI(nn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yq(t,e={}){return Qi(t,"GET","/v2/passwordPolicy",Yi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq=6;class Jq{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Qq,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BI(this),this.idTokenSubscription=new BI(this),this.beforeStateQueue=new Xq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pi(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Pl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await im(this,{idToken:e}),r=await Rr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Nn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(Li(this));const n=e?tt(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Yq(this),n=new Jq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pi(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[Pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&xq(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function mo(t){return tt(t)}class BI{constructor(e){this.auth=e,this.observer=null,this.addObserver=t9(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e7(t){yg=t}function MM(t){return yg.loadJS(t)}function t7(){return yg.recaptchaEnterpriseScript}function n7(){return yg.gapiScript}function r7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class i7{constructor(){this.enterprise=new s7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class s7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const o7="recaptcha-enterprise",LM="NO_RECAPTCHA";class a7{constructor(e){this.type=o7,this.auth=mo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Fq(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Vq(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;MI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(LM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new i7().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&MI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=t7();l.length!==0&&(l+=a),MM(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function jI(t,e,n,r=!1,i=!1){const s=new a7(t);let o;if(i)o=LM;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function om(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await jI(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await jI(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(t,e){const n=Zm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ua(s,e??{}))return i;kr(i,"already-initialized")}return n.initialize({options:e})}function u7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function c7(t,e,n){const r=mo(t);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=NM(e),{host:o,port:a}=h7(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(ua(u,r.config.emulator)&&ua(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,co(o)?(CS(`${s}//${o}${l}`),LO("Auth",!0)):d7()}function NM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function h7(t){const e=NM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:UI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:UI(o)}}}function UI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function d7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,n){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function f7(t,e){return Qi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p7(t,e){return Gh(t,"POST","/v1/accounts:signInWithPassword",Yi(t,e))}async function m7(t,e){return Qi(t,"POST","/v1/accounts:sendOobCode",Yi(t,e))}async function g7(t,e){return m7(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y7(t,e){return Gh(t,"POST","/v1/accounts:signInWithEmailLink",Yi(t,e))}async function v7(t,e){return Gh(t,"POST","/v1/accounts:signInWithEmailLink",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends TE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Eh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Eh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return om(e,n,"signInWithPassword",p7);case"emailLink":return y7(e,{email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return om(e,r,"signUpPassword",f7);case"emailLink":return v7(e,{idToken:n,email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(t,e){return Gh(t,"POST","/v1/accounts:signInWithIdp",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7="http://localhost";class fa extends TE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new fa(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return kl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,kl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,kl(e,n)}buildRequest(){const e={requestUri:_7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function S7(t){const e=ec(tc(t)).link,n=e?ec(tc(e)).deep_link_id:null,r=ec(tc(t)).deep_link_id;return(r?ec(tc(r)).link:null)||r||n||e||t}class bE{constructor(e){const n=ec(tc(e)),r=n.apiKey??null,i=n.oobCode??null,s=w7(n.mode??null);ie(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=S7(e);try{return new bE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this.providerId=au.PROVIDER_ID}static credential(e,n){return Eh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=bE.parseLink(n);return ie(r,"argument-error"),Eh._fromEmailAndCode(e,r.code,r.tenantId)}}au.PROVIDER_ID="password";au.EMAIL_PASSWORD_SIGN_IN_METHOD="password";au.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends VM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Xh{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Xh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fa._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ps.credential(n,r)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Xh{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Xh{constructor(){super("twitter.com")}static credential(e,n){return fa._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Os.credential(n,r)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E7(t,e){return Gh(t,"POST","/v1/accounts:signUp",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Rr._fromIdTokenResponse(e,r,i),o=$I(r);return new pa({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$I(r);return new pa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $I(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends fi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,am.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new am(e,n,r,i)}}function FM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?am._fromErrorAndOperation(t,s,e,r):s})}async function T7(t,e,n=!1){const r=await Sh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b7(t,e,n=!1){const{auth:r}=t;if(Nn(r.app))return Promise.reject(Li(r));const i="reauthenticate";try{const s=await Sh(t,FM(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=SE(s.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),pa._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&kr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(t,e,n=!1){if(Nn(t.app))return Promise.reject(Li(t));const r="signIn",i=await FM(t,r,e),s=await pa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function R7(t,e){return BM(mo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(t){const e=mo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function C7(t,e,n){const r=mo(t);await om(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",g7)}async function I7(t,e,n){if(Nn(t.app))return Promise.reject(Li(t));const r=mo(t),o=await om(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",E7).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&jM(t),l}),a=await pa._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function x7(t,e,n){return Nn(t.app)?Promise.reject(Li(t)):R7(tt(t),au.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jM(t),r})}function A7(t,e,n,r){return tt(t).onIdTokenChanged(e,n,r)}function P7(t,e,n){return tt(t).beforeAuthStateChanged(e,n)}function k7(t,e,n,r){return tt(t).onAuthStateChanged(e,n,r)}function O7(t){return tt(t).signOut()}const lm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lm,"1"),this.storage.removeItem(lm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7=1e3,M7=10;class $M extends UM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Gq()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,M7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},D7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$M.type="LOCAL";const L7=$M;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM extends UM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zM.type="SESSION";const WM=zM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new vg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await N7(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=RE("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function F7(t){ai().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function B7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function U7(){return HM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="firebaseLocalStorageDb",$7=1,um="firebaseLocalStorage",KM="fbase_key";class Yh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _g(t,e){return t.transaction([um],e?"readwrite":"readonly").objectStore(um)}function z7(){const t=indexedDB.deleteDatabase(qM);return new Yh(t).toPromise()}function _w(){const t=indexedDB.open(qM,$7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(um,{keyPath:KM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(um)?e(r):(r.close(),await z7(),e(await _w()))})})}async function zI(t,e,n){const r=_g(t,!0).put({[KM]:e,value:n});return new Yh(r).toPromise()}async function W7(t,e){const n=_g(t,!1).get(e),r=await new Yh(n).toPromise();return r===void 0?null:r.value}function WI(t,e){const n=_g(t,!0).delete(e);return new Yh(n).toPromise()}const H7=800,q7=3;class GM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _w(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>q7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vg._getInstance(U7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await B7(),!this.activeServiceWorker)return;this.sender=new V7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _w();return await zI(e,lm,"1"),await WI(e,lm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>W7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>WI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=_g(i,!1).getAll();return new Yh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GM.type="LOCAL";const K7=GM;new Kh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7(t,e){return e?Pi(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends TE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return kl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X7(t){return BM(t.auth,new CE(t),t.bypassAuthState)}function Y7(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),b7(n,new CE(t),t.bypassAuthState)}async function Q7(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),T7(n,new CE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X7;case"linkViaPopup":case"linkViaRedirect":return Q7;case"reauthViaPopup":case"reauthViaRedirect":return Y7;default:kr(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7=new Kh(2e3,1e4);class dl extends XM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=RE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J7.get())};e()}}dl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7="pendingRedirect",Kf=new Map;class eK extends XM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kf.get(this.auth._key());if(!e){try{const r=await tK(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kf.set(this.auth._key(),e)}return this.bypassAuthState||Kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tK(t,e){const n=iK(e),r=rK(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function nK(t,e){Kf.set(t._key(),e)}function rK(t){return Pi(t._redirectPersistence)}function iK(t){return qf(Z7,t.config.apiKey,t.name)}async function sK(t,e,n=!1){if(Nn(t.app))return Promise.reject(Li(t));const r=mo(t),i=G7(r,e),o=await new eK(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK=10*60*1e3;class aK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lK(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YM(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oK&&this.cachedEventUids.clear(),this.cachedEventUids.has(HI(e))}saveEventToCache(e){this.cachedEventUids.add(HI(e)),this.lastProcessedEventTime=Date.now()}}function HI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uK(t,e={}){return Qi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hK=/^https?/;async function dK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await uK(t);for(const n of e)try{if(fK(n))return}catch{}kr(t,"unauthorized-domain")}function fK(t){const e=yw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!hK.test(n))return!1;if(cK.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK=new Kh(3e4,6e4);function qI(){const t=ai().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mK(t){return new Promise((e,n)=>{var i,s,o;function r(){qI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qI(),n(oi(t,"network-request-failed"))},timeout:pK.get()})}if((s=(i=ai().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=ai().gapi)!=null&&o.load)r();else{const a=r7("iframefcb");return ai()[a]=()=>{gapi.load?r():n(oi(t,"network-request-failed"))},MM(`${n7()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Gf=null,e})}let Gf=null;function gK(t){return Gf=Gf||mK(t),Gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK=new Kh(5e3,15e3),vK="__/auth/iframe",_K="emulator/auth/iframe",wK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EK(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wE(e,_K):`https://${t.config.authDomain}/${vK}`,r={apiKey:e.apiKey,appName:t.name,v:Sa},i=SK.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${jh(r).slice(1)}`}async function TK(t){const e=await gK(t),n=ai().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:EK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wK,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=oi(t,"network-request-failed"),a=ai().setTimeout(()=>{s(o)},yK.get());function l(){ai().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RK=500,CK=600,IK="_blank",xK="http://localhost";class KI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AK(t,e,n,r=RK,i=CK){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...bK,width:r.toString(),height:i.toString(),top:s,left:o},u=nn().toLowerCase();n&&(a=IM(u)?IK:n),RM(u)&&(e=e||xK,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(Kq(u)&&a!=="_self")return PK(e||"",a),new KI(null);const d=window.open(e||"",a,h);ie(d,t,"popup-blocked");try{d.focus()}catch{}return new KI(d)}function PK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK="__/auth/handler",OK="emulator/auth/handler",DK=encodeURIComponent("fac");async function GI(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sa,eventId:i};if(e instanceof VM){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",e9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Xh){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${DK}=${encodeURIComponent(l)}`:"";return`${MK(t)}?${jh(a).slice(1)}${u}`}function MK({config:t}){return t.emulator?wE(t,OK):`https://${t.authDomain}/${kK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="webStorageSupport";class LK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WM,this._completeRedirectFn=sK,this._overrideRedirectResult=nK}async _openPopup(e,n,r,i){var o;Wi((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await GI(e,n,r,yw(),i);return AK(e,s,RE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await GI(e,n,r,yw(),i);return F7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Wi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TK(e),r=new aK(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yy,{type:Yy},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Yy];s!==void 0&&n(!!s),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OM()||CM()||EE()}}const NK=LK;var XI="@firebase/auth",YI="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BK(t){ca(new Qs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DM(t)},u=new Zq(r,i,s,l);return u7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ca(new Qs("auth-internal",e=>{const n=mo(e.getProvider("auth").getImmediate());return(r=>new VK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ti(XI,YI,FK(t)),ti(XI,YI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK=5*60,UK=MO("authIdTokenMaxAge")||jK;let QI=null;const $K=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>UK)return;const i=n==null?void 0:n.token;QI!==i&&(QI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function zK(t=BO()){const e=Zm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=l7(t,{popupRedirectResolver:NK,persistence:[K7,L7,WM]}),r=MO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=$K(s.toString());P7(n,o,()=>o(n.currentUser)),A7(n,a=>o(a))}}const i=OO("auth");return i&&c7(n,`http://${i}`),n}function WK(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}e7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=oi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",WK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BK("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="firebasestorage.googleapis.com",JM="storageBucket",HK=2*60*1e3,qK=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut extends fi{constructor(e,n,r=0){super(Qy(e),`Firebase Storage: ${n} (${Qy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var lt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(lt||(lt={}));function Qy(t){return"storage/"+t}function IE(){const t="An unknown error occurred, please check the error payload for server response.";return new ut(lt.UNKNOWN,t)}function KK(t){return new ut(lt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function GK(t){return new ut(lt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ut(lt.UNAUTHENTICATED,t)}function YK(){return new ut(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function QK(t){return new ut(lt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function JK(){return new ut(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZK(){return new ut(lt.CANCELED,"User canceled the upload/download.")}function eG(t){return new ut(lt.INVALID_URL,"Invalid URL '"+t+"'.")}function tG(t){return new ut(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function nG(){return new ut(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+JM+"' property when initializing the app?")}function rG(){return new ut(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iG(){return new ut(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sG(t){return new ut(lt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ww(t){return new ut(lt.INVALID_ARGUMENT,t)}function ZM(){return new ut(lt.APP_DELETED,"The Firebase app was deleted.")}function oG(t){return new ut(lt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lc(t,e){return new ut(lt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Hu(t){throw new ut(lt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(r.path==="")return r;throw tG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(A){A.path_=decodeURIComponent(A.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${h}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},S=n===QM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",v=new RegExp(`^https?://${S}/${i}/${T}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let A=0;A<E.length;A++){const M=E[A],D=M.regex.exec(e);if(D){const b=D[M.indices.bucket];let w=D[M.indices.path];w||(w=""),r=new Bn(b,w),M.postModify(r);break}}if(r==null)throw eG(e);return r}}class aG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function h(...T){u||(u=!0,e.apply(null,T))}function d(T){i=setTimeout(()=>{i=null,t(p,l())},T)}function f(){s&&clearTimeout(s)}function p(T,...v){if(u){f();return}if(T){f(),h.call(null,T,...v);return}if(l()||o){f(),h.call(null,T,...v);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,d(E)}let g=!1;function S(T){g||(g=!0,f(),!u&&(i!==null?(T||(a=2),clearTimeout(i),d(0)):T||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,S(!0)},n),S}function uG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cG(t){return t!==void 0}function hG(t){return typeof t=="object"&&!Array.isArray(t)}function xE(t){return typeof t=="string"||t instanceof String}function JI(t){return AE()&&t instanceof Blob}function AE(){return typeof Blob<"u"}function ZI(t,e,n,r){if(r<e)throw ww(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ww(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function eL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ta;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ta||(ta={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dG(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(e,n,r,i,s,o,a,l,u,h,d,f=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=d,this.retry=f,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,S)=>{this.resolve_=g,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new of(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ta.NO_ERROR,l=s.getStatus();if(!a||dG(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===ta.ABORT;r(!1,new of(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new of(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());cG(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=IE();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?ZM():ZK();o(l)}else{const l=JK();o(l)}};this.canceled_?n(!1,new of(!1,null,!0)):this.backoffId_=lG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class of{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function pG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function mG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function yG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function vG(t,e,n,r,i,s,o=!0,a=!1){const l=eL(t.urlParams),u=t.url+l,h=Object.assign({},t.headers);return gG(h,e),pG(h,n),mG(h,s),yG(h,r),new fG(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _G(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wG(...t){const e=_G();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(AE())return new Blob(t);throw new ut(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function SG(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(t){if(typeof atob>"u")throw sG("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jy{constructor(e,n){this.data=e,this.contentType=n||null}}function TG(t,e){switch(t){case Qr.RAW:return new Jy(tL(e));case Qr.BASE64:case Qr.BASE64URL:return new Jy(nL(t,e));case Qr.DATA_URL:return new Jy(RG(e),CG(e))}throw IE()}function tL(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function bG(t){let e;try{e=decodeURIComponent(t)}catch{throw Lc(Qr.DATA_URL,"Malformed data URL.")}return tL(e)}function nL(t,e){switch(t){case Qr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Lc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Qr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Lc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=EG(e)}catch(i){throw i.message.includes("polyfill")?i:Lc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class rL{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Lc(Qr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=IG(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function RG(t){const e=new rL(t);return e.base64?nL(Qr.BASE64,e.rest):bG(e.rest)}function CG(t){return new rL(t).contentType}function IG(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){let r=0,i="";JI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(JI(this.data_)){const r=this.data_,i=SG(r,e,n);return i===null?null:new Ds(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ds(r,!0)}}static getBlob(...e){if(AE()){const n=e.map(r=>r instanceof Ds?r.data_:r);return new Ds(wG.apply(null,n))}else{const n=e.map(o=>xE(o)?TG(Qr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ds(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t){let e;try{e=JSON.parse(t)}catch{return null}return hG(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function AG(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function sL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PG(t,e){return e}class sn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||PG}}let af=null;function kG(t){return!xE(t)||t.length<2?t:sL(t)}function oL(){if(af)return af;const t=[];t.push(new sn("bucket")),t.push(new sn("generation")),t.push(new sn("metageneration")),t.push(new sn("name","fullPath",!0));function e(s,o){return kG(o)}const n=new sn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new sn("size");return i.xform=r,t.push(i),t.push(new sn("timeCreated")),t.push(new sn("updated")),t.push(new sn("md5Hash",null,!0)),t.push(new sn("cacheControl",null,!0)),t.push(new sn("contentDisposition",null,!0)),t.push(new sn("contentEncoding",null,!0)),t.push(new sn("contentLanguage",null,!0)),t.push(new sn("contentType",null,!0)),t.push(new sn("metadata","customMetadata",!0)),af=t,af}function OG(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Bn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function DG(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return OG(r,t),r}function aL(t,e,n){const r=iL(e);return r===null?null:DG(t,r,n)}function MG(t,e,n,r){const i=iL(e);if(i===null||!xE(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const h=t.bucket,d=t.fullPath,f="/b/"+o(h)+"/o/"+o(d),p=PE(f,n,r),g=eL({alt:"media",token:u});return p+g})[0]}function LG(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class lL{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t){if(!t)throw IE()}function NG(t,e){function n(r,i){const s=aL(t,i,e);return uL(s!==null),s}return n}function VG(t,e){function n(r,i){const s=aL(t,i,e);return uL(s!==null),MG(s,i,t.host,t._protocol)}return n}function cL(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=YK():i=XK():n.getStatus()===402?i=GK(t.bucket):n.getStatus()===403?i=QK(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function FG(t){const e=cL(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=KK(t.path)),s.serverResponse=i.serverResponse,s}return n}function BG(t,e,n){const r=e.fullServerUrl(),i=PE(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new lL(i,s,VG(t,n),o);return a.errorHandler=FG(e),a}function jG(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function UG(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=jG(null,e)),r}function $G(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let A=0;A<2;A++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=UG(e,r,i),h=LG(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Ds.getBlob(d,r,f);if(p===null)throw rG();const g={name:u.fullPath},S=PE(s,t.host,t._protocol),T="POST",v=t.maxUploadRetryTime,y=new lL(S,T,NG(t,n),v);return y.urlParams=g,y.headers=o,y.body=p.uploadData(),y.errorHandler=cL(e),y}class zG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ta.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ta.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ta.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Hu("cannot .send() more than once");if(co(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class WG extends zG{initXhr(){this.xhr_.responseType="text"}}function hL(){return new WG}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this._service=e,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ma(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sL(this._location.path)}get storage(){return this._service}get parent(){const e=xG(this._location.path);if(e===null)return null;const n=new Bn(this._location.bucket,e);return new ma(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw oG(e)}}function HG(t,e,n){t._throwIfRoot("uploadBytes");const r=$G(t.storage,t._location,oL(),new Ds(e,!0),n);return t.storage.makeRequestWithTokens(r,hL).then(i=>({metadata:i,ref:t}))}function qG(t){t._throwIfRoot("getDownloadURL");const e=BG(t.storage,t._location,oL());return t.storage.makeRequestWithTokens(e,hL).then(n=>{if(n===null)throw iG();return n})}function KG(t,e){const n=AG(t._location.path,e),r=new Bn(t._location.bucket,n);return new ma(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GG(t){return/^[A-Za-z]+:\/\//.test(t)}function XG(t,e){return new ma(t,e)}function dL(t,e){if(t instanceof kE){const n=t;if(n._bucket==null)throw nG();const r=new ma(n,n._bucket);return e!=null?dL(r,e):r}else return e!==void 0?KG(t,e):t}function YG(t,e){if(e&&GG(e)){if(t instanceof kE)return XG(t,e);throw ww("To use ref(service, url), the first argument must be a Storage instance.")}else return dL(t,e)}function ex(t,e){const n=e==null?void 0:e[JM];return n==null?null:Bn.makeFromBucketSpec(n,t)}function QG(t,e,n,r={}){t.host=`${e}:${n}`;const i=co(e);i&&(CS(`https://${t.host}/b`),LO("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Bz(s,t.app.options.projectId))}class kE{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=QM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=HK,this._maxUploadRetryTime=qK,this._requests=new Set,i!=null?this._bucket=Bn.makeFromBucketSpec(i,this._host):this._bucket=ex(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=ex(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ma(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new aG(ZM());{const o=vG(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const tx="@firebase/storage",nx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="storage";function JG(t,e,n){return t=tt(t),HG(t,e,n)}function ZG(t){return t=tt(t),qG(t)}function eX(t,e){return t=tt(t),YG(t,e)}function tX(t=BO(),e){t=tt(t);const r=Zm(t,fL).getImmediate({identifier:e}),i=Vz("storage");return i&&nX(r,...i),r}function nX(t,e,n,r={}){QG(t,e,n,r)}function rX(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new kE(n,r,i,e,Sa)}function iX(){ca(new Qs(fL,rX,"PUBLIC").setMultipleInstances(!0)),ti(tx,nx,""),ti(tx,nx,"esm2020")}iX();const pL={apiKey:"AIzaSyBbUnVpOyU1eSSFrQi79ztijFjT0bvMosc",authDomain:"pocket-stylist-3c0fe.firebaseapp.com",projectId:"pocket-stylist-3c0fe",storageBucket:"pocket-stylist-3c0fe.firebasestorage.app",messagingSenderId:"274246899324",appId:"1:274246899324:web:845c91cdaab06299df1bf9"};pL.storageBucket||console.error("CRITICAL: VITE_FIREBASE_STORAGE_BUCKET is missing from environment variables!");const OE=FO(pL),lu=zK(OE),sX=tX(OE),Ji=uq(OE,{}),oX=(t,e)=>x7(lu,t,e),aX=(t,e)=>I7(lu,t,e),lX=()=>O7(lu),uX=t=>C7(lu,t),mL=R.createContext();function DE(){return R.useContext(mL)}function cX({children:t}){const[e,n]=R.useState(null),[r,i]=R.useState(!0);R.useEffect(()=>k7(lu,a=>{n(a),i(!1)}),[]);const s={currentUser:e,loading:r};return O.jsx(mL.Provider,{value:s,children:!r&&t})}const hX="Left",dX="Right",fX="Up",pX="Down",fl={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Sw={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},rx="mousemove",ix="mouseup",mX="touchend",gX="touchmove",yX="touchstart";function vX(t,e,n,r){return t>e?n>0?dX:hX:r>0?pX:fX}function sx(t,e){if(e===0)return t;const n=Math.PI/180*e,r=t[0]*Math.cos(n)+t[1]*Math.sin(n),i=t[1]*Math.cos(n)-t[0]*Math.sin(n);return[r,i]}function _X(t,e){const n=h=>{const d="touches"in h;d&&h.touches.length>1||t((f,p)=>{p.trackMouse&&!d&&(document.addEventListener(rx,r),document.addEventListener(ix,o));const{clientX:g,clientY:S}=d?h.touches[0]:h,T=sx([g,S],p.rotationAngle);return p.onTouchStartOrOnMouseDown&&p.onTouchStartOrOnMouseDown({event:h}),Object.assign(Object.assign(Object.assign({},f),Sw),{initial:T.slice(),xy:T,start:h.timeStamp||0})})},r=h=>{t((d,f)=>{const p="touches"in h;if(p&&h.touches.length>1)return d;if(h.timeStamp-d.start>f.swipeDuration)return d.swiping?Object.assign(Object.assign({},d),{swiping:!1}):d;const{clientX:g,clientY:S}=p?h.touches[0]:h,[T,v]=sx([g,S],f.rotationAngle),y=T-d.xy[0],E=v-d.xy[1],A=Math.abs(y),M=Math.abs(E),D=(h.timeStamp||0)-d.start,b=Math.sqrt(A*A+M*M)/(D||1),w=[y/(D||1),E/(D||1)],C=vX(A,M,y,E),I=typeof f.delta=="number"?f.delta:f.delta[C.toLowerCase()]||fl.delta;if(A<I&&M<I&&!d.swiping)return d;const x={absX:A,absY:M,deltaX:y,deltaY:E,dir:C,event:h,first:d.first,initial:d.initial,velocity:b,vxvy:w};x.first&&f.onSwipeStart&&f.onSwipeStart(x),f.onSwiping&&f.onSwiping(x);let L=!1;return(f.onSwiping||f.onSwiped||f[`onSwiped${C}`])&&(L=!0),L&&f.preventScrollOnSwipe&&f.trackTouch&&h.cancelable&&h.preventDefault(),Object.assign(Object.assign({},d),{first:!1,eventData:x,swiping:!0})})},i=h=>{t((d,f)=>{let p;if(d.swiping&&d.eventData){if(h.timeStamp-d.start<f.swipeDuration){p=Object.assign(Object.assign({},d.eventData),{event:h}),f.onSwiped&&f.onSwiped(p);const g=f[`onSwiped${p.dir}`];g&&g(p)}}else f.onTap&&f.onTap({event:h});return f.onTouchEndOrOnMouseUp&&f.onTouchEndOrOnMouseUp({event:h}),Object.assign(Object.assign(Object.assign({},d),Sw),{eventData:p})})},s=()=>{document.removeEventListener(rx,r),document.removeEventListener(ix,o)},o=h=>{s(),i(h)},a=(h,d)=>{let f=()=>{};if(h&&h.addEventListener){const p=Object.assign(Object.assign({},fl.touchEventOptions),d.touchEventOptions),g=[[yX,n,p],[gX,r,Object.assign(Object.assign({},p),d.preventScrollOnSwipe?{passive:!1}:{})],[mX,i,p]];g.forEach(([S,T,v])=>h.addEventListener(S,T,v)),f=()=>g.forEach(([S,T])=>h.removeEventListener(S,T))}return f},u={ref:h=>{h!==null&&t((d,f)=>{if(d.el===h)return d;const p={};return d.el&&d.el!==h&&d.cleanUpTouch&&(d.cleanUpTouch(),p.cleanUpTouch=void 0),f.trackTouch&&h&&(p.cleanUpTouch=a(h,f)),Object.assign(Object.assign(Object.assign({},d),{el:h}),p)})}};return e.trackMouse&&(u.onMouseDown=n),[u,a]}function wX(t,e,n,r){return!e.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?e.preventScrollOnSwipe!==n.preventScrollOnSwipe||e.touchEventOptions.passive!==n.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})}function SX(t){const{trackMouse:e}=t,n=R.useRef(Object.assign({},Sw)),r=R.useRef(Object.assign({},fl)),i=R.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},fl),t);let s;for(s in fl)r.current[s]===void 0&&(r.current[s]=fl[s]);const[o,a]=R.useMemo(()=>_X(l=>n.current=l(n.current,r.current),{trackMouse:e}),[e]);return n.current=wX(n.current,r.current,i.current,a),o}var gL={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ox=dt.createContext&&dt.createContext(gL),EX=["attr","size","title"];function TX(t,e){if(t==null)return{};var n=bX(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}function ax(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ax(Object(n),!0).forEach(function(r){RX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ax(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RX(t,e,n){return e=CX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CX(t){var e=IX(t,"string");return typeof e=="symbol"?e:e+""}function IX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yL(t){return t&&t.map((e,n)=>dt.createElement(e.tag,hm({key:n},e.attr),yL(e.child)))}function xX(t){return e=>dt.createElement(AX,cm({attr:hm({},t.attr)},e),yL(t.child))}function AX(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=TX(t,EX),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),dt.createElement("svg",cm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:hm(hm({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&dt.createElement("title",null,s),t.children)};return ox!==void 0?dt.createElement(ox.Consumer,null,n=>e(n)):e(gL)}function PX(t){return xX({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}const ME=R.createContext({});function LE(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const NE=typeof window<"u",vL=NE?R.useLayoutEffect:R.useEffect,wg=R.createContext(null);function VE(t,e){t.indexOf(e)===-1&&t.push(e)}function FE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Hi=(t,e,n)=>n>e?e:n<t?t:n;let BE=()=>{};const qi={},_L=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function wL(t){return typeof t=="object"&&t!==null}const SL=t=>/^0[^.\s]+$/u.test(t);function jE(t){let e;return()=>(e===void 0&&(e=t()),e)}const sr=t=>t,kX=(t,e)=>n=>e(t(n)),Qh=(...t)=>t.reduce(kX),Th=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class UE{constructor(){this.subscriptions=[]}add(e){return VE(this.subscriptions,e),()=>FE(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const li=t=>t*1e3,er=t=>t/1e3;function EL(t,e){return e?t*(1e3/e):0}const TL=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,OX=1e-7,DX=12;function MX(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=TL(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>OX&&++a<DX);return o}function Jh(t,e,n,r){if(t===e&&n===r)return sr;const i=s=>MX(s,0,1,t,n);return s=>s===0||s===1?s:TL(i(s),e,r)}const bL=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,RL=t=>e=>1-t(1-e),CL=Jh(.33,1.53,.69,.99),$E=RL(CL),IL=bL($E),xL=t=>(t*=2)<1?.5*$E(t):.5*(2-Math.pow(2,-10*(t-1))),zE=t=>1-Math.sin(Math.acos(t)),AL=RL(zE),PL=bL(zE),LX=Jh(.42,0,1,1),NX=Jh(0,0,.58,1),kL=Jh(.42,0,.58,1),VX=t=>Array.isArray(t)&&typeof t[0]!="number",OL=t=>Array.isArray(t)&&typeof t[0]=="number",FX={linear:sr,easeIn:LX,easeInOut:kL,easeOut:NX,circIn:zE,circInOut:PL,circOut:AL,backIn:$E,backInOut:IL,backOut:CL,anticipate:xL},BX=t=>typeof t=="string",lx=t=>{if(OL(t)){BE(t.length===4);const[e,n,r,i]=t;return Jh(e,n,r,i)}else if(BX(t))return FX[t];return t},lf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jX(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(h){o.has(h)&&(u.schedule(h),t()),h(a)}const u={schedule:(h,d=!1,f=!1)=>{const g=f&&i?n:r;return d&&o.add(h),g.has(h)||g.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,u.process(h))}};return u}const UX=40;function DL(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=lf.reduce((E,A)=>(E[A]=jX(s),E),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:h,update:d,preRender:f,render:p,postRender:g}=o,S=()=>{const E=qi.useManualTiming?i.timestamp:performance.now();n=!1,qi.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,UX),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),h.process(i),d.process(i),f.process(i),p.process(i),g.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},T=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:lf.reduce((E,A)=>{const M=o[A];return E[A]=(D,b=!1,w=!1)=>(n||T(),M.schedule(D,b,w)),E},{}),cancel:E=>{for(let A=0;A<lf.length;A++)o[lf[A]].cancel(E)},state:i,steps:o}}const{schedule:Ge,cancel:so,state:Ft,steps:Zy}=DL(typeof requestAnimationFrame<"u"?requestAnimationFrame:sr,!0);let Xf;function $X(){Xf=void 0}const Sn={now:()=>(Xf===void 0&&Sn.set(Ft.isProcessing||qi.useManualTiming?Ft.timestamp:performance.now()),Xf),set:t=>{Xf=t,queueMicrotask($X)}},ML=t=>e=>typeof e=="string"&&e.startsWith(t),LL=ML("--"),zX=ML("var(--"),WE=t=>zX(t)?WX.test(t.split("/*")[0].trim()):!1,WX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bh={...uu,transform:t=>Hi(0,1,t)},uf={...uu,default:1},Nc=t=>Math.round(t*1e5)/1e5,HE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HX(t){return t==null}const qX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qE=(t,e)=>n=>!!(typeof n=="string"&&qX.test(n)&&n.startsWith(t)||e&&!HX(n)&&Object.prototype.hasOwnProperty.call(n,e)),NL=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(HE);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},KX=t=>Hi(0,255,t),ev={...uu,transform:t=>Math.round(KX(t))},Ko={test:qE("rgb","red"),parse:NL("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ev.transform(t)+", "+ev.transform(e)+", "+ev.transform(n)+", "+Nc(bh.transform(r))+")"};function GX(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ew={test:qE("#"),parse:GX,transform:Ko.transform},Zh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ts=Zh("deg"),ui=Zh("%"),oe=Zh("px"),XX=Zh("vh"),YX=Zh("vw"),ux={...ui,parse:t=>ui.parse(t)/100,transform:t=>ui.transform(t*100)},pl={test:qE("hsl","hue"),parse:NL("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ui.transform(Nc(e))+", "+ui.transform(Nc(n))+", "+Nc(bh.transform(r))+")"},mt={test:t=>Ko.test(t)||Ew.test(t)||pl.test(t),parse:t=>Ko.test(t)?Ko.parse(t):pl.test(t)?pl.parse(t):Ew.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ko.transform(t):pl.transform(t),getAnimatableNone:t=>{const e=mt.parse(t);return e.alpha=0,mt.transform(e)}},QX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function JX(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(HE))==null?void 0:e.length)||0)+(((n=t.match(QX))==null?void 0:n.length)||0)>0}const VL="number",FL="color",ZX="var",eY="var(",cx="${}",tY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(tY,l=>(mt.test(l)?(r.color.push(s),i.push(FL),n.push(mt.parse(l))):l.startsWith(eY)?(r.var.push(s),i.push(ZX),n.push(l)):(r.number.push(s),i.push(VL),n.push(parseFloat(l))),++s,cx)).split(cx);return{values:n,split:a,indexes:r,types:i}}function BL(t){return Rh(t).values}function jL(t){const{split:e,types:n}=Rh(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===VL?s+=Nc(i[o]):a===FL?s+=mt.transform(i[o]):s+=i[o]}return s}}const nY=t=>typeof t=="number"?0:mt.test(t)?mt.getAnimatableNone(t):t;function rY(t){const e=BL(t);return jL(t)(e.map(nY))}const oo={test:JX,parse:BL,createTransformer:jL,getAnimatableNone:rY};function tv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function iY({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=tv(l,a,t+1/3),s=tv(l,a,t),o=tv(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function dm(t,e){return n=>n>0?e:t}const Qe=(t,e,n)=>t+(e-t)*n,nv=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},sY=[Ew,Ko,pl],oY=t=>sY.find(e=>e.test(t));function hx(t){const e=oY(t);if(!e)return!1;let n=e.parse(t);return e===pl&&(n=iY(n)),n}const dx=(t,e)=>{const n=hx(t),r=hx(e);if(!n||!r)return dm(t,e);const i={...n};return s=>(i.red=nv(n.red,r.red,s),i.green=nv(n.green,r.green,s),i.blue=nv(n.blue,r.blue,s),i.alpha=Qe(n.alpha,r.alpha,s),Ko.transform(i))},Tw=new Set(["none","hidden"]);function aY(t,e){return Tw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function lY(t,e){return n=>Qe(t,e,n)}function KE(t){return typeof t=="number"?lY:typeof t=="string"?WE(t)?dm:mt.test(t)?dx:hY:Array.isArray(t)?UL:typeof t=="object"?mt.test(t)?dx:uY:dm}function UL(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>KE(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function uY(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=KE(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function cY(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const hY=(t,e)=>{const n=oo.createTransformer(e),r=Rh(t),i=Rh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Tw.has(t)&&!i.values.length||Tw.has(e)&&!r.values.length?aY(t,e):Qh(UL(cY(r,i),i.values),n):dm(t,e)};function $L(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qe(t,e,n):KE(t)(t,e)}const dY=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ge.update(e,n),stop:()=>so(e),now:()=>Ft.isProcessing?Ft.timestamp:Sn.now()}},zL=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},fm=2e4;function GE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<fm;)e+=n,r=t.next(e);return e>=fm?1/0:e}function fY(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(GE(r),fm);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:er(i)}}const pY=5;function WL(t,e,n){const r=Math.max(e-pY,0);return EL(n-t(r),e-r)}const st={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rv=.001;function mY({duration:t=st.duration,bounce:e=st.bounce,velocity:n=st.velocity,mass:r=st.mass}){let i,s,o=1-e;o=Hi(st.minDamping,st.maxDamping,o),t=Hi(st.minDuration,st.maxDuration,er(t)),o<1?(i=u=>{const h=u*o,d=h*t,f=h-n,p=bw(u,o),g=Math.exp(-d);return rv-f/p*g},s=u=>{const d=u*o*t,f=d*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-d),S=bw(Math.pow(u,2),o);return(-i(u)+rv>0?-1:1)*((f-p)*g)/S}):(i=u=>{const h=Math.exp(-u*t),d=(u-n)*t+1;return-rv+h*d},s=u=>{const h=Math.exp(-u*t),d=(n-u)*(t*t);return h*d});const a=5/t,l=yY(i,s,a);if(t=li(t),isNaN(l))return{stiffness:st.stiffness,damping:st.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const gY=12;function yY(t,e,n){let r=n;for(let i=1;i<gY;i++)r=r-t(r)/e(r);return r}function bw(t,e){return t*Math.sqrt(1-e*e)}const vY=["duration","bounce"],_Y=["stiffness","damping","mass"];function fx(t,e){return e.some(n=>t[n]!==void 0)}function wY(t){let e={velocity:st.velocity,stiffness:st.stiffness,damping:st.damping,mass:st.mass,isResolvedFromDuration:!1,...t};if(!fx(t,_Y)&&fx(t,vY))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Hi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:st.mass,stiffness:i,damping:s}}else{const n=mY(t);e={...e,...n,mass:st.mass},e.isResolvedFromDuration=!0}return e}function pm(t=st.visualDuration,e=st.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:h,duration:d,velocity:f,isResolvedFromDuration:p}=wY({...n,velocity:-er(n.velocity||0)}),g=f||0,S=u/(2*Math.sqrt(l*h)),T=o-s,v=er(Math.sqrt(l/h)),y=Math.abs(T)<5;r||(r=y?st.restSpeed.granular:st.restSpeed.default),i||(i=y?st.restDelta.granular:st.restDelta.default);let E;if(S<1){const M=bw(v,S);E=D=>{const b=Math.exp(-S*v*D);return o-b*((g+S*v*T)/M*Math.sin(M*D)+T*Math.cos(M*D))}}else if(S===1)E=M=>o-Math.exp(-v*M)*(T+(g+v*T)*M);else{const M=v*Math.sqrt(S*S-1);E=D=>{const b=Math.exp(-S*v*D),w=Math.min(M*D,300);return o-b*((g+S*v*T)*Math.sinh(w)+M*T*Math.cosh(w))/M}}const A={calculatedDuration:p&&d||null,next:M=>{const D=E(M);if(p)a.done=M>=d;else{let b=M===0?g:0;S<1&&(b=M===0?li(g):WL(E,M,D));const w=Math.abs(b)<=r,C=Math.abs(o-D)<=i;a.done=w&&C}return a.value=a.done?o:D,a},toString:()=>{const M=Math.min(GE(A),fm),D=zL(b=>A.next(M*b).value,M,30);return M+"ms "+D},toTransition:()=>{}};return A}pm.applyToOptions=t=>{const e=fY(t,100,pm);return t.ease=e.ease,t.duration=li(e.duration),t.type="keyframes",t};function Rw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const d=t[0],f={done:!1,value:d},p=w=>a!==void 0&&w<a||l!==void 0&&w>l,g=w=>a===void 0?l:l===void 0||Math.abs(a-w)<Math.abs(l-w)?a:l;let S=n*e;const T=d+S,v=o===void 0?T:o(T);v!==T&&(S=v-d);const y=w=>-S*Math.exp(-w/r),E=w=>v+y(w),A=w=>{const C=y(w),I=E(w);f.done=Math.abs(C)<=u,f.value=f.done?v:I};let M,D;const b=w=>{p(f.value)&&(M=w,D=pm({keyframes:[f.value,g(f.value)],velocity:WL(E,w,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return b(0),{calculatedDuration:null,next:w=>{let C=!1;return!D&&M===void 0&&(C=!0,A(w),b(w)),M!==void 0&&w>=M?D.next(w-M):(!C&&A(w),f)}}}function SY(t,e,n){const r=[],i=n||qi.mix||$L,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||sr:e;a=Qh(l,a)}r.push(a)}return r}function EY(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(BE(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=SY(e,r,i),l=a.length,u=h=>{if(o&&h<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(h<t[d+1]);d++);const f=Th(t[d],t[d+1],h);return a[d](f)};return n?h=>u(Hi(t[0],t[s-1],h)):u}function TY(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Th(0,e,r);t.push(Qe(n,1,i))}}function bY(t){const e=[0];return TY(e,t.length-1),e}function RY(t,e){return t.map(n=>n*e)}function CY(t,e){return t.map(()=>e||kL).splice(0,t.length-1)}function Vc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=VX(r)?r.map(lx):lx(r),s={done:!1,value:e[0]},o=RY(n&&n.length===e.length?n:bY(e),t),a=EY(o,e,{ease:Array.isArray(i)?i:CY(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const IY=t=>t!==null;function XE(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(IY),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const xY={decay:Rw,inertia:Rw,tween:Vc,keyframes:Vc,spring:pm};function HL(t){typeof t.type=="string"&&(t.type=xY[t.type])}class YE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const AY=t=>t/100;class QE extends YE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Sn.now()&&this.tick(Sn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;HL(e);const{type:n=Vc,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Vc;l!==Vc&&typeof a[0]!="number"&&(this.mixKeyframes=Qh(AY,$L(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=GE(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:h,repeat:d,repeatType:f,repeatDelay:p,type:g,onUpdate:S,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,A=r;if(d){const w=Math.min(this.currentTime,i)/a;let C=Math.floor(w),I=w%1;!I&&w>=1&&(I=1),I===1&&C--,C=Math.min(C,d+1),!!(C%2)&&(f==="reverse"?(I=1-I,p&&(I-=p/a)):f==="mirror"&&(A=o)),E=Hi(0,1,I)*a}const M=y?{done:!1,value:h[0]}:A.next(E);s&&(M.value=s(M.value));let{done:D}=M;!y&&l!==null&&(D=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return b&&g!==Rw&&(M.value=XE(h,this.options,T,this.speed)),S&&S(M.value),b&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return er(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+er(e)}get time(){return er(this.currentTime)}set time(e){var n;e=li(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Sn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=er(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=dY,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Sn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function PY(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Go=t=>t*180/Math.PI,Cw=t=>{const e=Go(Math.atan2(t[1],t[0]));return Iw(e)},kY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Cw,rotateZ:Cw,skewX:t=>Go(Math.atan(t[1])),skewY:t=>Go(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Iw=t=>(t=t%360,t<0&&(t+=360),t),px=Cw,mx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),gx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),OY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mx,scaleY:gx,scale:t=>(mx(t)+gx(t))/2,rotateX:t=>Iw(Go(Math.atan2(t[6],t[5]))),rotateY:t=>Iw(Go(Math.atan2(-t[2],t[0]))),rotateZ:px,rotate:px,skewX:t=>Go(Math.atan(t[4])),skewY:t=>Go(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function xw(t){return t.includes("scale")?1:0}function Aw(t,e){if(!t||t==="none")return xw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=OY,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=kY,i=a}if(!i)return xw(e);const s=r[e],o=i[1].split(",").map(MY);return typeof s=="function"?s(o):o[s]}const DY=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Aw(n,e)};function MY(t){return parseFloat(t.trim())}const cu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hu=new Set(cu),yx=t=>t===uu||t===oe,LY=new Set(["x","y","z"]),NY=cu.filter(t=>!LY.has(t));function VY(t){const e=[];return NY.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const na={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Aw(e,"x"),y:(t,{transform:e})=>Aw(e,"y")};na.translateX=na.x;na.translateY=na.y;const ra=new Set;let Pw=!1,kw=!1,Ow=!1;function qL(){if(kw){const t=Array.from(ra).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=VY(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}kw=!1,Pw=!1,ra.forEach(t=>t.complete(Ow)),ra.clear()}function KL(){ra.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(kw=!0)})}function FY(){Ow=!0,KL(),qL(),Ow=!1}class JE{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ra.add(this),Pw||(Pw=!0,Ge.read(KL),Ge.resolveKeyframes(qL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}PY(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ra.delete(this)}cancel(){this.state==="scheduled"&&(ra.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const BY=t=>t.startsWith("--");function jY(t,e,n){BY(e)?t.style.setProperty(e,n):t.style[e]=n}const UY=jE(()=>window.ScrollTimeline!==void 0),$Y={};function zY(t,e){const n=jE(t);return()=>$Y[e]??n()}const GL=zY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,vx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oc([0,.65,.55,1]),circOut:oc([.55,0,1,.45]),backIn:oc([.31,.01,.66,-.59]),backOut:oc([.33,1.53,.69,.99])};function XL(t,e){if(t)return typeof t=="function"?GL()?zL(t,e):"ease-out":OL(t)?oc(t):Array.isArray(t)?t.map(n=>XL(n,e)||vx.easeOut):vx[t]}function WY(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const h={[e]:n};l&&(h.offset=l);const d=XL(a,i);Array.isArray(d)&&(h.easing=d);const f={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(h,f)}function YL(t){return typeof t=="function"&&"applyToOptions"in t}function HY({type:t,...e}){return YL(t)&&GL()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class qY extends YE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,BE(typeof e.type!="string");const u=HY(e);this.animation=WY(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=XE(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):jY(n,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return er(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+er(e)}get time(){return er(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=li(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&UY()?(this.animation.timeline=e,sr):n(this)}}const QL={anticipate:xL,backInOut:IL,circInOut:PL};function KY(t){return t in QL}function GY(t){typeof t.ease=="string"&&KY(t.ease)&&(t.ease=QL[t.ease])}const _x=10;class XY extends qY{constructor(e){GY(e),HL(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new QE({...o,autoplay:!1}),l=li(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-_x).value,a.sample(l).value,_x),a.stop()}}const wx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(oo.test(t)||t==="0")&&!t.startsWith("url("));function YY(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function QY(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=wx(i,e),a=wx(s,e);return!o||!a?!1:YY(t)||(n==="spring"||YL(n))&&r}function Dw(t){t.duration=0,t.type="keyframes"}const JY=new Set(["opacity","clipPath","filter","transform"]),ZY=jE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function eQ(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return ZY()&&n&&JY.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const tQ=40;class nQ extends YE{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:h,...d}){var g;super(),this.stop=()=>{var S,T;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=Sn.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:h,...d},p=(h==null?void 0:h.KeyframeResolver)||JE;this.keyframeResolver=new p(a,(S,T,v)=>this.onKeyframesResolved(S,T,f,!v),l,u,h),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:h}=r;this.resolvedAt=Sn.now(),QY(e,s,o,a)||((qi.instantAnimations||!l)&&(h==null||h(XE(e,r,n))),e[0]=e[e.length-1],Dw(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>tQ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!u&&eQ(f)?new XY({...f,element:f.motionValue.owner.current}):new QE(f);p.finished.then(()=>this.notifyFinished()).catch(sr),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),FY()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const rQ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iQ(t){const e=rQ.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function JL(t,e,n=1){const[r,i]=iQ(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return _L(o)?parseFloat(o):o}return WE(i)?JL(i,e,n+1):i}function ZE(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const ZL=new Set(["width","height","top","left","right","bottom",...cu]),sQ={test:t=>t==="auto",parse:t=>t},eN=t=>e=>e.test(t),tN=[uu,oe,ui,Ts,YX,XX,sQ],Sx=t=>tN.find(eN(t));function oQ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||SL(t):!0}const aQ=new Set(["brightness","contrast","saturate","opacity"]);function lQ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(HE)||[];if(!r)return t;const i=n.replace(r,"");let s=aQ.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const uQ=/\b([a-z-]*)\(.*?\)/gu,Mw={...oo,getAnimatableNone:t=>{const e=t.match(uQ);return e?e.map(lQ).join(" "):t}},Ex={...uu,transform:Math.round},cQ={rotate:Ts,rotateX:Ts,rotateY:Ts,rotateZ:Ts,scale:uf,scaleX:uf,scaleY:uf,scaleZ:uf,skew:Ts,skewX:Ts,skewY:Ts,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:bh,originX:ux,originY:ux,originZ:oe},eT={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,backgroundPositionX:oe,backgroundPositionY:oe,...cQ,zIndex:Ex,fillOpacity:bh,strokeOpacity:bh,numOctaves:Ex},hQ={...eT,color:mt,backgroundColor:mt,outlineColor:mt,fill:mt,stroke:mt,borderColor:mt,borderTopColor:mt,borderRightColor:mt,borderBottomColor:mt,borderLeftColor:mt,filter:Mw,WebkitFilter:Mw},nN=t=>hQ[t];function rN(t,e){let n=nN(t);return n!==Mw&&(n=oo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const dQ=new Set(["auto","none","0"]);function fQ(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!dQ.has(s)&&Rh(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=rN(n,i)}class pQ extends JE{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),WE(u))){const h=JL(u,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!ZL.has(r)||e.length!==2)return;const[i,s]=e,o=Sx(i),a=Sx(s);if(o!==a)if(yx(o)&&yx(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else na[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||oQ(e[i]))&&r.push(i);r.length&&fQ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=na[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=na[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function mQ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const iN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function sN(t){return wL(t)&&"offsetHeight"in t}const Tx=30,gQ=t=>!isNaN(parseFloat(t));class yQ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Sn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Sn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=gQ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new UE);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ge.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Tx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Tx);return EL(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ql(t,e){return new yQ(t,e)}const{schedule:tT}=DL(queueMicrotask,!1),_r={x:!1,y:!1};function oN(){return _r.x||_r.y}function vQ(t){return t==="x"||t==="y"?_r[t]?null:(_r[t]=!0,()=>{_r[t]=!1}):_r.x||_r.y?null:(_r.x=_r.y=!0,()=>{_r.x=_r.y=!1})}function aN(t,e){const n=mQ(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function bx(t){return!(t.pointerType==="touch"||oN())}function _Q(t,e,n={}){const[r,i,s]=aN(t,n),o=a=>{if(!bx(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const h=d=>{bx(d)&&(u(d),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const lN=(t,e)=>e?t===e?!0:lN(t,e.parentElement):!1,nT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function SQ(t){return wQ.has(t.tagName)||t.tabIndex!==-1}const Yf=new WeakSet;function Rx(t){return e=>{e.key==="Enter"&&t(e)}}function iv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const EQ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Rx(()=>{if(Yf.has(n))return;iv(n,"down");const i=Rx(()=>{iv(n,"up")}),s=()=>iv(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Cx(t){return nT(t)&&!oN()}function TQ(t,e,n={}){const[r,i,s]=aN(t,n),o=a=>{const l=a.currentTarget;if(!Cx(a))return;Yf.add(l);const u=e(l,a),h=(p,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),Yf.has(l)&&Yf.delete(l),Cx(p)&&typeof u=="function"&&u(p,{success:g})},d=p=>{h(p,l===window||l===document||n.useGlobalTarget||lN(l,p.target))},f=p=>{h(p,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),sN(a)&&(a.addEventListener("focus",u=>EQ(u,i)),!SQ(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function uN(t){return wL(t)&&"ownerSVGElement"in t}function bQ(t){return uN(t)&&t.tagName==="svg"}const Zt=t=>!!(t&&t.getVelocity),RQ=[...tN,mt,oo],CQ=t=>RQ.find(eN(t)),rT=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Ix(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function IQ(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Ix(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Ix(t[i],null)}}}}function xQ(...t){return R.useCallback(IQ(...t),t)}class AQ extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=sN(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PQ({children:t,isPresent:e,anchorX:n,root:r}){const i=R.useId(),s=R.useRef(null),o=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=R.useContext(rT),l=xQ(s,t==null?void 0:t.ref);return R.useInsertionEffect(()=>{const{width:u,height:h,top:d,left:f,right:p}=o.current;if(e||!s.current||!u||!h)return;const g=n==="left"?`left: ${f}`:`right: ${p}`;s.current.dataset.motionPopId=i;const S=document.createElement("style");a&&(S.nonce=a);const T=r??document.head;return T.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${g}px !important;
            top: ${d}px !important;
          }
        `),()=>{T.contains(S)&&T.removeChild(S)}},[e]),O.jsx(AQ,{isPresent:e,childRef:s,sizeRef:o,children:R.cloneElement(t,{ref:l})})}const kQ=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=LE(OQ),h=R.useId();let d=!0,f=R.useMemo(()=>(d=!1,{id:h,initial:e,isPresent:n,custom:i,onExitComplete:p=>{u.set(p,!0);for(const g of u.values())if(!g)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,r]);return s&&d&&(f={...f}),R.useMemo(()=>{u.forEach((p,g)=>u.set(g,!1))},[n]),R.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=O.jsx(PQ,{isPresent:n,anchorX:a,root:l,children:t})),O.jsx(wg.Provider,{value:f,children:t})};function OQ(){return new Map}function cN(t=!0){const e=R.useContext(wg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=R.useId();R.useEffect(()=>{if(t)return i(s)},[t]);const o=R.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const cf=t=>t.key||"";function xx(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const DQ=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,h]=cN(o),d=R.useMemo(()=>xx(t),[t]),f=o&&!u?[]:d.map(cf),p=R.useRef(!0),g=R.useRef(d),S=LE(()=>new Map),[T,v]=R.useState(d),[y,E]=R.useState(d);vL(()=>{p.current=!1,g.current=d;for(let D=0;D<y.length;D++){const b=cf(y[D]);f.includes(b)?S.delete(b):S.get(b)!==!0&&S.set(b,!1)}},[y,f.length,f.join("-")]);const A=[];if(d!==T){let D=[...d];for(let b=0;b<y.length;b++){const w=y[b],C=cf(w);f.includes(C)||(D.splice(b,0,w),A.push(w))}return s==="wait"&&A.length&&(D=A),E(xx(D)),v(d),null}const{forceRender:M}=R.useContext(ME);return O.jsx(O.Fragment,{children:y.map(D=>{const b=cf(D),w=o&&!u?!1:d===y||f.includes(b),C=()=>{if(S.has(b))S.set(b,!0);else return;let I=!0;S.forEach(x=>{x||(I=!1)}),I&&(M==null||M(),E(g.current),o&&(h==null||h()),r&&r())};return O.jsx(kQ,{isPresent:w,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:w?void 0:C,anchorX:a,children:D},b)})})},hN=R.createContext({strict:!1}),Ax={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kl={};for(const t in Ax)Kl[t]={isEnabled:e=>Ax[t].some(n=>!!e[n])};function MQ(t){for(const e in t)Kl[e]={...Kl[e],...t[e]}}const LQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||LQ.has(t)}let dN=t=>!mm(t);function NQ(t){typeof t=="function"&&(dN=e=>e.startsWith("on")?!mm(e):t(e))}try{NQ(require("@emotion/is-prop-valid").default)}catch{}function VQ(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(dN(i)||n===!0&&mm(i)||!e&&!mm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Sg=R.createContext({});function Eg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ch(t){return typeof t=="string"||Array.isArray(t)}const iT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sT=["initial",...iT];function Tg(t){return Eg(t.animate)||sT.some(e=>Ch(t[e]))}function fN(t){return!!(Tg(t)||t.variants)}function FQ(t,e){if(Tg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ch(n)?n:void 0,animate:Ch(r)?r:void 0}}return t.inherit!==!1?e:{}}function BQ(t){const{initial:e,animate:n}=FQ(t,R.useContext(Sg));return R.useMemo(()=>({initial:e,animate:n}),[Px(e),Px(n)])}function Px(t){return Array.isArray(t)?t.join(" "):t}function kx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(oe.test(t))t=parseFloat(t);else return t;const n=kx(t,e.target.x),r=kx(t,e.target.y);return`${n}% ${r}%`}},jQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=oo.parse(t);if(i.length>5)return r;const s=oo.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Qe(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}},Lw={borderRadius:{...qu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qu,borderTopRightRadius:qu,borderBottomLeftRadius:qu,borderBottomRightRadius:qu,boxShadow:jQ};function pN(t,{layout:e,layoutId:n}){return hu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Lw[t]||t==="opacity")}const UQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$Q=cu.length;function zQ(t,e,n){let r="",i=!0;for(let s=0;s<$Q;s++){const o=cu[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=iN(a,eT[o]);if(!l){i=!1;const h=UQ[o]||o;r+=`${h}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function oT(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(hu.has(l)){o=!0;continue}else if(LL(l)){i[l]=u;continue}else{const h=iN(u,eT[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=zQ(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${u} ${h}`}}const aT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mN(t,e,n){for(const r in e)!Zt(e[r])&&!pN(r,n)&&(t[r]=e[r])}function WQ({transformTemplate:t},e){return R.useMemo(()=>{const n=aT();return oT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function HQ(t,e){const n=t.style||{},r={};return mN(r,n,t),Object.assign(r,WQ(t,e)),r}function qQ(t,e){const n={},r=HQ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const KQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},GQ={offset:"strokeDashoffset",array:"strokeDasharray"};function XQ(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?KQ:GQ;t[s.offset]=oe.transform(-r);const o=oe.transform(e),a=oe.transform(n);t[s.array]=`${o} ${a}`}function gN(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,h){if(oT(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&XQ(d,i,s,o,!1)}const yN=()=>({...aT(),attrs:{}}),vN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function YQ(t,e,n,r){const i=R.useMemo(()=>{const s=yN();return gN(s,e,vN(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};mN(s,t.style,t),i.style={...s,...i.style}}return i}const QQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lT(t){return typeof t!="string"||t.includes("-")?!1:!!(QQ.indexOf(t)>-1||/[A-Z]/u.test(t))}function JQ(t,e,n,{latestValues:r},i,s=!1){const a=(lT(t)?YQ:qQ)(e,r,i,t),l=VQ(e,typeof t=="string",s),u=t!==R.Fragment?{...l,...a,ref:n}:{},{children:h}=e,d=R.useMemo(()=>Zt(h)?h.get():h,[h]);return R.createElement(t,{...u,children:d})}function Ox(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function uT(t,e,n,r){if(typeof e=="function"){const[i,s]=Ox(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Ox(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Qf(t){return Zt(t)?t.get():t}function ZQ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:eJ(n,r,i,t),renderState:e()}}function eJ(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Qf(s[f]);let{initial:o,animate:a}=t;const l=Tg(t),u=fN(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;if(d&&typeof d!="boolean"&&!Eg(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const g=uT(t,f[p]);if(g){const{transitionEnd:S,transition:T,...v}=g;for(const y in v){let E=v[y];if(Array.isArray(E)){const A=h?E.length-1:0;E=E[A]}E!==null&&(i[y]=E)}for(const y in S)i[y]=S[y]}}}return i}const _N=t=>(e,n)=>{const r=R.useContext(Sg),i=R.useContext(wg),s=()=>ZQ(t,e,r,i);return n?s():LE(s)};function cT(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Zt(r[o])||e.style&&Zt(e.style[o])||pN(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const tJ=_N({scrapeMotionValuesFromProps:cT,createRenderState:aT});function wN(t,e,n){const r=cT(t,e,n);for(const i in t)if(Zt(t[i])||Zt(e[i])){const s=cu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const nJ=_N({scrapeMotionValuesFromProps:wN,createRenderState:yN}),rJ=Symbol.for("motionComponentSymbol");function ml(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function iJ(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ml(n)&&(n.current=r))},[e])}const hT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sJ="framerAppearId",SN="data-"+hT(sJ),EN=R.createContext({});function oJ(t,e,n,r,i){var S,T;const{visualElement:s}=R.useContext(Sg),o=R.useContext(hN),a=R.useContext(wg),l=R.useContext(rT).reducedMotion,u=R.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=u.current,d=R.useContext(EN);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&aJ(u.current,n,i,d);const f=R.useRef(!1);R.useInsertionEffect(()=>{h&&f.current&&h.update(n,a)});const p=n[SN],g=R.useRef(!!p&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,p))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,p)));return vL(()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),g.current&&h.animationState&&h.animationState.animateChanges())}),R.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,p)}),g.current=!1),h.enteringChildren=void 0)}),h}function aJ(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:TN(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&ml(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:u})}function TN(t){if(t)return t.options.allowProjection!==!1?t.projection:TN(t.parent)}function sv(t,{forwardMotionProps:e=!1}={},n,r){n&&MQ(n);const i=lT(t)?nJ:tJ;function s(a,l){let u;const h={...R.useContext(rT),...a,layoutId:lJ(a)},{isStatic:d}=h,f=BQ(a),p=i(a,d);if(!d&&NE){uJ();const g=cJ(h);u=g.MeasureLayout,f.visualElement=oJ(t,p,h,r,g.ProjectionNode)}return O.jsxs(Sg.Provider,{value:f,children:[u&&f.visualElement?O.jsx(u,{visualElement:f.visualElement,...h}):null,JQ(t,a,iJ(p,f.visualElement,l),p,d,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=R.forwardRef(s);return o[rJ]=t,o}function lJ({layoutId:t}){const e=R.useContext(ME).id;return e&&t!==void 0?e+"-"+t:t}function uJ(t,e){R.useContext(hN).strict}function cJ(t){const{drag:e,layout:n}=Kl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function hJ(t,e){if(typeof Proxy>"u")return sv;const n=new Map,r=(s,o)=>sv(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,sv(o,void 0,t,e)),n.get(o))})}function bN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function dJ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function fJ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ov(t){return t===void 0||t===1}function Nw({scale:t,scaleX:e,scaleY:n}){return!ov(t)||!ov(e)||!ov(n)}function Vo(t){return Nw(t)||RN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function RN(t){return Dx(t.x)||Dx(t.y)}function Dx(t){return t&&t!=="0%"}function gm(t,e,n){const r=t-n,i=e*r;return n+i}function Mx(t,e,n,r,i){return i!==void 0&&(t=gm(t,i,r)),gm(t,n,r)+e}function Vw(t,e=0,n=1,r,i){t.min=Mx(t.min,e,n,r,i),t.max=Mx(t.max,e,n,r,i)}function CN(t,{x:e,y:n}){Vw(t.x,e.translate,e.scale,e.originPoint),Vw(t.y,n.translate,n.scale,n.originPoint)}const Lx=.999999999999,Nx=1.0000000000001;function pJ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&yl(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,CN(t,o)),r&&Vo(s.latestValues)&&yl(t,s.latestValues))}e.x<Nx&&e.x>Lx&&(e.x=1),e.y<Nx&&e.y>Lx&&(e.y=1)}function gl(t,e){t.min=t.min+e,t.max=t.max+e}function Vx(t,e,n,r,i=.5){const s=Qe(t.min,t.max,i);Vw(t,e,n,s,r)}function yl(t,e){Vx(t.x,e.x,e.scaleX,e.scale,e.originX),Vx(t.y,e.y,e.scaleY,e.scale,e.originY)}function IN(t,e){return bN(fJ(t.getBoundingClientRect(),e))}function mJ(t,e,n){const r=IN(t,n),{scroll:i}=e;return i&&(gl(r.x,i.offset.x),gl(r.y,i.offset.y)),r}const Fx=()=>({translate:0,scale:1,origin:0,originPoint:0}),vl=()=>({x:Fx(),y:Fx()}),Bx=()=>({min:0,max:0}),Tt=()=>({x:Bx(),y:Bx()}),Fw={current:null},xN={current:!1};function gJ(){if(xN.current=!0,!!NE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fw.current=t.matches;t.addEventListener("change",e),e()}else Fw.current=!1}const yJ=new WeakMap;function vJ(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Zt(i))t.addValue(r,i);else if(Zt(s))t.addValue(r,ql(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,ql(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const jx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _J{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=JE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Sn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ge.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Tg(n),this.isVariantNode=fN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const p=d[f];l[f]!==void 0&&Zt(p)&&p.set(l[f])}}mount(e){var n;this.current=e,yJ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),xN.current||gJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fw.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),so(this.notifyUpdate),so(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=hu.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ge.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Kl){const n=Kl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<jx.length;r++){const i=jx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=vJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ql(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(_L(r)||SL(r))?r=parseFloat(r):!CQ(r)&&oo.test(n)&&(r=rN(e,n)),this.setBaseTarget(e,Zt(r)?r.get():r)),Zt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=uT(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Zt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new UE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){tT.render(this.render)}}class AN extends _J{constructor(){super(...arguments),this.KeyframeResolver=pQ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function PN(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function wJ(t){return window.getComputedStyle(t)}class SJ extends AN{constructor(){super(...arguments),this.type="html",this.renderInstance=PN}readValueFromInstance(e,n){var r;if(hu.has(n))return(r=this.projection)!=null&&r.isProjecting?xw(n):DY(e,n);{const i=wJ(e),s=(LL(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return IN(e,n)}build(e,n,r){oT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return cT(e,n,r)}}const kN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function EJ(t,e,n,r){PN(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(kN.has(i)?i:hT(i),e.attrs[i])}class TJ extends AN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(hu.has(n)){const r=nN(n);return r&&r.default||0}return n=kN.has(n)?n:hT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return wN(e,n,r)}build(e,n,r){gN(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){EJ(e,n,r,i)}mount(e){this.isSVGTag=vN(e.tagName),super.mount(e)}}const bJ=(t,e)=>lT(t)?new TJ(e):new SJ(e,{allowProjection:t!==R.Fragment});function Ol(t,e,n){const r=t.getProps();return uT(r,e,n!==void 0?n:r.custom,t)}const Bw=t=>Array.isArray(t);function RJ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ql(n))}function CJ(t){return Bw(t)?t[t.length-1]||0:t}function IJ(t,e){const n=Ol(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=CJ(s[o]);RJ(t,o,a)}}function xJ(t){return!!(Zt(t)&&t.add)}function jw(t,e){const n=t.getValue("willChange");if(xJ(n))return n.add(e);if(!n&&qi.WillChange){const r=new qi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function ON(t){return t.props[SN]}const AJ=t=>t!==null;function PJ(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(AJ),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const kJ={type:"spring",stiffness:500,damping:25,restSpeed:10},OJ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),DJ={type:"keyframes",duration:.8},MJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LJ=(t,{keyframes:e})=>e.length>2?DJ:hu.has(t)?t.startsWith("scale")?OJ(e[1]):kJ:MJ;function NJ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const dT=(t,e,n,r={},i,s)=>o=>{const a=ZE(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-li(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};NJ(a)||Object.assign(h,LJ(t,h)),h.duration&&(h.duration=li(h.duration)),h.repeatDelay&&(h.repeatDelay=li(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Dw(h),h.delay===0&&(d=!0)),(qi.instantAnimations||qi.skipAnimations)&&(d=!0,Dw(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const f=PJ(h.keyframes,a);if(f!==void 0){Ge.update(()=>{h.onUpdate(f),h.onComplete()});return}}return a.isSync?new QE(h):new nQ(h)};function VJ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function DN(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const d=t.getValue(h,t.latestValues[h]??null),f=a[h];if(f===void 0||u&&VJ(u,h))continue;const p={delay:n,...ZE(s||{},h)},g=d.get();if(g!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===g&&!p.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const v=ON(t);if(v){const y=window.MotionHandoffAnimation(v,h,Ge);y!==null&&(p.startTime=y,S=!0)}}jw(t,h),d.start(dT(h,d,f,t.shouldReduceMotion&&ZL.has(h)?{type:!1}:p,t,S));const T=d.animation;T&&l.push(T)}return o&&Promise.all(l).then(()=>{Ge.update(()=>{o&&IJ(t,o)})}),l}function MN(t,e,n,r=0,i=1){const s=Array.from(t).sort((u,h)=>u.sortNodePosition(h)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function Uw(t,e,n={}){var l;const r=Ol(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(DN(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=i;return FJ(t,e,u,h,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,h]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function FJ(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Uw(l,e,{...o,delay:n+(typeof r=="function"?0:r)+MN(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function BJ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Uw(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Uw(t,e,n);else{const i=typeof e=="function"?Ol(t,e,n.custom):e;r=Promise.all(DN(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function LN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const jJ=sT.length;function NN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?NN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<jJ;n++){const r=sT[n],i=t.props[r];(Ch(i)||i===!1)&&(e[r]=i)}return e}const UJ=[...iT].reverse(),$J=iT.length;function zJ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>BJ(t,n,r)))}function WJ(t){let e=zJ(t),n=Ux(),r=!0;const i=l=>(u,h)=>{var f;const d=Ol(t,h,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:p,transitionEnd:g,...S}=d;u={...u,...S,...g}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,h=NN(t.parent)||{},d=[],f=new Set;let p={},g=1/0;for(let T=0;T<$J;T++){const v=UJ[T],y=n[v],E=u[v]!==void 0?u[v]:h[v],A=Ch(E),M=v===l?y.isActive:null;M===!1&&(g=T);let D=E===h[v]&&E!==u[v]&&A;if(D&&r&&t.manuallyAnimateOnMount&&(D=!1),y.protectedKeys={...p},!y.isActive&&M===null||!E&&!y.prevProp||Eg(E)||typeof E=="boolean")continue;const b=HJ(y.prevProp,E);let w=b||v===l&&y.isActive&&!D&&A||T>g&&A,C=!1;const I=Array.isArray(E)?E:[E];let x=I.reduce(i(v),{});M===!1&&(x={});const{prevResolvedValues:L={}}=y,k={...L,...x},le=Re=>{w=!0,f.has(Re)&&(C=!0,f.delete(Re)),y.needsAnimating[Re]=!0;const U=t.getValue(Re);U&&(U.liveStyle=!1)};for(const Re in k){const U=x[Re],Y=L[Re];if(p.hasOwnProperty(Re))continue;let ee=!1;Bw(U)&&Bw(Y)?ee=!LN(U,Y):ee=U!==Y,ee?U!=null?le(Re):f.add(Re):U!==void 0&&f.has(Re)?le(Re):y.protectedKeys[Re]=!0}y.prevProp=E,y.prevResolvedValues=x,y.isActive&&(p={...p,...x}),r&&t.blockInitialAnimation&&(w=!1);const de=D&&b;w&&(!de||C)&&d.push(...I.map(Re=>{const U={type:v};if(typeof Re=="string"&&r&&!de&&t.manuallyAnimateOnMount&&t.parent){const{parent:Y}=t,ee=Ol(Y,Re);if(Y.enteringChildren&&ee){const{delayChildren:ye}=ee.transition||{};U.delay=MN(Y.enteringChildren,t,ye)}}return{animation:Re,options:U}}))}if(f.size){const T={};if(typeof u.initial!="boolean"){const v=Ol(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(T.transition=v.transition)}f.forEach(v=>{const y=t.getBaseTarget(v),E=t.getValue(v);E&&(E.liveStyle=!0),T[v]=y??null}),d.push({animation:T})}let S=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(d):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Ux()}}}function HJ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!LN(e,t):!1}function Do(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ux(){return{animate:Do(!0),whileInView:Do(),whileHover:Do(),whileTap:Do(),whileDrag:Do(),whileFocus:Do(),exit:Do()}}class go{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qJ extends go{constructor(e){super(e),e.animationState||(e.animationState=WJ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Eg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let KJ=0;class GJ extends go{constructor(){super(...arguments),this.id=KJ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const XJ={animation:{Feature:qJ},exit:{Feature:GJ}};function Ih(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ed(t){return{point:{x:t.pageX,y:t.pageY}}}const YJ=t=>e=>nT(e)&&t(e,ed(e));function Fc(t,e,n,r){return Ih(t,e,YJ(n),r)}const VN=1e-4,QJ=1-VN,JJ=1+VN,FN=.01,ZJ=0-FN,eZ=0+FN;function un(t){return t.max-t.min}function tZ(t,e,n){return Math.abs(t-e)<=n}function $x(t,e,n,r=.5){t.origin=r,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=un(n)/un(e),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=QJ&&t.scale<=JJ||isNaN(t.scale))&&(t.scale=1),(t.translate>=ZJ&&t.translate<=eZ||isNaN(t.translate))&&(t.translate=0)}function Bc(t,e,n,r){$x(t.x,e.x,n.x,r?r.originX:void 0),$x(t.y,e.y,n.y,r?r.originY:void 0)}function zx(t,e,n){t.min=n.min+e.min,t.max=t.min+un(e)}function nZ(t,e,n){zx(t.x,e.x,n.x),zx(t.y,e.y,n.y)}function Wx(t,e,n){t.min=e.min-n.min,t.max=t.min+un(e)}function ym(t,e,n){Wx(t.x,e.x,n.x),Wx(t.y,e.y,n.y)}function Gn(t){return[t("x"),t("y")]}const BN=({current:t})=>t?t.ownerDocument.defaultView:null,Hx=(t,e)=>Math.abs(t-e);function rZ(t,e){const n=Hx(t.x,e.x),r=Hx(t.y,e.y);return Math.sqrt(n**2+r**2)}class jN{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=lv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=rZ(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:S}=f,{timestamp:T}=Ft;this.history.push({...S,timestamp:T});const{onStart:v,onMove:y}=this.handlers;p||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=av(p,this.transformPagePoint),Ge.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:S,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=lv(f.type==="pointercancel"?this.lastMoveEventInfo:av(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,v),S&&S(f,v)},!nT(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=ed(e),l=av(a,this.transformPagePoint),{point:u}=l,{timestamp:h}=Ft;this.history=[{...u,timestamp:h}];const{onSessionStart:d}=n;d&&d(e,lv(l,this.history)),this.removeListeners=Qh(Fc(this.contextWindow,"pointermove",this.handlePointerMove),Fc(this.contextWindow,"pointerup",this.handlePointerUp),Fc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),so(this.updatePoint)}}function av(t,e){return e?{point:e(t.point)}:t}function qx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function lv({point:t},e){return{point:t,delta:qx(t,UN(e)),offset:qx(t,iZ(e)),velocity:sZ(e,.1)}}function iZ(t){return t[0]}function UN(t){return t[t.length-1]}function sZ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=UN(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>li(e)));)n--;if(!r)return{x:0,y:0};const s=er(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function oZ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qe(n,t,r.max):Math.min(t,n)),t}function Kx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function aZ(t,{top:e,left:n,bottom:r,right:i}){return{x:Kx(t.x,n,i),y:Kx(t.y,e,r)}}function Gx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function lZ(t,e){return{x:Gx(t.x,e.x),y:Gx(t.y,e.y)}}function uZ(t,e){let n=.5;const r=un(t),i=un(e);return i>r?n=Th(e.min,e.max-r,t.min):r>i&&(n=Th(t.min,t.max-i,e.min)),Hi(0,1,n)}function cZ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const $w=.35;function hZ(t=$w){return t===!1?t=0:t===!0&&(t=$w),{x:Xx(t,"left","right"),y:Xx(t,"top","bottom")}}function Xx(t,e,n){return{min:Yx(t,e),max:Yx(t,n)}}function Yx(t,e){return typeof t=="number"?t:t[e]||0}const dZ=new WeakMap;class fZ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ed(d).point)},o=(d,f)=>{const{drag:p,dragPropagation:g,onDragStart:S}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vQ(p),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gn(v=>{let y=this.getAxisMotionValue(v).get()||0;if(ui.test(y)){const{projection:E}=this.visualElement;if(E&&E.layout){const A=E.layout.layoutBox[v];A&&(y=un(A)*(parseFloat(y)/100))}}this.originPoint[v]=y}),S&&Ge.postRender(()=>S(d,f)),jw(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:S,onDrag:T}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=f;if(g&&this.currentDirection===null){this.currentDirection=pZ(v),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),T&&T(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Gn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new jN(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:BN(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ge.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!hf(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=oZ(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&ml(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=aZ(r.layoutBox,e):this.constraints=!1,this.elastic=hZ(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Gn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=cZ(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ml(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=mJ(r,i.root,this.visualElement.getTransformPagePoint());let o=lZ(i.layout.layoutBox,s);if(n){const a=n(dJ(o));this.hasMutatedConstraints=!!a,a&&(o=bN(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Gn(h=>{if(!hf(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return jw(this.visualElement,e),r.start(dT(e,r,0,n,this.visualElement,!1))}stopAnimation(){Gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Gn(n=>{const{drag:r}=this.getProps();if(!hf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Qe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ml(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Gn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=uZ({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gn(o=>{if(!hf(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Qe(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;dZ.set(this.visualElement,this);const e=this.visualElement.current,n=Fc(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ml(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ge.read(r);const o=Ih(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Gn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=$w,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function hf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function pZ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class mZ extends go{constructor(e){super(e),this.removeGroupControls=sr,this.removeListeners=sr,this.controls=new fZ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qx=t=>(e,n)=>{t&&Ge.postRender(()=>t(e,n))};class gZ extends go{constructor(){super(...arguments),this.removePointerDownListener=sr}onPointerDown(e){this.session=new jN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:BN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Qx(e),onStart:Qx(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ge.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Fc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let uv=!1;class yZ extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),uv&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Jf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,uv=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ge.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),tT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;uv=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $N(t){const[e,n]=cN(),r=R.useContext(ME);return O.jsx(yZ,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(EN),isPresent:e,safeToRemove:n})}function vZ(t,e,n){const r=Zt(t)?t:ql(t);return r.start(dT("",r,e,n)),r.animation}const _Z=(t,e)=>t.depth-e.depth;class wZ{constructor(){this.children=[],this.isDirty=!1}add(e){VE(this.children,e),this.isDirty=!0}remove(e){FE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_Z),this.isDirty=!1,this.children.forEach(e)}}function SZ(t,e){const n=Sn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(so(r),t(s-e))};return Ge.setup(r,!0),()=>so(r)}const zN=["TopLeft","TopRight","BottomLeft","BottomRight"],EZ=zN.length,Jx=t=>typeof t=="string"?parseFloat(t):t,Zx=t=>typeof t=="number"||oe.test(t);function TZ(t,e,n,r,i,s){i?(t.opacity=Qe(0,n.opacity??1,bZ(r)),t.opacityExit=Qe(e.opacity??1,0,RZ(r))):s&&(t.opacity=Qe(e.opacity??1,n.opacity??1,r));for(let o=0;o<EZ;o++){const a=`border${zN[o]}Radius`;let l=eA(e,a),u=eA(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Zx(l)===Zx(u)?(t[a]=Math.max(Qe(Jx(l),Jx(u),r),0),(ui.test(u)||ui.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,r))}function eA(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bZ=WN(0,.5,AL),RZ=WN(.5,.95,sr);function WN(t,e,n){return r=>r<t?0:r>e?1:n(Th(t,e,r))}function tA(t,e){t.min=e.min,t.max=e.max}function yr(t,e){tA(t.x,e.x),tA(t.y,e.y)}function nA(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function rA(t,e,n,r,i){return t-=e,t=gm(t,1/n,r),i!==void 0&&(t=gm(t,1/i,r)),t}function CZ(t,e=0,n=1,r=.5,i,s=t,o=t){if(ui.test(e)&&(e=parseFloat(e),e=Qe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Qe(s.min,s.max,r);t===s&&(a-=e),t.min=rA(t.min,e,n,a,i),t.max=rA(t.max,e,n,a,i)}function iA(t,e,[n,r,i],s,o){CZ(t,e[n],e[r],e[i],e.scale,s,o)}const IZ=["x","scaleX","originX"],xZ=["y","scaleY","originY"];function sA(t,e,n,r){iA(t.x,e,IZ,n?n.x:void 0,r?r.x:void 0),iA(t.y,e,xZ,n?n.y:void 0,r?r.y:void 0)}function oA(t){return t.translate===0&&t.scale===1}function HN(t){return oA(t.x)&&oA(t.y)}function aA(t,e){return t.min===e.min&&t.max===e.max}function AZ(t,e){return aA(t.x,e.x)&&aA(t.y,e.y)}function lA(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function qN(t,e){return lA(t.x,e.x)&&lA(t.y,e.y)}function uA(t){return un(t.x)/un(t.y)}function cA(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class PZ{constructor(){this.members=[]}add(e){VE(this.members,e),e.scheduleRender()}remove(e){if(FE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function kZ(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:f,skewX:p,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const cv=["","X","Y","Z"],OZ=1e3;let DZ=0;function hv(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function KN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ON(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ge,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&KN(r)}function GN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=DZ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(NZ),this.nodes.forEach(jZ),this.nodes.forEach(UZ),this.nodes.forEach(VZ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new wZ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new UE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=uN(o)&&!bQ(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let h,d=0;const f=()=>this.root.updateBlockedByResize=!1;Ge.read(()=>{d=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==d&&(d=p,this.root.updateBlockedByResize=!0,h&&h(),h=SZ(f,250),Jf.hasAnimatedSinceResize&&(Jf.hasAnimatedSinceResize=!1,this.nodes.forEach(fA)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||qZ,{onLayoutAnimationStart:S,onLayoutAnimationComplete:T}=u.getProps(),v=!this.targetLayout||!qN(this.targetLayout,p),y=!d&&f;if(this.options.layoutRoot||this.resumeFrom||y||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...ZE(g,"layout"),onPlay:S,onComplete:T};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(h,y)}else d||fA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),so(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($Z),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(dA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(BZ),this.nodes.forEach(MZ),this.nodes.forEach(LZ)):this.nodes.forEach(dA),this.clearAllSnapshots();const a=Sn.now();Ft.delta=Hi(0,1e3/60,a-Ft.timestamp),Ft.timestamp=a,Ft.isProcessing=!0,Zy.update.process(Ft),Zy.preRender.process(Ft),Zy.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FZ),this.sharedNodes.forEach(zZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!un(this.snapshot.measuredBox.x)&&!un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!HN(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Vo(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),KZ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Tt();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(GZ))){const{scroll:h}=this.root;h&&(gl(a.x,h.offset.x),gl(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=Tt();if(yr(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&yr(a,o),gl(a.x,d.offset.x),gl(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Tt();yr(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&yl(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Vo(h.latestValues)&&yl(l,h.latestValues)}return Vo(this.latestValues)&&yl(l,this.latestValues),l}removeTransform(o){const a=Tt();yr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Vo(u.latestValues))continue;Nw(u.latestValues)&&u.updateSnapshot();const h=Tt(),d=u.measurePageBox();yr(h,d),sA(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Vo(this.latestValues)&&sA(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!this.layout||!(h||d))return;this.resolvedRelativeTargetAt=Ft.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nZ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yr(this.target,this.layout.layoutBox),CN(this.target,this.targetDelta)):yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Nw(this.parent.latestValues)||RN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),ym(this.relativeTargetOrigin,a,l),yr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;yr(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;pJ(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Tt());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nA(this.prevProjectionDelta.x,this.projectionDelta.x),nA(this.prevProjectionDelta.y,this.projectionDelta.y)),Bc(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!cA(this.projectionDelta.x,this.prevProjectionDelta.x)||!cA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vl(),this.projectionDelta=vl(),this.projectionDeltaWithTransform=vl()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},d=vl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Tt(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,S=p!==g,T=this.getStack(),v=!T||T.members.length<=1,y=!!(S&&!v&&this.options.crossfade===!0&&!this.path.some(HZ));this.animationProgress=0;let E;this.mixTargetDelta=A=>{const M=A/1e3;pA(d.x,o.x,M),pA(d.y,o.y,M),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ym(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),WZ(this.relativeTarget,this.relativeTargetOrigin,f,M),E&&AZ(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Tt()),yr(E,this.relativeTarget)),S&&(this.animationValues=h,TZ(h,u,this.latestValues,M,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(so(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ge.update(()=>{Jf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ql(0)),this.currentAnimation=vZ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OZ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&XN(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Tt();const d=un(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=un(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}yr(a,l),yl(a,h),Bc(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new PZ),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&hv("z",o,u,this.animationValues);for(let h=0;h<cv.length;h++)hv(`rotate${cv[h]}`,o,u,this.animationValues),hv(`skew${cv[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Qf(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Qf(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Vo(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=kZ(this.projectionDeltaWithTransform,this.treeScale,h);l&&(d=l(h,d)),o.transform=d;const{x:f,y:p}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Lw){if(h[g]===void 0)continue;const{correct:S,applyTo:T,isCSSVariable:v}=Lw[g],y=d==="none"?h[g]:S(h[g],u);if(T){const E=T.length;for(let A=0;A<E;A++)o[T[A]]=y}else v?this.options.visualElement.renderState.vars[g]=y:o[g]=y}this.options.layoutId&&(o.pointerEvents=u===this?Qf(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(hA),this.root.sharedNodes.clear()}}}function MZ(t){t.updateLayout()}function LZ(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Gn(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],p=un(f);f.min=r[d].min,f.max=f.min+p}):XN(s,e.layoutBox,r)&&Gn(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],p=un(r[d]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=vl();Bc(a,r,e.layoutBox);const l=vl();o?Bc(l,t.applyTransform(i,!0),e.measuredBox):Bc(l,r,e.layoutBox);const u=!HN(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const g=Tt();ym(g,e.layoutBox,f.layoutBox);const S=Tt();ym(S,r,p.layoutBox),qN(g,S)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function NZ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function VZ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FZ(t){t.clearSnapshot()}function hA(t){t.clearMeasurements()}function dA(t){t.isLayoutDirty=!1}function BZ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function jZ(t){t.resolveTargetDelta()}function UZ(t){t.calcProjection()}function $Z(t){t.resetSkewAndRotation()}function zZ(t){t.removeLeadSnapshot()}function pA(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mA(t,e,n,r){t.min=Qe(e.min,n.min,r),t.max=Qe(e.max,n.max,r)}function WZ(t,e,n,r){mA(t.x,e.x,n.x,r),mA(t.y,e.y,n.y,r)}function HZ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const qZ={duration:.45,ease:[.4,0,.1,1]},gA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),yA=gA("applewebkit/")&&!gA("chrome/")?Math.round:sr;function vA(t){t.min=yA(t.min),t.max=yA(t.max)}function KZ(t){vA(t.x),vA(t.y)}function XN(t,e,n){return t==="position"||t==="preserve-aspect"&&!tZ(uA(e),uA(n),.2)}function GZ(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const XZ=GN({attachResizeListener:(t,e)=>Ih(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dv={current:void 0},YN=GN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!dv.current){const t=new XZ({});t.mount(window),t.setOptions({layoutScroll:!0}),dv.current=t}return dv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),YZ={pan:{Feature:gZ},drag:{Feature:mZ,ProjectionNode:YN,MeasureLayout:$N}};function _A(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Ge.postRender(()=>s(e,ed(e)))}class QZ extends go{mount(){const{current:e}=this.node;e&&(this.unmount=_Q(e,(n,r)=>(_A(this.node,r,"Start"),i=>_A(this.node,i,"End"))))}unmount(){}}class JZ extends go{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qh(Ih(this.node.current,"focus",()=>this.onFocus()),Ih(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wA(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Ge.postRender(()=>s(e,ed(e)))}class ZZ extends go{mount(){const{current:e}=this.node;e&&(this.unmount=TQ(e,(n,r)=>(wA(this.node,r,"Start"),(i,{success:s})=>wA(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zw=new WeakMap,fv=new WeakMap,eee=t=>{const e=zw.get(t.target);e&&e(t)},tee=t=>{t.forEach(eee)};function nee({root:t,...e}){const n=t||document;fv.has(n)||fv.set(n,{});const r=fv.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(tee,{root:t,...e})),r[i]}function ree(t,e,n){const r=nee(e);return zw.set(t,n),r.observe(t),()=>{zw.delete(t),r.unobserve(t)}}const iee={some:0,all:1};class see extends go{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:iee[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=u?h:d;f&&f(l)};return ree(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(oee(e,n))&&this.startObserver()}unmount(){}}function oee({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const aee={inView:{Feature:see},tap:{Feature:ZZ},focus:{Feature:JZ},hover:{Feature:QZ}},lee={layout:{ProjectionNode:YN,MeasureLayout:$N}},uee={...XJ,...aee,...YZ,...lee},cee=hJ(uee,bJ),hee=""+new URL("banner-CAwNRSLn.png",import.meta.url).href,Gr={colors:{background:"#fff9ec",highlight:"#ff8e52",text:"#00202b",secondaryText:"#666666",border:"#eee"}};function dee(){return O.jsxs(q,{style:SA.container,children:[O.jsx(H,{style:SA.title,children:"Pocket Stylist"}),O.jsx(H,{children:"Welcome to your personal style assistant."})]})}const SA=Ie.create({container:{flex:1,padding:20,alignItems:"center",justifyContent:"center"},title:{fontSize:24,fontWeight:"bold",marginBottom:10}}),fee=async(t,e)=>{const n=ou(Ji,"users",t);await yE(n,e,{merge:!0})},pee=async t=>{const e=ou(Ji,"users",t),n=Tq(e);return(await n).exists()?(await n).data():null},mee=(t,e)=>{const n=fg(Ji,"users",t,"closet"),r=dE(n,fM("createdAt","desc"));return Cq(r,i=>{const s=i.docs.map(o=>({id:o.id,...o.data()}));e(s)})},QN=async(t,e)=>{console.log("addItemToDb called for user:",t);try{const n=fg(Ji,"users",t,"closet"),r=ou(n);console.log("Generated ID:",r.id),console.log("Writing document to Firestore (setDoc)...");const i=yE(r,e),s=new Promise((o,a)=>setTimeout(()=>a(new Error("Database write timed out after 30 seconds")),3e4));return await Promise.race([i,s]),console.log("Document written successfully"),{...e,id:r.id}}catch(n){throw console.error("Error in addItemToDb:",n),n}},gee=async t=>{const e=fg(Ji,"users",t,"closet"),n=dE(e,fM("createdAt","desc"));return(await mM(n)).docs.map(i=>({id:i.id,...i.data()}))},yee=async(t,e,n)=>{const r=ou(Ji,"users",t,"closet",e);await bq(r,n)},vee=async(t,e)=>{const n=ou(Ji,"users",t,"closet",e);await Rq(n)},_ee=async(t,e,n)=>{const r=ou(Ji,"users",t,"schedule",e);await yE(r,{date:e,...n},{merge:!0})},wee=async t=>{const e=fg(Ji,"users",t,"schedule"),n=dE(e),r=await mM(n),i={};return r.forEach(s=>{i[s.id]=s.data()}),i},See=async(t,e)=>{try{const n=`closet/${Date.now()}_${Math.random().toString(36).substring(7)}.jpg`,r=eX(sX,`users/${t}/${n}`);console.log("Starting upload...");const s=await(await fetch(e)).blob(),o=JG(r,s),a=new Promise((h,d)=>setTimeout(()=>d(new Error("Upload timed out after 30 seconds")),3e4)),l=await Promise.race([o,a]);return console.log("Upload successful, getting URL..."),await ZG(l.ref)}catch(n){throw console.error("Error uploading image to storage:",n),n}},JN=R.createContext();function bg(){return R.useContext(JN)}function Eee({children:t}){const{currentUser:e}=DE(),[n,r]=R.useState([]),[i,s]=R.useState({}),[o,a]=R.useState(!0);R.useEffect(()=>{if(e){const g=mee(e.uid,S=>{r(S),a(!1)});return wee(e.uid).then(s),()=>g()}else r([]),s({}),a(!1)},[e]);const p={items:n,schedule:i,loading:o,addItem:async g=>{if(!e)throw new Error("User not authenticated");const S=Date.now().toString(),T={...g,id:S,rating:3,wearCount:0,createdAt:new Date().toISOString(),isOptimistic:!0};r(v=>[T,...v]);try{let v=g.imageUri;g.imageUri&&g.imageUri.startsWith("data:")&&(v=await See(e.uid,g.imageUri));const y={...g,imageUri:v,rating:3,wearCount:0,createdAt:new Date().toISOString()};console.log("Saving item to DB. Size approx:",JSON.stringify(y).length,"bytes"),await QN(e.uid,y),r(E=>E.filter(A=>A.id!==S))}catch(v){throw console.error("Error adding item:",v),alert(`Failed to save item: ${v.message}. 
Check console for details.`),r(y=>y.filter(E=>E.id!==S)),v}},updateItem:async(g,S)=>{if(e){r(T=>T.map(v=>v.id===g?{...v,...S}:v));try{await yee(e.uid,g,S)}catch(T){console.error("Error updating item:",T)}}},deleteItem:async g=>{if(e){r(S=>S.filter(T=>T.id!==g));try{await vee(e.uid,g)}catch(S){console.error("Error deleting item:",S)}}},addToSchedule:async(g,S)=>{if(e){s(T=>({...T,[g]:{date:g,...S}}));try{await _ee(e.uid,g,S)}catch(T){console.error("Error saving schedule:",T)}}},isItemAvailable:g=>{if(!g.lastWorn)return!0;const S=new Date(g.lastWorn),v=Math.abs(new Date-S);return Math.ceil(v/(1e3*60*60*24))>7}};return O.jsx(JN.Provider,{value:p,children:t})}const ZN=2,Tee=Np.get("window").width,bee=(Tee-40)/ZN,Ree=({uri:t,style:e,alt:n})=>O.jsx("div",{style:{...Ie.flatten(e),overflow:"hidden"},children:O.jsx("img",{src:t,alt:n,style:{width:"100%",height:"100%",objectFit:"cover",display:"block"},loading:"lazy",onError:r=>{r.target.onerror=null,console.warn("Image failed to load:",t)}})}),Cee=dt.memo(({item:t,onPress:e,isAvailable:n})=>O.jsx(be,{onPress:()=>e(t),children:O.jsxs(q,{style:[he.itemContainer,!n&&he.unavailableItem],children:[O.jsx(Ree,{uri:t.imageUri||t.image,style:he.image,alt:t.type}),O.jsxs(q,{style:he.infoContainer,children:[O.jsx(H,{style:he.itemType,children:t.type}),!n&&O.jsx(H,{style:he.unavailableText,children:"In Wash"})]})]})}));function Iee(){const{items:t,isItemAvailable:e,deleteItem:n,updateItem:r}=bg(),{currentUser:i}=DE(),s=eu(),[o,a]=R.useState(!1),[l,u]=R.useState(""),[h,d]=R.useState([]),f="v1.2",p=I=>d(x=>[...x,`${new Date().toLocaleTimeString()}: ${I}`]),g=async()=>{if(!i)return alert("Not logged in");const I="test_"+Date.now();u("Running..."),d([]);try{p(`App Version: ${f}`),p(`Online Status: ${navigator.onLine}`),p("Test 0: Pinging GitHub API...");try{const x=await fetch("https://api.github.com/zen");p(`Ping success! Status: ${x.status}`)}catch(x){p(`Ping FAILED: ${x.message}`),p("WARNING: You might be offline or blocked.")}p("Test 1: Reading Firestore...");try{const x=await gee(i.uid);p(`Read success! Found ${x.length} items.`)}catch(x){throw p(`Read FAILED: ${x.message}`),x}p("Test 2: Writing Firestore..."),await QN(i.uid,{id:I,type:"test_connection",createdAt:new Date().toISOString()}),p("Write successful!"),u("PASSED"),p("Cleaning up..."),n(I),p("Done.")}catch(x){console.error(x),p(`ERROR: ${x.message}`),u("FAILED")}},[S,T]=R.useState(!1),[v,y]=R.useState(null),E=R.useRef(null),A=R.useRef(null),M=I=>{const x=I.target.files[0];if(x){a(!1);const L=new FileReader;L.onloadend=()=>{s("/camera",{state:{image:L.result}})},L.readAsDataURL(x)}},D=I=>{y(I),T(!0)},b=()=>{confirm("Are you sure you want to delete this item?")&&(n(v.id),T(!1))},w=I=>{y(x=>({...x,rating:I})),r(v.id,{rating:I})},C=({item:I})=>O.jsx(Cee,{item:I,onPress:D,isAvailable:e(I)});return O.jsxs(q,{style:he.container,children:[O.jsxs(q,{style:he.header,children:[O.jsxs(q,{children:[O.jsx(H,{style:he.title,children:"Virtual Closet"}),O.jsx(H,{style:{fontSize:10,color:"#999"},children:f})]}),O.jsxs(q,{style:{flexDirection:"row",gap:10},children:[O.jsx(be,{style:[he.addButton,{backgroundColor:"#666"}],onPress:g,children:O.jsx(H,{style:he.addButtonText,children:"Test DB"})}),O.jsx(be,{style:he.addButton,onPress:()=>a(!0),children:O.jsx(H,{style:he.addButtonText,children:"+ Add"})})]}),O.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:E,style:{display:"none"},onChange:M}),O.jsx("input",{type:"file",accept:"image/*",ref:A,style:{display:"none"},onChange:M})]}),h.length>0&&O.jsxs(q,{style:{padding:10,backgroundColor:"#eee",marginBottom:10,maxHeight:150,overflow:"scroll"},children:[O.jsxs(H,{style:{fontWeight:"bold",marginBottom:5},children:["Debug Logs (",l,"):"]}),h.map((I,x)=>O.jsx(H,{style:{fontSize:12,fontFamily:"monospace"},children:I},x))]}),O.jsx(m6,{data:t,renderItem:C,keyExtractor:I=>I.id,numColumns:ZN,contentContainerStyle:he.listContent,ListEmptyComponent:O.jsx(H,{style:he.emptyText,children:"No items in closet. Add some!"})}),O.jsx(ch,{animationType:"fade",transparent:!0,visible:o,onRequestClose:()=>a(!1),children:O.jsxs(q,{style:he.modalOverlay,children:[O.jsx(be,{style:he.modalBackdrop,onPress:()=>a(!1)}),O.jsxs(q,{style:he.modalContent,children:[O.jsx(H,{style:he.modalTitle,children:"Add New Item"}),O.jsx(be,{style:he.modalButton,onPress:()=>{a(!1),E.current.click()},children:O.jsx(H,{style:he.modalButtonText,children:"Take Photo"})}),O.jsx(be,{style:he.modalButton,onPress:()=>{a(!1),A.current.click()},children:O.jsx(H,{style:he.modalButtonText,children:"Choose from Library"})}),O.jsx(be,{style:[he.modalButton,he.cancelButton],onPress:()=>a(!1),children:O.jsx(H,{style:he.cancelButtonText,children:"Cancel"})})]})]})}),O.jsx(ch,{animationType:"slide",visible:S,onRequestClose:()=>T(!1),children:O.jsx(q,{style:he.detailContainer,children:v&&O.jsxs(br,{children:[O.jsx(ci,{source:{uri:v.imageUri},style:he.detailImage,resizeMode:"contain"}),O.jsxs(q,{style:he.detailInfo,children:[O.jsx(H,{style:he.detailTitle,children:v.type}),O.jsxs(H,{style:he.detailText,children:["Color: ",v.color]}),O.jsxs(H,{style:he.detailText,children:["Style: ",v.style]}),O.jsxs(H,{style:he.detailText,children:["Worn: ",v.wearCount||0," times"]}),O.jsx(H,{style:he.sectionTitle,children:"Rating"}),O.jsx(q,{style:he.ratingContainer,children:[1,2,3,4,5].map(I=>O.jsx(be,{onPress:()=>w(I),children:O.jsx(H,{style:[he.star,(v.rating||0)>=I?he.starFilled:he.starEmpty],children:""})},I))}),O.jsx(be,{style:he.deleteButton,onPress:b,children:O.jsx(H,{style:he.deleteButtonText,children:"Delete Item"})}),O.jsx(be,{style:he.closeDetailButton,onPress:()=>T(!1),children:O.jsx(H,{style:he.closeDetailButtonText,children:"Close"})})]})]})})})]})}const he=Ie.create({container:{flex:1,padding:10,backgroundColor:"#fff"},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingHorizontal:10},title:{fontSize:24,fontWeight:"bold"},addButton:{backgroundColor:"#007AFF",paddingVertical:8,paddingHorizontal:15,borderRadius:20},addButtonText:{color:"#fff",fontWeight:"bold"},listContent:{paddingBottom:20},itemContainer:{width:bee,margin:5,backgroundColor:"#f9f9f9",borderRadius:10,overflow:"hidden",elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:1.41},unavailableItem:{opacity:.5,backgroundColor:"#eee"},image:{width:"100%",height:150},infoContainer:{padding:10},itemType:{textTransform:"capitalize",fontWeight:"bold"},unavailableText:{color:"red",fontSize:12,marginTop:5},modalOverlay:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},modalBackdrop:{...Ie.absoluteFillObject},modalContent:{width:"80%",maxWidth:300,backgroundColor:"white",borderRadius:20,padding:20,alignItems:"center",elevation:5},modalTitle:{fontSize:18,fontWeight:"bold",marginBottom:20},modalButton:{width:"100%",padding:15,backgroundColor:"#f0f0f0",borderRadius:10,marginBottom:10,alignItems:"center"},modalButtonText:{fontSize:16,color:"#007AFF"},cancelButton:{backgroundColor:"transparent",marginTop:5},cancelButtonText:{fontSize:16,color:"#FF3B30",fontWeight:"bold"},detailContainer:{flex:1,backgroundColor:"#fff"},detailImage:{width:"100%",height:400,backgroundColor:"#f0f0f0"},detailInfo:{padding:20},detailTitle:{fontSize:28,fontWeight:"bold",marginBottom:10,textTransform:"capitalize"},detailText:{fontSize:16,marginBottom:5,color:"#333"},sectionTitle:{fontSize:18,fontWeight:"bold",marginTop:20,marginBottom:10},ratingContainer:{flexDirection:"row",marginBottom:20},star:{fontSize:30,marginRight:5},starFilled:{color:"#FFD700"},starEmpty:{color:"#ddd"},deleteButton:{backgroundColor:"#FF3B30",padding:15,borderRadius:10,alignItems:"center",marginTop:20},deleteButtonText:{color:"#fff",fontWeight:"bold",fontSize:16},closeDetailButton:{padding:15,alignItems:"center",marginTop:10},closeDetailButtonText:{color:"#007AFF",fontSize:16},emptyText:{textAlign:"center",marginTop:50,fontSize:18,color:"#999"}});function ae(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function V(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}let e2=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return e2=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function Ww(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Hw=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class ne extends Error{}class qt extends ne{constructor(e,n,r,i){super(`${qt.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.requestID=i==null?void 0:i.get("x-request-id"),this.error=n;const s=n;this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Rg({message:r,cause:Hw(n)});const s=n==null?void 0:n.error;return e===400?new t2(e,s,r,i):e===401?new n2(e,s,r,i):e===403?new r2(e,s,r,i):e===404?new i2(e,s,r,i):e===409?new s2(e,s,r,i):e===422?new o2(e,s,r,i):e===429?new a2(e,s,r,i):e>=500?new l2(e,s,r,i):new qt(e,s,r,i)}}class tr extends qt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Rg extends qt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class fT extends Rg{constructor({message:e}={}){super({message:e??"Request timed out."})}}class t2 extends qt{}class n2 extends qt{}class r2 extends qt{}class i2 extends qt{}class s2 extends qt{}class o2 extends qt{}class a2 extends qt{}class l2 extends qt{}class u2 extends ne{constructor(){super("Could not parse response content as the length limit was reached")}}class c2 extends ne{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class ac extends Error{constructor(e){super(e)}}const xee=/^[a-z][a-z0-9+.-]*:/i,Aee=t=>xee.test(t);let yn=t=>(yn=Array.isArray,yn(t)),EA=yn;function h2(t){return typeof t!="object"?{}:t??{}}function Pee(t){if(!t)return!0;for(const e in t)return!1;return!0}function kee(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function pv(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const Oee=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ne(`${t} must be an integer`);if(e<0)throw new ne(`${t} must be a positive integer`);return e},Dee=t=>{try{return JSON.parse(t)}catch{return}},td=t=>new Promise(e=>setTimeout(e,t)),Qa="6.10.0",Mee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function Lee(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Nee=()=>{var n;const t=Lee();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qa,"X-Stainless-OS":bA(Deno.build.os),"X-Stainless-Arch":TA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qa,"X-Stainless-OS":bA(globalThis.process.platform??"unknown"),"X-Stainless-Arch":TA(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=Vee();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Qa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Vee(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const TA=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",bA=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let RA;const Fee=()=>RA??(RA=Nee());function Bee(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function d2(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function f2(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return d2({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)==null?void 0:n.call(e))}})}function p2(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function jee(t){var r,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(r=t[Symbol.asyncIterator]()).return)==null?void 0:i.call(r));return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const Uee=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),m2="RFC3986",g2=t=>String(t),CA={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:g2},$ee="RFC1738";let qw=(t,e)=>(qw=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),qw(t,e));const Ur=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),mv=1024,zee=(t,e,n,r,i)=>{if(t.length===0)return t;let s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let o="";for(let a=0;a<s.length;a+=mv){const l=s.length>=mv?s.slice(a,a+mv):s,u=[];for(let h=0;h<l.length;++h){let d=l.charCodeAt(h);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||i===$ee&&(d===40||d===41)){u[u.length]=l.charAt(h);continue}if(d<128){u[u.length]=Ur[d];continue}if(d<2048){u[u.length]=Ur[192|d>>6]+Ur[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=Ur[224|d>>12]+Ur[128|d>>6&63]+Ur[128|d&63];continue}h+=1,d=65536+((d&1023)<<10|l.charCodeAt(h)&1023),u[u.length]=Ur[240|d>>18]+Ur[128|d>>12&63]+Ur[128|d>>6&63]+Ur[128|d&63]}o+=u.join("")}return o};function Wee(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function IA(t,e){if(yn(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const y2={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},v2=function(t,e){Array.prototype.push.apply(t,yn(e)?e:[e])};let xA;const Et={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:zee,encodeValuesOnly:!1,format:m2,formatter:g2,indices:!1,serializeDate(t){return(xA??(xA=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function Hee(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const gv={};function _2(t,e,n,r,i,s,o,a,l,u,h,d,f,p,g,S,T,v){let y=t,E=v,A=0,M=!1;for(;(E=E.get(gv))!==void 0&&!M;){const I=E.get(t);if(A+=1,typeof I<"u"){if(I===A)throw new RangeError("Cyclic object value");M=!0}typeof E.get(gv)>"u"&&(A=0)}if(typeof u=="function"?y=u(e,y):y instanceof Date?y=f==null?void 0:f(y):n==="comma"&&yn(y)&&(y=IA(y,function(I){return I instanceof Date?f==null?void 0:f(I):I})),y===null){if(s)return l&&!S?l(e,Et.encoder,T,"key",p):e;y=""}if(Hee(y)||Wee(y)){if(l){const I=S?e:l(e,Et.encoder,T,"key",p);return[(g==null?void 0:g(I))+"="+(g==null?void 0:g(l(y,Et.encoder,T,"value",p)))]}return[(g==null?void 0:g(e))+"="+(g==null?void 0:g(String(y)))]}const D=[];if(typeof y>"u")return D;let b;if(n==="comma"&&yn(y))S&&l&&(y=IA(y,l)),b=[{value:y.length>0?y.join(",")||null:void 0}];else if(yn(u))b=u;else{const I=Object.keys(y);b=h?I.sort(h):I}const w=a?String(e).replace(/\./g,"%2E"):String(e),C=r&&yn(y)&&y.length===1?w+"[]":w;if(i&&yn(y)&&y.length===0)return C+"[]";for(let I=0;I<b.length;++I){const x=b[I],L=typeof x=="object"&&typeof x.value<"u"?x.value:y[x];if(o&&L===null)continue;const k=d&&a?x.replace(/\./g,"%2E"):x,le=yn(y)?typeof n=="function"?n(C,k):C:C+(d?"."+k:"["+k+"]");v.set(t,A);const de=new WeakMap;de.set(gv,v),v2(D,_2(L,le,n,r,i,s,o,a,n==="comma"&&S&&yn(y)?null:l,u,h,d,f,p,g,S,T,de))}return D}function qee(t=Et){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||Et.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=m2;if(typeof t.format<"u"){if(!qw(CA,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=CA[n];let i=Et.filter;(typeof t.filter=="function"||yn(t.filter))&&(i=t.filter);let s;if(t.arrayFormat&&t.arrayFormat in y2?s=t.arrayFormat:"indices"in t?s=t.indices?"indices":"repeat":s=Et.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:Et.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Et.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Et.allowEmptyArrays,arrayFormat:s,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Et.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Et.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Et.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Et.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Et.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Et.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Et.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Et.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Et.strictNullHandling}}function Kee(t,e={}){let n=t;const r=qee(e);let i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):yn(r.filter)&&(s=r.filter,i=s);const o=[];if(typeof n!="object"||n===null)return"";const a=y2[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const u=new WeakMap;for(let f=0;f<i.length;++f){const p=i[f];r.skipNulls&&n[p]===null||v2(o,_2(n[p],p,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const h=o.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),h.length>0?d+h:""}function Gee(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let AA;function pT(t){let e;return(AA??(e=new globalThis.TextEncoder,AA=e.encode.bind(e)))(t)}let PA;function kA(t){let e;return(PA??(e=new globalThis.TextDecoder,PA=e.decode.bind(e)))(t)}var kn,On;class Cg{constructor(){kn.set(this,void 0),On.set(this,void 0),ae(this,kn,new Uint8Array),ae(this,On,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?pT(e):e;ae(this,kn,Gee([V(this,kn,"f"),n]));const r=[];let i;for(;(i=Xee(V(this,kn,"f"),V(this,On,"f")))!=null;){if(i.carriage&&V(this,On,"f")==null){ae(this,On,i.index);continue}if(V(this,On,"f")!=null&&(i.index!==V(this,On,"f")+1||i.carriage)){r.push(kA(V(this,kn,"f").subarray(0,V(this,On,"f")-1))),ae(this,kn,V(this,kn,"f").subarray(V(this,On,"f"))),ae(this,On,null);continue}const s=V(this,On,"f")!==null?i.preceding-1:i.preceding,o=kA(V(this,kn,"f").subarray(0,s));r.push(o),ae(this,kn,V(this,kn,"f").subarray(i.index)),ae(this,On,null)}return r}flush(){return V(this,kn,"f").length?this.decode(`
`):[]}}kn=new WeakMap,On=new WeakMap;Cg.NEWLINE_CHARS=new Set([`
`,"\r"]);Cg.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Xee(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Yee(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const vm={off:0,error:200,warn:300,info:400,debug:500},OA=(t,e,n)=>{if(t){if(kee(vm,t))return t;Bt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(vm))}`)}};function lc(){}function df(t,e,n){return!e||vm[t]>vm[n]?lc:e[t].bind(e)}const Qee={error:lc,warn:lc,info:lc,debug:lc};let DA=new WeakMap;function Bt(t){const e=t.logger,n=t.logLevel??"off";if(!e)return Qee;const r=DA.get(e);if(r&&r[0]===n)return r[1];const i={error:df("error",e,n),warn:df("warn",e,n),info:df("info",e,n),debug:df("debug",e,n)};return DA.set(e,[n,i]),i}const Fo=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Ku;class Jr{constructor(e,n,r){this.iterator=e,Ku.set(this,void 0),this.controller=n,ae(this,Ku,r)}static fromSSEResponse(e,n,r){let i=!1;const s=r?Bt(r):console;async function*o(){if(i)throw new ne("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(const l of Jee(e,n))if(!a){if(l.data.startsWith("[DONE]")){a=!0;continue}if(l.event===null||!l.event.startsWith("thread.")){let u;try{u=JSON.parse(l.data)}catch(h){throw s.error("Could not parse message into JSON:",l.data),s.error("From chunk:",l.raw),h}if(u&&u.error)throw new qt(void 0,u.error,void 0,e.headers);yield u}else{let u;try{u=JSON.parse(l.data)}catch(h){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),h}if(l.event=="error")throw new qt(void 0,u.error,u.message,void 0);yield{event:l.event,data:u}}}a=!0}catch(l){if(Ww(l))return;throw l}finally{a||n.abort()}}return new Jr(o,n,r)}static fromReadableStream(e,n,r){let i=!1;async function*s(){const a=new Cg,l=p2(e);for await(const u of l)for(const h of a.decode(u))yield h;for(const u of a.flush())yield u}async function*o(){if(i)throw new ne("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(const l of s())a||l&&(yield JSON.parse(l));a=!0}catch(l){if(Ww(l))return;throw l}finally{a||n.abort()}}return new Jr(o,n,r)}[(Ku=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new Jr(()=>i(e),this.controller,V(this,Ku,"f")),new Jr(()=>i(n),this.controller,V(this,Ku,"f"))]}toReadableStream(){const e=this;let n;return d2({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const o=pT(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*Jee(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ne("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ne("Attempted to iterate over a response with no body");const n=new ete,r=new Cg,i=p2(t.body);for await(const s of Zee(i))for(const o of r.decode(s)){const a=n.decode(o);a&&(yield a)}for(const s of r.flush()){const o=n.decode(s);o&&(yield o)}}async function*Zee(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?pT(n):n;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let s;for(;(s=Yee(e))!==-1;)yield e.slice(0,s),e=e.slice(s)}e.length>0&&(yield e)}class ete{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=tte(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function tte(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function w2(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,o=await(async()=>{var d;if(e.options.stream)return Bt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Jr.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const a=n.headers.get("content-type"),l=(d=a==null?void 0:a.split(";")[0])==null?void 0:d.trim();if((l==null?void 0:l.includes("application/json"))||(l==null?void 0:l.endsWith("+json"))){const f=await n.json();return S2(f,n)}return await n.text()})();return Bt(t).debug(`[${r}] response parsed`,Fo({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}function S2(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var uc;class Ig extends Promise{constructor(e,n,r=w2){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,uc.set(this,void 0),ae(this,uc,e)}_thenUnwrap(e){return new Ig(V(this,uc,"f"),this.responsePromise,async(n,r)=>S2(e(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(V(this,uc,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}uc=new WeakMap;var ff;class mT{constructor(e,n,r,i){ff.set(this,void 0),ae(this,ff,e),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new ne("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await V(this,ff,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(ff=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class nte extends Ig{constructor(e,n,r){super(e,n,async(i,s)=>new r(i,s.response,await w2(i,s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class xg extends mT{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class _t extends mT{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const e=this.getPaginatedItems(),n=(r=e[e.length-1])==null?void 0:r.id;return n?{...this.options,query:{...h2(this.options.query),after:n}}:null}}class _m extends mT{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...h2(this.options.query),after:e}}:null}}const E2=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)==null?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function jc(t,e,n){return E2(),new File(t,e??"unknown_file",n)}function Zf(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const gT=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",MA=async(t,e)=>Kw(t.body)?{...t,body:await T2(t.body,e)}:t,ga=async(t,e)=>({...t,body:await T2(t.body,e)}),LA=new WeakMap;function rte(t){const e=typeof t=="function"?t:t.fetch,n=LA.get(e);if(n)return n;const r=(async()=>{try{const i="Response"in e?e.Response:(await e("data:,")).constructor,s=new FormData;return s.toString()!==await new i(s).text()}catch{return!0}})();return LA.set(e,r),r}const T2=async(t,e)=>{if(!await rte(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([r,i])=>Gw(n,r,i))),n},b2=t=>t instanceof Blob&&"name"in t,ite=t=>typeof t=="object"&&t!==null&&(t instanceof Response||gT(t)||b2(t)),Kw=t=>{if(ite(t))return!0;if(Array.isArray(t))return t.some(Kw);if(t&&typeof t=="object"){for(const e in t)if(Kw(t[e]))return!0}return!1},Gw=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,jc([await n.blob()],Zf(n)));else if(gT(n))t.append(e,jc([await new Response(f2(n)).blob()],Zf(n)));else if(b2(n))t.append(e,n,Zf(n));else if(Array.isArray(n))await Promise.all(n.map(r=>Gw(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>Gw(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},R2=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",ste=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&R2(t),ote=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function ate(t,e,n){if(E2(),t=await t,ste(t))return t instanceof File?t:jc([await t.arrayBuffer()],t.name);if(ote(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),jc(await Xw(i),e,n)}const r=await Xw(t);if(e||(e=Zf(t)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n={...n,type:i})}return jc(r,e,n)}async function Xw(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(R2(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(gT(t))for await(const r of t)e.push(...await Xw(r));else{const r=(n=t==null?void 0:t.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof t}${r?`; constructor: ${r}`:""}${lte(t)}`)}return e}function lte(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class te{constructor(e){this._client=e}}function C2(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const NA=Object.freeze(Object.create(null)),ute=(t=C2)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],o=n.reduce((h,d,f)=>{var S;/[?#]/.test(d)&&(i=!0);const p=r[f];let g=(i?encodeURIComponent:t)(""+p);return f!==r.length&&(p==null||typeof p=="object"&&p.toString===((S=Object.getPrototypeOf(Object.getPrototypeOf(p.hasOwnProperty??NA)??NA))==null?void 0:S.toString))&&(g=p+"",s.push({start:h.length+d.length,length:g.length,error:`Value of type ${Object.prototype.toString.call(p).slice(8,-1)} is not a valid path parameter`})),h+d+(f===r.length?"":g)},""),a=o.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)s.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(s.sort((h,d)=>h.start-d.start),s.length>0){let h=0;const d=s.reduce((f,p)=>{const g=" ".repeat(p.start-h),S="^".repeat(p.length);return h=p.start+p.length,f+g+S},"");throw new ne(`Path parameters result in path with invalid segments:
${s.map(f=>f.error).join(`
`)}
${o}
${d}`)}return o},$=ute(C2);let I2=class extends te{list(e,n={},r){return this._client.getAPIList($`/chat/completions/${e}/messages`,_t,{query:n,...r})}};function wm(t){return t!==void 0&&"function"in t&&t.function!==void 0}function yT(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function nd(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function cte(t,e){return!e||!x2(e)?{...t,choices:t.choices.map(n=>(A2(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:vT(t,e)}function vT(t,e){const n=t.choices.map(r=>{var i;if(r.finish_reason==="length")throw new u2;if(r.finish_reason==="content_filter")throw new c2;return A2(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(s=>dte(e,s)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?hte(e,r.message.content):null}}});return{...t,choices:n}}function hte(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function dte(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return wm(i)&&((s=i.function)==null?void 0:s.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:nd(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function fte(t,e){var r;if(!t||!("tools"in t)||!t.tools)return!1;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return wm(i)&&((s=i.function)==null?void 0:s.name)===e.function.name});return wm(n)&&(nd(n)||(n==null?void 0:n.function.strict)||!1)}function x2(t){var e;return yT(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>nd(n)||n.type==="function"&&n.function.strict===!0))??!1}function A2(t){for(const e of t||[])if(e.type!=="function")throw new ne(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function pte(t){for(const e of t??[]){if(e.type!=="function")throw new ne(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new ne(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Sm=t=>(t==null?void 0:t.role)==="assistant",P2=t=>(t==null?void 0:t.role)==="tool";var Yw,ep,tp,cc,hc,np,dc,Ei,fc,Em,Tm,Ja,k2;class _T{constructor(){Yw.add(this),this.controller=new AbortController,ep.set(this,void 0),tp.set(this,()=>{}),cc.set(this,()=>{}),hc.set(this,void 0),np.set(this,()=>{}),dc.set(this,()=>{}),Ei.set(this,{}),fc.set(this,!1),Em.set(this,!1),Tm.set(this,!1),Ja.set(this,!1),ae(this,ep,new Promise((e,n)=>{ae(this,tp,e,"f"),ae(this,cc,n,"f")})),ae(this,hc,new Promise((e,n)=>{ae(this,np,e,"f"),ae(this,dc,n,"f")})),V(this,ep,"f").catch(()=>{}),V(this,hc,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},V(this,Yw,"m",k2).bind(this))},0)}_connected(){this.ended||(V(this,tp,"f").call(this),this._emit("connect"))}get ended(){return V(this,fc,"f")}get errored(){return V(this,Em,"f")}get aborted(){return V(this,Tm,"f")}abort(){this.controller.abort()}on(e,n){return(V(this,Ei,"f")[e]||(V(this,Ei,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=V(this,Ei,"f")[e];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(V(this,Ei,"f")[e]||(V(this,Ei,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{ae(this,Ja,!0),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){ae(this,Ja,!0),await V(this,hc,"f")}_emit(e,...n){if(V(this,fc,"f"))return;e==="end"&&(ae(this,fc,!0),V(this,np,"f").call(this));const r=V(this,Ei,"f")[e];if(r&&(V(this,Ei,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!V(this,Ja,"f")&&!(r!=null&&r.length)&&Promise.reject(i),V(this,cc,"f").call(this,i),V(this,dc,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!V(this,Ja,"f")&&!(r!=null&&r.length)&&Promise.reject(i),V(this,cc,"f").call(this,i),V(this,dc,"f").call(this,i),this._emit("end")}}_emitFinal(){}}ep=new WeakMap,tp=new WeakMap,cc=new WeakMap,hc=new WeakMap,np=new WeakMap,dc=new WeakMap,Ei=new WeakMap,fc=new WeakMap,Em=new WeakMap,Tm=new WeakMap,Ja=new WeakMap,Yw=new WeakSet,k2=function(e){if(ae(this,Em,!0),e instanceof Error&&e.name==="AbortError"&&(e=new tr),e instanceof tr)return ae(this,Tm,!0),this._emit("abort",e);if(e instanceof ne)return this._emit("error",e);if(e instanceof Error){const n=new ne(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new ne(String(e)))};function mte(t){return typeof t.parse=="function"}var on,Qw,bm,Jw,Zw,e0,O2,D2;const gte=10;class M2 extends _T{constructor(){super(...arguments),on.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),P2(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Sm(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new ne("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),V(this,on,"m",Qw).call(this)}async finalMessage(){return await this.done(),V(this,on,"m",bm).call(this)}async finalFunctionToolCall(){return await this.done(),V(this,on,"m",Jw).call(this)}async finalFunctionToolCallResult(){return await this.done(),V(this,on,"m",Zw).call(this)}async totalUsage(){return await this.done(),V(this,on,"m",e0).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=V(this,on,"m",bm).call(this);n&&this._emit("finalMessage",n);const r=V(this,on,"m",Qw).call(this);r&&this._emit("finalContent",r);const i=V(this,on,"m",Jw).call(this);i&&this._emit("finalFunctionToolCall",i);const s=V(this,on,"m",Zw).call(this);s!=null&&this._emit("finalFunctionToolCallResult",s),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",V(this,on,"m",e0).call(this))}async _createChatCompletion(e,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),V(this,on,"m",O2).call(this,n);const s=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(vT(s,n))}async _runChatCompletion(e,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,n,r)}async _runTools(e,n,r){var p,g,S;const i="tool",{tool_choice:s="auto",stream:o,...a}=n,l=typeof s!="string"&&s.type==="function"&&((p=s==null?void 0:s.function)==null?void 0:p.name),{maxChatCompletions:u=gte}=r||{},h=n.tools.map(T=>{if(nd(T)){if(!T.$callback)throw new ne("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:T.$callback,name:T.function.name,description:T.function.description||"",parameters:T.function.parameters,parse:T.$parseRaw,strict:!0}}}return T}),d={};for(const T of h)T.type==="function"&&(d[T.function.name||T.function.function.name]=T.function);const f="tools"in n?h.map(T=>T.type==="function"?{type:"function",function:{name:T.function.name||T.function.function.name,parameters:T.function.parameters,description:T.function.description,strict:T.function.strict}}:T):void 0;for(const T of n.messages)this._addMessage(T,!1);for(let T=0;T<u;++T){const y=(g=(await this._createChatCompletion(e,{...a,tool_choice:s,tools:f,messages:[...this.messages]},r)).choices[0])==null?void 0:g.message;if(!y)throw new ne("missing message in ChatCompletion response");if(!((S=y.tool_calls)!=null&&S.length))return;for(const E of y.tool_calls){if(E.type!=="function")continue;const A=E.id,{name:M,arguments:D}=E.function,b=d[M];if(b){if(l&&l!==M){const x=`Invalid tool_call: ${JSON.stringify(M)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:A,content:x});continue}}else{const x=`Invalid tool_call: ${JSON.stringify(M)}. Available options are: ${Object.keys(d).map(L=>JSON.stringify(L)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:A,content:x});continue}let w;try{w=mte(b)?await b.parse(D):D}catch(x){const L=x instanceof Error?x.message:String(x);this._addMessage({role:i,tool_call_id:A,content:L});continue}const C=await b.function(w,this),I=V(this,on,"m",D2).call(this,C);if(this._addMessage({role:i,tool_call_id:A,content:I}),l)return}}}}on=new WeakSet,Qw=function(){return V(this,on,"m",bm).call(this).content??null},bm=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Sm(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new ne("stream ended without producing a ChatCompletionMessage with role=assistant")},Jw=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(Sm(i)&&((e=i==null?void 0:i.tool_calls)!=null&&e.length))return(n=i.tool_calls.filter(s=>s.type==="function").at(-1))==null?void 0:n.function}},Zw=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(P2(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},e0=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},O2=function(e){if(e.n!=null&&e.n>1)throw new ne("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},D2=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class wT extends M2{static runTools(e,n,r){const i=new wT,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}_addMessage(e,n=!0){super._addMessage(e,n),Sm(e)&&e.content&&this._emit("content",e.content)}}const L2=1,N2=2,V2=4,F2=8,B2=16,j2=32,U2=64,$2=128,z2=256,W2=$2|z2,H2=B2|j2|W2|U2,q2=L2|N2|H2,K2=V2|F2,yte=q2|K2,Ot={STR:L2,NUM:N2,ARR:V2,OBJ:F2,NULL:B2,BOOL:j2,NAN:U2,INFINITY:$2,MINUS_INFINITY:z2,INF:W2,SPECIAL:H2,ATOM:q2,COLLECTION:K2,ALL:yte};class vte extends Error{}class _te extends Error{}function wte(t,e=Ot.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return Ste(t.trim(),e)}const Ste=(t,e)=>{const n=t.length;let r=0;const i=f=>{throw new vte(`${f} at position ${r}`)},s=f=>{throw new _te(`${f} at position ${r}`)},o=()=>(d(),r>=n&&i("Unexpected end of input"),t[r]==='"'?a():t[r]==="{"?l():t[r]==="["?u():t.substring(r,r+4)==="null"||Ot.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||Ot.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||Ot.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||Ot.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||Ot.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||Ot.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):h()),a=()=>{const f=r;let p=!1;for(r++;r<n&&(t[r]!=='"'||p&&t[r-1]==="\\");)p=t[r]==="\\"?!p:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(f,++r-Number(p)))}catch(g){s(String(g))}else if(Ot.STR&e)try{return JSON.parse(t.substring(f,r-Number(p))+'"')}catch{return JSON.parse(t.substring(f,t.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},l=()=>{r++,d();const f={};try{for(;t[r]!=="}";){if(d(),r>=n&&Ot.OBJ&e)return f;const p=a();d(),r++;try{const g=o();Object.defineProperty(f,p,{value:g,writable:!0,enumerable:!0,configurable:!0})}catch(g){if(Ot.OBJ&e)return f;throw g}d(),t[r]===","&&r++}}catch{if(Ot.OBJ&e)return f;i("Expected '}' at end of object")}return r++,f},u=()=>{r++;const f=[];try{for(;t[r]!=="]";)f.push(o()),d(),t[r]===","&&r++}catch{if(Ot.ARR&e)return f;i("Expected ']' at end of array")}return r++,f},h=()=>{if(r===0){t==="-"&&Ot.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t)}catch(p){if(Ot.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}s(String(p))}}const f=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(Ot.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(t.substring(f,r))}catch{t.substring(f,r)==="-"&&Ot.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t.substring(f,t.lastIndexOf("e")))}catch(g){s(String(g))}}},d=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return o()},VA=t=>wte(t,Ot.ALL^Ot.NUM);var St,Si,za,ws,yv,pf,vv,_v,wv,mf,Sv,FA;class xh extends M2{constructor(e){super(),St.add(this),Si.set(this,void 0),za.set(this,void 0),ws.set(this,void 0),ae(this,Si,e),ae(this,za,[])}get currentChatCompletionSnapshot(){return V(this,ws,"f")}static fromReadableStream(e){const n=new xh(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const i=new xh(n);return i._run(()=>i._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,n,r){var o;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),V(this,St,"m",yv).call(this);const s=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of s)V(this,St,"m",vv).call(this,a);if((o=s.controller.signal)!=null&&o.aborted)throw new tr;return this._addChatCompletion(V(this,St,"m",mf).call(this))}async _fromReadableStream(e,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,St,"m",yv).call(this),this._connected();const i=Jr.fromReadableStream(e,this.controller);let s;for await(const a of i)s&&s!==a.id&&this._addChatCompletion(V(this,St,"m",mf).call(this)),V(this,St,"m",vv).call(this,a),s=a.id;if((o=i.controller.signal)!=null&&o.aborted)throw new tr;return this._addChatCompletion(V(this,St,"m",mf).call(this))}[(Si=new WeakMap,za=new WeakMap,ws=new WeakMap,St=new WeakSet,yv=function(){this.ended||ae(this,ws,void 0)},pf=function(n){let r=V(this,za,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},V(this,za,"f")[n.index]=r,r)},vv=function(n){var i,s,o,a,l,u,h,d,f,p,g,S,T,v,y;if(this.ended)return;const r=V(this,St,"m",FA).call(this,n);this._emit("chunk",n,r);for(const E of n.choices){const A=r.choices[E.index];E.delta.content!=null&&((i=A.message)==null?void 0:i.role)==="assistant"&&((s=A.message)!=null&&s.content)&&(this._emit("content",E.delta.content,A.message.content),this._emit("content.delta",{delta:E.delta.content,snapshot:A.message.content,parsed:A.message.parsed})),E.delta.refusal!=null&&((o=A.message)==null?void 0:o.role)==="assistant"&&((a=A.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:E.delta.refusal,snapshot:A.message.refusal}),((l=E.logprobs)==null?void 0:l.content)!=null&&((u=A.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(h=E.logprobs)==null?void 0:h.content,snapshot:((d=A.logprobs)==null?void 0:d.content)??[]}),((f=E.logprobs)==null?void 0:f.refusal)!=null&&((p=A.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(g=E.logprobs)==null?void 0:g.refusal,snapshot:((S=A.logprobs)==null?void 0:S.refusal)??[]});const M=V(this,St,"m",pf).call(this,A);A.finish_reason&&(V(this,St,"m",wv).call(this,A),M.current_tool_call_index!=null&&V(this,St,"m",_v).call(this,A,M.current_tool_call_index));for(const D of E.delta.tool_calls??[])M.current_tool_call_index!==D.index&&(V(this,St,"m",wv).call(this,A),M.current_tool_call_index!=null&&V(this,St,"m",_v).call(this,A,M.current_tool_call_index)),M.current_tool_call_index=D.index;for(const D of E.delta.tool_calls??[]){const b=(T=A.message.tool_calls)==null?void 0:T[D.index];b!=null&&b.type&&((b==null?void 0:b.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(v=b.function)==null?void 0:v.name,index:D.index,arguments:b.function.arguments,parsed_arguments:b.function.parsed_arguments,arguments_delta:((y=D.function)==null?void 0:y.arguments)??""}):(b==null||b.type,void 0))}}},_v=function(n,r){var o,a,l;if(V(this,St,"m",pf).call(this,n).done_tool_calls.has(r))return;const s=(o=n.message.tool_calls)==null?void 0:o[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const u=(l=(a=V(this,Si,"f"))==null?void 0:a.tools)==null?void 0:l.find(h=>wm(h)&&h.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:nd(u)?u.$parseRaw(s.function.arguments):u!=null&&u.function.strict?JSON.parse(s.function.arguments):null})}else s.type},wv=function(n){var i,s;const r=V(this,St,"m",pf).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=V(this,St,"m",Sv).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(i=n.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},mf=function(){if(this.ended)throw new ne("stream has ended, this shouldn't happen");const n=V(this,ws,"f");if(!n)throw new ne("request ended without sending any chunks");return ae(this,ws,void 0),ae(this,za,[]),Ete(n,V(this,Si,"f"))},Sv=function(){var r;const n=(r=V(this,Si,"f"))==null?void 0:r.response_format;return yT(n)?n:null},FA=function(n){var r,i,s,o;let a=V(this,ws,"f");const{choices:l,...u}=n;a?Object.assign(a,u):a=ae(this,ws,{...u,choices:[]});for(const{delta:h,finish_reason:d,index:f,logprobs:p=null,...g}of n.choices){let S=a.choices[f];if(S||(S=a.choices[f]={finish_reason:d,index:f,message:{},logprobs:p,...g}),p)if(!S.logprobs)S.logprobs=Object.assign({},p);else{const{content:D,refusal:b,...w}=p;Object.assign(S.logprobs,w),D&&((r=S.logprobs).content??(r.content=[]),S.logprobs.content.push(...D)),b&&((i=S.logprobs).refusal??(i.refusal=[]),S.logprobs.refusal.push(...b))}if(d&&(S.finish_reason=d,V(this,Si,"f")&&x2(V(this,Si,"f")))){if(d==="length")throw new u2;if(d==="content_filter")throw new c2}if(Object.assign(S,g),!h)continue;const{content:T,refusal:v,function_call:y,role:E,tool_calls:A,...M}=h;if(Object.assign(S.message,M),v&&(S.message.refusal=(S.message.refusal||"")+v),E&&(S.message.role=E),y&&(S.message.function_call?(y.name&&(S.message.function_call.name=y.name),y.arguments&&((s=S.message.function_call).arguments??(s.arguments=""),S.message.function_call.arguments+=y.arguments)):S.message.function_call=y),T&&(S.message.content=(S.message.content||"")+T,!S.message.refusal&&V(this,St,"m",Sv).call(this)&&(S.message.parsed=VA(S.message.content))),A){S.message.tool_calls||(S.message.tool_calls=[]);for(const{index:D,id:b,type:w,function:C,...I}of A){const x=(o=S.message.tool_calls)[D]??(o[D]={});Object.assign(x,I),b&&(x.id=b),w&&(x.type=w),C&&(x.function??(x.function={name:C.name??"",arguments:""})),C!=null&&C.name&&(x.function.name=C.name),C!=null&&C.arguments&&(x.function.arguments+=C.arguments,fte(V(this,Si,"f"),x)&&(x.function.parsed_arguments=VA(x.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Jr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Ete(t,e){const{id:n,choices:r,created:i,model:s,system_fingerprint:o,...a}=t,l={...a,id:n,choices:r.map(({message:u,finish_reason:h,index:d,logprobs:f,...p})=>{if(!h)throw new ne(`missing finish_reason for choice ${d}`);const{content:g=null,function_call:S,tool_calls:T,...v}=u,y=u.role;if(!y)throw new ne(`missing role for choice ${d}`);if(S){const{arguments:E,name:A}=S;if(E==null)throw new ne(`missing function_call.arguments for choice ${d}`);if(!A)throw new ne(`missing function_call.name for choice ${d}`);return{...p,message:{content:g,function_call:{arguments:E,name:A},role:y,refusal:u.refusal??null},finish_reason:h,index:d,logprobs:f}}return T?{...p,index:d,finish_reason:h,logprobs:f,message:{...v,role:y,content:g,refusal:u.refusal??null,tool_calls:T.map((E,A)=>{const{function:M,type:D,id:b,...w}=E,{arguments:C,name:I,...x}=M||{};if(b==null)throw new ne(`missing choices[${d}].tool_calls[${A}].id
${gf(t)}`);if(D==null)throw new ne(`missing choices[${d}].tool_calls[${A}].type
${gf(t)}`);if(I==null)throw new ne(`missing choices[${d}].tool_calls[${A}].function.name
${gf(t)}`);if(C==null)throw new ne(`missing choices[${d}].tool_calls[${A}].function.arguments
${gf(t)}`);return{...w,id:b,type:D,function:{...x,name:I,arguments:C}}})}}:{...p,message:{...v,content:g,role:y,refusal:u.refusal??null},finish_reason:h,index:d,logprobs:f}}),created:i,model:s,object:"chat.completion",...o?{system_fingerprint:o}:{}};return cte(l,e)}function gf(t){return JSON.stringify(t)}class Rm extends xh{static fromReadableStream(e){const n=new Rm(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,r){const i=new Rm(n),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}}let ST=class extends te{constructor(){super(...arguments),this.messages=new I2(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get($`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post($`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/chat/completions",_t,{query:e,...n})}delete(e,n){return this._client.delete($`/chat/completions/${e}`,n)}parse(e,n){return pte(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>vT(r,e))}runTools(e,n){return e.stream?Rm.runTools(this._client,e,n):wT.runTools(this._client,e,n)}stream(e,n){return xh.createChatCompletion(this._client,e,n)}};ST.Messages=I2;class ET extends te{constructor(){super(...arguments),this.completions=new ST(this._client)}}ET.Completions=ST;const G2=Symbol("brand.privateNullableHeaders");function*Tte(t){if(!t)return;if(G2 in t){const{values:r,nulls:i}=t;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():EA(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=EA(r[1])?r[1]:[r[1]];let o=!1;for(const a of s)a!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,a])}}const Z=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[s,o]of Tte(r)){const a=s.toLowerCase();i.has(a)||(e.delete(s),i.add(a)),o===null?(e.delete(s),n.add(a)):(e.append(s,o),n.delete(a))}}return{[G2]:!0,values:e,nulls:n}};class X2 extends te{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:Z([{Accept:"application/octet-stream"},n==null?void 0:n.headers]),__binaryResponse:!0})}}class Y2 extends te{create(e,n){return this._client.post("/audio/transcriptions",ga({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class Q2 extends te{create(e,n){return this._client.post("/audio/translations",ga({body:e,...n,__metadata:{model:e.model}},this._client))}}class rd extends te{constructor(){super(...arguments),this.transcriptions=new Y2(this._client),this.translations=new Q2(this._client),this.speech=new X2(this._client)}}rd.Transcriptions=Y2;rd.Translations=Q2;rd.Speech=X2;class J2 extends te{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get($`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",_t,{query:e,...n})}cancel(e,n){return this._client.post($`/batches/${e}/cancel`,n)}}class Z2 extends te{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get($`/assistants/${e}`,{...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post($`/assistants/${e}`,{body:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e={},n){return this._client.getAPIList("/assistants",_t,{query:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete($`/assistants/${e}`,{...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let eV=class extends te{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}};class tV extends te{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let Ag=class extends te{constructor(){super(...arguments),this.sessions=new eV(this._client),this.transcriptionSessions=new tV(this._client)}};Ag.Sessions=eV;Ag.TranscriptionSessions=tV;class nV extends te{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}cancel(e,n){return this._client.post($`/chatkit/sessions/${e}/cancel`,{...n,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}}let rV=class extends te{retrieve(e,n){return this._client.get($`/chatkit/threads/${e}`,{...n,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",_m,{query:e,...n,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete($`/chatkit/threads/${e}`,{...n,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}listItems(e,n={},r){return this._client.getAPIList($`/chatkit/threads/${e}/items`,_m,{query:n,...r,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},r==null?void 0:r.headers])})}};class Pg extends te{constructor(){super(...arguments),this.sessions=new nV(this._client),this.threads=new rV(this._client)}}Pg.Sessions=nV;Pg.Threads=rV;class iV extends te{create(e,n,r){return this._client.post($`/threads/${e}/messages`,{body:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{thread_id:i}=n;return this._client.get($`/threads/${i}/messages/${e}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{thread_id:i,...s}=n;return this._client.post($`/threads/${i}/messages/${e}`,{body:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList($`/threads/${e}/messages`,_t,{query:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n,r){const{thread_id:i}=n;return this._client.delete($`/threads/${i}/messages/${e}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class sV extends te{retrieve(e,n,r){const{thread_id:i,run_id:s,...o}=n;return this._client.get($`/threads/${i}/runs/${s}/steps/${e}`,{query:o,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n,r){const{thread_id:i,...s}=n;return this._client.getAPIList($`/threads/${i}/runs/${e}/steps`,_t,{query:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}const bte=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return Array.from(new Float32Array(r.buffer))}};var Ev={};const Wa=t=>{var e,n,r,i;if(typeof globalThis.process<"u")return((e=Ev==null?void 0:Ev[t])==null?void 0:e.trim())??void 0;if(typeof globalThis.Deno<"u")return(i=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};var jt,Xo,t0,Hr,rp,Sr,Yo,_l,Bo,Cm,Dn,ip,sp,Uc,pc,mc,BA,jA,UA,$A,zA,WA,HA;class $c extends _T{constructor(){super(...arguments),jt.add(this),t0.set(this,[]),Hr.set(this,{}),rp.set(this,{}),Sr.set(this,void 0),Yo.set(this,void 0),_l.set(this,void 0),Bo.set(this,void 0),Cm.set(this,void 0),Dn.set(this,void 0),ip.set(this,void 0),sp.set(this,void 0),Uc.set(this,void 0)}[(t0=new WeakMap,Hr=new WeakMap,rp=new WeakMap,Sr=new WeakMap,Yo=new WeakMap,_l=new WeakMap,Bo=new WeakMap,Cm=new WeakMap,Dn=new WeakMap,ip=new WeakMap,sp=new WeakMap,Uc=new WeakMap,jt=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Xo;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=Jr.fromReadableStream(e,this.controller);for await(const o of i)V(this,jt,"m",pc).call(this,o);if((s=i.controller.signal)!=null&&s.aborted)throw new tr;return this._addRun(V(this,jt,"m",mc).call(this))}toReadableStream(){return new Jr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,i){const s=new Xo;return s._run(()=>s._runToolAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createToolAssistantStream(e,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await e.submitToolOutputs(n,o,{...i,signal:this.controller.signal});this._connected();for await(const u of a)V(this,jt,"m",pc).call(this,u);if((l=a.controller.signal)!=null&&l.aborted)throw new tr;return this._addRun(V(this,jt,"m",mc).call(this))}static createThreadAssistantStream(e,n,r){const i=new Xo;return i._run(()=>i._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,n,r,i){const s=new Xo;return s._run(()=>s._runAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return V(this,ip,"f")}currentRun(){return V(this,sp,"f")}currentMessageSnapshot(){return V(this,Sr,"f")}currentRunStepSnapshot(){return V(this,Uc,"f")}async finalRunSteps(){return await this.done(),Object.values(V(this,Hr,"f"))}async finalMessages(){return await this.done(),Object.values(V(this,rp,"f"))}async finalRun(){if(await this.done(),!V(this,Yo,"f"))throw Error("Final run was not received.");return V(this,Yo,"f")}async _createThreadAssistantStream(e,n,r){var a;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},o=await e.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const l of o)V(this,jt,"m",pc).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new tr;return this._addRun(V(this,jt,"m",mc).call(this))}async _createAssistantStream(e,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await e.create(n,o,{...i,signal:this.controller.signal});this._connected();for await(const u of a)V(this,jt,"m",pc).call(this,u);if((l=a.controller.signal)!=null&&l.aborted)throw new tr;return this._addRun(V(this,jt,"m",mc).call(this))}static accumulateDelta(e,n){for(const[r,i]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let s=e[r];if(s==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(pv(s)&&pv(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(o=>typeof o=="string"||typeof o=="number")){s.push(...i);continue}for(const o of i){if(!pv(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const a=o.index;if(a==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=s[a];l==null?s.push(o):s[a]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);e[r]=s}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,i){return await this._createAssistantStream(n,e,r,i)}async _runToolAssistantStream(e,n,r,i){return await this._createToolAssistantStream(n,e,r,i)}}Xo=$c,pc=function(e){if(!this.ended)switch(ae(this,ip,e),V(this,jt,"m",UA).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":V(this,jt,"m",HA).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":V(this,jt,"m",jA).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":V(this,jt,"m",BA).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},mc=function(){if(this.ended)throw new ne("stream has ended, this shouldn't happen");if(!V(this,Yo,"f"))throw Error("Final run has not been received");return V(this,Yo,"f")},BA=function(e){const[n,r]=V(this,jt,"m",zA).call(this,e,V(this,Sr,"f"));ae(this,Sr,n),V(this,rp,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,o=n.content[i.index];if(o&&o.type=="text")this._emit("textDelta",s,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=V(this,_l,"f")){if(V(this,Bo,"f"))switch(V(this,Bo,"f").type){case"text":this._emit("textDone",V(this,Bo,"f").text,V(this,Sr,"f"));break;case"image_file":this._emit("imageFileDone",V(this,Bo,"f").image_file,V(this,Sr,"f"));break}ae(this,_l,i.index)}ae(this,Bo,n.content[i.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(V(this,_l,"f")!==void 0){const i=e.data.content[V(this,_l,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,V(this,Sr,"f"));break;case"text":this._emit("textDone",i.text,V(this,Sr,"f"));break}}V(this,Sr,"f")&&this._emit("messageDone",e.data),ae(this,Sr,void 0)}},jA=function(e){const n=V(this,jt,"m",$A).call(this,e);switch(ae(this,Uc,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==V(this,Cm,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(V(this,Dn,"f")&&this._emit("toolCallDone",V(this,Dn,"f")),ae(this,Cm,s.index),ae(this,Dn,n.step_details.tool_calls[s.index]),V(this,Dn,"f")&&this._emit("toolCallCreated",V(this,Dn,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ae(this,Uc,void 0),e.data.step_details.type=="tool_calls"&&V(this,Dn,"f")&&(this._emit("toolCallDone",V(this,Dn,"f")),ae(this,Dn,void 0)),this._emit("runStepDone",e.data,n);break}},UA=function(e){V(this,t0,"f").push(e),this._emit("event",e)},$A=function(e){switch(e.event){case"thread.run.step.created":return V(this,Hr,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=V(this,Hr,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=Xo.accumulateDelta(n,r.delta);V(this,Hr,"f")[e.data.id]=i}return V(this,Hr,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":V(this,Hr,"f")[e.data.id]=e.data;break}if(V(this,Hr,"f")[e.data.id])return V(this,Hr,"f")[e.data.id];throw new Error("No snapshot available")},zA=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let o=n.content[s.index];n.content[s.index]=V(this,jt,"m",WA).call(this,s,o)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},WA=function(e,n){return Xo.accumulateDelta(n,e)},HA=function(e){switch(ae(this,sp,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":ae(this,Yo,e.data),V(this,Dn,"f")&&(this._emit("toolCallDone",V(this,Dn,"f")),ae(this,Dn,void 0));break}};let TT=class extends te{constructor(){super(...arguments),this.steps=new sV(this._client)}create(e,n,r){const{include:i,...s}=n;return this._client.post($`/threads/${e}/runs`,{query:{include:i},body:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}retrieve(e,n,r){const{thread_id:i}=n;return this._client.get($`/threads/${i}/runs/${e}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{thread_id:i,...s}=n;return this._client.post($`/threads/${i}/runs/${e}`,{body:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList($`/threads/${e}/runs`,_t,{query:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(e,n,r){const{thread_id:i}=n;return this._client.post($`/threads/${i}/runs/${e}/cancel`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(i.id,{thread_id:e},r)}createAndStream(e,n,r){return $c.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){var s;const i=Z([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((s=r==null?void 0:r.pollIntervalMs)==null?void 0:s.toString())??void 0}]);for(;;){const{data:o,response:a}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=a.headers.get("openai-poll-after-ms");if(u){const h=parseInt(u);isNaN(h)||(l=h)}}await td(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(e,n,r){return $c.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r){const{thread_id:i,...s}=n;return this._client.post($`/threads/${i}/runs/${e}/submit_tool_outputs`,{body:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,r){const i=await this.submitToolOutputs(e,n,r);return await this.poll(i.id,n,r)}submitToolOutputsStream(e,n,r){return $c.createToolAssistantStream(e,this._client.beta.threads.runs,n,r)}};TT.Steps=sV;class kg extends te{constructor(){super(...arguments),this.runs=new TT(this._client),this.messages=new iV(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get($`/threads/${e}`,{...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post($`/threads/${e}`,{body:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n){return this._client.delete($`/threads/${e}`,{...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(e,n){return $c.createThreadAssistantStream(e,this._client.beta.threads,n)}}kg.Runs=TT;kg.Messages=iV;class du extends te{constructor(){super(...arguments),this.realtime=new Ag(this._client),this.chatkit=new Pg(this._client),this.assistants=new Z2(this._client),this.threads=new kg(this._client)}}du.Realtime=Ag;du.ChatKit=Pg;du.Assistants=Z2;du.Threads=kg;class oV extends te{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class aV extends te{retrieve(e,n,r){const{container_id:i}=n;return this._client.get($`/containers/${i}/files/${e}/content`,{...r,headers:Z([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}}let bT=class extends te{constructor(){super(...arguments),this.content=new aV(this._client)}create(e,n,r){return this._client.post($`/containers/${e}/files`,ga({body:n,...r},this._client))}retrieve(e,n,r){const{container_id:i}=n;return this._client.get($`/containers/${i}/files/${e}`,r)}list(e,n={},r){return this._client.getAPIList($`/containers/${e}/files`,_t,{query:n,...r})}delete(e,n,r){const{container_id:i}=n;return this._client.delete($`/containers/${i}/files/${e}`,{...r,headers:Z([{Accept:"*/*"},r==null?void 0:r.headers])})}};bT.Content=aV;class RT extends te{constructor(){super(...arguments),this.files=new bT(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get($`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",_t,{query:e,...n})}delete(e,n){return this._client.delete($`/containers/${e}`,{...n,headers:Z([{Accept:"*/*"},n==null?void 0:n.headers])})}}RT.Files=bT;class lV extends te{create(e,n,r){const{include:i,...s}=n;return this._client.post($`/conversations/${e}/items`,{query:{include:i},body:s,...r})}retrieve(e,n,r){const{conversation_id:i,...s}=n;return this._client.get($`/conversations/${i}/items/${e}`,{query:s,...r})}list(e,n={},r){return this._client.getAPIList($`/conversations/${e}/items`,_m,{query:n,...r})}delete(e,n,r){const{conversation_id:i}=n;return this._client.delete($`/conversations/${i}/items/${e}`,r)}}class CT extends te{constructor(){super(...arguments),this.items=new lV(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get($`/conversations/${e}`,n)}update(e,n,r){return this._client.post($`/conversations/${e}`,{body:n,...r})}delete(e,n){return this._client.delete($`/conversations/${e}`,n)}}CT.Items=lV;class uV extends te{create(e,n){const r=!!e.encoding_format;let i=r?e.encoding_format:"base64";r&&Bt(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const s=this._client.post("/embeddings",{body:{...e,encoding_format:i},...n});return r?s:(Bt(this._client).debug("embeddings/decoding base64 embeddings from base64"),s._thenUnwrap(o=>(o&&o.data&&o.data.forEach(a=>{const l=a.embedding;a.embedding=bte(l)}),o)))}}class cV extends te{retrieve(e,n,r){const{eval_id:i,run_id:s}=n;return this._client.get($`/evals/${i}/runs/${s}/output_items/${e}`,r)}list(e,n,r){const{eval_id:i,...s}=n;return this._client.getAPIList($`/evals/${i}/runs/${e}/output_items`,_t,{query:s,...r})}}class IT extends te{constructor(){super(...arguments),this.outputItems=new cV(this._client)}create(e,n,r){return this._client.post($`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){const{eval_id:i}=n;return this._client.get($`/evals/${i}/runs/${e}`,r)}list(e,n={},r){return this._client.getAPIList($`/evals/${e}/runs`,_t,{query:n,...r})}delete(e,n,r){const{eval_id:i}=n;return this._client.delete($`/evals/${i}/runs/${e}`,r)}cancel(e,n,r){const{eval_id:i}=n;return this._client.post($`/evals/${i}/runs/${e}`,r)}}IT.OutputItems=cV;class xT extends te{constructor(){super(...arguments),this.runs=new IT(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get($`/evals/${e}`,n)}update(e,n,r){return this._client.post($`/evals/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/evals",_t,{query:e,...n})}delete(e,n){return this._client.delete($`/evals/${e}`,n)}}xT.Runs=IT;let hV=class extends te{create(e,n){return this._client.post("/files",ga({body:e,...n},this._client))}retrieve(e,n){return this._client.get($`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",_t,{query:e,...n})}delete(e,n){return this._client.delete($`/files/${e}`,n)}content(e,n){return this._client.get($`/files/${e}/content`,{...n,headers:Z([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let o=await this.retrieve(e);for(;!o.status||!i.has(o.status);)if(await td(n),o=await this.retrieve(e),Date.now()-s>r)throw new fT({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return o}};class dV extends te{}let fV=class extends te{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class AT extends te{constructor(){super(...arguments),this.graders=new fV(this._client)}}AT.Graders=fV;class pV extends te{create(e,n,r){return this._client.getAPIList($`/fine_tuning/checkpoints/${e}/permissions`,xg,{body:n,method:"post",...r})}retrieve(e,n={},r){return this._client.get($`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}delete(e,n,r){const{fine_tuned_model_checkpoint:i}=n;return this._client.delete($`/fine_tuning/checkpoints/${i}/permissions/${e}`,r)}}let PT=class extends te{constructor(){super(...arguments),this.permissions=new pV(this._client)}};PT.Permissions=pV;class mV extends te{list(e,n={},r){return this._client.getAPIList($`/fine_tuning/jobs/${e}/checkpoints`,_t,{query:n,...r})}}class kT extends te{constructor(){super(...arguments),this.checkpoints=new mV(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get($`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",_t,{query:e,...n})}cancel(e,n){return this._client.post($`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return this._client.getAPIList($`/fine_tuning/jobs/${e}/events`,_t,{query:n,...r})}pause(e,n){return this._client.post($`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post($`/fine_tuning/jobs/${e}/resume`,n)}}kT.Checkpoints=mV;class fu extends te{constructor(){super(...arguments),this.methods=new dV(this._client),this.jobs=new kT(this._client),this.checkpoints=new PT(this._client),this.alpha=new AT(this._client)}}fu.Methods=dV;fu.Jobs=kT;fu.Checkpoints=PT;fu.Alpha=AT;class gV extends te{}class OT extends te{constructor(){super(...arguments),this.graderModels=new gV(this._client)}}OT.GraderModels=gV;class yV extends te{createVariation(e,n){return this._client.post("/images/variations",ga({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",ga({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class vV extends te{retrieve(e,n){return this._client.get($`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",xg,e)}delete(e,n){return this._client.delete($`/models/${e}`,n)}}class _V extends te{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class wV extends te{accept(e,n,r){return this._client.post($`/realtime/calls/${e}/accept`,{body:n,...r,headers:Z([{Accept:"*/*"},r==null?void 0:r.headers])})}hangup(e,n){return this._client.post($`/realtime/calls/${e}/hangup`,{...n,headers:Z([{Accept:"*/*"},n==null?void 0:n.headers])})}refer(e,n,r){return this._client.post($`/realtime/calls/${e}/refer`,{body:n,...r,headers:Z([{Accept:"*/*"},r==null?void 0:r.headers])})}reject(e,n={},r){return this._client.post($`/realtime/calls/${e}/reject`,{body:n,...r,headers:Z([{Accept:"*/*"},r==null?void 0:r.headers])})}}class SV extends te{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class Og extends te{constructor(){super(...arguments),this.clientSecrets=new SV(this._client),this.calls=new wV(this._client)}}Og.ClientSecrets=SV;Og.Calls=wV;function Rte(t,e){return!e||!Ite(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:EV(t,e)}function EV(t,e){const n=t.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:Pte(e,i)};if(i.type==="message"){const s=i.content.map(o=>o.type==="output_text"?{...o,parsed:Cte(e,o.text)}:o);return{...i,content:s}}return i}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||n0(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const i of r.output)if(i.type==="message"){for(const s of i.content)if(s.type==="output_text"&&s.parsed!==null)return s.parsed}return null}}),r}function Cte(t,e){var n,r,i,s;return((r=(n=t.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((i=t.text)==null?void 0:i.format)?((s=t.text)==null?void 0:s.format).$parseRaw(e):JSON.parse(e)}function Ite(t){var e;return!!yT((e=t.text)==null?void 0:e.format)}function xte(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function Ate(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function Pte(t,e){const n=Ate(t.tools??[],e.name);return{...e,...e,parsed_arguments:xte(n)?n.$parseRaw(e.arguments):n!=null&&n.strict?JSON.parse(e.arguments):null}}function n0(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}var Ha,yf,Ss,vf,qA,KA,GA,XA;class DT extends _T{constructor(e){super(),Ha.add(this),yf.set(this,void 0),Ss.set(this,void 0),vf.set(this,void 0),ae(this,yf,e)}static createResponse(e,n,r){const i=new DT(n);return i._run(()=>i._createOrRetrieveResponse(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(e,n,r){var a;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),V(this,Ha,"m",qA).call(this);let s,o=null;"response_id"in n?(s=await e.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),o=n.starting_after??null):s=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const l of s)V(this,Ha,"m",KA).call(this,l,o);if((a=s.controller.signal)!=null&&a.aborted)throw new tr;return V(this,Ha,"m",GA).call(this)}[(yf=new WeakMap,Ss=new WeakMap,vf=new WeakMap,Ha=new WeakSet,qA=function(){this.ended||ae(this,Ss,void 0)},KA=function(n,r){if(this.ended)return;const i=(o,a)=>{(r==null||a.sequence_number>r)&&this._emit(o,a)},s=V(this,Ha,"m",XA).call(this,n);switch(i("event",n),n.type){case"response.output_text.delta":{const o=s.output[n.output_index];if(!o)throw new ne(`missing output at index ${n.output_index}`);if(o.type==="message"){const a=o.content[n.content_index];if(!a)throw new ne(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new ne(`expected content to be 'output_text', got ${a.type}`);i("response.output_text.delta",{...n,snapshot:a.text})}break}case"response.function_call_arguments.delta":{const o=s.output[n.output_index];if(!o)throw new ne(`missing output at index ${n.output_index}`);o.type==="function_call"&&i("response.function_call_arguments.delta",{...n,snapshot:o.arguments});break}default:i(n.type,n);break}},GA=function(){if(this.ended)throw new ne("stream has ended, this shouldn't happen");const n=V(this,Ss,"f");if(!n)throw new ne("request ended without sending any events");ae(this,Ss,void 0);const r=kte(n,V(this,yf,"f"));return ae(this,vf,r),r},XA=function(n){var i;let r=V(this,Ss,"f");if(!r){if(n.type!=="response.created")throw new ne(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=ae(this,Ss,n.response),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new ne(`missing output at index ${n.output_index}`);const o=s.type,a=n.part;o==="message"&&a.type!=="reasoning_text"?s.content.push(a):o==="reasoning"&&a.type==="reasoning_text"&&(s.content||(s.content=[]),s.content.push(a));break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new ne(`missing output at index ${n.output_index}`);if(s.type==="message"){const o=s.content[n.content_index];if(!o)throw new ne(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new ne(`expected content to be 'output_text', got ${o.type}`);o.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new ne(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.reasoning_text.delta":{const s=r.output[n.output_index];if(!s)throw new ne(`missing output at index ${n.output_index}`);if(s.type==="reasoning"){const o=(i=s.content)==null?void 0:i[n.content_index];if(!o)throw new ne(`missing content at index ${n.content_index}`);if(o.type!=="reasoning_text")throw new ne(`expected content to be 'reasoning_text', got ${o.type}`);o.text+=n.delta}break}case"response.completed":{ae(this,Ss,n.response);break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=V(this,vf,"f");if(!e)throw new ne("stream ended without producing a ChatCompletion");return e}}function kte(t,e){return Rte(t,e)}class TV extends te{list(e,n={},r){return this._client.getAPIList($`/responses/${e}/input_items`,_t,{query:n,...r})}}class bV extends te{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class Dg extends te{constructor(){super(...arguments),this.inputItems=new TV(this._client),this.inputTokens=new bV(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&n0(r),r))}retrieve(e,n={},r){return this._client.get($`/responses/${e}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&n0(i),i))}delete(e,n){return this._client.delete($`/responses/${e}`,{...n,headers:Z([{Accept:"*/*"},n==null?void 0:n.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>EV(r,e))}stream(e,n){return DT.createResponse(this._client,e,n)}cancel(e,n){return this._client.post($`/responses/${e}/cancel`,n)}compact(e={},n){return this._client.post("/responses/compact",{body:e,...n})}}Dg.InputItems=TV;Dg.InputTokens=bV;class RV extends te{create(e,n,r){return this._client.post($`/uploads/${e}/parts`,ga({body:n,...r},this._client))}}class MT extends te{constructor(){super(...arguments),this.parts=new RV(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post($`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post($`/uploads/${e}/complete`,{body:n,...r})}}MT.Parts=RV;const Ote=async t=>{const e=await Promise.allSettled(t),n=e.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};class CV extends te{create(e,n,r){return this._client.post($`/vector_stores/${e}/file_batches`,{body:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{vector_store_id:i}=n;return this._client.get($`/vector_stores/${i}/file_batches/${e}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(e,n,r){const{vector_store_id:i}=n;return this._client.post($`/vector_stores/${i}/file_batches/${e}/cancel`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const i=await this.create(e,n);return await this.poll(e,i.id,r)}listFiles(e,n,r){const{vector_store_id:i,...s}=n;return this._client.getAPIList($`/vector_stores/${i}/file_batches/${e}/files`,_t,{query:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async poll(e,n,r){var s;const i=Z([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((s=r==null?void 0:r.pollIntervalMs)==null?void 0:s.toString())??void 0}]);for(;;){const{data:o,response:a}=await this.retrieve(n,{vector_store_id:e},{...r,headers:i}).withResponse();switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=a.headers.get("openai-poll-after-ms");if(u){const h=parseInt(u);isNaN(h)||(l=h)}}await td(l);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(i==null?void 0:i.maxConcurrency)??5,o=Math.min(s,n.length),a=this._client,l=n.values(),u=[...r];async function h(f){for(let p of f){const g=await a.files.create({file:p,purpose:"assistants"},i);u.push(g.id)}}const d=Array(o).fill(l).map(h);return await Ote(d),await this.createAndPoll(e,{file_ids:u})}}class IV extends te{create(e,n,r){return this._client.post($`/vector_stores/${e}/files`,{body:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{vector_store_id:i}=n;return this._client.get($`/vector_stores/${i}/files/${e}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{vector_store_id:i,...s}=n;return this._client.post($`/vector_stores/${i}/files/${e}`,{body:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList($`/vector_stores/${e}/files`,_t,{query:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n,r){const{vector_store_id:i}=n;return this._client.delete($`/vector_stores/${i}/files/${e}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}async poll(e,n,r){var s;const i=Z([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((s=r==null?void 0:r.pollIntervalMs)==null?void 0:s.toString())??void 0}]);for(;;){const o=await this.retrieve(n,{vector_store_id:e},{...r,headers:i}).withResponse(),a=o.data;switch(a.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.response.headers.get("openai-poll-after-ms");if(u){const h=parseInt(u);isNaN(h)||(l=h)}}await td(l);break;case"failed":case"completed":return a}}}async upload(e,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,n,r){const i=await this.upload(e,n,r);return await this.poll(e,i.id,r)}content(e,n,r){const{vector_store_id:i}=n;return this._client.getAPIList($`/vector_stores/${i}/files/${e}/content`,xg,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Mg extends te{constructor(){super(...arguments),this.files=new IV(this._client),this.fileBatches=new CV(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get($`/vector_stores/${e}`,{...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post($`/vector_stores/${e}`,{body:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",_t,{query:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete($`/vector_stores/${e}`,{...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}search(e,n,r){return this._client.getAPIList($`/vector_stores/${e}/search`,xg,{body:n,method:"post",...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}Mg.Files=IV;Mg.FileBatches=CV;class xV extends te{create(e,n){return this._client.post("/videos",MA({body:e,...n},this._client))}retrieve(e,n){return this._client.get($`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",_m,{query:e,...n})}delete(e,n){return this._client.delete($`/videos/${e}`,n)}downloadContent(e,n={},r){return this._client.get($`/videos/${e}/content`,{query:n,...r,headers:Z([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}remix(e,n,r){return this._client.post($`/videos/${e}/remix`,MA({body:n,...r},this._client))}}var Za,AV,op;class PV extends te{constructor(){super(...arguments),Za.add(this)}async unwrap(e,n,r=this._client.webhookSecret,i=300){return await this.verifySignature(e,n,r,i),JSON.parse(e)}async verifySignature(e,n,r=this._client.webhookSecret,i=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");V(this,Za,"m",AV).call(this,r);const s=Z([n]).values,o=V(this,Za,"m",op).call(this,s,"webhook-signature"),a=V(this,Za,"m",op).call(this,s,"webhook-timestamp"),l=V(this,Za,"m",op).call(this,s,"webhook-id"),u=parseInt(a,10);if(isNaN(u))throw new ac("Invalid webhook timestamp format");const h=Math.floor(Date.now()/1e3);if(h-u>i)throw new ac("Webhook timestamp is too old");if(u>h+i)throw new ac("Webhook timestamp is too new");const d=o.split(" ").map(S=>S.startsWith("v1,")?S.substring(3):S),f=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),p=l?`${l}.${a}.${e}`:`${a}.${e}`,g=await crypto.subtle.importKey("raw",f,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const S of d)try{const T=Buffer.from(S,"base64");if(await crypto.subtle.verify("HMAC",g,T,new TextEncoder().encode(p)))return}catch{continue}throw new ac("The given webhook signature does not match the expected signature")}}Za=new WeakSet,AV=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},op=function(e,n){if(!e)throw new Error("Headers are required");const r=e.get(n);if(r==null)throw new Error(`Missing required header: ${n}`);return r};var r0,LT,ap,kV;class ge{constructor({baseURL:e=Wa("OPENAI_BASE_URL"),apiKey:n=Wa("OPENAI_API_KEY"),organization:r=Wa("OPENAI_ORG_ID")??null,project:i=Wa("OPENAI_PROJECT_ID")??null,webhookSecret:s=Wa("OPENAI_WEBHOOK_SECRET")??null,...o}={}){if(r0.add(this),ap.set(this,void 0),this.completions=new oV(this),this.chat=new ET(this),this.embeddings=new uV(this),this.files=new hV(this),this.images=new yV(this),this.audio=new rd(this),this.moderations=new _V(this),this.models=new vV(this),this.fineTuning=new fu(this),this.graders=new OT(this),this.vectorStores=new Mg(this),this.webhooks=new PV(this),this.beta=new du(this),this.batches=new J2(this),this.uploads=new MT(this),this.responses=new Dg(this),this.realtime=new Og(this),this.conversations=new CT(this),this.evals=new xT(this),this.containers=new RT(this),this.videos=new xV(this),n===void 0)throw new ne("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const a={apiKey:n,organization:r,project:i,webhookSecret:s,...o,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&Mee())throw new ne(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=a.baseURL,this.timeout=a.timeout??LT.DEFAULT_TIMEOUT,this.logger=a.logger??console;const l="warn";this.logLevel=l,this.logLevel=OA(a.logLevel,"ClientOptions.logLevel",this)??OA(Wa("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??l,this.fetchOptions=a.fetchOptions,this.maxRetries=a.maxRetries??2,this.fetch=a.fetch??Bee(),ae(this,ap,Uee),this._options=a,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=r,this.project=i,this.webhookSecret=s}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return Z([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return Kee(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Qa}`}defaultIdempotencyKey(){return`stainless-node-retry-${e2()}`}makeStatusError(e,n,r,i){return qt.generate(e,n,r,i)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(r){throw r instanceof ne?r:new ne(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof n!="string"||!n)throw new ne(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,r){const i=!V(this,r0,"m",kV).call(this)&&r||this.baseURL,s=Aee(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return Pee(o)||(n={...o,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>({method:e,path:n,...i})))}request(e,n=null){return new Ig(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var v,y;const i=await e,s=i.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(i);const{req:o,url:a,timeout:l}=await this.buildRequest(i,{retryCount:s-n});await this.prepareRequest(o,{url:a,options:i});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=r===void 0?"":`, retryOf: ${r}`,d=Date.now();if(Bt(this).debug(`[${u}] sending request`,Fo({retryOfRequestLogID:r,method:i.method,url:a,options:i,headers:o.headers})),(v=i.signal)!=null&&v.aborted)throw new tr;const f=new AbortController,p=await this.fetchWithTimeout(a,o,l,f).catch(Hw),g=Date.now();if(p instanceof globalThis.Error){const E=`retrying, ${n} attempts remaining`;if((y=i.signal)!=null&&y.aborted)throw new tr;const A=Ww(p)||/timed? ?out/i.test(String(p)+("cause"in p?String(p.cause):""));if(n)return Bt(this).info(`[${u}] connection ${A?"timed out":"failed"} - ${E}`),Bt(this).debug(`[${u}] connection ${A?"timed out":"failed"} (${E})`,Fo({retryOfRequestLogID:r,url:a,durationMs:g-d,message:p.message})),this.retryRequest(i,n,r??u);throw Bt(this).info(`[${u}] connection ${A?"timed out":"failed"} - error; no more retries left`),Bt(this).debug(`[${u}] connection ${A?"timed out":"failed"} (error; no more retries left)`,Fo({retryOfRequestLogID:r,url:a,durationMs:g-d,message:p.message})),A?new fT:new Rg({cause:p})}const S=[...p.headers.entries()].filter(([E])=>E==="x-request-id").map(([E,A])=>", "+E+": "+JSON.stringify(A)).join(""),T=`[${u}${h}${S}] ${o.method} ${a} ${p.ok?"succeeded":"failed"} with status ${p.status} in ${g-d}ms`;if(!p.ok){const E=await this.shouldRetry(p);if(n&&E){const C=`retrying, ${n} attempts remaining`;return await jee(p.body),Bt(this).info(`${T} - ${C}`),Bt(this).debug(`[${u}] response error (${C})`,Fo({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,durationMs:g-d})),this.retryRequest(i,n,r??u,p.headers)}const A=E?"error; no more retries left":"error; not retryable";Bt(this).info(`${T} - ${A}`);const M=await p.text().catch(C=>Hw(C).message),D=Dee(M),b=D?void 0:M;throw Bt(this).debug(`[${u}] response error (${A})`,Fo({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,message:b,durationMs:Date.now()-d})),this.makeStatusError(p.status,D,b,p.headers)}return Bt(this).info(T),Bt(this).debug(`[${u}] response start`,Fo({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,durationMs:g-d})),{response:p,options:i,controller:f,requestLogID:u,retryOfRequestLogID:r,startTime:d}}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}requestAPIList(e,n){const r=this.makeRequest(n,null,void 0);return new nte(this,r,e)}async fetchWithTimeout(e,n,r,i){const{signal:s,method:o,...a}=n||{};s&&s.addEventListener("abort",()=>i.abort());const l=setTimeout(()=>i.abort(),r),u=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,h={signal:i.signal,...u?{duplex:"half"}:{},method:"GET",...a};o&&(h.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(l)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){let s;const o=i==null?void 0:i.get("retry-after-ms");if(o){const l=parseFloat(o);Number.isNaN(l)||(s=l)}const a=i==null?void 0:i.get("retry-after");if(a&&!s){const l=parseFloat(a);Number.isNaN(l)?s=Date.parse(a)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await td(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,o=Math.min(.5*Math.pow(2,s),8),a=1-Math.random()*.25;return o*a*1e3}async buildRequest(e,{retryCount:n=0}={}){const r={...e},{method:i,path:s,query:o,defaultBaseURL:a}=r,l=this.buildURL(s,o,a);"timeout"in r&&Oee("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:u,body:h}=this.buildBody({options:r}),d=await this.buildHeaders({options:e,method:i,bodyHeaders:u,retryCount:n});return{req:{method:i,headers:d,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"},...h&&{body:h},...this.fetchOptions??{},...r.fetchOptions??{}},url:l,timeout:r.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const o=Z([s,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...Fee(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(o),o.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Z([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:f2(e)}:V(this,ap,"f").call(this,{body:e,headers:r})}}LT=ge,ap=new WeakMap,r0=new WeakSet,kV=function(){return this.baseURL!=="https://api.openai.com/v1"};ge.OpenAI=LT;ge.DEFAULT_TIMEOUT=6e5;ge.OpenAIError=ne;ge.APIError=qt;ge.APIConnectionError=Rg;ge.APIConnectionTimeoutError=fT;ge.APIUserAbortError=tr;ge.NotFoundError=i2;ge.ConflictError=s2;ge.RateLimitError=a2;ge.BadRequestError=t2;ge.AuthenticationError=n2;ge.InternalServerError=l2;ge.PermissionDeniedError=r2;ge.UnprocessableEntityError=o2;ge.InvalidWebhookSignatureError=ac;ge.toFile=ate;ge.Completions=oV;ge.Chat=ET;ge.Embeddings=uV;ge.Files=hV;ge.Images=yV;ge.Audio=rd;ge.Moderations=_V;ge.Models=vV;ge.FineTuning=fu;ge.Graders=OT;ge.VectorStores=Mg;ge.Webhooks=PV;ge.Beta=du;ge.Batches=J2;ge.Uploads=MT;ge.Responses=Dg;ge.Realtime=Og;ge.Conversations=CT;ge.Evals=xT;ge.Containers=RT;ge.Videos=xV;const Dte=()=>localStorage.getItem("openai_api_key"),OV=()=>{const t=Dte();if(!t)throw new Error("OpenAI API Key not found. Please add it in the Account settings.");return new ge({apiKey:t,dangerouslyAllowBrowser:!0})};async function Mte(t){try{const n=await OV().chat.completions.create({model:"gpt-4o",messages:[{role:"user",content:[{type:"text",text:"Analyze this clothing item. Return a JSON object with the following fields: 'type' (e.g., shirt, pants, dress), 'color' (primary color), 'style' (e.g., casual, formal, sporty), 'tags' (array of 3-5 descriptive keywords), and 'refreshCycle' (suggested number of days before re-wearing, e.g., 1 for underwear, 7 for shirts, 14 for pants)."},{type:"image_url",image_url:{url:t}}]}],response_format:{type:"json_object"}});return JSON.parse(n.choices[0].message.content)}catch(e){return console.error("Error analyzing image:",e),{type:"unknown",color:"unknown",style:"unknown",tags:["manual-entry"],refreshCycle:7}}}async function DV(t,e){try{const n=t.map(a=>({id:a.id,type:a.type,color:a.color,tags:a.tags,style:a.style,rating:a.rating||3,wearCount:a.wearCount||0})),r=`
      I need 3 outfit suggestions from the following wardrobe items:
      ${JSON.stringify(n)}

      Criteria:
      - Destination: ${e.destination}
      - Temperature: ${e.temperature}
      - Style Preference: ${e.style}

      Rules:
      1. Prioritize items with higher 'rating'.
      2. Consider 'wearCount' - if an item has a high rating but low wear count, suggest it more.
      3. Ensure the outfits are appropriate for the temperature and destination.

      Please select 3 distinct outfits. For each outfit, provide:
      1. A short summary explaining why it fits the criteria.
      2. The list of item IDs used in the outfit.
      
      Return the result as a JSON object with a key "outfits" containing an array of the 3 suggestions.
    `,s=await OV().chat.completions.create({model:"gpt-4o",messages:[{role:"system",content:"You are a helpful fashion stylist assistant."},{role:"user",content:r}],response_format:{type:"json_object"}});return JSON.parse(s.choices[0].message.content).outfits}catch(n){return console.error("Error generating outfits:",n),[]}}const YA=(t,e=200,n=200)=>new Promise(r=>{let i=new Image;i.src=t,i.onload=()=>{let s=document.createElement("canvas"),o=i.width,a=i.height;o>a?o>e&&(a*=e/o,o=e):a>n&&(o*=n/a,a=n),s.width=o,s.height=a,s.getContext("2d").drawImage(i,0,0,o,a),r(s.toDataURL("image/jpeg",.4))}});function Lte(){const[t,e]=R.useState(null),[n,r]=R.useState(!1),[i,s]=R.useState(!1),[o,a]=R.useState(null),l=R.useRef(null),{addItem:u}=bg(),h=eu(),d=di();R.useEffect(()=>{var T;(T=d.state)!=null&&T.image&&(async()=>{const y=await YA(d.state.image);e(y),p(y)})()},[]);const f=T=>{const v=T.target.files[0];if(v){const y=new FileReader;y.onloadend=async()=>{const E=await YA(y.result);e(E),p(E)},y.readAsDataURL(v)}},p=async T=>{r(!0);try{const v=await Mte(T);a(v)}catch(v){console.error("Analysis failed",v),alert("Failed to analyze image. Please try again.")}finally{r(!1)}},g=async()=>{if(t&&o&&!i){s(!0);const v=t.length*3/4/1024;console.log(`Attempting to save image. Size: ${v.toFixed(2)} KB`);try{u({imageUri:t,...o,lastWorn:null}).catch(y=>{console.error("Background save failed:",y)}),h("/closet")}catch(y){console.error("Failed to save item:",y),alert(`Failed to save item: ${y.message}.`),s(!1)}}},S=()=>{e(null),a(null),l.current&&l.current.click()};return O.jsxs(br,{style:{flex:1},contentContainerStyle:ke.container,children:[O.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:l,style:{display:"none"},onChange:f}),O.jsx(H,{style:ke.title,children:"Add New Item"}),t?O.jsxs(q,{style:ke.previewContainer,children:[O.jsx(ci,{source:{uri:t},style:ke.previewImage}),n?O.jsxs(q,{style:ke.loadingContainer,children:[O.jsx(Lh,{size:"large",color:"#007AFF"}),O.jsx(H,{style:ke.loadingText,children:"Analyzing your item..."})]}):o?O.jsxs(q,{style:ke.formContainer,children:[O.jsxs(q,{style:ke.rowContainer,children:[O.jsxs(q,{style:ke.inputGroup,children:[O.jsx(H,{style:ke.label,children:"Type"}),O.jsx(Un,{style:ke.compactInput,value:o.type,onChangeText:T=>a({...o,type:T})})]}),O.jsxs(q,{style:ke.inputGroup,children:[O.jsx(H,{style:ke.label,children:"Color"}),O.jsx(Un,{style:ke.compactInput,value:o.color,onChangeText:T=>a({...o,color:T})})]}),O.jsxs(q,{style:ke.inputGroup,children:[O.jsx(H,{style:ke.label,children:"Style"}),O.jsx(Un,{style:ke.compactInput,value:o.style,onChangeText:T=>a({...o,style:T})})]})]}),O.jsx(H,{style:ke.label,children:"Tags"}),O.jsx(q,{style:ke.tagsContainer,children:o.tags.map((T,v)=>O.jsx(q,{style:ke.tagBadge,children:O.jsx(H,{style:ke.tagText,children:T})},v))}),O.jsxs(q,{style:ke.buttonGroup,children:[O.jsx(be,{style:[ke.button,ke.secondaryButton],onPress:S,children:O.jsx(H,{style:ke.secondaryButtonText,children:"Retake"})}),O.jsx(be,{style:ke.button,onPress:g,disabled:i,children:O.jsx(H,{style:ke.buttonText,children:i?"Saving...":"Save to Closet"})})]})]}):null]}):O.jsx(q,{style:ke.uploadContainer,children:O.jsx(be,{style:ke.button,onPress:()=>l.current.click(),children:O.jsx(H,{style:ke.buttonText,children:"Take Photo / Upload"})})})]})}const ke=Ie.create({container:{flexGrow:1,padding:20,alignItems:"center"},title:{fontSize:24,fontWeight:"bold",marginBottom:20},uploadContainer:{flex:1,justifyContent:"center",alignItems:"center",width:"100%"},previewContainer:{width:"100%",alignItems:"center"},previewImage:{width:300,height:300,borderRadius:10,marginBottom:20},loadingContainer:{alignItems:"center"},loadingText:{marginTop:10,color:"#666"},formContainer:{width:"100%"},rowContainer:{flexDirection:"row",justifyContent:"space-between",marginBottom:15},inputGroup:{width:"30%"},label:{fontWeight:"600",fontSize:12,color:"#666",marginBottom:4,textTransform:"uppercase"},compactInput:{borderWidth:1,borderColor:"#eee",padding:8,borderRadius:8,backgroundColor:"#f9f9f9",fontSize:14},tagsContainer:{flexDirection:"row",flexWrap:"wrap",marginBottom:20,marginTop:5},tagBadge:{backgroundColor:"#f0f0f0",paddingHorizontal:10,paddingVertical:5,borderRadius:15,marginRight:8,marginBottom:8},tagText:{fontSize:12,color:"#333"},buttonGroup:{flexDirection:"row",justifyContent:"space-between",marginTop:20},button:{backgroundColor:"#007AFF",padding:15,borderRadius:10,alignItems:"center",flex:1,marginHorizontal:5},buttonText:{color:"#fff",fontWeight:"bold"},secondaryButton:{backgroundColor:"#fff",borderWidth:1,borderColor:"#007AFF"},secondaryButtonText:{color:"#007AFF",fontWeight:"bold"}});function Nte(){const{items:t,isItemAvailable:e,addToSchedule:n}=bg(),r=eu(),[i,s]=R.useState(""),[o,a]=R.useState(""),[l,u]=R.useState(""),[h,d]=R.useState(!1),[f,p]=R.useState([]),[g,S]=R.useState(null),[T,v]=R.useState(!1),[y,E]=R.useState(new Date().toISOString().split("T")[0]),A=async()=>{if(!i||!o||!l){alert("Please fill in all fields");return}d(!0);const w=t.filter(e);try{const C=await DV(w,{destination:i,temperature:o,style:l});p(C)}catch(C){console.error("Failed to generate outfits",C),alert("Failed to generate suggestions. Please try again.")}finally{d(!1)}},M=w=>{S(w),v(!0)},D=()=>{g&&y&&(n(y,g.items),v(!1),S(null),alert("Outfit scheduled!"),r("/schedule"))},b=w=>t.find(C=>C.id===w);return O.jsxs(br,{contentContainerStyle:Ae.container,children:[O.jsx(H,{style:Ae.title,children:"Virtual Dressing Room"}),O.jsxs(q,{style:Ae.form,children:[O.jsx(H,{style:Ae.label,children:"Destination / Occasion"}),O.jsx(Un,{style:Ae.input,placeholder:"e.g. Work, Date Night, Gym",value:i,onChangeText:s}),O.jsx(H,{style:Ae.label,children:"Temperature"}),O.jsx(Un,{style:Ae.input,placeholder:"e.g. 75F, Cold, Rainy",value:o,onChangeText:a}),O.jsx(H,{style:Ae.label,children:"Style Preference"}),O.jsx(Un,{style:Ae.input,placeholder:"e.g. Casual, Chic, Edgy",value:l,onChangeText:u}),O.jsx(be,{style:[Ae.button,h&&Ae.disabledButton],onPress:A,disabled:h,children:h?O.jsx(Lh,{color:"#fff"}):O.jsx(H,{style:Ae.buttonText,children:"Generate Outfits"})})]}),f.length>0&&O.jsxs(q,{style:Ae.results,children:[O.jsx(H,{style:Ae.subtitle,children:"Suggestions"}),f.map((w,C)=>O.jsxs(q,{style:Ae.outfitCard,children:[O.jsx(H,{style:Ae.outfitSummary,children:w.summary}),O.jsx(br,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:Ae.itemsRow,children:w.items.map(I=>{const x=b(I);return x?O.jsxs(q,{style:Ae.itemPreview,children:[O.jsx(ci,{source:{uri:x.imageUri},style:Ae.itemImage}),O.jsx(H,{style:Ae.itemType,children:x.type})]},I):null})}),O.jsx(be,{style:Ae.scheduleButton,onPress:()=>M(w),children:O.jsx(H,{style:Ae.scheduleButtonText,children:"Schedule This Outfit"})})]},C))]}),O.jsx(ch,{visible:T,transparent:!0,animationType:"slide",children:O.jsx(q,{style:Ae.modalContainer,children:O.jsxs(q,{style:Ae.modalContent,children:[O.jsx(H,{style:Ae.modalTitle,children:"Select Date"}),O.jsx("input",{type:"date",value:y,onChange:w=>E(w.target.value),style:Ae.dateInput}),O.jsxs(q,{style:Ae.modalButtons,children:[O.jsx(be,{style:[Ae.button,Ae.cancelButton],onPress:()=>v(!1),children:O.jsx(H,{style:Ae.cancelButtonText,children:"Cancel"})}),O.jsx(be,{style:Ae.button,onPress:D,children:O.jsx(H,{style:Ae.buttonText,children:"Confirm"})})]})]})})})]})}const Ae=Ie.create({container:{flexGrow:1,padding:20},title:{fontSize:24,fontWeight:"bold",marginBottom:20,textAlign:"center"},form:{backgroundColor:"#fff",padding:20,borderRadius:10,marginBottom:20,elevation:2},label:{fontWeight:"bold",marginBottom:5,color:"#333"},input:{borderWidth:1,borderColor:"#ddd",padding:10,borderRadius:5,marginBottom:15,backgroundColor:"#f9f9f9"},button:{backgroundColor:"#007AFF",padding:15,borderRadius:10,alignItems:"center"},disabledButton:{backgroundColor:"#99c9ff"},buttonText:{color:"#fff",fontWeight:"bold",fontSize:16},results:{marginTop:10,paddingBottom:40},subtitle:{fontSize:20,fontWeight:"bold",marginBottom:15},outfitCard:{backgroundColor:"#fff",padding:15,borderRadius:10,marginBottom:15,elevation:2},outfitSummary:{fontSize:16,marginBottom:10,lineHeight:22},itemsRow:{flexDirection:"row",marginTop:10,marginBottom:15},itemPreview:{marginRight:15,alignItems:"center"},itemImage:{width:80,height:80,borderRadius:5,marginBottom:5},itemType:{fontSize:12,color:"#666",textTransform:"capitalize"},scheduleButton:{backgroundColor:"#34C759",padding:10,borderRadius:5,alignItems:"center"},scheduleButtonText:{color:"#fff",fontWeight:"bold"},modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.5)"},modalContent:{backgroundColor:"#fff",padding:20,borderRadius:10,width:"80%",alignItems:"center"},modalTitle:{fontSize:18,fontWeight:"bold",marginBottom:20},dateInput:{padding:10,fontSize:16,marginBottom:20,width:"100%",border:"1px solid #ddd",borderRadius:5},modalButtons:{flexDirection:"row",justifyContent:"space-between",width:"100%"},cancelButton:{backgroundColor:"#fff",borderWidth:1,borderColor:"#ddd",marginRight:10},cancelButtonText:{color:"#333"}}),Tv=async(t,e)=>{try{const r=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${e}&daily=temperature_2m_max,temperature_2m_min,weathercode&temperature_unit=fahrenheit&timezone=auto`)).json(),i={};return r.daily.time.forEach((s,o)=>{i[s]={max:Math.round(r.daily.temperature_2m_max[o]),min:Math.round(r.daily.temperature_2m_min[o]),code:r.daily.weathercode[o]}}),i}catch(n){return console.error("Error fetching weather:",n),null}},Vte=t=>({0:"Clear sky",1:"Mainly clear",2:"Partly cloudy",3:"Overcast",45:"Fog",48:"Depositing rime fog",51:"Light drizzle",53:"Moderate drizzle",55:"Dense drizzle",61:"Slight rain",63:"Moderate rain",65:"Heavy rain",71:"Slight snow",73:"Moderate snow",75:"Heavy snow",95:"Thunderstorm"})[t]||"Variable";function Fte(){const{schedule:t,items:e,markAsWorn:n,addToSchedule:r,isItemAvailable:i}=bg(),[s,o]=R.useState({}),[a,l]=R.useState(!1),[u,h]=R.useState(null),[d,f]=R.useState(!1),[p,g]=R.useState([]),[S,T]=R.useState({destination:"",style:"",temperature:""});R.useEffect(()=>{(async()=>{if(navigator.geolocation)navigator.geolocation.getCurrentPosition(async x=>{const L=await Tv(x.coords.latitude,x.coords.longitude);L&&o(L)},async()=>{const x=await Tv(40.7128,-74.006);x&&o(x)});else{const x=await Tv(40.7128,-74.006);x&&o(x)}})()},[]);const v=()=>{const w=[];for(let C=0;C<7;C++){const I=new Date;I.setDate(I.getDate()+C),w.push(I.toISOString().split("T")[0])}return w},y=w=>e.find(C=>C.id===w),E=(w,C)=>{confirm("Mark this outfit as worn? Items will be unavailable for their refresh cycle.")&&n(C,w)},A=w=>{h(w),g([]),T({destination:"",style:"",temperature:""}),l(!0)},M=async()=>{f(!0);try{const w=s[u],C=w?`${w.max}F / ${w.min}F`:"Unknown",I=e.filter(i),x=await DV(I,{destination:S.destination,temperature:S.temperature||C,style:S.style});x&&x.outfits&&g(x.outfits)}catch(w){console.error("Generation failed",w),alert("Failed to generate outfits. Check your API key.")}finally{f(!1)}},D=w=>{r(u,w.itemIds),l(!1)},b=v();return O.jsxs(br,{contentContainerStyle:Te.container,children:[O.jsx(H,{style:Te.title,children:"Outfit Schedule"}),b.map(w=>{const C=t[w],I=new Date(w),x=I.toLocaleDateString("en-US",{weekday:"long"}),L=I.toLocaleDateString("en-US",{month:"short",day:"numeric"}),k=s[w];return O.jsxs(q,{style:Te.dayCard,children:[O.jsxs(q,{style:Te.dateHeader,children:[O.jsxs(q,{children:[O.jsx(H,{style:Te.dayName,children:x}),O.jsx(H,{style:Te.dateText,children:L})]}),k&&O.jsxs(q,{style:Te.weatherContainer,children:[O.jsxs(H,{style:Te.weatherTemp,children:[k.max," / ",k.min,""]}),O.jsx(H,{style:Te.weatherDesc,children:Vte(k.code)})]})]}),C?O.jsxs(q,{children:[O.jsx(br,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:Te.itemsRow,children:C.map(le=>{const de=y(le);return de?O.jsxs(q,{style:Te.itemPreview,children:[O.jsx(ci,{source:{uri:de.imageUri||de.image},style:Te.itemImage}),O.jsx(H,{style:Te.itemType,children:de.type})]},le):null})}),O.jsx(be,{style:Te.wearButton,onPress:()=>E(w,C),children:O.jsx(H,{style:Te.wearButtonText,children:"Wear This Outfit"})})]}):O.jsx(be,{style:Te.generateButton,onPress:()=>A(w),children:O.jsx(H,{style:Te.generateButtonText,children:"+ Generate Outfit"})})]},w)}),O.jsx(ch,{visible:a,animationType:"slide",onRequestClose:()=>l(!1),children:O.jsxs(q,{style:Te.modalContainer,children:[O.jsxs(H,{style:Te.modalTitle,children:["Plan for ",u]}),O.jsxs(br,{style:{flex:1},children:[O.jsxs(q,{style:{marginBottom:20},children:[O.jsx(H,{style:Te.label,children:"Destination / Occasion"}),O.jsx(Un,{style:Te.input,placeholder:"e.g. Work, Date Night, Gym",value:S.destination,onChangeText:w=>T(C=>({...C,destination:w}))}),O.jsx(H,{style:Te.label,children:"Temperature"}),O.jsx(Un,{style:Te.input,placeholder:"e.g. 75F, Cold, Rainy (Leave blank to use forecast)",value:S.temperature,onChangeText:w=>T(C=>({...C,temperature:w}))}),O.jsx(H,{style:Te.label,children:"Style Preference"}),O.jsx(Un,{style:Te.input,placeholder:"e.g. Casual, Chic, Edgy",value:S.style,onChangeText:w=>T(C=>({...C,style:w}))})]}),O.jsx(be,{style:[Te.genButton,d&&{opacity:.7}],onPress:M,disabled:d,children:d?O.jsx(Lh,{color:"#fff"}):O.jsx(H,{style:Te.genButtonText,children:"Generate Suggestions"})}),p.map((w,C)=>O.jsxs(be,{style:Te.suggestionCard,onPress:()=>D(w),children:[O.jsx(H,{style:Te.suggestionSummary,children:w.reason||w.summary}),O.jsx(br,{horizontal:!0,children:w.itemIds.map(I=>{const x=y(I);return x?O.jsx(ci,{source:{uri:x.imageUri||x.image},style:Te.smallImage},I):null})}),O.jsx(q,{style:Te.selectButton,children:O.jsx(H,{style:Te.selectButtonText,children:"Select This Outfit"})})]},C))]}),O.jsx(be,{style:Te.closeButton,onPress:()=>l(!1),children:O.jsx(H,{style:Te.closeButtonText,children:"Close"})})]})})]})}const Te=Ie.create({container:{flexGrow:1,padding:20,paddingBottom:80},title:{fontSize:24,fontWeight:"bold",marginBottom:20,textAlign:"center"},dayCard:{backgroundColor:"#fff",borderRadius:10,padding:15,marginBottom:15,elevation:2},dateHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},weatherContainer:{alignItems:"flex-end"},weatherTemp:{fontSize:16,fontWeight:"bold"},weatherDesc:{fontSize:12,color:"#666"},generateButton:{backgroundColor:"#f0f0f0",padding:15,borderRadius:8,alignItems:"center",borderWidth:1,borderColor:"#ddd",borderStyle:"dashed"},generateButtonText:{color:"#007AFF",fontSize:16},modalContainer:{flex:1,padding:20,backgroundColor:"#fff"},modalTitle:{fontSize:22,fontWeight:"bold",marginBottom:10,textAlign:"center"},modalWeather:{textAlign:"center",marginBottom:20,color:"#666"},genButton:{backgroundColor:"#007AFF",padding:15,borderRadius:10,alignItems:"center",marginBottom:10},genButtonText:{color:"#fff",fontWeight:"bold",fontSize:16},suggestionCard:{borderWidth:1,borderColor:"#ddd",borderRadius:10,padding:15,marginBottom:20},suggestionSummary:{marginBottom:10,fontStyle:"italic"},smallImage:{width:60,height:60,borderRadius:5,marginRight:5},selectButton:{backgroundColor:"#34C759",padding:10,borderRadius:5,alignItems:"center",marginTop:10},selectButtonText:{color:"#fff",fontWeight:"bold"},closeButton:{padding:15,alignItems:"center"},closeButtonText:{color:"red"},dayName:{fontSize:18,fontWeight:"bold"},dateText:{color:"#666"},itemsRow:{flexDirection:"row",marginBottom:10},itemPreview:{marginRight:10,alignItems:"center"},itemImage:{width:80,height:80,borderRadius:8,marginBottom:5},itemType:{fontSize:12},wearButton:{backgroundColor:"#007AFF",padding:10,borderRadius:5,alignItems:"center"},wearButtonText:{color:"#fff",fontWeight:"bold"},emptyText:{textAlign:"center",color:"#999",fontStyle:"italic",padding:10}});function Bte(){const[t,e]=R.useState(""),[n,r]=R.useState(""),[i,s]=R.useState(!0),[o,a]=R.useState(!1),[l,u]=R.useState(""),[h,d]=R.useState(!1),[f,p]=R.useState(""),g=async()=>{u(""),p(""),a(!0);try{h?(await uX(t),p("Check your email for password reset instructions."),d(!1)):i?await oX(t,n):await aX(t,n)}catch(S){u(S.message.replace("Firebase: ",""))}finally{a(!1)}};return O.jsxs(q,{style:pn.container,children:[O.jsx(ci,{source:{uri:"/pwa-192x192.png"},style:{width:100,height:100,marginBottom:20,alignSelf:"center"}}),O.jsxs(q,{style:pn.card,children:[O.jsx(H,{style:pn.title,children:h?"Reset Password":i?"Pocket Stylist Login":"Create Account"}),l?O.jsx(H,{style:pn.error,children:l}):null,f?O.jsx(H,{style:pn.success,children:f}):null,O.jsx(Un,{style:pn.input,placeholder:"Email",value:t,onChangeText:e,autoCapitalize:"none",keyboardType:"email-address"}),!h&&O.jsx(Un,{style:pn.input,placeholder:"Password",value:n,onChangeText:r,secureTextEntry:!0}),O.jsx(be,{style:pn.button,onPress:g,disabled:o,children:o?O.jsx(Lh,{color:"#fff"}):O.jsx(H,{style:pn.buttonText,children:h?"Send Reset Email":i?"Log In":"Sign Up"})}),O.jsx(q,{style:pn.footer,children:h?O.jsx(be,{onPress:()=>d(!1),children:O.jsx(H,{style:pn.link,children:"Back to Login"})}):O.jsxs(O.Fragment,{children:[O.jsx(be,{onPress:()=>s(!i),children:O.jsx(H,{style:pn.link,children:i?"Need an account? Sign Up":"Have an account? Log In"})}),O.jsx(be,{onPress:()=>d(!0),children:O.jsx(H,{style:[pn.link,pn.forgotLink],children:"Forgot Password?"})})]})})]})]})}const pn=Ie.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5",padding:20,height:"100vh"},card:{backgroundColor:"#fff",padding:30,borderRadius:15,width:"100%",maxWidth:400,elevation:5,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4},title:{fontSize:24,fontWeight:"bold",marginBottom:20,textAlign:"center",color:"#333"},input:{backgroundColor:"#f9f9f9",padding:15,borderRadius:8,marginBottom:15,borderWidth:1,borderColor:"#eee"},button:{backgroundColor:"#007AFF",padding:15,borderRadius:8,alignItems:"center",marginTop:10},buttonText:{color:"#fff",fontWeight:"bold",fontSize:16},error:{color:"red",marginBottom:15,textAlign:"center"},success:{color:"green",marginBottom:15,textAlign:"center"},footer:{marginTop:20,alignItems:"center"},link:{color:"#007AFF",marginTop:10},forgotLink:{color:"#666",fontSize:12}});function jte({onNavigate:t}){const e=eu(),n=di(),r=s=>{t?t(s):e(s)},i=[{name:"Home",path:"/"},{name:"Closet",path:"/closet"},{name:"Style",path:"/outfits"},{name:"Plan",path:"/schedule"}];return O.jsx(q,{style:Gu.navBar,children:i.map(s=>{const o=n.pathname===s.path;return O.jsx(be,{style:[Gu.tab,o&&Gu.activeTab],onPress:()=>r(s.path),children:O.jsx(H,{style:[Gu.tabText,o&&Gu.activeTabText],children:s.name})},s.name)})})}const Gu=Ie.create({navBar:{flexDirection:"row",justifyContent:"space-around",backgroundColor:Gr.colors.background,borderTopWidth:1,borderTopColor:Gr.colors.border,paddingBottom:20,paddingTop:10,position:"absolute",bottom:0,left:0,right:0},tab:{alignItems:"center",padding:10},activeTab:{borderBottomWidth:2,borderBottomColor:Gr.colors.highlight},tabText:{fontSize:16,color:Gr.colors.secondaryText},activeTabText:{color:Gr.colors.highlight,fontWeight:"bold"}});function Ute({visible:t,onClose:e}){const n=lu.currentUser,[r,i]=R.useState("");R.useEffect(()=>{n&&pee(n.uid).then(a=>{if(a!=null&&a.openai_api_key)i(a.openai_api_key),localStorage.setItem("openai_api_key",a.openai_api_key);else{const l=localStorage.getItem("openai_api_key");l&&i(l)}})},[n,t]);const s=async()=>{n&&(await fee(n.uid,{openai_api_key:r}),localStorage.setItem("openai_api_key",r),alert("API Key saved to account!"))},o=async()=>{try{await lX(),e()}catch(a){console.error("Failed to log out",a)}};return O.jsx(ch,{visible:t,transparent:!0,animationType:"fade",onRequestClose:e,children:O.jsxs(q,{style:Yt.overlay,children:[O.jsx(be,{style:Ie.absoluteFill,activeOpacity:1,onPress:e}),O.jsxs(q,{style:Yt.modalContent,children:[O.jsx(H,{style:Yt.title,children:"Account"}),O.jsxs(q,{style:Yt.info,children:[O.jsx(H,{style:Yt.label,children:"Email"}),O.jsx(H,{style:Yt.value,children:n==null?void 0:n.email})]}),O.jsxs(q,{style:Yt.section,children:[O.jsx(H,{style:Yt.label,children:"OpenAI API Key"}),O.jsx("input",{type:"password",style:{width:"100%",padding:10,marginBottom:10,border:"1px solid #ddd",borderRadius:8,fontSize:16,boxSizing:"border-box"},placeholder:"sk-...",value:r,onChange:a=>i(a.target.value)}),O.jsx(be,{style:Yt.saveButton,onPress:s,children:O.jsx(H,{style:Yt.saveButtonText,children:"Save Key"})})]}),O.jsx(be,{style:Yt.refreshButton,onPress:()=>window.location.reload(),children:O.jsx(H,{style:Yt.refreshButtonText,children:"Refresh App"})}),O.jsx(be,{style:Yt.logoutButton,onPress:o,children:O.jsx(H,{style:Yt.logoutText,children:"Log Out"})}),O.jsx(be,{style:Yt.closeButton,onPress:e,children:O.jsx(H,{style:Yt.closeText,children:"Close"})})]})]})})}const Yt=Ie.create({overlay:{flex:1,backgroundColor:"rgba(0,0,0,0.5)",justifyContent:"center",alignItems:"center"},modalContent:{backgroundColor:"#fff",width:"80%",maxWidth:300,borderRadius:15,padding:20,alignItems:"center",elevation:5},title:{fontSize:20,fontWeight:"bold",marginBottom:20},info:{marginBottom:20,alignItems:"center"},section:{width:"100%",marginBottom:20},label:{color:"#666",fontSize:12,marginBottom:5},value:{fontSize:16,fontWeight:"500"},input:{borderWidth:1,borderColor:"#ddd",borderRadius:8,padding:10,marginBottom:10,width:"100%"},saveButton:{backgroundColor:"#007AFF",padding:10,borderRadius:8,alignItems:"center"},saveButtonText:{color:"#fff",fontWeight:"bold"},refreshButton:{backgroundColor:"#34C759",paddingVertical:12,paddingHorizontal:30,borderRadius:25,marginBottom:10,width:"100%",alignItems:"center"},refreshButtonText:{color:"#fff",fontWeight:"bold"},logoutButton:{backgroundColor:"#FF3B30",paddingVertical:12,paddingHorizontal:30,borderRadius:25,marginBottom:10,width:"100%",alignItems:"center"},logoutText:{color:"#fff",fontWeight:"bold"},closeButton:{padding:10},closeText:{color:"#007AFF"}}),$te={enter:t=>({x:t>0?"100%":"-100%",opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:t=>({zIndex:0,x:t<0?"100%":"-100%",opacity:0})},Xu=({children:t,direction:e})=>O.jsx(cee.div,{custom:e,variants:$te,initial:"enter",animate:"center",exit:"exit",transition:{type:"tween",ease:"easeInOut",duration:.3},style:{height:"100%",width:"100%",backgroundColor:"#ffffff",overflowY:"auto",overflowX:"hidden",position:"absolute",top:0,left:0,paddingBottom:"80px"},children:t});function zte(){const{currentUser:t}=DE(),[e,n]=R.useState(!1),[r,i]=R.useState(0),s=eu(),o=di(),a=["/","/closet","/outfits","/schedule"],l=h=>{const d=a.indexOf(o.pathname),f=a.indexOf(h);i(f>d?1:-1),s(h)},u=SX({onSwipedLeft:()=>{const h=a.indexOf(o.pathname);h<a.length-1&&(i(1),s(a[h+1]))},onSwipedRight:()=>{const h=a.indexOf(o.pathname);h>0&&(i(-1),s(a[h-1]))},preventScrollOnSwipe:!1,trackMouse:!0,delta:50});return t?O.jsxs(q,{style:bv.container,children:[O.jsxs(q,{style:bv.header,children:[O.jsx(q,{style:{flexDirection:"row",alignItems:"center",flex:1},children:O.jsx(ci,{source:{uri:hee},style:{width:260,height:52,resizeMode:"contain",marginLeft:-25}})}),O.jsx(be,{onPress:()=>n(!0),children:O.jsx(PX,{size:34,color:Gr.colors.highlight})})]}),O.jsx(q,{style:bv.content,...u,children:O.jsx(DQ,{mode:"popLayout",custom:r,children:O.jsxs(Y5,{location:o,children:[O.jsx(qa,{path:"/",element:O.jsx(Xu,{direction:r,children:O.jsx(dee,{})})}),O.jsx(qa,{path:"/closet",element:O.jsx(Xu,{direction:r,children:O.jsx(Iee,{})})}),O.jsx(qa,{path:"/camera",element:O.jsx(Xu,{direction:r,children:O.jsx(Lte,{})})}),O.jsx(qa,{path:"/outfits",element:O.jsx(Xu,{direction:r,children:O.jsx(Nte,{})})}),O.jsx(qa,{path:"/schedule",element:O.jsx(Xu,{direction:r,children:O.jsx(Fte,{})})})]},o.pathname)})}),O.jsx(jte,{onNavigate:l}),O.jsx(Ute,{visible:e,onClose:()=>n(!1)})]}):O.jsx(Bte,{})}function Wte(){return O.jsx(_z,{children:O.jsx(zte,{})})}const bv=Ie.create({container:{flex:1,height:"100vh",maxHeight:"100dvh",backgroundColor:"#ffffff",overflow:"hidden",position:"fixed",top:0,left:0,right:0,bottom:0},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:15,backgroundColor:Gr.colors.background,borderBottomWidth:1,borderBottomColor:Gr.colors.border,paddingTop:15,zIndex:10,height:70},headerTitle:{fontSize:18,fontWeight:"bold",color:Gr.colors.text},accountButton:{color:Gr.colors.highlight,fontWeight:"500"},content:{flex:1,paddingBottom:60,overflow:"hidden"}});"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(t){for(let e of t)console.log("Unregistering Service Worker:",e),e.unregister()});Rv.createRoot(document.getElementById("root")).render(O.jsx(dt.StrictMode,{children:O.jsx(cX,{children:O.jsx(Eee,{children:O.jsx(Wte,{})})})}));
