(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Fl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var pA={exports:{}},pm={},mA={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh=Symbol.for("react.element"),W2=Symbol.for("react.portal"),H2=Symbol.for("react.fragment"),q2=Symbol.for("react.strict_mode"),K2=Symbol.for("react.profiler"),G2=Symbol.for("react.provider"),X2=Symbol.for("react.context"),Y2=Symbol.for("react.forward_ref"),Q2=Symbol.for("react.suspense"),J2=Symbol.for("react.memo"),Z2=Symbol.for("react.lazy"),ST=Symbol.iterator;function eV(t){return t===null||typeof t!="object"?null:(t=ST&&t[ST]||t["@@iterator"],typeof t=="function"?t:null)}var gA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yA=Object.assign,vA={};function Bl(t,e,n){this.props=t,this.context=e,this.refs=vA,this.updater=n||gA}Bl.prototype.isReactComponent={};Bl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _A(){}_A.prototype=Bl.prototype;function $w(t,e,n){this.props=t,this.context=e,this.refs=vA,this.updater=n||gA}var Uw=$w.prototype=new _A;Uw.constructor=$w;yA(Uw,Bl.prototype);Uw.isPureReactComponent=!0;var ET=Array.isArray,wA=Object.prototype.hasOwnProperty,zw={current:null},SA={key:!0,ref:!0,__self:!0,__source:!0};function EA(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)wA.call(e,r)&&!SA.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:yh,type:t,key:s,ref:o,props:i,_owner:zw.current}}function tV(t,e){return{$$typeof:yh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ww(t){return typeof t=="object"&&t!==null&&t.$$typeof===yh}function nV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var TT=/\/+/g;function Ig(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nV(""+t.key):e.toString(36)}function of(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yh:case W2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ig(o,0):r,ET(i)?(n="",t!=null&&(n=t.replace(TT,"$&/")+"/"),of(i,e,n,"",function(u){return u})):i!=null&&(Ww(i)&&(i=tV(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(TT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ET(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ig(s,a);o+=of(s,e,n,l,i)}else if(l=eV(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ig(s,a++),o+=of(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gd(t,e,n){if(t==null)return t;var r=[],i=0;return of(t,r,"","",function(s){return e.call(n,s,i++)}),r}function rV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cn={current:null},af={transition:null},iV={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:af,ReactCurrentOwner:zw};function TA(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:gd,forEach:function(t,e,n){gd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gd(t,function(){e++}),e},toArray:function(t){return gd(t,function(e){return e})||[]},only:function(t){if(!Ww(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=Bl;ve.Fragment=H2;ve.Profiler=K2;ve.PureComponent=$w;ve.StrictMode=q2;ve.Suspense=Q2;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iV;ve.act=TA;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=yA({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=zw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)wA.call(e,l)&&!SA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:yh,type:t.type,key:i,ref:s,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:X2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:G2,_context:t},t.Consumer=t};ve.createElement=EA;ve.createFactory=function(t){var e=EA.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:Y2,render:t}};ve.isValidElement=Ww;ve.lazy=function(t){return{$$typeof:Z2,_payload:{_status:-1,_result:t},_init:rV}};ve.memo=function(t,e){return{$$typeof:J2,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=af.transition;af.transition={};try{t()}finally{af.transition=e}};ve.unstable_act=TA;ve.useCallback=function(t,e){return cn.current.useCallback(t,e)};ve.useContext=function(t){return cn.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return cn.current.useDeferredValue(t)};ve.useEffect=function(t,e){return cn.current.useEffect(t,e)};ve.useId=function(){return cn.current.useId()};ve.useImperativeHandle=function(t,e,n){return cn.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return cn.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return cn.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return cn.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return cn.current.useReducer(t,e,n)};ve.useRef=function(t){return cn.current.useRef(t)};ve.useState=function(t){return cn.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return cn.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return cn.current.useTransition()};ve.version="18.3.1";mA.exports=ve;var C=mA.exports;const dt=Fl(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sV=C,oV=Symbol.for("react.element"),aV=Symbol.for("react.fragment"),lV=Object.prototype.hasOwnProperty,uV=sV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cV={key:!0,ref:!0,__self:!0,__source:!0};function bA(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lV.call(e,r)&&!cV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:oV,type:t,key:s,ref:o,props:i,_owner:uV.current}}pm.Fragment=aV;pm.jsx=bA;pm.jsxs=bA;pA.exports=pm;var O=pA.exports,uv={},CA={exports:{}},Fn={},RA={exports:{}},IA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Y){var ee=$.length;$.push(Y);e:for(;0<ee;){var ye=ee-1>>>1,Ie=$[ye];if(0<i(Ie,Y))$[ye]=Y,$[ee]=Ie,ee=ye;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Y=$[0],ee=$.pop();if(ee!==Y){$[0]=ee;e:for(var ye=0,Ie=$.length,nn=Ie>>>1;ye<nn;){var nt=2*(ye+1)-1,Mt=$[nt],ot=nt+1,je=$[ot];if(0>i(Mt,ee))ot<Ie&&0>i(je,Mt)?($[ye]=je,$[ot]=ee,ye=ot):($[ye]=Mt,$[nt]=ee,ye=nt);else if(ot<Ie&&0>i(je,ee))$[ye]=je,$[ot]=ee,ye=ot;else break e}}return Y}function i($,Y){var ee=$.sortIndex-Y.sortIndex;return ee!==0?ee:$.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,f=3,p=!1,g=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=$)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function P($){if(S=!1,E($),!g)if(n(l)!==null)g=!0,Me(M);else{var Y=n(u);Y!==null&&be(P,Y.startTime-$)}}function M($,Y){g=!1,S&&(S=!1,_(w),w=-1),p=!0;var ee=f;try{for(E(Y),d=n(l);d!==null&&(!(d.expirationTime>Y)||$&&!A());){var ye=d.callback;if(typeof ye=="function"){d.callback=null,f=d.priorityLevel;var Ie=ye(d.expirationTime<=Y);Y=t.unstable_now(),typeof Ie=="function"?d.callback=Ie:d===n(l)&&r(l),E(Y)}else r(l);d=n(l)}if(d!==null)var nn=!0;else{var nt=n(u);nt!==null&&be(P,nt.startTime-Y),nn=!1}return nn}finally{d=null,f=ee,p=!1}}var D=!1,b=null,w=-1,R=5,I=-1;function A(){return!(t.unstable_now()-I<R)}function L(){if(b!==null){var $=t.unstable_now();I=$;var Y=!0;try{Y=b(!0,$)}finally{Y?k():(D=!1,b=null)}}else D=!1}var k;if(typeof y=="function")k=function(){y(L)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,he=le.port2;le.port1.onmessage=L,k=function(){he.postMessage(null)}}else k=function(){T(L,0)};function Me($){b=$,D||(D=!0,k())}function be($,Y){w=T(function(){$(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,Me(M))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var ee=f;f=Y;try{return $()}finally{f=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Y){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=f;f=$;try{return Y()}finally{f=ee}},t.unstable_scheduleCallback=function($,Y,ee){var ye=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ye+ee:ye):ee=ye,$){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=ee+Ie,$={id:h++,callback:Y,priorityLevel:$,startTime:ee,expirationTime:Ie,sortIndex:-1},ee>ye?($.sortIndex=ee,e(u,$),n(l)===null&&$===n(u)&&(S?(_(w),w=-1):S=!0,be(P,ee-ye))):($.sortIndex=Ie,e(l,$),g||p||(g=!0,Me(M))),$},t.unstable_shouldYield=A,t.unstable_wrapCallback=function($){var Y=f;return function(){var ee=f;f=Y;try{return $.apply(this,arguments)}finally{f=ee}}}})(IA);RA.exports=IA;var hV=RA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dV=C,Vn=hV;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xA=new Set,Dc={};function ia(t,e){Sl(t,e),Sl(t+"Capture",e)}function Sl(t,e){for(Dc[t]=e,t=0;t<e.length;t++)xA.add(e[t])}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cv=Object.prototype.hasOwnProperty,fV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bT={},CT={};function pV(t){return cv.call(CT,t)?!0:cv.call(bT,t)?!1:fV.test(t)?CT[t]=!0:(bT[t]=!0,!1)}function mV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gV(t,e,n,r){if(e===null||typeof e>"u"||mV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hw=/[\-:]([a-z])/g;function qw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hw,qw);Ut[e]=new hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hw,qw);Ut[e]=new hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hw,qw);Ut[e]=new hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new hn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kw(t,e,n,r){var i=Ut.hasOwnProperty(e)?Ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gV(e,n,i,r)&&(n=null),r||i===null?pV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ji=dV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yd=Symbol.for("react.element"),$a=Symbol.for("react.portal"),Ua=Symbol.for("react.fragment"),Gw=Symbol.for("react.strict_mode"),hv=Symbol.for("react.profiler"),AA=Symbol.for("react.provider"),PA=Symbol.for("react.context"),Xw=Symbol.for("react.forward_ref"),dv=Symbol.for("react.suspense"),fv=Symbol.for("react.suspense_list"),Yw=Symbol.for("react.memo"),ys=Symbol.for("react.lazy"),kA=Symbol.for("react.offscreen"),RT=Symbol.iterator;function Iu(t){return t===null||typeof t!="object"?null:(t=RT&&t[RT]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,xg;function $u(t){if(xg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xg=e&&e[1]||""}return`
`+xg+t}var Ag=!1;function Pg(t,e){if(!t||Ag)return"";Ag=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ag=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$u(t):""}function yV(t){switch(t.tag){case 5:return $u(t.type);case 16:return $u("Lazy");case 13:return $u("Suspense");case 19:return $u("SuspenseList");case 0:case 2:case 15:return t=Pg(t.type,!1),t;case 11:return t=Pg(t.type.render,!1),t;case 1:return t=Pg(t.type,!0),t;default:return""}}function pv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ua:return"Fragment";case $a:return"Portal";case hv:return"Profiler";case Gw:return"StrictMode";case dv:return"Suspense";case fv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case PA:return(t.displayName||"Context")+".Consumer";case AA:return(t._context.displayName||"Context")+".Provider";case Xw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yw:return e=t.displayName||null,e!==null?e:pv(t.type)||"Memo";case ys:e=t._payload,t=t._init;try{return pv(t(e))}catch{}}return null}function vV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pv(e);case 8:return e===Gw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Us(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _V(t){var e=OA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vd(t){t._valueTracker||(t._valueTracker=_V(t))}function DA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mv(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function IT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Us(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MA(t,e){e=e.checked,e!=null&&Kw(t,"checked",e,!1)}function gv(t,e){MA(t,e);var n=Us(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yv(t,e.type,n):e.hasOwnProperty("defaultValue")&&yv(t,e.type,Us(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yv(t,e,n){(e!=="number"||Xf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Uu=Array.isArray;function al(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Us(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function AT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Uu(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Us(n)}}function LA(t,e){var n=Us(e.value),r=Us(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function PT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function NA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _v(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?NA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _d,VA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_d=_d||document.createElement("div"),_d.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_d.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ac={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wV=["Webkit","ms","Moz","O"];Object.keys(ac).forEach(function(t){wV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ac[e]=ac[t]})});function FA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ac.hasOwnProperty(t)&&ac[t]?(""+e).trim():e+"px"}function BA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=FA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var SV=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wv(t,e){if(e){if(SV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Sv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ev=null;function Qw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tv=null,ll=null,ul=null;function kT(t){if(t=wh(t)){if(typeof Tv!="function")throw Error(z(280));var e=t.stateNode;e&&(e=_m(e),Tv(t.stateNode,t.type,e))}}function jA(t){ll?ul?ul.push(t):ul=[t]:ll=t}function $A(){if(ll){var t=ll,e=ul;if(ul=ll=null,kT(t),e)for(t=0;t<e.length;t++)kT(e[t])}}function UA(t,e){return t(e)}function zA(){}var kg=!1;function WA(t,e,n){if(kg)return t(e,n);kg=!0;try{return UA(t,e,n)}finally{kg=!1,(ll!==null||ul!==null)&&(zA(),$A())}}function Lc(t,e){var n=t.stateNode;if(n===null)return null;var r=_m(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var bv=!1;if(Ai)try{var xu={};Object.defineProperty(xu,"passive",{get:function(){bv=!0}}),window.addEventListener("test",xu,xu),window.removeEventListener("test",xu,xu)}catch{bv=!1}function EV(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var lc=!1,Yf=null,Qf=!1,Cv=null,TV={onError:function(t){lc=!0,Yf=t}};function bV(t,e,n,r,i,s,o,a,l){lc=!1,Yf=null,EV.apply(TV,arguments)}function CV(t,e,n,r,i,s,o,a,l){if(bV.apply(this,arguments),lc){if(lc){var u=Yf;lc=!1,Yf=null}else throw Error(z(198));Qf||(Qf=!0,Cv=u)}}function sa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function HA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function OT(t){if(sa(t)!==t)throw Error(z(188))}function RV(t){var e=t.alternate;if(!e){if(e=sa(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return OT(i),t;if(s===r)return OT(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function qA(t){return t=RV(t),t!==null?KA(t):null}function KA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KA(t);if(e!==null)return e;t=t.sibling}return null}var GA=Vn.unstable_scheduleCallback,DT=Vn.unstable_cancelCallback,IV=Vn.unstable_shouldYield,xV=Vn.unstable_requestPaint,lt=Vn.unstable_now,AV=Vn.unstable_getCurrentPriorityLevel,Jw=Vn.unstable_ImmediatePriority,XA=Vn.unstable_UserBlockingPriority,Jf=Vn.unstable_NormalPriority,PV=Vn.unstable_LowPriority,YA=Vn.unstable_IdlePriority,mm=null,Xr=null;function kV(t){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(mm,t,void 0,(t.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:MV,OV=Math.log,DV=Math.LN2;function MV(t){return t>>>=0,t===0?32:31-(OV(t)/DV|0)|0}var wd=64,Sd=4194304;function zu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=zu(a):(s&=o,s!==0&&(r=zu(s)))}else o=n&~i,o!==0?r=zu(o):s!==0&&(r=zu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Er(e),i=1<<n,r|=t[n],e&=~i;return r}function LV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Er(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=LV(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Rv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function QA(){var t=wd;return wd<<=1,!(wd&4194240)&&(wd=64),t}function Og(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Er(e),t[e]=n}function VV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Er(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Zw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Er(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Oe=0;function JA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ZA,e0,eP,tP,nP,Iv=!1,Ed=[],As=null,Ps=null,ks=null,Nc=new Map,Vc=new Map,ws=[],FV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function MT(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Nc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(e.pointerId)}}function Au(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=wh(e),e!==null&&e0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function BV(t,e,n,r,i){switch(e){case"focusin":return As=Au(As,t,e,n,r,i),!0;case"dragenter":return Ps=Au(Ps,t,e,n,r,i),!0;case"mouseover":return ks=Au(ks,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nc.set(s,Au(Nc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vc.set(s,Au(Vc.get(s)||null,t,e,n,r,i)),!0}return!1}function rP(t){var e=Po(t.target);if(e!==null){var n=sa(e);if(n!==null){if(e=n.tag,e===13){if(e=HA(n),e!==null){t.blockedOn=e,nP(t.priority,function(){eP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ev=r,n.target.dispatchEvent(r),Ev=null}else return e=wh(n),e!==null&&e0(e),t.blockedOn=n,!1;e.shift()}return!0}function LT(t,e,n){lf(t)&&n.delete(e)}function jV(){Iv=!1,As!==null&&lf(As)&&(As=null),Ps!==null&&lf(Ps)&&(Ps=null),ks!==null&&lf(ks)&&(ks=null),Nc.forEach(LT),Vc.forEach(LT)}function Pu(t,e){t.blockedOn===e&&(t.blockedOn=null,Iv||(Iv=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,jV)))}function Fc(t){function e(i){return Pu(i,t)}if(0<Ed.length){Pu(Ed[0],t);for(var n=1;n<Ed.length;n++){var r=Ed[n];r.blockedOn===t&&(r.blockedOn=null)}}for(As!==null&&Pu(As,t),Ps!==null&&Pu(Ps,t),ks!==null&&Pu(ks,t),Nc.forEach(e),Vc.forEach(e),n=0;n<ws.length;n++)r=ws[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ws.length&&(n=ws[0],n.blockedOn===null);)rP(n),n.blockedOn===null&&ws.shift()}var cl=ji.ReactCurrentBatchConfig,ep=!0;function $V(t,e,n,r){var i=Oe,s=cl.transition;cl.transition=null;try{Oe=1,t0(t,e,n,r)}finally{Oe=i,cl.transition=s}}function UV(t,e,n,r){var i=Oe,s=cl.transition;cl.transition=null;try{Oe=4,t0(t,e,n,r)}finally{Oe=i,cl.transition=s}}function t0(t,e,n,r){if(ep){var i=xv(t,e,n,r);if(i===null)Ug(t,e,r,tp,n),MT(t,r);else if(BV(i,t,e,n,r))r.stopPropagation();else if(MT(t,r),e&4&&-1<FV.indexOf(t)){for(;i!==null;){var s=wh(i);if(s!==null&&ZA(s),s=xv(t,e,n,r),s===null&&Ug(t,e,r,tp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ug(t,e,r,null,n)}}var tp=null;function xv(t,e,n,r){if(tp=null,t=Qw(r),t=Po(t),t!==null)if(e=sa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=HA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tp=t,null}function iP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AV()){case Jw:return 1;case XA:return 4;case Jf:case PV:return 16;case YA:return 536870912;default:return 16}default:return 16}}var Rs=null,n0=null,uf=null;function sP(){if(uf)return uf;var t,e=n0,n=e.length,r,i="value"in Rs?Rs.value:Rs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return uf=i.slice(t,1<r?1-r:void 0)}function cf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Td(){return!0}function NT(){return!1}function Bn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Td:NT,this.isPropagationStopped=NT,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Td)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Td)},persist:function(){},isPersistent:Td}),e}var jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r0=Bn(jl),_h=et({},jl,{view:0,detail:0}),zV=Bn(_h),Dg,Mg,ku,gm=et({},_h,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ku&&(ku&&t.type==="mousemove"?(Dg=t.screenX-ku.screenX,Mg=t.screenY-ku.screenY):Mg=Dg=0,ku=t),Dg)},movementY:function(t){return"movementY"in t?t.movementY:Mg}}),VT=Bn(gm),WV=et({},gm,{dataTransfer:0}),HV=Bn(WV),qV=et({},_h,{relatedTarget:0}),Lg=Bn(qV),KV=et({},jl,{animationName:0,elapsedTime:0,pseudoElement:0}),GV=Bn(KV),XV=et({},jl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YV=Bn(XV),QV=et({},jl,{data:0}),FT=Bn(QV),JV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=eF[t])?!!e[t]:!1}function i0(){return tF}var nF=et({},_h,{key:function(t){if(t.key){var e=JV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i0,charCode:function(t){return t.type==="keypress"?cf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rF=Bn(nF),iF=et({},gm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BT=Bn(iF),sF=et({},_h,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i0}),oF=Bn(sF),aF=et({},jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),lF=Bn(aF),uF=et({},gm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cF=Bn(uF),hF=[9,13,27,32],s0=Ai&&"CompositionEvent"in window,uc=null;Ai&&"documentMode"in document&&(uc=document.documentMode);var dF=Ai&&"TextEvent"in window&&!uc,oP=Ai&&(!s0||uc&&8<uc&&11>=uc),jT=" ",$T=!1;function aP(t,e){switch(t){case"keyup":return hF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var za=!1;function fF(t,e){switch(t){case"compositionend":return lP(e);case"keypress":return e.which!==32?null:($T=!0,jT);case"textInput":return t=e.data,t===jT&&$T?null:t;default:return null}}function pF(t,e){if(za)return t==="compositionend"||!s0&&aP(t,e)?(t=sP(),uf=n0=Rs=null,za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return oP&&e.locale!=="ko"?null:e.data;default:return null}}var mF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mF[t.type]:e==="textarea"}function uP(t,e,n,r){jA(r),e=np(e,"onChange"),0<e.length&&(n=new r0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cc=null,Bc=null;function gF(t){wP(t,0)}function ym(t){var e=qa(t);if(DA(e))return t}function yF(t,e){if(t==="change")return e}var cP=!1;if(Ai){var Ng;if(Ai){var Vg="oninput"in document;if(!Vg){var zT=document.createElement("div");zT.setAttribute("oninput","return;"),Vg=typeof zT.oninput=="function"}Ng=Vg}else Ng=!1;cP=Ng&&(!document.documentMode||9<document.documentMode)}function WT(){cc&&(cc.detachEvent("onpropertychange",hP),Bc=cc=null)}function hP(t){if(t.propertyName==="value"&&ym(Bc)){var e=[];uP(e,Bc,t,Qw(t)),WA(gF,e)}}function vF(t,e,n){t==="focusin"?(WT(),cc=e,Bc=n,cc.attachEvent("onpropertychange",hP)):t==="focusout"&&WT()}function _F(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ym(Bc)}function wF(t,e){if(t==="click")return ym(e)}function SF(t,e){if(t==="input"||t==="change")return ym(e)}function EF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var br=typeof Object.is=="function"?Object.is:EF;function jc(t,e){if(br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cv.call(e,i)||!br(t[i],e[i]))return!1}return!0}function HT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qT(t,e){var n=HT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HT(n)}}function dP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fP(){for(var t=window,e=Xf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xf(t.document)}return e}function o0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TF(t){var e=fP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dP(n.ownerDocument.documentElement,n)){if(r!==null&&o0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=qT(n,s);var o=qT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bF=Ai&&"documentMode"in document&&11>=document.documentMode,Wa=null,Av=null,hc=null,Pv=!1;function KT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pv||Wa==null||Wa!==Xf(r)||(r=Wa,"selectionStart"in r&&o0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hc&&jc(hc,r)||(hc=r,r=np(Av,"onSelect"),0<r.length&&(e=new r0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wa)))}function bd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ha={animationend:bd("Animation","AnimationEnd"),animationiteration:bd("Animation","AnimationIteration"),animationstart:bd("Animation","AnimationStart"),transitionend:bd("Transition","TransitionEnd")},Fg={},pP={};Ai&&(pP=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function vm(t){if(Fg[t])return Fg[t];if(!Ha[t])return t;var e=Ha[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pP)return Fg[t]=e[n];return t}var mP=vm("animationend"),gP=vm("animationiteration"),yP=vm("animationstart"),vP=vm("transitionend"),_P=new Map,GT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Js(t,e){_P.set(t,e),ia(e,[t])}for(var Bg=0;Bg<GT.length;Bg++){var jg=GT[Bg],CF=jg.toLowerCase(),RF=jg[0].toUpperCase()+jg.slice(1);Js(CF,"on"+RF)}Js(mP,"onAnimationEnd");Js(gP,"onAnimationIteration");Js(yP,"onAnimationStart");Js("dblclick","onDoubleClick");Js("focusin","onFocus");Js("focusout","onBlur");Js(vP,"onTransitionEnd");Sl("onMouseEnter",["mouseout","mouseover"]);Sl("onMouseLeave",["mouseout","mouseover"]);Sl("onPointerEnter",["pointerout","pointerover"]);Sl("onPointerLeave",["pointerout","pointerover"]);ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function XT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CV(r,e,void 0,t),t.currentTarget=null}function wP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;XT(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;XT(i,a,u),s=l}}}if(Qf)throw t=Cv,Qf=!1,Cv=null,t}function Ue(t,e){var n=e[Lv];n===void 0&&(n=e[Lv]=new Set);var r=t+"__bubble";n.has(r)||(SP(e,t,2,!1),n.add(r))}function $g(t,e,n){var r=0;e&&(r|=4),SP(n,t,r,e)}var Cd="_reactListening"+Math.random().toString(36).slice(2);function $c(t){if(!t[Cd]){t[Cd]=!0,xA.forEach(function(n){n!=="selectionchange"&&(IF.has(n)||$g(n,!1,t),$g(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cd]||(e[Cd]=!0,$g("selectionchange",!1,e))}}function SP(t,e,n,r){switch(iP(e)){case 1:var i=$V;break;case 4:i=UV;break;default:i=t0}n=i.bind(null,e,n,t),i=void 0,!bv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ug(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Po(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}WA(function(){var u=s,h=Qw(n),d=[];e:{var f=_P.get(t);if(f!==void 0){var p=r0,g=t;switch(t){case"keypress":if(cf(n)===0)break e;case"keydown":case"keyup":p=rF;break;case"focusin":g="focus",p=Lg;break;case"focusout":g="blur",p=Lg;break;case"beforeblur":case"afterblur":p=Lg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=VT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=HV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=oF;break;case mP:case gP:case yP:p=GV;break;case vP:p=lF;break;case"scroll":p=zV;break;case"wheel":p=cF;break;case"copy":case"cut":case"paste":p=YV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=BT}var S=(e&4)!==0,T=!S&&t==="scroll",_=S?f!==null?f+"Capture":null:f;S=[];for(var y=u,E;y!==null;){E=y;var P=E.stateNode;if(E.tag===5&&P!==null&&(E=P,_!==null&&(P=Lc(y,_),P!=null&&S.push(Uc(y,P,E)))),T)break;y=y.return}0<S.length&&(f=new p(f,g,null,n,h),d.push({event:f,listeners:S}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Ev&&(g=n.relatedTarget||n.fromElement)&&(Po(g)||g[Pi]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Po(g):null,g!==null&&(T=sa(g),g!==T||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(S=VT,P="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(S=BT,P="onPointerLeave",_="onPointerEnter",y="pointer"),T=p==null?f:qa(p),E=g==null?f:qa(g),f=new S(P,y+"leave",p,n,h),f.target=T,f.relatedTarget=E,P=null,Po(h)===u&&(S=new S(_,y+"enter",g,n,h),S.target=E,S.relatedTarget=T,P=S),T=P,p&&g)t:{for(S=p,_=g,y=0,E=S;E;E=xa(E))y++;for(E=0,P=_;P;P=xa(P))E++;for(;0<y-E;)S=xa(S),y--;for(;0<E-y;)_=xa(_),E--;for(;y--;){if(S===_||_!==null&&S===_.alternate)break t;S=xa(S),_=xa(_)}S=null}else S=null;p!==null&&YT(d,f,p,S,!1),g!==null&&T!==null&&YT(d,T,g,S,!0)}}e:{if(f=u?qa(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var M=yF;else if(UT(f))if(cP)M=SF;else{M=_F;var D=vF}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=wF);if(M&&(M=M(t,u))){uP(d,M,n,h);break e}D&&D(t,f,u),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&yv(f,"number",f.value)}switch(D=u?qa(u):window,t){case"focusin":(UT(D)||D.contentEditable==="true")&&(Wa=D,Av=u,hc=null);break;case"focusout":hc=Av=Wa=null;break;case"mousedown":Pv=!0;break;case"contextmenu":case"mouseup":case"dragend":Pv=!1,KT(d,n,h);break;case"selectionchange":if(bF)break;case"keydown":case"keyup":KT(d,n,h)}var b;if(s0)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else za?aP(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(oP&&n.locale!=="ko"&&(za||w!=="onCompositionStart"?w==="onCompositionEnd"&&za&&(b=sP()):(Rs=h,n0="value"in Rs?Rs.value:Rs.textContent,za=!0)),D=np(u,w),0<D.length&&(w=new FT(w,t,null,n,h),d.push({event:w,listeners:D}),b?w.data=b:(b=lP(n),b!==null&&(w.data=b)))),(b=dF?fF(t,n):pF(t,n))&&(u=np(u,"onBeforeInput"),0<u.length&&(h=new FT("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=b))}wP(d,e)})}function Uc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function np(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Lc(t,n),s!=null&&r.unshift(Uc(t,s,i)),s=Lc(t,e),s!=null&&r.push(Uc(t,s,i))),t=t.return}return r}function xa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function YT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Lc(n,s),l!=null&&o.unshift(Uc(n,l,a))):i||(l=Lc(n,s),l!=null&&o.push(Uc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var xF=/\r\n?/g,AF=/\u0000|\uFFFD/g;function QT(t){return(typeof t=="string"?t:""+t).replace(xF,`
`).replace(AF,"")}function Rd(t,e,n){if(e=QT(e),QT(t)!==e&&n)throw Error(z(425))}function rp(){}var kv=null,Ov=null;function Dv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mv=typeof setTimeout=="function"?setTimeout:void 0,PF=typeof clearTimeout=="function"?clearTimeout:void 0,JT=typeof Promise=="function"?Promise:void 0,kF=typeof queueMicrotask=="function"?queueMicrotask:typeof JT<"u"?function(t){return JT.resolve(null).then(t).catch(OF)}:Mv;function OF(t){setTimeout(function(){throw t})}function zg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fc(e)}function Os(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ZT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $l=Math.random().toString(36).slice(2),zr="__reactFiber$"+$l,zc="__reactProps$"+$l,Pi="__reactContainer$"+$l,Lv="__reactEvents$"+$l,DF="__reactListeners$"+$l,MF="__reactHandles$"+$l;function Po(t){var e=t[zr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pi]||n[zr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ZT(t);t!==null;){if(n=t[zr])return n;t=ZT(t)}return e}t=n,n=t.parentNode}return null}function wh(t){return t=t[zr]||t[Pi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function _m(t){return t[zc]||null}var Nv=[],Ka=-1;function Zs(t){return{current:t}}function We(t){0>Ka||(t.current=Nv[Ka],Nv[Ka]=null,Ka--)}function Be(t,e){Ka++,Nv[Ka]=t.current,t.current=e}var zs={},Zt=Zs(zs),_n=Zs(!1),qo=zs;function El(t,e){var n=t.type.contextTypes;if(!n)return zs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wn(t){return t=t.childContextTypes,t!=null}function ip(){We(_n),We(Zt)}function eb(t,e,n){if(Zt.current!==zs)throw Error(z(168));Be(Zt,e),Be(_n,n)}function EP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,vV(t)||"Unknown",i));return et({},n,r)}function sp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zs,qo=Zt.current,Be(Zt,t),Be(_n,_n.current),!0}function tb(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=EP(t,e,qo),r.__reactInternalMemoizedMergedChildContext=t,We(_n),We(Zt),Be(Zt,t)):We(_n),Be(_n,n)}var vi=null,wm=!1,Wg=!1;function TP(t){vi===null?vi=[t]:vi.push(t)}function LF(t){wm=!0,TP(t)}function eo(){if(!Wg&&vi!==null){Wg=!0;var t=0,e=Oe;try{var n=vi;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vi=null,wm=!1}catch(i){throw vi!==null&&(vi=vi.slice(t+1)),GA(Jw,eo),i}finally{Oe=e,Wg=!1}}return null}var Ga=[],Xa=0,op=null,ap=0,Hn=[],qn=0,Ko=null,_i=1,wi="";function bo(t,e){Ga[Xa++]=ap,Ga[Xa++]=op,op=t,ap=e}function bP(t,e,n){Hn[qn++]=_i,Hn[qn++]=wi,Hn[qn++]=Ko,Ko=t;var r=_i;t=wi;var i=32-Er(r)-1;r&=~(1<<i),n+=1;var s=32-Er(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_i=1<<32-Er(e)+i|n<<i|r,wi=s+t}else _i=1<<s|n<<i|r,wi=t}function a0(t){t.return!==null&&(bo(t,1),bP(t,1,0))}function l0(t){for(;t===op;)op=Ga[--Xa],Ga[Xa]=null,ap=Ga[--Xa],Ga[Xa]=null;for(;t===Ko;)Ko=Hn[--qn],Hn[qn]=null,wi=Hn[--qn],Hn[qn]=null,_i=Hn[--qn],Hn[qn]=null}var Ln=null,Dn=null,Ke=!1,_r=null;function CP(t,e){var n=Xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,Dn=Os(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ko!==null?{id:_i,overflow:wi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ln=t,Dn=null,!0):!1;default:return!1}}function Vv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fv(t){if(Ke){var e=Dn;if(e){var n=e;if(!nb(t,e)){if(Vv(t))throw Error(z(418));e=Os(n.nextSibling);var r=Ln;e&&nb(t,e)?CP(r,n):(t.flags=t.flags&-4097|2,Ke=!1,Ln=t)}}else{if(Vv(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ke=!1,Ln=t}}}function rb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function Id(t){if(t!==Ln)return!1;if(!Ke)return rb(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dv(t.type,t.memoizedProps)),e&&(e=Dn)){if(Vv(t))throw RP(),Error(z(418));for(;e;)CP(t,e),e=Os(e.nextSibling)}if(rb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=Os(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Ln?Os(t.stateNode.nextSibling):null;return!0}function RP(){for(var t=Dn;t;)t=Os(t.nextSibling)}function Tl(){Dn=Ln=null,Ke=!1}function u0(t){_r===null?_r=[t]:_r.push(t)}var NF=ji.ReactCurrentBatchConfig;function Ou(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function xd(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ib(t){var e=t._init;return e(t._payload)}function IP(t){function e(_,y){if(t){var E=_.deletions;E===null?(_.deletions=[y],_.flags|=16):E.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=Ns(_,y),_.index=0,_.sibling=null,_}function s(_,y,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<y?(_.flags|=2,y):E):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,E,P){return y===null||y.tag!==6?(y=Qg(E,_.mode,P),y.return=_,y):(y=i(y,E),y.return=_,y)}function l(_,y,E,P){var M=E.type;return M===Ua?h(_,y,E.props.children,P,E.key):y!==null&&(y.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ys&&ib(M)===y.type)?(P=i(y,E.props),P.ref=Ou(_,y,E),P.return=_,P):(P=yf(E.type,E.key,E.props,null,_.mode,P),P.ref=Ou(_,y,E),P.return=_,P)}function u(_,y,E,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=Jg(E,_.mode,P),y.return=_,y):(y=i(y,E.children||[]),y.return=_,y)}function h(_,y,E,P,M){return y===null||y.tag!==7?(y=Uo(E,_.mode,P,M),y.return=_,y):(y=i(y,E),y.return=_,y)}function d(_,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Qg(""+y,_.mode,E),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yd:return E=yf(y.type,y.key,y.props,null,_.mode,E),E.ref=Ou(_,null,y),E.return=_,E;case $a:return y=Jg(y,_.mode,E),y.return=_,y;case ys:var P=y._init;return d(_,P(y._payload),E)}if(Uu(y)||Iu(y))return y=Uo(y,_.mode,E,null),y.return=_,y;xd(_,y)}return null}function f(_,y,E,P){var M=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return M!==null?null:a(_,y,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case yd:return E.key===M?l(_,y,E,P):null;case $a:return E.key===M?u(_,y,E,P):null;case ys:return M=E._init,f(_,y,M(E._payload),P)}if(Uu(E)||Iu(E))return M!==null?null:h(_,y,E,P,null);xd(_,E)}return null}function p(_,y,E,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return _=_.get(E)||null,a(y,_,""+P,M);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case yd:return _=_.get(P.key===null?E:P.key)||null,l(y,_,P,M);case $a:return _=_.get(P.key===null?E:P.key)||null,u(y,_,P,M);case ys:var D=P._init;return p(_,y,E,D(P._payload),M)}if(Uu(P)||Iu(P))return _=_.get(E)||null,h(y,_,P,M,null);xd(y,P)}return null}function g(_,y,E,P){for(var M=null,D=null,b=y,w=y=0,R=null;b!==null&&w<E.length;w++){b.index>w?(R=b,b=null):R=b.sibling;var I=f(_,b,E[w],P);if(I===null){b===null&&(b=R);break}t&&b&&I.alternate===null&&e(_,b),y=s(I,y,w),D===null?M=I:D.sibling=I,D=I,b=R}if(w===E.length)return n(_,b),Ke&&bo(_,w),M;if(b===null){for(;w<E.length;w++)b=d(_,E[w],P),b!==null&&(y=s(b,y,w),D===null?M=b:D.sibling=b,D=b);return Ke&&bo(_,w),M}for(b=r(_,b);w<E.length;w++)R=p(b,_,w,E[w],P),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?w:R.key),y=s(R,y,w),D===null?M=R:D.sibling=R,D=R);return t&&b.forEach(function(A){return e(_,A)}),Ke&&bo(_,w),M}function S(_,y,E,P){var M=Iu(E);if(typeof M!="function")throw Error(z(150));if(E=M.call(E),E==null)throw Error(z(151));for(var D=M=null,b=y,w=y=0,R=null,I=E.next();b!==null&&!I.done;w++,I=E.next()){b.index>w?(R=b,b=null):R=b.sibling;var A=f(_,b,I.value,P);if(A===null){b===null&&(b=R);break}t&&b&&A.alternate===null&&e(_,b),y=s(A,y,w),D===null?M=A:D.sibling=A,D=A,b=R}if(I.done)return n(_,b),Ke&&bo(_,w),M;if(b===null){for(;!I.done;w++,I=E.next())I=d(_,I.value,P),I!==null&&(y=s(I,y,w),D===null?M=I:D.sibling=I,D=I);return Ke&&bo(_,w),M}for(b=r(_,b);!I.done;w++,I=E.next())I=p(b,_,w,I.value,P),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?w:I.key),y=s(I,y,w),D===null?M=I:D.sibling=I,D=I);return t&&b.forEach(function(L){return e(_,L)}),Ke&&bo(_,w),M}function T(_,y,E,P){if(typeof E=="object"&&E!==null&&E.type===Ua&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case yd:e:{for(var M=E.key,D=y;D!==null;){if(D.key===M){if(M=E.type,M===Ua){if(D.tag===7){n(_,D.sibling),y=i(D,E.props.children),y.return=_,_=y;break e}}else if(D.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ys&&ib(M)===D.type){n(_,D.sibling),y=i(D,E.props),y.ref=Ou(_,D,E),y.return=_,_=y;break e}n(_,D);break}else e(_,D);D=D.sibling}E.type===Ua?(y=Uo(E.props.children,_.mode,P,E.key),y.return=_,_=y):(P=yf(E.type,E.key,E.props,null,_.mode,P),P.ref=Ou(_,y,E),P.return=_,_=P)}return o(_);case $a:e:{for(D=E.key;y!==null;){if(y.key===D)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(_,y.sibling),y=i(y,E.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=Jg(E,_.mode,P),y.return=_,_=y}return o(_);case ys:return D=E._init,T(_,y,D(E._payload),P)}if(Uu(E))return g(_,y,E,P);if(Iu(E))return S(_,y,E,P);xd(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(_,y.sibling),y=i(y,E),y.return=_,_=y):(n(_,y),y=Qg(E,_.mode,P),y.return=_,_=y),o(_)):n(_,y)}return T}var bl=IP(!0),xP=IP(!1),lp=Zs(null),up=null,Ya=null,c0=null;function h0(){c0=Ya=up=null}function d0(t){var e=lp.current;We(lp),t._currentValue=e}function Bv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function hl(t,e){up=t,c0=Ya=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yn=!0),t.firstContext=null)}function nr(t){var e=t._currentValue;if(c0!==t)if(t={context:t,memoizedValue:e,next:null},Ya===null){if(up===null)throw Error(z(308));Ya=t,up.dependencies={lanes:0,firstContext:t}}else Ya=Ya.next=t;return e}var ko=null;function f0(t){ko===null?ko=[t]:ko.push(t)}function AP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,f0(e)):(n.next=i.next,i.next=n),e.interleaved=n,ki(t,r)}function ki(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vs=!1;function p0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ds(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ki(t,n)}return i=r.interleaved,i===null?(e.next=e,f0(r)):(e.next=i.next,i.next=e),r.interleaved=e,ki(t,n)}function hf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zw(t,n)}}function sb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cp(t,e,n,r){var i=t.updateQueue;vs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,S=a;switch(f=e,p=n,S.tag){case 1:if(g=S.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=S.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=et({},d,f);break e;case 2:vs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=p,l=d):h=h.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Xo|=o,t.lanes=o,t.memoizedState=d}}function ob(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Sh={},Yr=Zs(Sh),Wc=Zs(Sh),Hc=Zs(Sh);function Oo(t){if(t===Sh)throw Error(z(174));return t}function m0(t,e){switch(Be(Hc,e),Be(Wc,t),Be(Yr,Sh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_v(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_v(e,t)}We(Yr),Be(Yr,e)}function Cl(){We(Yr),We(Wc),We(Hc)}function kP(t){Oo(Hc.current);var e=Oo(Yr.current),n=_v(e,t.type);e!==n&&(Be(Wc,t),Be(Yr,n))}function g0(t){Wc.current===t&&(We(Yr),We(Wc))}var Ye=Zs(0);function hp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hg=[];function y0(){for(var t=0;t<Hg.length;t++)Hg[t]._workInProgressVersionPrimary=null;Hg.length=0}var df=ji.ReactCurrentDispatcher,qg=ji.ReactCurrentBatchConfig,Go=0,Je=null,St=null,kt=null,dp=!1,dc=!1,qc=0,VF=0;function Ht(){throw Error(z(321))}function v0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!br(t[n],e[n]))return!1;return!0}function _0(t,e,n,r,i,s){if(Go=s,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,df.current=t===null||t.memoizedState===null?$F:UF,t=n(r,i),dc){s=0;do{if(dc=!1,qc=0,25<=s)throw Error(z(301));s+=1,kt=St=null,e.updateQueue=null,df.current=zF,t=n(r,i)}while(dc)}if(df.current=fp,e=St!==null&&St.next!==null,Go=0,kt=St=Je=null,dp=!1,e)throw Error(z(300));return t}function w0(){var t=qc!==0;return qc=0,t}function jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Je.memoizedState=kt=t:kt=kt.next=t,kt}function rr(){if(St===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=kt===null?Je.memoizedState:kt.next;if(e!==null)kt=e,St=t;else{if(t===null)throw Error(z(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},kt===null?Je.memoizedState=kt=t:kt=kt.next=t}return kt}function Kc(t,e){return typeof e=="function"?e(t):e}function Kg(t){var e=rr(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=St,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((Go&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Je.lanes|=h,Xo|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,br(r,e.memoizedState)||(yn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Je.lanes|=s,Xo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gg(t){var e=rr(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);br(s,e.memoizedState)||(yn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function OP(){}function DP(t,e){var n=Je,r=rr(),i=e(),s=!br(r.memoizedState,i);if(s&&(r.memoizedState=i,yn=!0),r=r.queue,S0(NP.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,Gc(9,LP.bind(null,n,r,i,e),void 0,null),Ot===null)throw Error(z(349));Go&30||MP(n,e,i)}return i}function MP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LP(t,e,n,r){e.value=n,e.getSnapshot=r,VP(e)&&FP(t)}function NP(t,e,n){return n(function(){VP(e)&&FP(t)})}function VP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!br(t,n)}catch{return!0}}function FP(t){var e=ki(t,1);e!==null&&Tr(e,t,1,-1)}function ab(t){var e=jr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kc,lastRenderedState:t},e.queue=t,t=t.dispatch=jF.bind(null,Je,t),[e.memoizedState,t]}function Gc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function BP(){return rr().memoizedState}function ff(t,e,n,r){var i=jr();Je.flags|=t,i.memoizedState=Gc(1|e,n,void 0,r===void 0?null:r)}function Sm(t,e,n,r){var i=rr();r=r===void 0?null:r;var s=void 0;if(St!==null){var o=St.memoizedState;if(s=o.destroy,r!==null&&v0(r,o.deps)){i.memoizedState=Gc(e,n,s,r);return}}Je.flags|=t,i.memoizedState=Gc(1|e,n,s,r)}function lb(t,e){return ff(8390656,8,t,e)}function S0(t,e){return Sm(2048,8,t,e)}function jP(t,e){return Sm(4,2,t,e)}function $P(t,e){return Sm(4,4,t,e)}function UP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zP(t,e,n){return n=n!=null?n.concat([t]):null,Sm(4,4,UP.bind(null,e,t),n)}function E0(){}function WP(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&v0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HP(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&v0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qP(t,e,n){return Go&21?(br(n,e)||(n=QA(),Je.lanes|=n,Xo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=n)}function FF(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=qg.transition;qg.transition={};try{t(!1),e()}finally{Oe=n,qg.transition=r}}function KP(){return rr().memoizedState}function BF(t,e,n){var r=Ls(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GP(t))XP(e,n);else if(n=AP(t,e,n,r),n!==null){var i=ln();Tr(n,t,r,i),YP(n,e,r)}}function jF(t,e,n){var r=Ls(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GP(t))XP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,br(a,o)){var l=e.interleaved;l===null?(i.next=i,f0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=AP(t,e,i,r),n!==null&&(i=ln(),Tr(n,t,r,i),YP(n,e,r))}}function GP(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function XP(t,e){dc=dp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function YP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zw(t,n)}}var fp={readContext:nr,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},$F={readContext:nr,useCallback:function(t,e){return jr().memoizedState=[t,e===void 0?null:e],t},useContext:nr,useEffect:lb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ff(4194308,4,UP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ff(4194308,4,t,e)},useInsertionEffect:function(t,e){return ff(4,2,t,e)},useMemo:function(t,e){var n=jr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=BF.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=jr();return t={current:t},e.memoizedState=t},useState:ab,useDebugValue:E0,useDeferredValue:function(t){return jr().memoizedState=t},useTransition:function(){var t=ab(!1),e=t[0];return t=FF.bind(null,t[1]),jr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,i=jr();if(Ke){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Ot===null)throw Error(z(349));Go&30||MP(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,lb(NP.bind(null,r,s,t),[t]),r.flags|=2048,Gc(9,LP.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=jr(),e=Ot.identifierPrefix;if(Ke){var n=wi,r=_i;n=(r&~(1<<32-Er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=VF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UF={readContext:nr,useCallback:WP,useContext:nr,useEffect:S0,useImperativeHandle:zP,useInsertionEffect:jP,useLayoutEffect:$P,useMemo:HP,useReducer:Kg,useRef:BP,useState:function(){return Kg(Kc)},useDebugValue:E0,useDeferredValue:function(t){var e=rr();return qP(e,St.memoizedState,t)},useTransition:function(){var t=Kg(Kc)[0],e=rr().memoizedState;return[t,e]},useMutableSource:OP,useSyncExternalStore:DP,useId:KP,unstable_isNewReconciler:!1},zF={readContext:nr,useCallback:WP,useContext:nr,useEffect:S0,useImperativeHandle:zP,useInsertionEffect:jP,useLayoutEffect:$P,useMemo:HP,useReducer:Gg,useRef:BP,useState:function(){return Gg(Kc)},useDebugValue:E0,useDeferredValue:function(t){var e=rr();return St===null?e.memoizedState=t:qP(e,St.memoizedState,t)},useTransition:function(){var t=Gg(Kc)[0],e=rr().memoizedState;return[t,e]},useMutableSource:OP,useSyncExternalStore:DP,useId:KP,unstable_isNewReconciler:!1};function gr(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Em={isMounted:function(t){return(t=t._reactInternals)?sa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ln(),i=Ls(t),s=bi(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ds(t,s,i),e!==null&&(Tr(e,t,i,r),hf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ln(),i=Ls(t),s=bi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ds(t,s,i),e!==null&&(Tr(e,t,i,r),hf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),r=Ls(t),i=bi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ds(t,i,r),e!==null&&(Tr(e,t,r,n),hf(e,t,r))}};function ub(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!jc(n,r)||!jc(i,s):!0}function QP(t,e,n){var r=!1,i=zs,s=e.contextType;return typeof s=="object"&&s!==null?s=nr(s):(i=wn(e)?qo:Zt.current,r=e.contextTypes,s=(r=r!=null)?El(t,i):zs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Em,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function cb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Em.enqueueReplaceState(e,e.state,null)}function $v(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},p0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=nr(s):(s=wn(e)?qo:Zt.current,i.context=El(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Em.enqueueReplaceState(i,i.state,null),cp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Rl(t,e){try{var n="",r=e;do n+=yV(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Xg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Uv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WF=typeof WeakMap=="function"?WeakMap:Map;function JP(t,e,n){n=bi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mp||(mp=!0,Jv=r),Uv(t,e)},n}function ZP(t,e,n){n=bi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Uv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Uv(t,e),typeof r!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WF;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=iB.bind(null,t,e,n),e.then(t,t))}function db(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bi(-1,1),e.tag=2,Ds(n,e,1))),n.lanes|=1),t)}var HF=ji.ReactCurrentOwner,yn=!1;function on(t,e,n,r){e.child=t===null?xP(e,null,n,r):bl(e,t.child,n,r)}function pb(t,e,n,r,i){n=n.render;var s=e.ref;return hl(e,i),r=_0(t,e,n,r,s,i),n=w0(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oi(t,e,i)):(Ke&&n&&a0(e),e.flags|=1,on(t,e,r,i),e.child)}function mb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!P0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,e1(t,e,s,r,i)):(t=yf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:jc,n(o,r)&&t.ref===e.ref)return Oi(t,e,i)}return e.flags|=1,t=Ns(s,r),t.ref=e.ref,t.return=e,e.child=t}function e1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(jc(s,r)&&t.ref===e.ref)if(yn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,Oi(t,e,i)}return zv(t,e,n,r,i)}function t1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Ja,kn),kn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(Ja,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Be(Ja,kn),kn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Be(Ja,kn),kn|=r;return on(t,e,i,n),e.child}function n1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zv(t,e,n,r,i){var s=wn(n)?qo:Zt.current;return s=El(e,s),hl(e,i),n=_0(t,e,n,r,s,i),r=w0(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oi(t,e,i)):(Ke&&r&&a0(e),e.flags|=1,on(t,e,n,i),e.child)}function gb(t,e,n,r,i){if(wn(n)){var s=!0;sp(e)}else s=!1;if(hl(e,i),e.stateNode===null)pf(t,e),QP(e,n,r),$v(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=nr(u):(u=wn(n)?qo:Zt.current,u=El(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&cb(e,o,r,u),vs=!1;var f=e.memoizedState;o.state=f,cp(e,r,o,i),l=e.memoizedState,a!==r||f!==l||_n.current||vs?(typeof h=="function"&&(jv(e,n,h,r),l=e.memoizedState),(a=vs||ub(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,PP(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:gr(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=nr(l):(l=wn(n)?qo:Zt.current,l=El(e,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&cb(e,o,r,l),vs=!1,f=e.memoizedState,o.state=f,cp(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||_n.current||vs?(typeof p=="function"&&(jv(e,n,p,r),g=e.memoizedState),(u=vs||ub(e,n,u,r,f,g,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Wv(t,e,n,r,s,i)}function Wv(t,e,n,r,i,s){n1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&tb(e,n,!1),Oi(t,e,s);r=e.stateNode,HF.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bl(e,t.child,null,s),e.child=bl(e,null,a,s)):on(t,e,a,s),e.memoizedState=r.state,i&&tb(e,n,!0),e.child}function r1(t){var e=t.stateNode;e.pendingContext?eb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eb(t,e.context,!1),m0(t,e.containerInfo)}function yb(t,e,n,r,i){return Tl(),u0(i),e.flags|=256,on(t,e,n,r),e.child}var Hv={dehydrated:null,treeContext:null,retryLane:0};function qv(t){return{baseLanes:t,cachePool:null,transitions:null}}function i1(t,e,n){var r=e.pendingProps,i=Ye.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(Ye,i&1),t===null)return Fv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Cm(o,r,0,null),t=Uo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qv(n),e.memoizedState=Hv,t):T0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return qF(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ns(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ns(a,s):(s=Uo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?qv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Hv,r}return s=t.child,t=s.sibling,r=Ns(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function T0(t,e){return e=Cm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ad(t,e,n,r){return r!==null&&u0(r),bl(e,t.child,null,n),t=T0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qF(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Xg(Error(z(422))),Ad(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Cm({mode:"visible",children:r.children},i,0,null),s=Uo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&bl(e,t.child,null,o),e.child.memoizedState=qv(o),e.memoizedState=Hv,s);if(!(e.mode&1))return Ad(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=Xg(s,r,void 0),Ad(t,e,o,r)}if(a=(o&t.childLanes)!==0,yn||a){if(r=Ot,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ki(t,i),Tr(r,t,i,-1))}return A0(),r=Xg(Error(z(421))),Ad(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=sB.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dn=Os(i.nextSibling),Ln=e,Ke=!0,_r=null,t!==null&&(Hn[qn++]=_i,Hn[qn++]=wi,Hn[qn++]=Ko,_i=t.id,wi=t.overflow,Ko=e),e=T0(e,r.children),e.flags|=4096,e)}function vb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bv(t.return,e,n)}function Yg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function s1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(on(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vb(t,n,e);else if(t.tag===19)vb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&hp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Yg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Yg(e,!0,n,null,s);break;case"together":Yg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Ns(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ns(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KF(t,e,n){switch(e.tag){case 3:r1(e),Tl();break;case 5:kP(e);break;case 1:wn(e.type)&&sp(e);break;case 4:m0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(lp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?i1(t,e,n):(Be(Ye,Ye.current&1),t=Oi(t,e,n),t!==null?t.sibling:null);Be(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return s1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,t1(t,e,n)}return Oi(t,e,n)}var o1,Kv,a1,l1;o1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kv=function(){};a1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Oo(Yr.current);var s=null;switch(n){case"input":i=mv(t,i),r=mv(t,r),s=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),s=[];break;case"textarea":i=vv(t,i),r=vv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rp)}wv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Dc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Dc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ue("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};l1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Du(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function GF(t,e,n){var r=e.pendingProps;switch(l0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(e),null;case 1:return wn(e.type)&&ip(),qt(e),null;case 3:return r=e.stateNode,Cl(),We(_n),We(Zt),y0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Id(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_r!==null&&(t_(_r),_r=null))),Kv(t,e),qt(e),null;case 5:g0(e);var i=Oo(Hc.current);if(n=e.type,t!==null&&e.stateNode!=null)a1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return qt(e),null}if(t=Oo(Yr.current),Id(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[zr]=e,r[zc]=s,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(i=0;i<Wu.length;i++)Ue(Wu[i],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":IT(r,s),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ue("invalid",r);break;case"textarea":AT(r,s),Ue("invalid",r)}wv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Rd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Rd(r.textContent,a,t),i=["children",""+a]):Dc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",r)}switch(n){case"input":vd(r),xT(r,s,!0);break;case"textarea":vd(r),PT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=rp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=NA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[zr]=e,t[zc]=r,o1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sv(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),i=r;break;case"iframe":case"object":case"embed":Ue("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wu.length;i++)Ue(Wu[i],t);i=r;break;case"source":Ue("error",t),i=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),i=r;break;case"details":Ue("toggle",t),i=r;break;case"input":IT(t,r),i=mv(t,r),Ue("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":AT(t,r),i=vv(t,r),Ue("invalid",t);break;default:i=r}wv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?BA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&VA(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Mc(t,l):typeof l=="number"&&Mc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Dc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ue("scroll",t):l!=null&&Kw(t,s,l,o))}switch(n){case"input":vd(t),xT(t,r,!1);break;case"textarea":vd(t),PT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Us(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?al(t,!!r.multiple,s,!1):r.defaultValue!=null&&al(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qt(e),null;case 6:if(t&&e.stateNode!=null)l1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Oo(Hc.current),Oo(Yr.current),Id(e)){if(r=e.stateNode,n=e.memoizedProps,r[zr]=e,(s=r.nodeValue!==n)&&(t=Ln,t!==null))switch(t.tag){case 3:Rd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zr]=e,e.stateNode=r}return qt(e),null;case 13:if(We(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&Dn!==null&&e.mode&1&&!(e.flags&128))RP(),Tl(),e.flags|=98560,s=!1;else if(s=Id(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[zr]=e}else Tl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qt(e),s=!1}else _r!==null&&(t_(_r),_r=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?Et===0&&(Et=3):A0())),e.updateQueue!==null&&(e.flags|=4),qt(e),null);case 4:return Cl(),Kv(t,e),t===null&&$c(e.stateNode.containerInfo),qt(e),null;case 10:return d0(e.type._context),qt(e),null;case 17:return wn(e.type)&&ip(),qt(e),null;case 19:if(We(Ye),s=e.memoizedState,s===null)return qt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Du(s,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=hp(t),o!==null){for(e.flags|=128,Du(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Ye,Ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&lt()>Il&&(e.flags|=128,r=!0,Du(s,!1),e.lanes=4194304)}else{if(!r)if(t=hp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Du(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ke)return qt(e),null}else 2*lt()-s.renderingStartTime>Il&&n!==1073741824&&(e.flags|=128,r=!0,Du(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=lt(),e.sibling=null,n=Ye.current,Be(Ye,r?n&1|2:n&1),e):(qt(e),null);case 22:case 23:return x0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kn&1073741824&&(qt(e),e.subtreeFlags&6&&(e.flags|=8192)):qt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function XF(t,e){switch(l0(e),e.tag){case 1:return wn(e.type)&&ip(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cl(),We(_n),We(Zt),y0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return g0(e),null;case 13:if(We(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Tl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ye),null;case 4:return Cl(),null;case 10:return d0(e.type._context),null;case 22:case 23:return x0(),null;case 24:return null;default:return null}}var Pd=!1,Yt=!1,YF=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Qa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(t,e,r)}else n.current=null}function Gv(t,e,n){try{n()}catch(r){st(t,e,r)}}var _b=!1;function QF(t,e){if(kv=ep,t=fP(),o0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++h===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ov={focusedElem:t,selectionRange:n},ep=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var S=g.memoizedProps,T=g.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?S:gr(e.type,S),T);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(P){st(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return g=_b,_b=!1,g}function fc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gv(e,n,s)}i=i.next}while(i!==r)}}function Tm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function u1(t){var e=t.alternate;e!==null&&(t.alternate=null,u1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zr],delete e[zc],delete e[Lv],delete e[DF],delete e[MF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function c1(t){return t.tag===5||t.tag===3||t.tag===4}function wb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rp));else if(r!==4&&(t=t.child,t!==null))for(Yv(t,e,n),t=t.sibling;t!==null;)Yv(t,e,n),t=t.sibling}function Qv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Qv(t,e,n),t=t.sibling;t!==null;)Qv(t,e,n),t=t.sibling}var Lt=null,vr=!1;function ls(t,e,n){for(n=n.child;n!==null;)h1(t,e,n),n=n.sibling}function h1(t,e,n){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(mm,n)}catch{}switch(n.tag){case 5:Yt||Qa(n,e);case 6:var r=Lt,i=vr;Lt=null,ls(t,e,n),Lt=r,vr=i,Lt!==null&&(vr?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(vr?(t=Lt,n=n.stateNode,t.nodeType===8?zg(t.parentNode,n):t.nodeType===1&&zg(t,n),Fc(t)):zg(Lt,n.stateNode));break;case 4:r=Lt,i=vr,Lt=n.stateNode.containerInfo,vr=!0,ls(t,e,n),Lt=r,vr=i;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gv(n,e,o),i=i.next}while(i!==r)}ls(t,e,n);break;case 1:if(!Yt&&(Qa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){st(n,e,a)}ls(t,e,n);break;case 21:ls(t,e,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,ls(t,e,n),Yt=r):ls(t,e,n);break;default:ls(t,e,n)}}function Sb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new YF),e.forEach(function(r){var i=oB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,vr=!1;break e;case 3:Lt=a.stateNode.containerInfo,vr=!0;break e;case 4:Lt=a.stateNode.containerInfo,vr=!0;break e}a=a.return}if(Lt===null)throw Error(z(160));h1(s,o,i),Lt=null,vr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){st(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)d1(e,t),e=e.sibling}function d1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cr(e,t),Vr(t),r&4){try{fc(3,t,t.return),Tm(3,t)}catch(S){st(t,t.return,S)}try{fc(5,t,t.return)}catch(S){st(t,t.return,S)}}break;case 1:cr(e,t),Vr(t),r&512&&n!==null&&Qa(n,n.return);break;case 5:if(cr(e,t),Vr(t),r&512&&n!==null&&Qa(n,n.return),t.flags&32){var i=t.stateNode;try{Mc(i,"")}catch(S){st(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&MA(i,s),Sv(a,o);var u=Sv(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?BA(i,d):h==="dangerouslySetInnerHTML"?VA(i,d):h==="children"?Mc(i,d):Kw(i,h,d,u)}switch(a){case"input":gv(i,s);break;case"textarea":LA(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?al(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?al(i,!!s.multiple,s.defaultValue,!0):al(i,!!s.multiple,s.multiple?[]:"",!1))}i[zc]=s}catch(S){st(t,t.return,S)}}break;case 6:if(cr(e,t),Vr(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){st(t,t.return,S)}}break;case 3:if(cr(e,t),Vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fc(e.containerInfo)}catch(S){st(t,t.return,S)}break;case 4:cr(e,t),Vr(t);break;case 13:cr(e,t),Vr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(R0=lt())),r&4&&Sb(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Yt=(u=Yt)||h,cr(e,t),Yt=u):cr(e,t),Vr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Q=t,h=t.child;h!==null;){for(d=Q=h;Q!==null;){switch(f=Q,p=f.child,f.tag){case 0:case 11:case 14:case 15:fc(4,f,f.return);break;case 1:Qa(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(S){st(r,n,S)}}break;case 5:Qa(f,f.return);break;case 22:if(f.memoizedState!==null){Tb(d);continue}}p!==null?(p.return=f,Q=p):Tb(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=FA("display",o))}catch(S){st(t,t.return,S)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(S){st(t,t.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:cr(e,t),Vr(t),r&4&&Sb(t);break;case 21:break;default:cr(e,t),Vr(t)}}function Vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(c1(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Mc(i,""),r.flags&=-33);var s=wb(t);Qv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=wb(t);Yv(t,a,o);break;default:throw Error(z(161))}}catch(l){st(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function JF(t,e,n){Q=t,f1(t)}function f1(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Pd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Yt;a=Pd;var u=Yt;if(Pd=o,(Yt=l)&&!u)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?bb(i):l!==null?(l.return=o,Q=l):bb(i);for(;s!==null;)Q=s,f1(s),s=s.sibling;Q=i,Pd=a,Yt=u}Eb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):Eb(t)}}function Eb(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||Tm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:gr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ob(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ob(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Fc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Yt||e.flags&512&&Xv(e)}catch(f){st(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Tb(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function bb(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Tm(4,e)}catch(l){st(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){st(e,i,l)}}var s=e.return;try{Xv(e)}catch(l){st(e,s,l)}break;case 5:var o=e.return;try{Xv(e)}catch(l){st(e,o,l)}}}catch(l){st(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var ZF=Math.ceil,pp=ji.ReactCurrentDispatcher,b0=ji.ReactCurrentOwner,Jn=ji.ReactCurrentBatchConfig,Re=0,Ot=null,ft=null,$t=0,kn=0,Ja=Zs(0),Et=0,Xc=null,Xo=0,bm=0,C0=0,pc=null,mn=null,R0=0,Il=1/0,gi=null,mp=!1,Jv=null,Ms=null,kd=!1,Is=null,gp=0,mc=0,Zv=null,mf=-1,gf=0;function ln(){return Re&6?lt():mf!==-1?mf:mf=lt()}function Ls(t){return t.mode&1?Re&2&&$t!==0?$t&-$t:NF.transition!==null?(gf===0&&(gf=QA()),gf):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:iP(t.type)),t):1}function Tr(t,e,n,r){if(50<mc)throw mc=0,Zv=null,Error(z(185));vh(t,n,r),(!(Re&2)||t!==Ot)&&(t===Ot&&(!(Re&2)&&(bm|=n),Et===4&&Ss(t,$t)),Sn(t,r),n===1&&Re===0&&!(e.mode&1)&&(Il=lt()+500,wm&&eo()))}function Sn(t,e){var n=t.callbackNode;NV(t,e);var r=Zf(t,t===Ot?$t:0);if(r===0)n!==null&&DT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&DT(n),e===1)t.tag===0?LF(Cb.bind(null,t)):TP(Cb.bind(null,t)),kF(function(){!(Re&6)&&eo()}),n=null;else{switch(JA(r)){case 1:n=Jw;break;case 4:n=XA;break;case 16:n=Jf;break;case 536870912:n=YA;break;default:n=Jf}n=S1(n,p1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function p1(t,e){if(mf=-1,gf=0,Re&6)throw Error(z(327));var n=t.callbackNode;if(dl()&&t.callbackNode!==n)return null;var r=Zf(t,t===Ot?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yp(t,r);else{e=r;var i=Re;Re|=2;var s=g1();(Ot!==t||$t!==e)&&(gi=null,Il=lt()+500,$o(t,e));do try{nB();break}catch(a){m1(t,a)}while(!0);h0(),pp.current=s,Re=i,ft!==null?e=0:(Ot=null,$t=0,e=Et)}if(e!==0){if(e===2&&(i=Rv(t),i!==0&&(r=i,e=e_(t,i))),e===1)throw n=Xc,$o(t,0),Ss(t,r),Sn(t,lt()),n;if(e===6)Ss(t,r);else{if(i=t.current.alternate,!(r&30)&&!eB(i)&&(e=yp(t,r),e===2&&(s=Rv(t),s!==0&&(r=s,e=e_(t,s))),e===1))throw n=Xc,$o(t,0),Ss(t,r),Sn(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Co(t,mn,gi);break;case 3:if(Ss(t,r),(r&130023424)===r&&(e=R0+500-lt(),10<e)){if(Zf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Mv(Co.bind(null,t,mn,gi),e);break}Co(t,mn,gi);break;case 4:if(Ss(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Er(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ZF(r/1960))-r,10<r){t.timeoutHandle=Mv(Co.bind(null,t,mn,gi),r);break}Co(t,mn,gi);break;case 5:Co(t,mn,gi);break;default:throw Error(z(329))}}}return Sn(t,lt()),t.callbackNode===n?p1.bind(null,t):null}function e_(t,e){var n=pc;return t.current.memoizedState.isDehydrated&&($o(t,e).flags|=256),t=yp(t,e),t!==2&&(e=mn,mn=n,e!==null&&t_(e)),t}function t_(t){mn===null?mn=t:mn.push.apply(mn,t)}function eB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!br(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ss(t,e){for(e&=~C0,e&=~bm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Er(e),r=1<<n;t[n]=-1,e&=~r}}function Cb(t){if(Re&6)throw Error(z(327));dl();var e=Zf(t,0);if(!(e&1))return Sn(t,lt()),null;var n=yp(t,e);if(t.tag!==0&&n===2){var r=Rv(t);r!==0&&(e=r,n=e_(t,r))}if(n===1)throw n=Xc,$o(t,0),Ss(t,e),Sn(t,lt()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Co(t,mn,gi),Sn(t,lt()),null}function I0(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(Il=lt()+500,wm&&eo())}}function Yo(t){Is!==null&&Is.tag===0&&!(Re&6)&&dl();var e=Re;Re|=1;var n=Jn.transition,r=Oe;try{if(Jn.transition=null,Oe=1,t)return t()}finally{Oe=r,Jn.transition=n,Re=e,!(Re&6)&&eo()}}function x0(){kn=Ja.current,We(Ja)}function $o(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,PF(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(l0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ip();break;case 3:Cl(),We(_n),We(Zt),y0();break;case 5:g0(r);break;case 4:Cl();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:d0(r.type._context);break;case 22:case 23:x0()}n=n.return}if(Ot=t,ft=t=Ns(t.current,null),$t=kn=e,Et=0,Xc=null,C0=bm=Xo=0,mn=pc=null,ko!==null){for(e=0;e<ko.length;e++)if(n=ko[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ko=null}return t}function m1(t,e){do{var n=ft;try{if(h0(),df.current=fp,dp){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dp=!1}if(Go=0,kt=St=Je=null,dc=!1,qc=0,b0.current=null,n===null||n.return===null){Et=1,Xc=e,ft=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=$t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=db(o);if(p!==null){p.flags&=-257,fb(p,o,a,s,e),p.mode&1&&hb(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var S=new Set;S.add(l),e.updateQueue=S}else g.add(l);break e}else{if(!(e&1)){hb(s,u,e),A0();break e}l=Error(z(426))}}else if(Ke&&a.mode&1){var T=db(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),fb(T,o,a,s,e),u0(Rl(l,a));break e}}s=l=Rl(l,a),Et!==4&&(Et=2),pc===null?pc=[s]:pc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=JP(s,l,e);sb(s,_);break e;case 1:a=l;var y=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ms===null||!Ms.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=ZP(s,a,e);sb(s,P);break e}}s=s.return}while(s!==null)}v1(n)}catch(M){e=M,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function g1(){var t=pp.current;return pp.current=fp,t===null?fp:t}function A0(){(Et===0||Et===3||Et===2)&&(Et=4),Ot===null||!(Xo&268435455)&&!(bm&268435455)||Ss(Ot,$t)}function yp(t,e){var n=Re;Re|=2;var r=g1();(Ot!==t||$t!==e)&&(gi=null,$o(t,e));do try{tB();break}catch(i){m1(t,i)}while(!0);if(h0(),Re=n,pp.current=r,ft!==null)throw Error(z(261));return Ot=null,$t=0,Et}function tB(){for(;ft!==null;)y1(ft)}function nB(){for(;ft!==null&&!IV();)y1(ft)}function y1(t){var e=w1(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?v1(t):ft=e,b0.current=null}function v1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=XF(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,ft=null;return}}else if(n=GF(n,e,kn),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);Et===0&&(Et=5)}function Co(t,e,n){var r=Oe,i=Jn.transition;try{Jn.transition=null,Oe=1,rB(t,e,n,r)}finally{Jn.transition=i,Oe=r}return null}function rB(t,e,n,r){do dl();while(Is!==null);if(Re&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(VV(t,s),t===Ot&&(ft=Ot=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kd||(kd=!0,S1(Jf,function(){return dl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Jn.transition,Jn.transition=null;var o=Oe;Oe=1;var a=Re;Re|=4,b0.current=null,QF(t,n),d1(n,t),TF(Ov),ep=!!kv,Ov=kv=null,t.current=n,JF(n),xV(),Re=a,Oe=o,Jn.transition=s}else t.current=n;if(kd&&(kd=!1,Is=t,gp=i),s=t.pendingLanes,s===0&&(Ms=null),kV(n.stateNode),Sn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(mp)throw mp=!1,t=Jv,Jv=null,t;return gp&1&&t.tag!==0&&dl(),s=t.pendingLanes,s&1?t===Zv?mc++:(mc=0,Zv=t):mc=0,eo(),null}function dl(){if(Is!==null){var t=JA(gp),e=Jn.transition,n=Oe;try{if(Jn.transition=null,Oe=16>t?16:t,Is===null)var r=!1;else{if(t=Is,Is=null,gp=0,Re&6)throw Error(z(331));var i=Re;for(Re|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:fc(8,h,s)}var d=h.child;if(d!==null)d.return=h,Q=d;else for(;Q!==null;){h=Q;var f=h.sibling,p=h.return;if(u1(h),h===u){Q=null;break}if(f!==null){f.return=p,Q=f;break}Q=p}}}var g=s.alternate;if(g!==null){var S=g.child;if(S!==null){g.child=null;do{var T=S.sibling;S.sibling=null,S=T}while(S!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fc(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Q=_;break e}Q=s.return}}var y=t.current;for(Q=y;Q!==null;){o=Q;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Q=E;else e:for(o=y;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Tm(9,a)}}catch(M){st(a,a.return,M)}if(a===o){Q=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,Q=P;break e}Q=a.return}}if(Re=i,eo(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(mm,t)}catch{}r=!0}return r}finally{Oe=n,Jn.transition=e}}return!1}function Rb(t,e,n){e=Rl(n,e),e=JP(t,e,1),t=Ds(t,e,1),e=ln(),t!==null&&(vh(t,1,e),Sn(t,e))}function st(t,e,n){if(t.tag===3)Rb(t,t,n);else for(;e!==null;){if(e.tag===3){Rb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ms===null||!Ms.has(r))){t=Rl(n,t),t=ZP(e,t,1),e=Ds(e,t,1),t=ln(),e!==null&&(vh(e,1,t),Sn(e,t));break}}e=e.return}}function iB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&($t&n)===n&&(Et===4||Et===3&&($t&130023424)===$t&&500>lt()-R0?$o(t,0):C0|=n),Sn(t,e)}function _1(t,e){e===0&&(t.mode&1?(e=Sd,Sd<<=1,!(Sd&130023424)&&(Sd=4194304)):e=1);var n=ln();t=ki(t,e),t!==null&&(vh(t,e,n),Sn(t,n))}function sB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_1(t,n)}function oB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),_1(t,n)}var w1;w1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_n.current)yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yn=!1,KF(t,e,n);yn=!!(t.flags&131072)}else yn=!1,Ke&&e.flags&1048576&&bP(e,ap,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pf(t,e),t=e.pendingProps;var i=El(e,Zt.current);hl(e,n),i=_0(null,e,r,t,i,n);var s=w0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(s=!0,sp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,p0(e),i.updater=Em,e.stateNode=i,i._reactInternals=e,$v(e,r,t,n),e=Wv(null,e,r,!0,s,n)):(e.tag=0,Ke&&s&&a0(e),on(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=lB(r),t=gr(r,t),i){case 0:e=zv(null,e,r,t,n);break e;case 1:e=gb(null,e,r,t,n);break e;case 11:e=pb(null,e,r,t,n);break e;case 14:e=mb(null,e,r,gr(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),zv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),gb(t,e,r,i,n);case 3:e:{if(r1(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,PP(t,e),cp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Rl(Error(z(423)),e),e=yb(t,e,r,n,i);break e}else if(r!==i){i=Rl(Error(z(424)),e),e=yb(t,e,r,n,i);break e}else for(Dn=Os(e.stateNode.containerInfo.firstChild),Ln=e,Ke=!0,_r=null,n=xP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tl(),r===i){e=Oi(t,e,n);break e}on(t,e,r,n)}e=e.child}return e;case 5:return kP(e),t===null&&Fv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Dv(r,i)?o=null:s!==null&&Dv(r,s)&&(e.flags|=32),n1(t,e),on(t,e,o,n),e.child;case 6:return t===null&&Fv(e),null;case 13:return i1(t,e,n);case 4:return m0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bl(e,null,r,n):on(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),pb(t,e,r,i,n);case 7:return on(t,e,e.pendingProps,n),e.child;case 8:return on(t,e,e.pendingProps.children,n),e.child;case 12:return on(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Be(lp,r._currentValue),r._currentValue=o,s!==null)if(br(s.value,o)){if(s.children===i.children&&!_n.current){e=Oi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=bi(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Bv(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Bv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}on(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,hl(e,n),i=nr(i),r=r(i),e.flags|=1,on(t,e,r,n),e.child;case 14:return r=e.type,i=gr(r,e.pendingProps),i=gr(r.type,i),mb(t,e,r,i,n);case 15:return e1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),pf(t,e),e.tag=1,wn(r)?(t=!0,sp(e)):t=!1,hl(e,n),QP(e,r,i),$v(e,r,i,n),Wv(null,e,r,!0,t,n);case 19:return s1(t,e,n);case 22:return t1(t,e,n)}throw Error(z(156,e.tag))};function S1(t,e){return GA(t,e)}function aB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(t,e,n,r){return new aB(t,e,n,r)}function P0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lB(t){if(typeof t=="function")return P0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xw)return 11;if(t===Yw)return 14}return 2}function Ns(t,e){var n=t.alternate;return n===null?(n=Xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")P0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ua:return Uo(n.children,i,s,e);case Gw:o=8,i|=8;break;case hv:return t=Xn(12,n,e,i|2),t.elementType=hv,t.lanes=s,t;case dv:return t=Xn(13,n,e,i),t.elementType=dv,t.lanes=s,t;case fv:return t=Xn(19,n,e,i),t.elementType=fv,t.lanes=s,t;case kA:return Cm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case AA:o=10;break e;case PA:o=9;break e;case Xw:o=11;break e;case Yw:o=14;break e;case ys:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Xn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Uo(t,e,n,r){return t=Xn(7,t,r,e),t.lanes=n,t}function Cm(t,e,n,r){return t=Xn(22,t,r,e),t.elementType=kA,t.lanes=n,t.stateNode={isHidden:!1},t}function Qg(t,e,n){return t=Xn(6,t,null,e),t.lanes=n,t}function Jg(t,e,n){return e=Xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Og(0),this.expirationTimes=Og(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Og(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function k0(t,e,n,r,i,s,o,a,l){return t=new uB(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Xn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},p0(s),t}function cB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$a,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function E1(t){if(!t)return zs;t=t._reactInternals;e:{if(sa(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(wn(n))return EP(t,n,e)}return e}function T1(t,e,n,r,i,s,o,a,l){return t=k0(n,r,!0,t,i,s,o,a,l),t.context=E1(null),n=t.current,r=ln(),i=Ls(n),s=bi(r,i),s.callback=e??null,Ds(n,s,i),t.current.lanes=i,vh(t,i,r),Sn(t,r),t}function Rm(t,e,n,r){var i=e.current,s=ln(),o=Ls(i);return n=E1(n),e.context===null?e.context=n:e.pendingContext=n,e=bi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ds(i,e,o),t!==null&&(Tr(t,i,o,s),hf(t,i,o)),o}function vp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ib(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function O0(t,e){Ib(t,e),(t=t.alternate)&&Ib(t,e)}function hB(){return null}var b1=typeof reportError=="function"?reportError:function(t){console.error(t)};function D0(t){this._internalRoot=t}Im.prototype.render=D0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Rm(t,e,null,null)};Im.prototype.unmount=D0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yo(function(){Rm(null,t,null,null)}),e[Pi]=null}};function Im(t){this._internalRoot=t}Im.prototype.unstable_scheduleHydration=function(t){if(t){var e=tP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ws.length&&e!==0&&e<ws[n].priority;n++);ws.splice(n,0,t),n===0&&rP(t)}};function M0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xb(){}function dB(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=vp(o);s.call(u)}}var o=T1(e,r,t,0,null,!1,!1,"",xb);return t._reactRootContainer=o,t[Pi]=o.current,$c(t.nodeType===8?t.parentNode:t),Yo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=vp(l);a.call(u)}}var l=k0(t,0,!1,null,null,!1,!1,"",xb);return t._reactRootContainer=l,t[Pi]=l.current,$c(t.nodeType===8?t.parentNode:t),Yo(function(){Rm(e,l,n,r)}),l}function Am(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=vp(o);a.call(l)}}Rm(e,o,t,i)}else o=dB(n,e,t,i,r);return vp(o)}ZA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zu(e.pendingLanes);n!==0&&(Zw(e,n|1),Sn(e,lt()),!(Re&6)&&(Il=lt()+500,eo()))}break;case 13:Yo(function(){var r=ki(t,1);if(r!==null){var i=ln();Tr(r,t,1,i)}}),O0(t,1)}};e0=function(t){if(t.tag===13){var e=ki(t,134217728);if(e!==null){var n=ln();Tr(e,t,134217728,n)}O0(t,134217728)}};eP=function(t){if(t.tag===13){var e=Ls(t),n=ki(t,e);if(n!==null){var r=ln();Tr(n,t,e,r)}O0(t,e)}};tP=function(){return Oe};nP=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};Tv=function(t,e,n){switch(e){case"input":if(gv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_m(r);if(!i)throw Error(z(90));DA(r),gv(r,i)}}}break;case"textarea":LA(t,n);break;case"select":e=n.value,e!=null&&al(t,!!n.multiple,e,!1)}};UA=I0;zA=Yo;var fB={usingClientEntryPoint:!1,Events:[wh,qa,_m,jA,$A,I0]},Mu={findFiberByHostInstance:Po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pB={bundleType:Mu.bundleType,version:Mu.version,rendererPackageName:Mu.rendererPackageName,rendererConfig:Mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qA(t),t===null?null:t.stateNode},findFiberByHostInstance:Mu.findFiberByHostInstance||hB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{mm=Od.inject(pB),Xr=Od}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fB;Fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!M0(e))throw Error(z(200));return cB(t,e,null,n)};Fn.createRoot=function(t,e){if(!M0(t))throw Error(z(299));var n=!1,r="",i=b1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=k0(t,1,!1,null,null,n,!1,r,i),t[Pi]=e.current,$c(t.nodeType===8?t.parentNode:t),new D0(e)};Fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=qA(e),t=t===null?null:t.stateNode,t};Fn.flushSync=function(t){return Yo(t)};Fn.hydrate=function(t,e,n){if(!xm(e))throw Error(z(200));return Am(null,t,e,!0,n)};Fn.hydrateRoot=function(t,e,n){if(!M0(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=b1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=T1(e,null,t,1,n??null,i,!1,s,o),t[Pi]=e.current,$c(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Im(e)};Fn.render=function(t,e,n){if(!xm(e))throw Error(z(200));return Am(null,t,e,!1,n)};Fn.unmountComponentAtNode=function(t){if(!xm(t))throw Error(z(40));return t._reactRootContainer?(Yo(function(){Am(null,null,t,!1,function(){t._reactRootContainer=null,t[Pi]=null})}),!0):!1};Fn.unstable_batchedUpdates=I0;Fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xm(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Am(t,e,n,!1,r)};Fn.version="18.3.1-next-f1338f8080-20240426";function C1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C1)}catch(t){console.error(t)}}C1(),CA.exports=Fn;var R1=CA.exports;const mB=Fl(R1);var Ab=R1;uv.createRoot=Ab.createRoot,uv.hydrateRoot=Ab.hydrateRoot;var gB=t=>t.disabled||Array.isArray(t.accessibilityStates)&&t.accessibilityStates.indexOf("disabled")>-1,yB={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null},I1=t=>{var e=t.accessibilityRole,n=t.role,r=n||e;if(r){var i=yB[r];if(i!==null)return i||r}},vB={article:"article",banner:"header",blockquote:"blockquote",button:"button",code:"code",complementary:"aside",contentinfo:"footer",deletion:"del",emphasis:"em",figure:"figure",insertion:"ins",form:"form",list:"ul",listitem:"li",main:"main",navigation:"nav",paragraph:"p",region:"section",strong:"strong"},_B={},wB=function(e){e===void 0&&(e=_B);var n=e.role||e.accessibilityRole;if(n==="label")return"label";var r=I1(e);if(r){if(r==="heading"){var i=e.accessibilityLevel||e["aria-level"];return i!=null?"h"+i:"h1"}return vB[r]}},x1={isDisabled:gB,propsToAccessibilityComponent:wB,propsToAriaRole:I1};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function SB(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EB(t){var e=SB(t,"string");return Yc(e)=="symbol"?e:e+""}function TB(t,e,n){return(e=EB(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pb(Object(n),!0).forEach(function(r){TB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function En(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},bB=["ms","Moz","O","Webkit"],CB=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1);Object.keys(vf).forEach(t=>{bB.forEach(e=>{vf[CB(e,t)]=vf[t]})});var RB=t=>t==="currentcolor"||t==="currentColor"||t==="inherit"||t.indexOf("var(")===0;function IB(t){if(typeof t=="number")return t>>>0===t&&t>=0&&t<=4294967295?t:null;if(typeof t!="string")return null;const e=AB();let n;if(n=e.hex6.exec(t))return parseInt(n[1]+"ff",16)>>>0;const r=PB(t);return r??((n=e.rgb.exec(t))?(fi(n[1])<<24|fi(n[2])<<16|fi(n[3])<<8|255)>>>0:(n=e.rgba.exec(t))?n[6]!==void 0?(fi(n[6])<<24|fi(n[7])<<16|fi(n[8])<<8|Md(n[9]))>>>0:(fi(n[2])<<24|fi(n[3])<<16|fi(n[4])<<8|Md(n[5]))>>>0:(n=e.hex3.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0:(n=e.hex8.exec(t))?parseInt(n[1],16)>>>0:(n=e.hex4.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0:(n=e.hsl.exec(t))?(Zg(Dd(n[1]),cs(n[2]),cs(n[3]))|255)>>>0:(n=e.hsla.exec(t))?n[6]!==void 0?(Zg(Dd(n[6]),cs(n[7]),cs(n[8]))|Md(n[9]))>>>0:(Zg(Dd(n[2]),cs(n[3]),cs(n[4]))|Md(n[5]))>>>0:(n=e.hwb.exec(t))?(xB(Dd(n[1]),cs(n[2]),cs(n[3]))|255)>>>0:null)}function fl(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Zg(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=fl(i,r,t+1/3),o=fl(i,r,t),a=fl(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function xB(t,e,n){if(e+n>=1){const o=Math.round(e*255/(e+n));return o<<24|o<<16|o<<8}const r=fl(0,1,t+1/3)*(1-e-n)+e,i=fl(0,1,t)*(1-e-n)+e,s=fl(0,1,t-1/3)*(1-e-n)+e;return Math.round(r*255)<<24|Math.round(i*255)<<16|Math.round(s*255)<<8}const xt="[-+]?\\d*\\.?\\d+",us=xt+"%";function ey(...t){return"\\(\\s*("+t.join(")\\s*,?\\s*(")+")\\s*\\)"}function kb(...t){return"\\(\\s*("+t.slice(0,t.length-1).join(")\\s*,?\\s*(")+")\\s*/\\s*("+t[t.length-1]+")\\s*\\)"}function Ob(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}let ty;function AB(){return ty===void 0&&(ty={rgb:new RegExp("rgb"+ey(xt,xt,xt)),rgba:new RegExp("rgba("+Ob(xt,xt,xt,xt)+"|"+kb(xt,xt,xt,xt)+")"),hsl:new RegExp("hsl"+ey(xt,us,us)),hsla:new RegExp("hsla("+Ob(xt,us,us,xt)+"|"+kb(xt,us,us,xt)+")"),hwb:new RegExp("hwb"+ey(xt,us,us)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/}),ty}function fi(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function Dd(t){return(parseFloat(t)%360+360)%360/360}function Md(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function cs(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function PB(t){switch(t){case"transparent":return 0;case"aliceblue":return 4042850303;case"antiquewhite":return 4209760255;case"aqua":return 16777215;case"aquamarine":return 2147472639;case"azure":return 4043309055;case"beige":return 4126530815;case"bisque":return 4293182719;case"black":return 255;case"blanchedalmond":return 4293643775;case"blue":return 65535;case"blueviolet":return 2318131967;case"brown":return 2771004159;case"burlywood":return 3736635391;case"burntsienna":return 3934150143;case"cadetblue":return 1604231423;case"chartreuse":return 2147418367;case"chocolate":return 3530104575;case"coral":return 4286533887;case"cornflowerblue":return 1687547391;case"cornsilk":return 4294499583;case"crimson":return 3692313855;case"cyan":return 16777215;case"darkblue":return 35839;case"darkcyan":return 9145343;case"darkgoldenrod":return 3095792639;case"darkgray":return 2846468607;case"darkgreen":return 6553855;case"darkgrey":return 2846468607;case"darkkhaki":return 3182914559;case"darkmagenta":return 2332068863;case"darkolivegreen":return 1433087999;case"darkorange":return 4287365375;case"darkorchid":return 2570243327;case"darkred":return 2332033279;case"darksalmon":return 3918953215;case"darkseagreen":return 2411499519;case"darkslateblue":return 1211993087;case"darkslategray":return 793726975;case"darkslategrey":return 793726975;case"darkturquoise":return 13554175;case"darkviolet":return 2483082239;case"deeppink":return 4279538687;case"deepskyblue":return 12582911;case"dimgray":return 1768516095;case"dimgrey":return 1768516095;case"dodgerblue":return 512819199;case"firebrick":return 2988581631;case"floralwhite":return 4294635775;case"forestgreen":return 579543807;case"fuchsia":return 4278255615;case"gainsboro":return 3705462015;case"ghostwhite":return 4177068031;case"gold":return 4292280575;case"goldenrod":return 3668254975;case"gray":return 2155905279;case"green":return 8388863;case"greenyellow":return 2919182335;case"grey":return 2155905279;case"honeydew":return 4043305215;case"hotpink":return 4285117695;case"indianred":return 3445382399;case"indigo":return 1258324735;case"ivory":return 4294963455;case"khaki":return 4041641215;case"lavender":return 3873897215;case"lavenderblush":return 4293981695;case"lawngreen":return 2096890111;case"lemonchiffon":return 4294626815;case"lightblue":return 2916673279;case"lightcoral":return 4034953471;case"lightcyan":return 3774873599;case"lightgoldenrodyellow":return 4210742015;case"lightgray":return 3553874943;case"lightgreen":return 2431553791;case"lightgrey":return 3553874943;case"lightpink":return 4290167295;case"lightsalmon":return 4288707327;case"lightseagreen":return 548580095;case"lightskyblue":return 2278488831;case"lightslategray":return 2005441023;case"lightslategrey":return 2005441023;case"lightsteelblue":return 2965692159;case"lightyellow":return 4294959359;case"lime":return 16711935;case"limegreen":return 852308735;case"linen":return 4210091775;case"magenta":return 4278255615;case"maroon":return 2147483903;case"mediumaquamarine":return 1724754687;case"mediumblue":return 52735;case"mediumorchid":return 3126187007;case"mediumpurple":return 2473647103;case"mediumseagreen":return 1018393087;case"mediumslateblue":return 2070474495;case"mediumspringgreen":return 16423679;case"mediumturquoise":return 1221709055;case"mediumvioletred":return 3340076543;case"midnightblue":return 421097727;case"mintcream":return 4127193855;case"mistyrose":return 4293190143;case"moccasin":return 4293178879;case"navajowhite":return 4292783615;case"navy":return 33023;case"oldlace":return 4260751103;case"olive":return 2155872511;case"olivedrab":return 1804477439;case"orange":return 4289003775;case"orangered":return 4282712319;case"orchid":return 3664828159;case"palegoldenrod":return 4008225535;case"palegreen":return 2566625535;case"paleturquoise":return 2951671551;case"palevioletred":return 3681588223;case"papayawhip":return 4293907967;case"peachpuff":return 4292524543;case"peru":return 3448061951;case"pink":return 4290825215;case"plum":return 3718307327;case"powderblue":return 2967529215;case"purple":return 2147516671;case"rebeccapurple":return 1714657791;case"red":return 4278190335;case"rosybrown":return 3163525119;case"royalblue":return 1097458175;case"saddlebrown":return 2336560127;case"salmon":return 4202722047;case"sandybrown":return 4104413439;case"seagreen":return 780883967;case"seashell":return 4294307583;case"sienna":return 2689740287;case"silver":return 3233857791;case"skyblue":return 2278484991;case"slateblue":return 1784335871;case"slategray":return 1887473919;case"slategrey":return 1887473919;case"snow":return 4294638335;case"springgreen":return 16744447;case"steelblue":return 1182971135;case"tan":return 3535047935;case"teal":return 8421631;case"thistle":return 3636451583;case"tomato":return 4284696575;case"turquoise":return 1088475391;case"violet":return 4001558271;case"wheat":return 4125012991;case"white":return 4294967295;case"whitesmoke":return 4126537215;case"yellow":return 4294902015;case"yellowgreen":return 2597139199}return null}var kB=IB;const OB=Fl(kB);var DB=t=>{if(t==null)return t;var e=OB(t);if(e!=null)return e=(e<<24|e>>>8)>>>0,e},A1=function(e,n){if(n===void 0&&(n=1),e!=null){if(typeof e=="string"&&RB(e))return e;var r=DB(e);if(r!=null){var i=r>>16&255,s=r>>8&255,o=r&255,a=(r>>24&255)/255,l=(a*n).toFixed(2);return"rgba("+i+","+s+","+o+","+l+")"}}},MB={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function qr(t,e){var n=t;return(e==null||!vf[e])&&typeof t=="number"?n=t+"px":e!=null&&MB[e]&&(n=A1(t)),n}var Tt=!!(typeof window<"u"&&window.document&&window.document.createElement),LB={},NB=!Tt||window.CSS!=null&&window.CSS.supports!=null&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),VB="monospace,monospace",Db='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',FB={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderBlockColor:["borderTopColor","borderBottomColor"],borderInlineColor:["borderRightColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderInlineStyle:["borderRightStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderInlineWidth:["borderRightWidth","borderLeftWidth"],insetBlock:["top","bottom"],insetInline:["left","right"],marginBlock:["marginTop","marginBottom"],marginInline:["marginRight","marginLeft"],paddingBlock:["paddingTop","paddingBottom"],paddingInline:["paddingRight","paddingLeft"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],borderBlockStartColor:["borderTopColor"],borderBlockStartStyle:["borderTopStyle"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndColor:["borderBottomColor"],borderBlockEndStyle:["borderBottomStyle"],borderBlockEndWidth:["borderBottomWidth"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],insetBlockEnd:["bottom"],insetBlockStart:["top"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"]},P1=(t,e)=>{if(!t)return LB;var n={},r=function(){var a=t[i];if(a==null)return"continue";if(i==="backgroundClip")a==="text"&&(n.backgroundClip=a,n.WebkitBackgroundClip=a);else if(i==="flex")a===-1?(n.flexGrow=0,n.flexShrink=1,n.flexBasis="auto"):n.flex=a;else if(i==="font")n[i]=a.replace("System",Db);else if(i==="fontFamily")if(a.indexOf("System")>-1){var l=a.split(/,\s*/);l[l.indexOf("System")]=Db,n[i]=l.join(",")}else a==="monospace"?n[i]=VB:n[i]=a;else if(i==="textDecorationLine")NB?n.textDecorationLine=a:n.textDecoration=a;else if(i==="writingDirection")n.direction=a;else{var u=qr(t[i],i),h=FB[i];e&&i==="inset"?(t.insetInline==null&&(n.left=u,n.right=u),t.insetBlock==null&&(n.top=u,n.bottom=u)):e&&i==="margin"?(t.marginInline==null&&(n.marginLeft=u,n.marginRight=u),t.marginBlock==null&&(n.marginTop=u,n.marginBottom=u)):e&&i==="padding"?(t.paddingInline==null&&(n.paddingLeft=u,n.paddingRight=u),t.paddingBlock==null&&(n.paddingTop=u,n.paddingBottom=u)):h?h.forEach((d,f)=>{t[d]==null&&(n[d]=u)}):n[i]=u}};for(var i in t)var s=r();return n};function BB(t,e){for(var n=t.length,r=e^n,i=0,s;n>=4;)s=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,s=(s&65535)*1540483477+(((s>>>16)*1540483477&65535)<<16),s^=s>>>24,s=(s&65535)*1540483477+(((s>>>16)*1540483477&65535)<<16),r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16)^s,n-=4,++i;switch(n){case 3:r^=(t.charCodeAt(i+2)&255)<<16;case 2:r^=(t.charCodeAt(i+1)&255)<<8;case 1:r^=t.charCodeAt(i)&255,r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16)}return r^=r>>>13,r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16),r^=r>>>15,r>>>0}var jB=t=>BB(t,1).toString(36),$B=/[A-Z]/g,UB=/^ms-/,ny={};function zB(t){return"-"+t.toLowerCase()}function WB(t){if(t in ny)return ny[t];var e=t.replace($B,zB);return ny[t]=UB.test(e)?"-"+e:e}var k1={},L0={},Pm={};Object.defineProperty(Pm,"__esModule",{value:!0});Pm.default=HB;function HB(t){return t.charAt(0).toUpperCase()+t.slice(1)}Object.defineProperty(L0,"__esModule",{value:!0});L0.default=XB;var qB=Pm,KB=GB(qB);function GB(t){return t&&t.__esModule?t:{default:t}}function XB(t,e,n){var r=t[e];if(r&&n.hasOwnProperty(e))for(var i=(0,KB.default)(e),s=0;s<r.length;++s){var o=r[s]+i;n[o]||(n[o]=n[e])}return n}var N0={};Object.defineProperty(N0,"__esModule",{value:!0});N0.default=YB;function YB(t,e,n,r,i){for(var s=0,o=t.length;s<o;++s){var a=t[s](e,n,r,i);if(a)return a}}var V0={};Object.defineProperty(V0,"__esModule",{value:!0});V0.default=QB;function Mb(t,e){t.indexOf(e)===-1&&t.push(e)}function QB(t,e){if(Array.isArray(e))for(var n=0,r=e.length;n<r;++n)Mb(t,e[n]);else Mb(t,e)}var F0={};Object.defineProperty(F0,"__esModule",{value:!0});F0.default=JB;function JB(t){return t instanceof Object&&!Array.isArray(t)}Object.defineProperty(k1,"__esModule",{value:!0});var ZB=k1.default=aj,ej=L0,tj=km(ej),nj=N0,Lb=km(nj),rj=V0,ij=km(rj),sj=F0,oj=km(sj);function km(t){return t&&t.__esModule?t:{default:t}}function aj(t){var e=t.prefixMap,n=t.plugins;return function r(i){for(var s in i){var o=i[s];if((0,oj.default)(o))i[s]=r(o);else if(Array.isArray(o)){for(var a=[],l=0,u=o.length;l<u;++l){var h=(0,Lb.default)(n,s,o[l],i,e);(0,ij.default)(a,h||o[l])}a.length>0&&(i[s]=a)}else{var d=(0,Lb.default)(n,s,o,i,e);d&&(i[s]=d),i=(0,tj.default)(e,s,i)}}return i}}var O1={};Object.defineProperty(O1,"__esModule",{value:!0});var lj=O1.default=uj;function uj(){return null}var D1={};function _f(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_f=function(n){return typeof n}:_f=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_f(t)}function cj(t){return pj(t)||fj(t)||dj(t)||hj()}function hj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dj(t,e){if(t){if(typeof t=="string")return n_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n_(t,e)}}function fj(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function pj(t){if(Array.isArray(t))return n_(t)}function n_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nb(t){return t.filter(function(e,n){return t.lastIndexOf(e)===n})}function M1(t){for(var e=0,n=arguments.length<=1?0:arguments.length-1;e<n;++e){var r=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];for(var i in r){var s=r[i],o=t[i];if(o&&s){if(Array.isArray(o)){t[i]=Nb(o.concat(s));continue}if(Array.isArray(s)){t[i]=Nb([o].concat(cj(s)));continue}if(_f(s)==="object"){t[i]=M1({},o,s);continue}}t[i]=s}}return t}var mj=/-([a-z])/g,gj=/^Ms/g,ry={};function yj(t){return t[1].toUpperCase()}function L1(t){if(ry.hasOwnProperty(t))return ry[t];var e=t.replace(mj,yj).replace(gj,"ms");return ry[t]=e,e}var vj=/[A-Z]/g,_j=/^ms-/,iy={};function wj(t){return"-"+t.toLowerCase()}function N1(t){if(iy.hasOwnProperty(t))return iy[t];var e=t.replace(vj,wj);return iy[t]=_j.test(e)?"-"+e:e}const Sj=Object.freeze(Object.defineProperty({__proto__:null,default:N1},Symbol.toStringTag,{value:"Module"}));function Om(t){return N1(t)}function V1(t,e){return Om(t)+":"+e}function Ej(t){var e="";for(var n in t){var r=t[n];typeof r!="string"&&typeof r!="number"||(e&&(e+=";"),e+=V1(n,r))}return e}var Tj=/^(Webkit|Moz|O|ms)/;function bj(t){return Tj.test(t)}var Cj=/-webkit-|-moz-|-ms-/;function Rj(t){return typeof t=="string"&&Cj.test(t)}var Qc={borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vb=["animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineClamp","order"],Fb=["Webkit","ms","Moz","O"];function Ij(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)}for(var sy=0,xj=Vb.length;sy<xj;++sy){var Bb=Vb[sy];Qc[Bb]=!0;for(var oy=0,Aj=Fb.length;oy<Aj;++oy)Qc[Ij(Fb[oy],Bb)]=!0}for(var Pj in Qc)Qc[Om(Pj)]=!0;function kj(t){return Qc.hasOwnProperty(t)}var Oj=/^(ms|Webkit|Moz|O)/;function F1(t){var e=t.replace(Oj,"");return e.charAt(0).toLowerCase()+e.slice(1)}function Dj(t){return F1(L1(t))}function Mj(t,e){return e.join(";"+Om(t)+":")}var Lj=/(-ms-|-webkit-|-moz-|-o-)/g;function Nj(t){return typeof t=="string"?t.replace(Lj,""):t}const Vj=Object.freeze(Object.defineProperty({__proto__:null,assignStyle:M1,camelCaseProperty:L1,cssifyDeclaration:V1,cssifyObject:Ej,hyphenateProperty:Om,isPrefixedProperty:bj,isPrefixedValue:Rj,isUnitlessProperty:kj,normalizeProperty:Dj,resolveArrayValue:Mj,unprefixProperty:F1,unprefixValue:Nj},Symbol.toStringTag,{value:"Module"})),B1=fA(Vj);Object.defineProperty(D1,"__esModule",{value:!0});var Fj=D1.default=Uj,Bj=B1,jj=/cross-fade\(/g,$j=["-webkit-",""];function Uj(t,e){if(typeof e=="string"&&!(0,Bj.isPrefixedValue)(e)&&e.indexOf("cross-fade(")!==-1)return $j.map(function(n){return e.replace(jj,n+"cross-fade(")})}var j1={};Object.defineProperty(j1,"__esModule",{value:!0});var zj=j1.default=qj,Wj=["-webkit-","-moz-",""],Hj={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};function qj(t,e){if(t==="cursor"&&Hj.hasOwnProperty(e))return Wj.map(function(n){return n+e})}var $1={};Object.defineProperty($1,"__esModule",{value:!0});var Kj=$1.default=Qj,Gj=B1,Xj=/filter\(/g,Yj=["-webkit-",""];function Qj(t,e){if(typeof e=="string"&&!(0,Gj.isPrefixedValue)(e)&&e.indexOf("filter(")!==-1)return Yj.map(function(n){return e.replace(Xj,n+"filter(")})}var U1={},B0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var e=/-webkit-|-moz-|-ms-/;function n(r){return typeof r=="string"&&e.test(r)}})(B0);Object.defineProperty(U1,"__esModule",{value:!0});var Jj=U1.default=r4,Zj=B0,e4=t4(Zj);function t4(t){return t&&t.__esModule?t:{default:t}}var n4=["-webkit-",""];function r4(t,e){if(typeof e=="string"&&!(0,e4.default)(e)&&e.indexOf("image-set(")>-1)return n4.map(function(n){return e.replace(/image-set\(/g,n+"image-set(")})}var z1={};Object.defineProperty(z1,"__esModule",{value:!0});var i4=z1.default=s4,jb={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]};function s4(t,e,n){if(Object.prototype.hasOwnProperty.call(jb,t))for(var r=jb[t],i=0,s=r.length;i<s;++i)n[r[i]]=e}var W1={};Object.defineProperty(W1,"__esModule",{value:!0});var o4=W1.default=a4;function a4(t,e){if(t==="position"&&e==="sticky")return["-webkit-sticky","sticky"]}var H1={};Object.defineProperty(H1,"__esModule",{value:!0});var l4=H1.default=d4,u4=["-webkit-","-moz-",""],c4={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},h4={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};function d4(t,e){if(c4.hasOwnProperty(t)&&h4.hasOwnProperty(e))return u4.map(function(n){return n+e})}var q1={},K1={};const f4=fA(Sj);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var e=f4,n=r(e);function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,n.default)(s)}})(K1);Object.defineProperty(q1,"__esModule",{value:!0});var p4=q1.default=T4,m4=K1,g4=j0(m4),y4=B0,v4=j0(y4),_4=Pm,$b=j0(_4);function j0(t){return t&&t.__esModule?t:{default:t}}var w4={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},S4={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};function E4(t,e){if((0,v4.default)(t))return t;for(var n=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g),r=0,i=n.length;r<i;++r){var s=n[r],o=[s];for(var a in e){var l=(0,g4.default)(a);if(s.indexOf(l)>-1&&l!=="order")for(var u=e[a],h=0,d=u.length;h<d;++h)o.unshift(s.replace(l,S4[u[h]]+l))}n[r]=o.join(",")}return n.join(",")}function T4(t,e,n,r){if(typeof e=="string"&&w4.hasOwnProperty(t)){var i=E4(e,r),s=i.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(a){return!/-moz-|-ms-/.test(a)}).join(",");if(t.indexOf("Webkit")>-1)return s;var o=i.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(a){return!/-webkit-|-ms-/.test(a)}).join(",");return t.indexOf("Moz")>-1?o:(n["Webkit"+(0,$b.default)(t)]=s,n["Moz"+(0,$b.default)(t)]=o,i)}}var Ve=["Webkit"],b4=["Moz"],C4=["Webkit","Moz"],rt=["Webkit","ms"],R4=["Webkit","Moz","ms"];const I4={plugins:[lj,Fj,zj,Kj,Jj,i4,o4,l4,p4],prefixMap:{appearance:R4,userSelect:C4,textEmphasisPosition:rt,textEmphasis:rt,textEmphasisStyle:rt,textEmphasisColor:rt,boxDecorationBreak:rt,clipPath:Ve,maskImage:rt,maskMode:rt,maskRepeat:rt,maskPosition:rt,maskClip:rt,maskOrigin:rt,maskSize:rt,maskComposite:rt,mask:rt,maskBorderSource:rt,maskBorderMode:rt,maskBorderSlice:rt,maskBorderWidth:rt,maskBorderOutset:rt,maskBorderRepeat:rt,maskBorder:rt,maskType:rt,textDecorationStyle:Ve,textDecorationSkip:Ve,textDecorationLine:Ve,textDecorationColor:Ve,filter:Ve,breakAfter:Ve,breakBefore:Ve,breakInside:Ve,columnCount:Ve,columnFill:Ve,columnGap:Ve,columnRule:Ve,columnRuleColor:Ve,columnRuleStyle:Ve,columnRuleWidth:Ve,columns:Ve,columnSpan:Ve,columnWidth:Ve,backdropFilter:Ve,hyphens:Ve,flowInto:Ve,flowFrom:Ve,regionFragment:Ve,textOrientation:Ve,tabSize:b4,fontKerning:Ve,textSizeAdjust:Ve}};var x4=ZB(I4),A4=["animationKeyframes"],Ub=new Map,P4={},k4=1,O4=3,D4={borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,inset:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,insetBlock:2.1,insetInline:2.1,marginInline:2.1,marginBlock:2.1,paddingInline:2.1,paddingBlock:2.1,borderBlockStartColor:2.2,borderBlockStartStyle:2.2,borderBlockStartWidth:2.2,borderBlockEndColor:2.2,borderBlockEndStyle:2.2,borderBlockEndWidth:2.2,borderInlineStartColor:2.2,borderInlineStartStyle:2.2,borderInlineStartWidth:2.2,borderInlineEndColor:2.2,borderInlineEndStyle:2.2,borderInlineEndWidth:2.2,borderEndStartRadius:2.2,borderEndEndRadius:2.2,borderStartStartRadius:2.2,borderStartEndRadius:2.2,insetBlockEnd:2.2,insetBlockStart:2.2,insetInlineEnd:2.2,insetInlineStart:2.2,marginBlockStart:2.2,marginBlockEnd:2.2,marginInlineStart:2.2,marginInlineEnd:2.2,paddingBlockStart:2.2,paddingBlockEnd:2.2,paddingInlineStart:2.2,paddingInlineEnd:2.2},r_="borderTopLeftRadius",i_="borderTopRightRadius",s_="borderBottomLeftRadius",o_="borderBottomRightRadius",a_="borderLeftColor",l_="borderLeftStyle",u_="borderLeftWidth",c_="borderRightColor",h_="borderRightStyle",d_="borderRightWidth",f_="right",p_="marginLeft",m_="marginRight",g_="paddingLeft",y_="paddingRight",v_="left",_p={[r_]:i_,[i_]:r_,[s_]:o_,[o_]:s_,[a_]:c_,[l_]:h_,[u_]:d_,[c_]:a_,[h_]:l_,[d_]:u_,[v_]:f_,[p_]:m_,[m_]:p_,[g_]:y_,[y_]:g_,[f_]:v_},gc={borderStartStartRadius:r_,borderStartEndRadius:i_,borderEndStartRadius:s_,borderEndEndRadius:o_,borderInlineStartColor:a_,borderInlineStartStyle:l_,borderInlineStartWidth:u_,borderInlineEndColor:c_,borderInlineEndStyle:h_,borderInlineEndWidth:d_,insetInlineEnd:f_,insetInlineStart:v_,marginInlineStart:p_,marginInlineEnd:m_,paddingInlineStart:g_,paddingInlineEnd:y_},G1=["clear","float","textAlign"];function M4(t){var e={$$css:!0},n=[];function r(i,s,o){var a=V4(o,s),l=s+a,u=Ub.get(l),h;if(u!=null)h=u[0],n.push(u[1]);else{var d=i!==s?l:a;h=$0("r",i,d);var f=D4[i]||O4,p=F4(h,s,o),g=[p,f];n.push(g),Ub.set(l,[h,g])}return h}return Object.keys(t).sort().forEach(i=>{var s=t[i];if(s!=null){var o;if(G1.indexOf(i)>-1){var a=r(i,i,"left"),l=r(i,i,"right");s==="start"?o=[a,l]:s==="end"&&(o=[l,a])}var u=gc[i];if(u!=null){var h=r(i,u,s),d=r(i,_p[u],s);o=[h,d]}if(i==="transitionProperty"){for(var f=Array.isArray(s)?s:[s],p=[],g=0;g<f.length;g++){var S=f[g];typeof S=="string"&&gc[S]!=null&&p.push(g)}if(p.length>0){var T=[...f],_=[...f];p.forEach(y=>{var E=T[y];if(typeof E=="string"){var P=gc[E],M=_p[P];T[y]=P,_[y]=M;var D=r(i,i,T),b=r(i,i,_);o=[D,b]}})}}o==null?o=r(i,i,s):e.$$css$localize=!0,e[i]=o}}),[e,n]}function L4(t,e){var n={$$css:!0},r=[],i=t.animationKeyframes,s=En(t,A4),o=$0("css",e,JSON.stringify(t)),a="."+o,l;if(i!=null){var u=X1(i),h=u[0],d=u[1];l=h.join(","),r.push(...d)}var f=yi(me(me({},s),{},{animationName:l}));return r.push(""+a+f),n[o]=o,[n,[[r,k4]]]}function N4(t,e){var n=t||P4,r={},i={},s=function(){var u=n[o],h=o,d=u;if(!Object.prototype.hasOwnProperty.call(n,o)||u==null)return"continue";G1.indexOf(o)>-1&&(u==="start"?d=e?"right":"left":u==="end"&&(d=e?"left":"right"));var f=gc[o];if(f!=null&&(h=e?_p[f]:f),o==="transitionProperty"){var p=Array.isArray(u)?u:[u];p.forEach((g,S)=>{if(typeof g=="string"){var T=gc[g];T!=null&&(p[S]=e?_p[T]:T,d=p.join(" "))}})}r[h]||(i[h]=d),h===o&&(r[h]=!0)};for(var o in n)var a=s();return P1(i,!0)}function V4(t,e){var n=qr(t,e);return typeof n!="string"?JSON.stringify(n||""):n}function F4(t,e,n){var r=[],i="."+t;switch(e){case"animationKeyframes":{var s=X1(n),o=s[0],a=s[1],l=yi({animationName:o.join(",")});r.push(""+i+l,...a);break}case"placeholderTextColor":{var u=yi({color:n,opacity:1});r.push(i+"::-webkit-input-placeholder"+u,i+"::-moz-placeholder"+u,i+":-ms-input-placeholder"+u,i+"::placeholder"+u);break}case"pointerEvents":{var h=n;if(n==="auto"||n==="box-only"){if(h="auto!important",n==="box-only"){var d=yi({pointerEvents:"none"});r.push(i+">*"+d)}}else if((n==="none"||n==="box-none")&&(h="none!important",n==="box-none")){var f=yi({pointerEvents:"auto"});r.push(i+">*"+f)}var p=yi({pointerEvents:h});r.push(""+i+p);break}case"scrollbarWidth":{n==="none"&&r.push(i+"::-webkit-scrollbar{display:none}");var g=yi({scrollbarWidth:n});r.push(""+i+g);break}default:{var S=yi({[e]:n});r.push(""+i+S);break}}return r}function yi(t){var e=x4(P1(t)),n=Object.keys(e).map(r=>{var i=e[r],s=WB(r);return Array.isArray(i)?i.map(o=>s+":"+o).join(";"):s+":"+i}).sort().join(";");return"{"+n+";}"}function $0(t,e,n){var r=jB(e+n);return t+"-"+r}function B4(t){var e=["-webkit-",""],n=$0("r","animation",JSON.stringify(t)),r="{"+Object.keys(t).map(s=>{var o=t[s],a=yi(o);return""+s+a}).join("")+"}",i=e.map(s=>"@"+s+"keyframes "+n+r);return[n,i]}function X1(t){if(typeof t=="number")throw new Error("Invalid CSS keyframes type: "+typeof t);var e=[],n=[],r=Array.isArray(t)?t:[t];return r.forEach(i=>{if(typeof i=="string")e.push(i);else{var s=B4(i),o=s[0],a=s[1];e.push(o),n.push(...a)}}),[e,n]}function ay(t,e,n){if(Tt){var r=e??document,i=r.getElementById(t);if(i==null)if(i=document.createElement("style"),i.setAttribute("id",t),typeof n=="string"&&i.appendChild(document.createTextNode(n)),r instanceof ShadowRoot)r.insertBefore(i,r.firstChild);else{var s=r.head;s&&s.insertBefore(i,s.firstChild)}return i.sheet}else return null}var j4=Array.prototype.slice;function ly(t){var e={},n={};if(t!=null){var r;j4.call(t.cssRules).forEach((o,a)=>{var l=o.cssText;if(l.indexOf("stylesheet-group")>-1)r=z4(o),e[r]={start:a,rules:[l]};else{var u=Wb(l);u!=null&&(n[u]=!0,e[r].rules.push(l))}})}function i(o,a,l){var u=zb(e),h=u.indexOf(a),d=h+1,f=u[d],p=f!=null&&e[f].start!=null?e[f].start:o.cssRules.length,g=H4(o,l,p);if(g){e[a].start==null&&(e[a].start=p);for(var S=d;S<u.length;S+=1){var T=u[S],_=e[T].start||0;e[T].start=_+1}}return g}var s={getTextContent(){return zb(e).map(o=>{var a=e[o].rules,l=a.shift();return a.sort(),a.unshift(l),a.join(`
`)}).join(`
`)},insert(o,a){var l=Number(a);if(e[l]==null){var u=$4(l);e[l]={start:null,rules:[u]},t!=null&&i(t,l,u)}var h=Wb(o);if(h!=null&&n[h]==null&&(n[h]=!0,e[l].rules.push(o),t!=null)){var d=i(t,l,o);d||e[l].rules.pop()}}};return s}function $4(t){return'[stylesheet-group="'+t+'"]{}'}var U4=/["']/g;function z4(t){return Number(t.selectorText.split(U4)[1])}function zb(t){return Object.keys(t).map(Number).sort((e,n)=>e>n?1:-1)}var W4=/\s*([,])\s*/g;function Wb(t){var e=t.split("{")[0].trim();return e!==""?e.replace(W4,"$1"):null}function H4(t,e,n){try{return t.insertRule(e,n),!0}catch{return!1}}var q4="react-native-stylesheet",uy=new WeakMap,hr=[],Hb=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"];function K4(t,e){e===void 0&&(e=q4);var n;if(Tt){var r=document;if(hr.length===0)n=ly(ay(e)),Hb.forEach(a=>{n.insert(a,0)}),uy.set(r,hr.length),hr.push(n);else{var i=uy.get(r);if(i==null){var s=hr[0],o=s!=null?s.getTextContent():"";n=ly(ay(e,r,o)),uy.set(r,hr.length),hr.push(n)}else n=hr[i]}}else hr.length===0?(n=ly(ay(e)),Hb.forEach(a=>{n.insert(a,0)}),hr.push(n)):n=hr[0];return{getTextContent(){return n.getTextContent()},id:e,insert(a,l){hr.forEach(u=>{u.insert(a,l)})}}}var U0={};Object.defineProperty(U0,"__esModule",{value:!0});U0.localizeStyle=G4;var Ld=new WeakMap,Y1="$$css$localize";function qb(t,e){var n={};for(var r in t)if(r!==Y1){var i=t[r];Array.isArray(i)?n[r]=e?i[1]:i[0]:n[r]=i}return n}function G4(t,e){if(t[Y1]!=null){var n=e?1:0;if(Ld.has(t)){var r=Ld.get(t),i=r[n];return i==null&&(i=qb(t,e),r[n]=i,Ld.set(t,r)),i}var s=qb(t,e),o=new Array(2);return o[n]=s,Ld.set(t,o),s}return t}var X4=U0,Y4={},Q1={height:0,width:0},J1=t=>{var e=t.shadowColor,n=t.shadowOffset,r=t.shadowOpacity,i=t.shadowRadius,s=n||Q1,o=s.height,a=s.width,l=qr(a),u=qr(o),h=qr(i||0),d=A1(e||"black",r);if(d!=null&&l!=null&&u!=null&&h!=null)return l+" "+u+" "+h+" "+d},Q4=t=>{var e=t.textShadowColor,n=t.textShadowOffset,r=t.textShadowRadius,i=n||Q1,s=i.height,o=i.width,a=r||0,l=qr(o),u=qr(s),h=qr(a),d=qr(e,"textShadowColor");if(d&&(s!==0||o!==0||a!==0)&&l!=null&&u!=null&&h!=null)return l+" "+u+" "+h+" "+d},J4=t=>{var e=Object.keys(t)[0],n=t[e];if(e==="matrix"||e==="matrix3d")return e+"("+n.join(",")+")";var r=qr(n,e);return e+"("+r+")"},Z4=t=>t.map(J4).join(" "),e$={borderBottomEndRadius:"borderEndEndRadius",borderBottomStartRadius:"borderEndStartRadius",borderTopEndRadius:"borderStartEndRadius",borderTopStartRadius:"borderStartStartRadius",borderEndColor:"borderInlineEndColor",borderEndStyle:"borderInlineEndStyle",borderEndWidth:"borderInlineEndWidth",borderStartColor:"borderInlineStartColor",borderStartStyle:"borderInlineStartStyle",borderStartWidth:"borderInlineStartWidth",end:"insetInlineEnd",marginEnd:"marginInlineEnd",marginHorizontal:"marginInline",marginStart:"marginInlineStart",marginVertical:"marginBlock",paddingEnd:"paddingInlineEnd",paddingHorizontal:"paddingInline",paddingStart:"paddingInlineStart",paddingVertical:"paddingBlock",start:"insetInlineStart"},t$={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},Z1=function(e,n){n===void 0&&(n={});var r=e||Y4,i={};if(n.shadow,r.shadowColor!=null||r.shadowOffset!=null||r.shadowOpacity!=null||r.shadowRadius!=null){var s=J1(r);if(s!=null&&i.boxShadow==null){var o=r.boxShadow,a=o?o+", "+s:s;i.boxShadow=a}}if(n.textShadow,r.textShadowColor!=null||r.textShadowOffset!=null||r.textShadowRadius!=null){var l=Q4(r);if(l!=null&&i.textShadow==null){var u=r.textShadow,h=u?u+", "+l:l;i.textShadow=h}}for(var d in r)if(!(t$[d]!=null||d==="shadowColor"||d==="shadowOffset"||d==="shadowOpacity"||d==="shadowRadius"||d==="textShadowColor"||d==="textShadowOffset"||d==="textShadowRadius")){var f=r[d],p=e$[d]||d,g=f;!Object.prototype.hasOwnProperty.call(r,d)||p!==d&&r[p]!=null||(p==="aspectRatio"&&typeof g=="number"?i[p]=g.toString():p==="fontVariant"?(Array.isArray(g)&&g.length>0&&(g=g.join(" ")),i[p]=g):p==="textAlignVertical"?r.verticalAlign==null&&(i.verticalAlign=g==="center"?"middle":g):p==="transform"?(Array.isArray(g)&&(g=Z4(g)),i.transform=g):i[p]=g)}return i},z0={};Object.defineProperty(z0,"__esModule",{value:!0});var ek=z0.styleq=void 0,n$=new WeakMap,r$="$$css";function tk(t){var e,n,r;return t!=null&&(e=t.disableCache===!0,n=t.disableMix===!0,r=t.transform),function(){for(var s=[],o="",a=null,l=e?null:n$,u=new Array(arguments.length),h=0;h<arguments.length;h++)u[h]=arguments[h];for(;u.length>0;){var d=u.pop();if(!(d==null||d===!1)){if(Array.isArray(d)){for(var f=0;f<d.length;f++)u.push(d[f]);continue}var p=r!=null?r(d):d;if(p.$$css){var g="";if(l!=null&&l.has(p)){var S=l.get(p);S!=null&&(g=S[0],s.push.apply(s,S[1]),l=S[2])}else{var T=[];for(var _ in p){var y=p[_];_!==r$&&(typeof y=="string"||y===null?s.includes(_)||(s.push(_),l!=null&&T.push(_),typeof y=="string"&&(g+=g?" "+y:y)):console.error("styleq: ".concat(_," typeof ").concat(String(y),' is not "string" or "null".')))}if(l!=null){var E=new WeakMap;l.set(p,[g,T,E]),l=E}}g&&(o=o?g+" "+o:g)}else if(n)a==null&&(a={}),a=Object.assign({},p,a);else{var P=null;for(var M in p){var D=p[M];D!==void 0&&(s.includes(M)||(D!=null&&(a==null&&(a={}),P==null&&(P={}),P[M]=D),s.push(M),l=null))}P!=null&&(a=Object.assign(P,a))}}}var b=[o,a];return b}}var nk=tk();ek=z0.styleq=nk;nk.factory=tk;var i$=["writingDirection"],rk=new WeakMap,wp=K4(),ik={shadow:!0,textShadow:!0};function s$(t,e){e===void 0&&(e={});var n=e,r=n.writingDirection,i=En(n,i$),s=r==="rtl";return ek.factory({transform(o){var a=rk.get(o);return a!=null?X4.localizeStyle(a,s):Z1(o,me(me({},ik),i))}})(t)}function sk(t){t.forEach(e=>{var n=e[0],r=e[1];wp!=null&&n.forEach(i=>{wp.insert(i,r)})})}function o$(t){var e=M4(Z1(t,ik)),n=e[0],r=e[1];return sk(r),n}function a$(t,e){var n=L4(t,e),r=n[0],i=n[1];return sk(i),r}var ok={position:"absolute",left:0,right:0,top:0,bottom:0},l$=ak({x:me({},ok)}).x;function ak(t){return Object.keys(t).forEach(e=>{var n=t[e];if(n!=null&&n.$$css!==!0){var r;e.indexOf("$raw")>-1?r=a$(n,e.split("$raw")[0]):r=o$(n),rk.set(n,r)}}),t}function u$(t,e){return[t,e]}function c$(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.flat(1/0),i={},s=0;s<r.length;s++){var o=r[s];o!=null&&typeof o=="object"&&Object.assign(i,o)}return i}function h$(){return{id:wp.id,textContent:wp.getTextContent()}}function $i(t,e){e===void 0&&(e={});var n=e.writingDirection==="rtl",r=s$(t,e);return Array.isArray(r)&&r[1]!=null&&(r[1]=N4(r[1],n)),r}$i.absoluteFill=l$;$i.absoluteFillObject=ok;$i.create=ak;$i.compose=u$;$i.flatten=c$;$i.getSheet=h$;$i.hairlineWidth=1;Tt&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=$i.flatten);var Ae=$i,d$=["aria-activedescendant","accessibilityActiveDescendant","aria-atomic","accessibilityAtomic","aria-autocomplete","accessibilityAutoComplete","aria-busy","accessibilityBusy","aria-checked","accessibilityChecked","aria-colcount","accessibilityColumnCount","aria-colindex","accessibilityColumnIndex","aria-colspan","accessibilityColumnSpan","aria-controls","accessibilityControls","aria-current","accessibilityCurrent","aria-describedby","accessibilityDescribedBy","aria-details","accessibilityDetails","aria-disabled","accessibilityDisabled","aria-errormessage","accessibilityErrorMessage","aria-expanded","accessibilityExpanded","aria-flowto","accessibilityFlowTo","aria-haspopup","accessibilityHasPopup","aria-hidden","accessibilityHidden","aria-invalid","accessibilityInvalid","aria-keyshortcuts","accessibilityKeyShortcuts","aria-label","accessibilityLabel","aria-labelledby","accessibilityLabelledBy","aria-level","accessibilityLevel","aria-live","accessibilityLiveRegion","aria-modal","accessibilityModal","aria-multiline","accessibilityMultiline","aria-multiselectable","accessibilityMultiSelectable","aria-orientation","accessibilityOrientation","aria-owns","accessibilityOwns","aria-placeholder","accessibilityPlaceholder","aria-posinset","accessibilityPosInSet","aria-pressed","accessibilityPressed","aria-readonly","accessibilityReadOnly","aria-required","accessibilityRequired","role","accessibilityRole","aria-roledescription","accessibilityRoleDescription","aria-rowcount","accessibilityRowCount","aria-rowindex","accessibilityRowIndex","aria-rowspan","accessibilityRowSpan","aria-selected","accessibilitySelected","aria-setsize","accessibilitySetSize","aria-sort","accessibilitySort","aria-valuemax","accessibilityValueMax","aria-valuemin","accessibilityValueMin","aria-valuenow","accessibilityValueNow","aria-valuetext","accessibilityValueText","dataSet","focusable","id","nativeID","pointerEvents","style","tabIndex","testID"],f$={},p$=Object.prototype.hasOwnProperty,m$=Array.isArray,g$=/[A-Z]/g;function y$(t){return"-"+t.toLowerCase()}function v$(t){return t.replace(g$,y$)}function Aa(t){return m$(t)?t.join(" "):t}var _$=Ae.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}}),w$=(t,e,n)=>{e||(e=f$);var r=e,i=r["aria-activedescendant"],s=r.accessibilityActiveDescendant,o=r["aria-atomic"],a=r.accessibilityAtomic,l=r["aria-autocomplete"],u=r.accessibilityAutoComplete,h=r["aria-busy"],d=r.accessibilityBusy,f=r["aria-checked"],p=r.accessibilityChecked,g=r["aria-colcount"],S=r.accessibilityColumnCount,T=r["aria-colindex"],_=r.accessibilityColumnIndex,y=r["aria-colspan"],E=r.accessibilityColumnSpan,P=r["aria-controls"],M=r.accessibilityControls,D=r["aria-current"],b=r.accessibilityCurrent,w=r["aria-describedby"],R=r.accessibilityDescribedBy,I=r["aria-details"],A=r.accessibilityDetails,L=r["aria-disabled"],k=r.accessibilityDisabled,le=r["aria-errormessage"],he=r.accessibilityErrorMessage,Me=r["aria-expanded"],be=r.accessibilityExpanded,$=r["aria-flowto"],Y=r.accessibilityFlowTo,ee=r["aria-haspopup"],ye=r.accessibilityHasPopup,Ie=r["aria-hidden"],nn=r.accessibilityHidden,nt=r["aria-invalid"],Mt=r.accessibilityInvalid,ot=r["aria-keyshortcuts"],je=r.accessibilityKeyShortcuts,Ct=r["aria-label"],Tn=r.accessibilityLabel,ai=r["aria-labelledby"],qi=r.accessibilityLabelledBy,sr=r["aria-level"],Pr=r.accessibilityLevel,jn=r["aria-live"],oo=r.accessibilityLiveRegion,Ki=r["aria-modal"],ao=r.accessibilityModal,Gi=r["aria-multiline"],Pe=r.accessibilityMultiline,Xe=r["aria-multiselectable"],bn=r.accessibilityMultiSelectable,$n=r["aria-orientation"],Xi=r.accessibilityOrientation,lo=r["aria-owns"],or=r.accessibilityOwns,uo=r["aria-placeholder"],ha=r.accessibilityPlaceholder,Yi=r["aria-posinset"],ou=r.accessibilityPosInSet,da=r["aria-pressed"],fa=r.accessibilityPressed,co=r["aria-readonly"],li=r.accessibilityReadOnly,Qi=r["aria-required"],Le=r.accessibilityRequired;r.role,r.accessibilityRole;var Un=r["aria-roledescription"],pa=r.accessibilityRoleDescription,ui=r["aria-rowcount"],ma=r.accessibilityRowCount,kr=r["aria-rowindex"],ga=r.accessibilityRowIndex,J=r["aria-rowspan"],He=r.accessibilityRowSpan,Rt=r["aria-selected"],ar=r.accessibilitySelected,Or=r["aria-setsize"],ya=r.accessibilitySetSize,ci=r["aria-sort"],Sg=r.accessibilitySort,Kh=r["aria-valuemax"],va=r.accessibilityValueMax,au=r["aria-valuemin"],Gh=r.accessibilityValueMin,_a=r["aria-valuenow"],ho=r.accessibilityValueNow,Xh=r["aria-valuetext"],Dr=r.accessibilityValueText,fo=r.dataSet,po=r.focusable,wa=r.id,lu=r.nativeID,uu=r.pointerEvents,Eg=r.style,Ji=r.tabIndex,Yh=r.testID,G=En(r,d$),Qh=L||k,Cn=x1.propsToAriaRole(e),Zi=i??s;Zi!=null&&(G["aria-activedescendant"]=Zi);var Mr=o!=null?i:a;Mr!=null&&(G["aria-atomic"]=Mr);var Sa=l??u;Sa!=null&&(G["aria-autocomplete"]=Sa);var Jh=h??d;Jh!=null&&(G["aria-busy"]=Jh);var cu=f??p;cu!=null&&(G["aria-checked"]=cu);var hu=g??S;hu!=null&&(G["aria-colcount"]=hu);var du=T??_;du!=null&&(G["aria-colindex"]=du);var Ea=y??E;Ea!=null&&(G["aria-colspan"]=Ea);var Ta=P??M;Ta!=null&&(G["aria-controls"]=Aa(Ta));var fu=D??b;fu!=null&&(G["aria-current"]=fu);var pu=w??R;pu!=null&&(G["aria-describedby"]=Aa(pu));var mu=I??A;mu!=null&&(G["aria-details"]=mu),Qh===!0&&(G["aria-disabled"]=!0,(t==="button"||t==="form"||t==="input"||t==="select"||t==="textarea")&&(G.disabled=!0));var Zh=le??he;Zh!=null&&(G["aria-errormessage"]=Zh);var lr=Me??be;lr!=null&&(G["aria-expanded"]=lr);var Rn=$??Y;Rn!=null&&(G["aria-flowto"]=Aa(Rn));var es=ee??ye;es!=null&&(G["aria-haspopup"]=es);var ts=Ie??nn;ts===!0&&(G["aria-hidden"]=ts);var ba=nt??Mt;ba!=null&&(G["aria-invalid"]=ba);var De=ot??je;De!=null&&(G["aria-keyshortcuts"]=Aa(De));var mo=Ct??Tn;mo!=null&&(G["aria-label"]=mo);var ns=ai??qi;ns!=null&&(G["aria-labelledby"]=Aa(ns));var rs=sr??Pr;rs!=null&&(G["aria-level"]=rs);var gu=jn??oo;gu!=null&&(G["aria-live"]=gu==="none"?"off":gu);var yu=Ki??ao;yu!=null&&(G["aria-modal"]=yu);var ed=Gi??Pe;ed!=null&&(G["aria-multiline"]=ed);var td=Xe??bn;td!=null&&(G["aria-multiselectable"]=td);var nd=$n??Xi;nd!=null&&(G["aria-orientation"]=nd);var rd=lo??or;rd!=null&&(G["aria-owns"]=Aa(rd));var is=uo??ha;is!=null&&(G["aria-placeholder"]=is);var Lr=Yi??ou;Lr!=null&&(G["aria-posinset"]=Lr);var vu=da??fa;vu!=null&&(G["aria-pressed"]=vu);var _u=co??li;_u!=null&&(G["aria-readonly"]=_u,(t==="input"||t==="select"||t==="textarea")&&(G.readOnly=!0));var wu=Qi??Le;wu!=null&&(G["aria-required"]=wu,(t==="input"||t==="select"||t==="textarea")&&(G.required=Le)),Cn!=null&&(G.role=Cn==="none"?"presentation":Cn);var Su=Un??pa;Su!=null&&(G["aria-roledescription"]=Su);var Eu=ui??ma;Eu!=null&&(G["aria-rowcount"]=Eu);var hi=kr??ga;hi!=null&&(G["aria-rowindex"]=hi);var id=J??He;id!=null&&(G["aria-rowspan"]=id);var sd=Rt??ar;sd!=null&&(G["aria-selected"]=sd);var od=Or??ya;od!=null&&(G["aria-setsize"]=od);var ur=ci??Sg;ur!=null&&(G["aria-sort"]=ur);var ad=Kh??va;ad!=null&&(G["aria-valuemax"]=ad);var Ca=au??Gh;Ca!=null&&(G["aria-valuemin"]=Ca);var go=_a??ho;go!=null&&(G["aria-valuenow"]=go);var Tu=Xh??Dr;if(Tu!=null&&(G["aria-valuetext"]=Tu),fo!=null){for(var di in fo)if(p$.call(fo,di)){var yo=v$(di),bu=fo[di];bu!=null&&(G["data-"+yo]=bu)}}Ji===0||Ji==="0"||Ji===-1||Ji==="-1"?G.tabIndex=Ji:(po===!1&&(G.tabIndex="-1"),t==="a"||t==="button"||t==="input"||t==="select"||t==="textarea"?(po===!1||k===!0)&&(G.tabIndex="-1"):Cn==="button"||Cn==="checkbox"||Cn==="link"||Cn==="radio"||Cn==="textbox"||Cn==="switch"?po!==!1&&(G.tabIndex="0"):po===!0&&(G.tabIndex="0"));var Ra=Ae([Eg,uu&&_$[uu]],me({writingDirection:"ltr"},n)),$e=Ra[0],ld=Ra[1];$e&&(G.className=$e),ld&&(G.style=ld);var ud=wa??lu;return ud!=null&&(G.id=ud),Yh!=null&&(G["data-testid"]=Yh),G.type==null&&t==="button"&&(G.type="button"),G},S$=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),Kb=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","far","glk","he","iw","khw","ks","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),Gb=new Map;function E$(t){var e=Gb.get(t);if(e)return e;var n=!1;if(Intl.Locale)try{var r=new Intl.Locale(t).maximize().script;n=S$.has(r)}catch{var i=t.split("-")[0];n=Kb.has(i)}else{var s=t.split("-")[0];n=Kb.has(s)}return Gb.set(t,n),n}var T$={direction:"ltr",locale:"en-US"},lk=C.createContext(T$);function Dm(t){return E$(t)?"rtl":"ltr"}function b$(t){var e=t.direction,n=t.locale,r=t.children,i=e||n;return i?dt.createElement(lk.Provider,{children:r,value:{direction:n?Dm(n):e,locale:n}}):r}function W0(){return C.useContext(lk)}var Ul=(t,e,n)=>{var r;t&&t.constructor===String&&(r=x1.propsToAccessibilityComponent(e));var i=r||t,s=w$(i,e,n),o=dt.createElement(i,s),a=s.dir?dt.createElement(b$,{children:o,direction:s.dir,locale:s.lang}):o;return a},__=t=>{if(t!=null){var e=t.nodeType===1;if(e&&typeof t.getBoundingClientRect=="function")return t.getBoundingClientRect()}},yc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},C$=["ms","Moz","O","Webkit"],R$=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1);Object.keys(yc).forEach(t=>{C$.forEach(e=>{yc[R$(e,t)]=yc[t]})});function I$(t,e,n){var r=e==null||typeof e=="boolean"||e==="";return r?"":!n&&typeof e=="number"&&e!==0&&!(yc.hasOwnProperty(t)&&yc[t])?e+"px":(""+e).trim()}function x$(t,e){var n=t.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=I$(r,e[r],i);r==="float"&&(r="cssFloat"),i?n.setProperty(r,s):n[r]=s}}var Xb=t=>{var e=t.offsetHeight,n=t.offsetWidth,r=t.offsetLeft,i=t.offsetTop;for(t=t.offsetParent;t&&t.nodeType===1;)r+=t.offsetLeft+t.clientLeft-t.scrollLeft,i+=t.offsetTop+t.clientTop-t.scrollTop,t=t.offsetParent;return i-=window.scrollY,r-=window.scrollX,{width:n,height:e,top:i,left:r}},Yb=(t,e,n)=>{var r=e||t&&t.parentNode;t&&r&&setTimeout(()=>{if(t.isConnected&&r.isConnected){var i=Xb(r),s=Xb(t),o=s.height,a=s.left,l=s.top,u=s.width,h=a-i.left,d=l-i.top;n(h,d,u,o,a,l)}},0)},A$={A:!0,BODY:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0},Ci={blur(t){try{t.blur()}catch{}},focus(t){try{var e=t.nodeName;t.getAttribute("tabIndex")==null&&t.isContentEditable!==!0&&A$[e]==null&&t.setAttribute("tabIndex","-1"),t.focus()}catch{}},measure(t,e){Yb(t,null,e)},measureInWindow(t,e){t&&setTimeout(()=>{var n=__(t),r=n.height,i=n.left,s=n.top,o=n.width;e(i,s,o,r)},0)},measureLayout(t,e,n,r){Yb(t,e,r)},updateView(t,e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];switch(n){case"style":{x$(t,r);break}case"class":case"className":{t.setAttribute("class",r);break}case"text":case"value":t.value=r;break;default:t.setAttribute(n,r)}}},configureNextLayoutAnimation(t,e){e()},setLayoutAnimationEnabledExperimental(){}},P$={OS:"web"};function en(){return en=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},en.apply(null,arguments)}var H0={children:!0,dataSet:!0,dir:!0,id:!0,ref:!0,suppressHydrationWarning:!0,tabIndex:!0,testID:!0,focusable:!0,nativeID:!0},q0={"aria-activedescendant":!0,"aria-atomic":!0,"aria-autocomplete":!0,"aria-busy":!0,"aria-checked":!0,"aria-colcount":!0,"aria-colindex":!0,"aria-colspan":!0,"aria-controls":!0,"aria-current":!0,"aria-describedby":!0,"aria-details":!0,"aria-disabled":!0,"aria-errormessage":!0,"aria-expanded":!0,"aria-flowto":!0,"aria-haspopup":!0,"aria-hidden":!0,"aria-invalid":!0,"aria-keyshortcuts":!0,"aria-label":!0,"aria-labelledby":!0,"aria-level":!0,"aria-live":!0,"aria-modal":!0,"aria-multiline":!0,"aria-multiselectable":!0,"aria-orientation":!0,"aria-owns":!0,"aria-placeholder":!0,"aria-posinset":!0,"aria-pressed":!0,"aria-readonly":!0,"aria-required":!0,role:!0,"aria-roledescription":!0,"aria-rowcount":!0,"aria-rowindex":!0,"aria-rowspan":!0,"aria-selected":!0,"aria-setsize":!0,"aria-sort":!0,"aria-valuemax":!0,"aria-valuemin":!0,"aria-valuenow":!0,"aria-valuetext":!0,accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0},K0={onClick:!0,onAuxClick:!0,onContextMenu:!0,onGotPointerCapture:!0,onLostPointerCapture:!0,onPointerCancel:!0,onPointerDown:!0,onPointerEnter:!0,onPointerMove:!0,onPointerLeave:!0,onPointerOut:!0,onPointerOver:!0,onPointerUp:!0},G0={onBlur:!0,onFocus:!0},X0={onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0},Y0={onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},Q0={onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},J0={style:!0};function Z0(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&e[r]===!0&&(n[r]=t[r]);return n}var w_=Tt?C.useLayoutEffect:C.useEffect,S_="__reactLayoutHandler",cy=null;function k$(){return Tt&&typeof window.ResizeObserver<"u"&&cy==null&&(cy=new window.ResizeObserver(function(t){t.forEach(e=>{var n=e.target,r=n[S_];typeof r=="function"&&Ci.measure(n,(i,s,o,a,l,u)=>{var h={nativeEvent:{layout:{x:i,y:s,width:o,height:a,left:l,top:u}},timeStamp:Date.now()};Object.defineProperty(h.nativeEvent,"target",{enumerable:!0,get:()=>e.target}),r(h)})})})),cy}function eS(t,e){var n=k$();w_(()=>{var r=t.current;r!=null&&(r[S_]=e)},[t,e]),w_(()=>{var r=t.current;return r!=null&&n!=null&&(typeof r[S_]=="function"?n.observe(r):n.unobserve(r)),()=>{r!=null&&n!=null&&n.unobserve(r)}},[t,n])}function uk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){e.forEach(s=>{if(s!=null){if(typeof s=="function"){s(i);return}if(typeof s=="object"){s.current=i;return}console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(s))}})}}function Eh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return C.useMemo(()=>uk(...e),[...e])}var Qb=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():Object.freeze({});function O$(t){var e=C.useRef(Qb);return e.current===Qb&&(e.current=t()),e.current}function tS(t){t.pointerEvents,t.style;var e=O$(()=>n=>{n!=null&&(n.measure=r=>Ci.measure(n,r),n.measureLayout=(r,i,s)=>Ci.measureLayout(n,r,s,i),n.measureInWindow=r=>Ci.measureInWindow(n,r))});return e}var Jb=()=>{},D$={},M$=[];function Zb(t){return t>20?t%20:t}function ck(t,e){var n,r=!1,i,s,o=t.changedTouches,a=t.type,l=t.metaKey===!0,u=t.shiftKey===!0,h=o&&o[0].force||0,d=Zb(o&&o[0].identifier||0),f=o&&o[0].clientX||t.clientX,p=o&&o[0].clientY||t.clientY,g=o&&o[0].pageX||t.pageX,S=o&&o[0].pageY||t.pageY,T=typeof t.preventDefault=="function"?t.preventDefault.bind(t):Jb,_=t.timeStamp;function y(b){return Array.prototype.slice.call(b).map(w=>({force:w.force,identifier:Zb(w.identifier),get locationX(){return M(w.clientX)},get locationY(){return D(w.clientY)},pageX:w.pageX,pageY:w.pageY,target:w.target,timestamp:_}))}if(o!=null)i=y(o),s=y(t.touches);else{var E=[{force:h,identifier:d,get locationX(){return M(f)},get locationY(){return D(p)},pageX:g,pageY:S,target:t.target,timestamp:_}];i=E,s=a==="mouseup"||a==="dragstart"?M$:E}var P={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:t.defaultPrevented,dispatchConfig:D$,eventPhase:t.eventPhase,isDefaultPrevented(){return t.defaultPrevented},isPropagationStopped(){return r},isTrusted:t.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:l,shiftKey:u,changedTouches:i,force:h,identifier:d,get locationX(){return M(f)},get locationY(){return D(p)},pageX:g,pageY:S,target:t.target,timestamp:_,touches:s,type:a},persist:Jb,preventDefault:T,stopPropagation(){r=!0},target:t.target,timeStamp:_,touchHistory:e.touchHistory};function M(b){if(n=n||__(P.currentTarget),n)return b-n.left}function D(b){if(n=n||__(P.currentTarget),n)return b-n.top}return P}var L$="mousedown",N$="mousemove",V$="mouseup",F$="dragstart",B$="touchstart",j$="touchmove",$$="touchend",U$="touchcancel",z$="scroll",W$="select",H$="selectionchange";function hk(t){return t===B$||t===L$}function dk(t){return t===j$||t===N$}function fk(t){return t===$$||t===V$||pk(t)}function pk(t){return t===U$||t===F$}function q$(t){return t===z$}function K$(t){return t===W$||t===H$}function G$(){var t=window.getSelection(),e=t.toString(),n=t.anchorNode,r=t.focusNode,i=n&&n.nodeType===window.Node.TEXT_NODE||r&&r.nodeType===window.Node.TEXT_NODE;return e.length>=1&&e!==`
`&&i}var mk="__reactResponderId";function X$(t){if(t.type==="selectionchange"){var e=window.getSelection().anchorNode;return eC(e)}else{var n=t.composedPath!=null?t.composedPath():eC(t.target);return n}}function eC(t){for(var e=[];t!=null&&t!==document.body;)e.push(t),t=t.parentNode;return e}function Y$(t){return t!=null?t[mk]:null}function Q$(t,e){t!=null&&(t[mk]=e)}function J$(t){for(var e=[],n=[],r=X$(t),i=0;i<r.length;i++){var s=r[i],o=Y$(s);o!=null&&(e.push(o),n.push(s))}return{idPath:e,nodePath:n}}function Z$(t,e){var n=t.length,r=e.length;if(n===0||r===0||t[n-1]!==e[r-1])return null;var i=t[0],s=0,o=e[0],a=0;n-r>0&&(s=n-r,i=t[s],n=r),r-n>0&&(a=r-n,o=e[a],r=n);for(var l=n;l--;){if(i===o)return i;i=t[s++],o=e[a++]}return null}function eU(t,e){if(!e||e.length===0)return!1;for(var n=0;n<e.length;n++){var r=e[n].target;if(r!=null&&t.contains(r))return!0}return!1}function tU(t){return t.type==="selectionchange"?G$():t.type==="select"}function nU(t){var e=t.altKey,n=t.button,r=t.buttons,i=t.ctrlKey,s=t.type,o=s==="touchstart"||s==="touchmove",a=s==="mousedown"&&(n===0||r===1),l=s==="mousemove"&&r===1,u=e===!1&&i===!1;return!!(o||a&&u||l&&u)}var tC=20;function Zn(t){return t.timeStamp||t.timestamp}function rU(t){return{touchActive:!0,startPageX:t.pageX,startPageY:t.pageY,startTimeStamp:Zn(t),currentPageX:t.pageX,currentPageY:t.pageY,currentTimeStamp:Zn(t),previousPageX:t.pageX,previousPageY:t.pageY,previousTimeStamp:Zn(t)}}function iU(t,e){t.touchActive=!0,t.startPageX=e.pageX,t.startPageY=e.pageY,t.startTimeStamp=Zn(e),t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=Zn(e),t.previousPageX=e.pageX,t.previousPageY=e.pageY,t.previousTimeStamp=Zn(e)}function nS(t){var e=t.identifier;return e==null&&console.error("Touch object is missing identifier."),e}function sU(t,e){var n=nS(t),r=e.touchBank[n];r?iU(r,t):e.touchBank[n]=rU(t),e.mostRecentTimeStamp=Zn(t)}function oU(t,e){var n=e.touchBank[nS(t)];n?(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=t.pageX,n.currentPageY=t.pageY,n.currentTimeStamp=Zn(t),e.mostRecentTimeStamp=Zn(t)):console.warn(`Cannot record touch move without a touch start.
`,"Touch Move: "+gk(t)+`
`,"Touch Bank: "+yk(e))}function aU(t,e){var n=e.touchBank[nS(t)];n?(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=t.pageX,n.currentPageY=t.pageY,n.currentTimeStamp=Zn(t),e.mostRecentTimeStamp=Zn(t)):console.warn(`Cannot record touch end without a touch start.
`,"Touch End: "+gk(t)+`
`,"Touch Bank: "+yk(e))}function gk(t){return JSON.stringify({identifier:t.identifier,pageX:t.pageX,pageY:t.pageY,timestamp:Zn(t)})}function yk(t){var e=t.touchBank,n=JSON.stringify(e.slice(0,tC));return e.length>tC&&(n+=" (original size: "+e.length+")"),n}class lU{constructor(){this._touchHistory={touchBank:[],numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0}}recordTouchTrack(e,n){var r=this._touchHistory;if(dk(e))n.changedTouches.forEach(a=>oU(a,r));else if(hk(e))n.changedTouches.forEach(a=>sU(a,r)),r.numberActiveTouches=n.touches.length,r.numberActiveTouches===1&&(r.indexOfSingleActiveTouch=n.touches[0].identifier);else if(fk(e)&&(n.changedTouches.forEach(a=>aU(a,r)),r.numberActiveTouches=n.touches.length,r.numberActiveTouches===1))for(var i=r.touchBank,s=0;s<i.length;s++){var o=i[s];if(o!=null&&o.touchActive){r.indexOfSingleActiveTouch=s;break}}}get touchHistory(){return this._touchHistory}}var uU={},nC=["onStartShouldSetResponderCapture","onStartShouldSetResponder",{bubbles:!0}],rC=["onMoveShouldSetResponderCapture","onMoveShouldSetResponder",{bubbles:!0}],cU=["onScrollShouldSetResponderCapture","onScrollShouldSetResponder",{bubbles:!1}],hU={touchstart:nC,mousedown:nC,touchmove:rC,mousemove:rC,scroll:cU},E_={id:null,idPath:null,node:null},Sp=new Map,ms=!1,Br=0,Wr={id:null,node:null,idPath:null},T_=new lU;function Jc(t){Wr=t}function Zc(t){var e=Sp.get(t);return e??uU}function hy(t){var e=t.type,n=t.target;if(e==="touchstart"&&(ms=!0),(e==="touchmove"||Br>1)&&(ms=!1),!(e==="mousedown"&&ms||e==="mousemove"&&ms||e==="mousemove"&&Br<1)){if(ms&&e==="mouseup"){Br===0&&(ms=!1);return}var r=hk(e)&&nU(t),i=dk(e),s=fk(e),o=q$(e),a=K$(e),l=ck(t,T_);(r||i||s)&&(t.touches?Br=t.touches.length:r?Br=1:s&&(Br=0),T_.recordTouchTrack(e,l.nativeEvent));var u=J$(t),h=!1,d;if(r||i||o&&Br>0){var f=Wr.idPath,p=u.idPath;if(f!=null&&p!=null){var g=Z$(f,p);if(g!=null){var S=p.indexOf(g),T=S+(g===Wr.id?1:0);u={idPath:p.slice(T),nodePath:u.nodePath.slice(T)}}else u=null}u!=null&&(d=dU(u,t,l),d!=null&&(fU(l,d),h=!0))}if(Wr.id!=null&&Wr.node!=null){var _=Wr,y=_.id,E=_.node,P=Zc(y),M=P.onResponderStart,D=P.onResponderMove,b=P.onResponderEnd,w=P.onResponderRelease,R=P.onResponderTerminate,I=P.onResponderTerminationRequest;if(l.bubbles=!1,l.cancelable=!1,l.currentTarget=E,r)M!=null&&(l.dispatchConfig.registrationName="onResponderStart",M(l));else if(i)D!=null&&(l.dispatchConfig.registrationName="onResponderMove",D(l));else{var A=pk(e)||e==="contextmenu"||e==="blur"&&n===window||e==="blur"&&n.contains(E)&&t.relatedTarget!==E||o&&Br===0||o&&n.contains(E)&&n!==E||a&&tU(t),L=s&&!A&&!eU(E,t.touches);if(s&&b!=null&&(l.dispatchConfig.registrationName="onResponderEnd",b(l)),L&&(w!=null&&(l.dispatchConfig.registrationName="onResponderRelease",w(l)),Jc(E_)),A){var k=!0;(e==="contextmenu"||e==="scroll"||e==="selectionchange")&&(h?k=!1:I!=null&&(l.dispatchConfig.registrationName="onResponderTerminationRequest",I(l)===!1&&(k=!1))),k&&(R!=null&&(l.dispatchConfig.registrationName="onResponderTerminate",R(l)),Jc(E_),ms=!1,Br=0)}}}}}function dU(t,e,n){var r=hU[e.type];if(r!=null){for(var i=t.idPath,s=t.nodePath,o=r[0],a=r[1],l=r[2].bubbles,u=function(D,b,w){var R=Zc(D),I=R[w];if(I!=null&&(n.currentTarget=b,I(n)===!0)){var A=i.slice(i.indexOf(D));return{id:D,node:b,idPath:A}}},h=i.length-1;h>=0;h--){var d=i[h],f=s[h],p=u(d,f,o);if(p!=null)return p;if(n.isPropagationStopped()===!0)return}if(l)for(var g=0;g<i.length;g++){var S=i[g],T=s[g],_=u(S,T,a);if(_!=null)return _;if(n.isPropagationStopped()===!0)return}else{var y=i[0],E=s[0],P=e.target;if(P===E)return u(y,E,a)}}}function fU(t,e){var n=Wr,r=n.id,i=n.node,s=e.id,o=e.node,a=Zc(s),l=a.onResponderGrant,u=a.onResponderReject;if(t.bubbles=!1,t.cancelable=!1,t.currentTarget=o,r==null)l!=null&&(t.currentTarget=o,t.dispatchConfig.registrationName="onResponderGrant",l(t)),Jc(e);else{var h=Zc(r),d=h.onResponderTerminate,f=h.onResponderTerminationRequest,p=!0;f!=null&&(t.currentTarget=i,t.dispatchConfig.registrationName="onResponderTerminationRequest",f(t)===!1&&(p=!1)),p?(d!=null&&(t.currentTarget=i,t.dispatchConfig.registrationName="onResponderTerminate",d(t)),l!=null&&(t.currentTarget=o,t.dispatchConfig.registrationName="onResponderGrant",l(t)),Jc(e)):u!=null&&(t.currentTarget=o,t.dispatchConfig.registrationName="onResponderReject",u(t))}}var pU=["blur","scroll"],mU=["mousedown","mousemove","mouseup","dragstart","touchstart","touchmove","touchend","touchcancel","contextmenu","select","selectionchange"];function gU(){Tt&&window.__reactResponderSystemActive==null&&(window.addEventListener("blur",hy),mU.forEach(t=>{document.addEventListener(t,hy)}),pU.forEach(t=>{document.addEventListener(t,hy,!0)}),window.__reactResponderSystemActive=!0)}function yU(t,e,n){Q$(e,t),Sp.set(t,n)}function iC(t){Wr.id===t&&vU(),Sp.has(t)&&Sp.delete(t)}function vU(){var t=Wr,e=t.id,n=t.node;if(e!=null&&n!=null){var r=Zc(e),i=r.onResponderTerminate;if(i!=null){var s=ck({},T_);s.currentTarget=n,i(s)}Jc(E_)}ms=!1,Br=0}function _U(){return Wr.node}var wU={},SU=0;function EU(t){var e=C.useRef(null);return e.current==null&&(e.current=t()),e.current}function rS(t,e){e===void 0&&(e=wU);var n=EU(()=>SU++),r=C.useRef(!1);C.useEffect(()=>(gU(),()=>{iC(n)}),[n]),C.useEffect(()=>{var i=e,s=i.onMoveShouldSetResponder,o=i.onMoveShouldSetResponderCapture,a=i.onScrollShouldSetResponder,l=i.onScrollShouldSetResponderCapture,u=i.onSelectionChangeShouldSetResponder,h=i.onSelectionChangeShouldSetResponderCapture,d=i.onStartShouldSetResponder,f=i.onStartShouldSetResponderCapture,p=s!=null||o!=null||a!=null||l!=null||u!=null||h!=null||d!=null||f!=null,g=t.current;p?(yU(n,g,e),r.current=!0):r.current&&(iC(n),r.current=!1)},[e,t,n]),C.useDebugValue({isResponder:t.current===_U()}),C.useDebugValue(e)}var Ep=C.createContext(!1),TU=["hrefAttrs","onLayout","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture"],bU=Object.assign({},H0,q0,K0,G0,X0,Y0,Q0,J0,{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),CU=t=>Z0(t,bU),X=C.forwardRef((t,e)=>{var n=t.hrefAttrs,r=t.onLayout,i=t.onMoveShouldSetResponder,s=t.onMoveShouldSetResponderCapture,o=t.onResponderEnd,a=t.onResponderGrant,l=t.onResponderMove,u=t.onResponderReject,h=t.onResponderRelease,d=t.onResponderStart,f=t.onResponderTerminate,p=t.onResponderTerminationRequest,g=t.onScrollShouldSetResponder,S=t.onScrollShouldSetResponderCapture,T=t.onSelectionChangeShouldSetResponder,_=t.onSelectionChangeShouldSetResponderCapture,y=t.onStartShouldSetResponder,E=t.onStartShouldSetResponderCapture,P=En(t,TU),M=C.useContext(Ep),D=C.useRef(null),b=W0(),w=b.direction;eS(D,r),rS(D,{onMoveShouldSetResponder:i,onMoveShouldSetResponderCapture:s,onResponderEnd:o,onResponderGrant:a,onResponderMove:l,onResponderReject:u,onResponderRelease:h,onResponderStart:d,onResponderTerminate:f,onResponderTerminationRequest:p,onScrollShouldSetResponder:g,onScrollShouldSetResponderCapture:S,onSelectionChangeShouldSetResponder:T,onSelectionChangeShouldSetResponderCapture:_,onStartShouldSetResponder:y,onStartShouldSetResponderCapture:E});var R="div",I=t.lang!=null?Dm(t.lang):null,A=t.dir||I,L=A||w,k=CU(P);if(k.dir=A,k.style=[sC.view$raw,M&&sC.inline,t.style],t.href!=null&&(R="a",n!=null)){var le=n.download,he=n.rel,Me=n.target;le!=null&&(k.download=le),he!=null&&(k.rel=he),typeof Me=="string"&&(k.target=Me.charAt(0)!=="_"?"_"+Me:Me)}var be=tS(k),$=Eh(D,be,e);return k.ref=$,Ul(R,k,{writingDirection:L})});X.displayName="View";var sC=Ae.create({view$raw:{alignItems:"stretch",backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,listStyle:"none",margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",textDecoration:"none",zIndex:0},inline:{display:"inline-flex"}}),RU=function t(e,n,r){if(r===void 0&&(r=-1),r===0)return!0;if(e===n||typeof e=="function"&&typeof n=="function")return!1;if(typeof e!="object"||e===null)return e!==n;if(typeof n!="object"||n===null||e.constructor!==n.constructor)return!0;if(Array.isArray(e)){var i=e.length;if(n.length!==i)return!0;for(var s=0;s<i;s++)if(t(e[s],n[s],r-1))return!0}else{for(var o in e)if(t(e[o],n[o],r-1))return!0;for(var a in n)if(e[a]===void 0&&n[a]!==void 0)return!0}return!1};function IU(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!t){var s;if(e===void 0)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;s=new Error(e.replace(/%s/g,function(){return String(r[o++])})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}var xU=IU;const pe=Fl(xU);function oC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function AU(t,e){if(t){if(typeof t=="string")return oC(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oC(t,e):void 0}}function Do(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=AU(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var PU=["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"];function kU(t){t.colors,t.enabled,t.onRefresh,t.progressBackgroundColor,t.progressViewOffset,t.refreshing,t.size,t.tintColor,t.title,t.titleColor;var e=En(t,PU);return dt.createElement(X,e)}var Mo={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},_s={},aC=Tt;function vk(){if(Tt){var t=window,e,n;if(t.visualViewport){var r=t.visualViewport;e=Math.round(r.height*r.scale),n=Math.round(r.width*r.scale)}else{var i=t.document.documentElement;e=i.clientHeight,n=i.clientWidth}Mo.window={fontScale:1,height:e,scale:t.devicePixelRatio||1,width:n},Mo.screen={fontScale:1,height:t.screen.height,scale:t.devicePixelRatio||1,width:t.screen.width}}}function lC(){vk(),Array.isArray(_s.change)&&_s.change.forEach(t=>t(Mo))}class Tp{static get(e){return aC&&(aC=!1,vk()),pe(Mo[e],"No dimension set for key "+e),Mo[e]}static set(e){e&&(Tt?pe(!1,"Dimensions cannot be set in the browser"):(e.screen!=null&&(Mo.screen=e.screen),e.window!=null&&(Mo.window=e.window)))}static addEventListener(e,n){return _s[e]=_s[e]||[],_s[e].push(n),{remove:()=>{this.removeEventListener(e,n)}}}static removeEventListener(e,n){Array.isArray(_s[e])&&(_s[e]=_s[e].filter(r=>r!==n))}}Tt&&(window.visualViewport?window.visualViewport.addEventListener("resize",lC,!1):window.addEventListener("resize",lC,!1));var Si={_currentlyFocusedNode:null,currentlyFocusedField(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput(t){t!==null&&(this._currentlyFocusedNode=t,document.activeElement!==t&&Ci.focus(t))},blurTextInput(t){t!==null&&(this._currentlyFocusedNode=null,document.activeElement===t&&Ci.blur(t))}},OU=()=>{Si.blurTextInput(Si.currentlyFocusedField())},DU=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function uC(t){return{nativeEvent:{contentOffset:{get x(){return t.target.scrollLeft},get y(){return t.target.scrollTop}},contentSize:{get height(){return t.target.scrollHeight},get width(){return t.target.scrollWidth}},layoutMeasurement:{get height(){return t.target.offsetHeight},get width(){return t.target.offsetWidth}}},timeStamp:Date.now()}}function MU(t,e){var n=Date.now()-t;return e>0&&n>=e}var LU=C.forwardRef((t,e)=>{var n=t.onScroll,r=t.onTouchMove,i=t.onWheel,s=t.scrollEnabled,o=s===void 0?!0:s,a=t.scrollEventThrottle,l=a===void 0?0:a,u=t.showsHorizontalScrollIndicator,h=t.showsVerticalScrollIndicator,d=t.style,f=En(t,DU),p=C.useRef({isScrolling:!1,scrollLastTick:0}),g=C.useRef(null),S=C.useRef(null);function T(D){return b=>{o&&D&&D(b)}}function _(D){D.stopPropagation(),D.target===S.current&&(D.persist(),g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{P(D)},100),p.current.isScrolling?MU(p.current.scrollLastTick,l)&&E(D):y(D))}function y(D){p.current.isScrolling=!0,E(D)}function E(D){p.current.scrollLastTick=Date.now(),n&&n(uC(D))}function P(D){p.current.isScrolling=!1,n&&n(uC(D))}var M=u===!1||h===!1;return C.createElement(X,en({},f,{onScroll:_,onTouchMove:T(r),onWheel:T(i),ref:Eh(S,e),style:[d,!o&&cC.scrollDisabled,M&&cC.hideScrollbar]}))}),cC=Ae.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}});function Mm(t){return function(){return t}}var oa=function(){};oa.thatReturns=Mm;oa.thatReturnsFalse=Mm(!1);oa.thatReturnsTrue=Mm(!0);oa.thatReturnsNull=Mm(null);oa.thatReturnsThis=function(){return this};oa.thatReturnsArgument=function(t){return t};var NU=oa,VU=NU,FU=VU,BU=FU;const jU=Fl(BU);var $U=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],hC={},UU=16;class zU extends dt.Component{constructor(){super(...arguments),this._scrollNodeRef=null,this._innerViewRef=null,this.isTouching=!1,this.lastMomentumScrollBeginTime=0,this.lastMomentumScrollEndTime=0,this.observedScrollSinceBecomingResponder=!1,this.becameResponderWhileAnimating=!1,this.scrollResponderHandleScrollShouldSetResponder=()=>this.isTouching,this.scrollResponderHandleStartShouldSetResponderCapture=e=>this.scrollResponderIsAnimating(),this.scrollResponderHandleTerminationRequest=()=>!this.observedScrollSinceBecomingResponder,this.scrollResponderHandleTouchEnd=e=>{var n=e.nativeEvent;this.isTouching=n.touches.length!==0,this.props.onTouchEnd&&this.props.onTouchEnd(e)},this.scrollResponderHandleResponderRelease=e=>{this.props.onResponderRelease&&this.props.onResponderRelease(e);var n=Si.currentlyFocusedField();!this.props.keyboardShouldPersistTaps&&n!=null&&e.target!==n&&!this.observedScrollSinceBecomingResponder&&!this.becameResponderWhileAnimating&&(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),Si.blurTextInput(n))},this.scrollResponderHandleScroll=e=>{this.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},this.scrollResponderHandleResponderGrant=e=>{this.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},this.scrollResponderHandleScrollBeginDrag=e=>{this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this.scrollResponderHandleScrollEndDrag=e=>{this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this.scrollResponderHandleMomentumScrollBegin=e=>{this.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this.scrollResponderHandleMomentumScrollEnd=e=>{this.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this.scrollResponderHandleTouchStart=e=>{this.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},this.scrollResponderHandleTouchMove=e=>{this.props.onTouchMove&&this.props.onTouchMove(e)},this.scrollResponderIsAnimating=()=>{var e=Date.now(),n=e-this.lastMomentumScrollEndTime,r=n<UU||this.lastMomentumScrollEndTime<this.lastMomentumScrollBeginTime;return r},this.scrollResponderScrollTo=(e,n,r)=>{if(typeof e=="number")console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var i=e||hC;e=i.x,n=i.y,r=i.animated}var s=this.getScrollableNode(),o=e||0,a=n||0;s!=null&&(typeof s.scroll=="function"?s.scroll({top:a,left:o,behavior:r?"smooth":"auto"}):(s.scrollLeft=o,s.scrollTop=a))},this.scrollResponderZoomTo=(e,n)=>{pe("zoomToRect is not implemented")},this.scrollResponderScrollNativeHandleToKeyboard=(e,n,r)=>{this.additionalScrollOffset=n||0,this.preventNegativeScrollOffset=!!r,Ci.measureLayout(e,this.getInnerViewNode(),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},this.scrollResponderInputMeasureAndScrollToKeyboard=(e,n,r,i)=>{var s=Tp.get("window").height;this.keyboardWillOpenTo&&(s=this.keyboardWillOpenTo.endCoordinates.screenY);var o=n-s+i+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(o=Math.max(0,o)),this.scrollResponderScrollTo({x:0,y:o,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},this.scrollResponderKeyboardWillShow=e=>{this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},this.scrollResponderKeyboardWillHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},this.scrollResponderKeyboardDidShow=e=>{e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},this.scrollResponderKeyboardDidHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)},this.flashScrollIndicators=()=>{this.scrollResponderFlashScrollIndicators()},this.getScrollResponder=()=>this,this.getScrollableNode=()=>this._scrollNodeRef,this.getInnerViewRef=()=>this._innerViewRef,this.getInnerViewNode=()=>this._innerViewRef,this.getNativeScrollRef=()=>this._scrollNodeRef,this.scrollTo=(e,n,r)=>{if(typeof e=="number")console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var i=e||hC;n=i.x,e=i.y,r=i.animated}this.scrollResponderScrollTo({x:n||0,y:e||0,animated:r!==!1})},this.scrollToEnd=e=>{var n=(e&&e.animated)!==!1,r=this.props.horizontal,i=this.getScrollableNode(),s=r?i.scrollWidth:0,o=r?0:i.scrollHeight;this.scrollResponderScrollTo({x:s,y:o,animated:n})},this._handleContentOnLayout=e=>{var n=e.nativeEvent.layout,r=n.width,i=n.height;this.props.onContentSizeChange(r,i)},this._handleScroll=e=>{this.props.keyboardDismissMode==="on-drag"&&OU(),this.scrollResponderHandleScroll(e)},this._setInnerViewRef=e=>{this._innerViewRef=e},this._setScrollNodeRef=e=>{this._scrollNodeRef=e,e!=null&&(e.getScrollResponder=this.getScrollResponder,e.getInnerViewNode=this.getInnerViewNode,e.getInnerViewRef=this.getInnerViewRef,e.getNativeScrollRef=this.getNativeScrollRef,e.getScrollableNode=this.getScrollableNode,e.scrollTo=this.scrollTo,e.scrollToEnd=this.scrollToEnd,e.flashScrollIndicators=this.flashScrollIndicators,e.scrollResponderZoomTo=this.scrollResponderZoomTo,e.scrollResponderScrollNativeHandleToKeyboard=this.scrollResponderScrollNativeHandleToKeyboard);var n=uk(this.props.forwardedRef);n(e)}}scrollResponderHandleStartShouldSetResponder(){return!1}scrollResponderHandleResponderReject(){jU(!1,"ScrollView doesn't take rejection well - scrolls anyway")}scrollResponderFlashScrollIndicators(){}scrollResponderTextInputFocusError(e){console.error("Error measuring text field: ",e)}render(){var e=this.props,n=e.contentContainerStyle,r=e.horizontal,i=e.onContentSizeChange,s=e.refreshControl,o=e.stickyHeaderIndices,a=e.pagingEnabled;e.forwardedRef,e.keyboardDismissMode,e.onScroll;var l=e.centerContent,u=En(e,$U),h={};i&&(h={onLayout:this._handleContentOnLayout});var d=!r&&Array.isArray(o),f=d||a?dt.Children.map(this.props.children,(E,P)=>{var M=d&&o.indexOf(P)>-1;return E!=null&&(M||a)?dt.createElement(X,{style:[M&&hs.stickyHeader,a&&hs.pagingEnabledChild]},E):E}):this.props.children,p=dt.createElement(X,en({},h,{children:f,collapsable:!1,ref:this._setInnerViewRef,style:[r&&hs.contentContainerHorizontal,l&&hs.contentContainerCenterContent,n]})),g=r?hs.baseHorizontal:hs.baseVertical,S=r?hs.pagingEnabledHorizontal:hs.pagingEnabledVertical,T=me(me({},u),{},{style:[g,a&&S,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),_=LU;pe(_!==void 0,"ScrollViewClass must not be undefined");var y=dt.createElement(_,en({},T,{ref:this._setScrollNodeRef}),p);return s?dt.cloneElement(s,{style:T.style},y):y}}var dC={flexGrow:1,flexShrink:1,transform:"translateZ(0)",WebkitOverflowScrolling:"touch"},hs=Ae.create({baseVertical:me(me({},dC),{},{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:me(me({},dC),{},{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},contentContainerCenterContent:{justifyContent:"center",flexGrow:1},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),wr=dt.forwardRef((t,e)=>dt.createElement(zU,en({},t,{forwardedRef:e})));wr.displayName="ScrollView";class WU{constructor(e){var n=e.onMoreTasks;this._onMoreTasks=n,this._queueStack=[{tasks:[],popable:!0}]}enqueue(e){this._getCurrentQueue().push(e)}enqueueTasks(e){e.forEach(n=>this.enqueue(n))}cancelTasks(e){this._queueStack=this._queueStack.map(n=>me(me({},n),{},{tasks:n.tasks.filter(r=>e.indexOf(r)===-1)})).filter((n,r)=>n.tasks.length>0||r===0)}hasTasksToProcess(){return this._getCurrentQueue().length>0}processNext(){var e=this._getCurrentQueue();if(e.length){var n=e.shift();try{typeof n=="object"&&n.gen?this._genPromise(n):typeof n=="object"&&n.run?n.run():(pe(typeof n=="function",`Expected Function, SimpleTask, or PromiseTask, but got:
`+JSON.stringify(n,null,2)),n())}catch(r){throw r.message="TaskQueue: Error with task "+(n.name||"")+": "+r.message,r}}}_getCurrentQueue(){var e=this._queueStack.length-1,n=this._queueStack[e];return n.popable&&n.tasks.length===0&&e>0?(this._queueStack.pop(),this._getCurrentQueue()):n.tasks}_genPromise(e){var n=this._queueStack.push({tasks:[],popable:!1}),r=n-1,i=this._queueStack[r];e.gen().then(()=>{i.popable=!0,this.hasTasksToProcess()&&this._onMoreTasks()}).catch(s=>{setTimeout(()=>{throw s.message="TaskQueue: Error resolving Promise in task "+e.name+": "+s.message,s},0)})}}class HU{constructor(){this._registry={}}addListener(e,n,r){var i=qU(this._registry,e),s={context:r,listener:n,remove(){i.delete(s)}};return i.add(s),s}emit(e){var n=this._registry[e];if(n!=null){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];for(var o=0,a=[...n];o<a.length;o++){var l=a[o];l.listener.apply(l.context,i)}}}removeAllListeners(e){e==null?this._registry={}:delete this._registry[e]}listenerCount(e){var n=this._registry[e];return n==null?0:n.size}}function qU(t,e){var n=t[e];return n==null&&(n=new Set,t[e]=n),n}var KU=function(e,n){return setTimeout(()=>{var r=Date.now();e({didTimeout:!1,timeRemaining(){return Math.max(0,50-(Date.now()-r))}})},1)},GU=Tt&&typeof window.requestIdleCallback<"u",XU=GU?window.requestIdleCallback:KU,bp=new HU,b_={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions(t){var e=[],n=new Promise(r=>{vc(),t&&e.push(t),e.push({run:r,name:"resolve "+(t&&t.name||"?")}),Rp.enqueueTasks(e)});return{then:n.then.bind(n),done:n.then.bind(n),cancel:()=>{Rp.cancelTasks(e)}}},createInteractionHandle(){vc();var t=++YU;return Cp.add(t),t},clearInteractionHandle(t){pe(!!t,"Must provide a handle to clear."),vc(),Cp.delete(t),C_.add(t)},addListener:bp.addListener.bind(bp),setDeadline(t){Ip=t}},Nd=new Set,Cp=new Set,C_=new Set,Rp=new WU({onMoreTasks:vc}),wf=0,YU=0,Ip=-1;function vc(){wf||(Ip>0?wf=setTimeout(fC):wf=XU(fC))}function fC(){wf=0;var t=Nd.size;Cp.forEach(r=>Nd.add(r)),C_.forEach(r=>Nd.delete(r));var e=Nd.size;if(t!==0&&e===0?bp.emit(b_.Events.interactionComplete):t===0&&e!==0&&bp.emit(b_.Events.interactionStart),e===0){for(var n=Date.now();Rp.hasTasksToProcess();)if(Rp.processNext(),Ip>0&&Date.now()-n>=Ip){vc();break}}Cp.clear(),C_.clear()}class QU{constructor(e,n){this._delay=n,this._callback=e}dispose(e){e===void 0&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)}schedule(){if(!this._taskHandle){var e=setTimeout(()=>{this._taskHandle=b_.runAfterInteractions(()=>{this._taskHandle=null,this._callback()})},this._delay);this._taskHandle={cancel:()=>clearTimeout(e)}}}}function pC(t,e,n){return e<t?t:e>n?n:e}function JU(){return console.log(...arguments)}class ZU{constructor(e){pe(e>=0,"CellRenderMask must contain a non-negative number os cells"),this._numCells=e,e===0?this._regions=[]:this._regions=[{first:0,last:e-1,isSpacer:!0}]}enumerateRegions(){return this._regions}addCells(e){if(pe(e.first>=0&&e.first<this._numCells&&e.last>=-1&&e.last<this._numCells&&e.last>=e.first-1,"CellRenderMask.addCells called with invalid cell range"),!(e.last<e.first)){var n=this._findRegion(e.first),r=n[0],i=n[1],s=this._findRegion(e.last),o=s[0],a=s[1];if(!(i===a&&!r.isSpacer)){var l=[],u=[],h=me(me({},e),{},{isSpacer:!1});r.first<h.first&&(r.isSpacer?l.push({first:r.first,last:h.first-1,isSpacer:!0}):h.first=r.first),o.last>h.last&&(o.isSpacer?u.push({first:h.last+1,last:o.last,isSpacer:!0}):h.last=o.last);var d=[...l,h,...u],f=a-i+1;this._regions.splice(i,f,...d)}}}numCells(){return this._numCells}equals(e){return this._numCells===e._numCells&&this._regions.length===e._regions.length&&this._regions.every((n,r)=>n.first===e._regions[r].first&&n.last===e._regions[r].last&&n.isSpacer===e._regions[r].isSpacer)}_findRegion(e){for(var n=0,r=this._regions.length-1;n<=r;){var i=Math.floor((n+r)/2),s=this._regions[i];if(e>=s.first&&e<=s.last)return[s,i];e<s.first?r=i-1:e>s.last&&(n=i+1)}pe(!1,"A region was not found containing cellIdx "+e)}}class e3{constructor(){this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map}add(e,n){var r;pe(!this._childrenToCellKey.has(e),"Trying to add already present child list");var i=(r=this._cellKeyToChildren.get(n))!==null&&r!==void 0?r:new Set;i.add(e),this._cellKeyToChildren.set(n,i),this._childrenToCellKey.set(e,n)}remove(e){var n=this._childrenToCellKey.get(e);pe(n!=null,"Trying to remove non-present child list"),this._childrenToCellKey.delete(e);var r=this._cellKeyToChildren.get(n);pe(r,"_cellKeyToChildren should contain cellKey"),r.delete(e),r.size===0&&this._cellKeyToChildren.delete(n)}forEach(e){for(var n=Do(this._cellKeyToChildren.values()),r;!(r=n()).done;)for(var i=r.value,s=Do(i),o;!(o=s()).done;){var a=o.value;e(a)}}forEachInCell(e,n){for(var r,i=(r=this._cellKeyToChildren.get(e))!==null&&r!==void 0?r:[],s=Do(i),o;!(o=s()).done;){var a=o.value;n(a)}}anyInCell(e,n){for(var r,i=(r=this._cellKeyToChildren.get(e))!==null&&r!==void 0?r:[],s=Do(i),o;!(o=s()).done;){var a=o.value;if(n(a))return!0}return!1}size(){return this._childrenToCellKey.size}}class mC{constructor(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}}var Vd=[],gC=10,dy=null;class t3{static addListener(e){return dy===null&&console.warn("Call `FillRateHelper.setSampleRate` before `addListener`."),Vd.push(e),{remove:()=>{Vd=Vd.filter(n=>e!==n)}}}static setSampleRate(e){dy=e}static setMinSampleCount(e){gC=e}constructor(e){this._anyBlankStartTime=null,this._enabled=!1,this._info=new mC,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=e,this._enabled=(dy||0)>Math.random(),this._resetData()}activate(){this._enabled&&this._samplesStartTime==null&&(this._samplesStartTime=global.performance.now())}deactivateAndFlush(){if(this._enabled){var e=this._samplesStartTime;if(e!=null){if(this._info.sample_count<gC){this._resetData();return}var n=global.performance.now()-e,r=me(me({},this._info),{},{total_time_spent:n});Vd.forEach(i=>i(r)),this._resetData()}}}computeBlankness(e,n,r){if(!this._enabled||e.getItemCount(e.data)===0||n.last<n.first||this._samplesStartTime==null)return 0;var i=r.dOffset,s=r.offset,o=r.velocity,a=r.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(a),this._info.pixels_scrolled+=Math.round(Math.abs(i));var l=Math.round(Math.abs(o)*1e3),u=global.performance.now();this._anyBlankStartTime!=null&&(this._info.any_blank_ms+=u-this._anyBlankStartTime),this._anyBlankStartTime=null,this._mostlyBlankStartTime!=null&&(this._info.mostly_blank_ms+=u-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var h=0,d=n.first,f=this._getFrameMetrics(d,e);d<=n.last&&(!f||!f.inLayout);)f=this._getFrameMetrics(d,e),d++;f&&d>0&&(h=Math.min(a,Math.max(0,f.offset-s)));for(var p=0,g=n.last,S=this._getFrameMetrics(g,e);g>=n.first&&(!S||!S.inLayout);)S=this._getFrameMetrics(g,e),g--;if(S&&g<e.getItemCount(e.data)-1){var T=S.offset+S.length;p=Math.min(a,Math.max(0,s+a-T))}var _=Math.round(h+p),y=_/a;return y>0?(this._anyBlankStartTime=u,this._info.any_blank_speed_sum+=l,this._info.any_blank_count++,this._info.pixels_blank+=_,y>.5&&(this._mostlyBlankStartTime=u,this._info.mostly_blank_count++)):(l<.01||Math.abs(i)<1)&&this.deactivateAndFlush(),y}enabled(){return this._enabled}_resetData(){this._anyBlankStartTime=null,this._info=new mC,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}class n3 extends C.PureComponent{constructor(e){super(e),this._inAsyncStateUpdate=!1,this._installSetStateHooks()}setState(e,n){typeof e=="function"?super.setState((r,i)=>{this._inAsyncStateUpdate=!0;var s;try{s=e(r,i)}catch(o){throw o}finally{this._inAsyncStateUpdate=!1}return s},n):super.setState(e,n)}_installSetStateHooks(){var e=this,n=this.props,r=this.state;Object.defineProperty(this,"props",{get(){return pe(!e._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),n},set(i){n=i}}),Object.defineProperty(this,"state",{get(){return pe(!e._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),r},set(i){r=i}})}}class yC{constructor(e){e===void 0&&(e={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=e}dispose(){this._timers.forEach(clearTimeout)}computeViewableItems(e,n,r,i,s){var o=e.getItemCount(e.data),a=this._config,l=a.itemVisiblePercentThreshold,u=a.viewAreaCoveragePercentThreshold,h=u!=null,d=h?u:l;pe(d!=null&&l!=null!=(u!=null),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var f=[];if(o===0)return f;var p=-1,g=s||{first:0,last:o-1},S=g.first,T=g.last;if(T>=o)return console.warn("Invalid render range computing viewability "+JSON.stringify({renderRange:s,itemCount:o})),[];for(var _=S;_<=T;_++){var y=i(_,e);if(y){var E=y.offset-n,P=E+y.length;if(E<r&&P>0)p=_,r3(h,d,E,P,r,y.length)&&f.push(_);else if(p>=0)break}}return f}onUpdate(e,n,r,i,s,o,a){var l=e.getItemCount(e.data);if(!(this._config.waitForInteraction&&!this._hasInteracted||l===0||!i(0,e))){var u=[];if(l&&(u=this.computeViewableItems(e,n,r,i,a)),!(this._viewableIndices.length===u.length&&this._viewableIndices.every((d,f)=>d===u[f])))if(this._viewableIndices=u,this._config.minimumViewTime){var h=setTimeout(()=>{this._timers.delete(h),this._onUpdateSync(e,u,o,s)},this._config.minimumViewTime);this._timers.add(h)}else this._onUpdateSync(e,u,o,s)}}resetViewableIndices(){this._viewableIndices=[]}recordInteraction(){this._hasInteracted=!0}_onUpdateSync(e,n,r,i){n=n.filter(y=>this._viewableIndices.includes(y));for(var s=this._viewableItems,o=new Map(n.map(y=>{var E=i(y,!0,e);return[E.key,E]})),a=[],l=Do(o),u;!(u=l()).done;){var h=u.value,d=h[0],f=h[1];s.has(d)||a.push(f)}for(var p=Do(s),g;!(g=p()).done;){var S=g.value,T=S[0],_=S[1];o.has(T)||a.push(me(me({},_),{},{isViewable:!1}))}a.length>0&&(this._viewableItems=o,r({viewableItems:Array.from(o.values()),changed:a,viewabilityConfig:this._config}))}}function r3(t,e,n,r,i,s){if(s3(n,r,i))return!0;var o=i3(n,r,i),a=100*(t?o/i:o/s);return a>=e}function i3(t,e,n){var r=Math.min(e,n)-Math.max(t,0);return Math.max(0,r)}function s3(t,e,n){return t>=0&&e<=n&&e>t}var xp=C.createContext(null);function o3(t){var e=t.children,n=t.value,r=C.useMemo(()=>({cellKey:null,getScrollMetrics:n.getScrollMetrics,horizontal:n.horizontal,getOutermostParentListRef:n.getOutermostParentListRef,registerAsNestedChild:n.registerAsNestedChild,unregisterAsNestedChild:n.unregisterAsNestedChild}),[n.getScrollMetrics,n.horizontal,n.getOutermostParentListRef,n.registerAsNestedChild,n.unregisterAsNestedChild]);return C.createElement(xp.Provider,{value:r},e)}function Sf(t){var e=t.cellKey,n=t.children,r=C.useContext(xp),i=C.useMemo(()=>r==null?null:me(me({},r),{},{cellKey:e}),[r,e]);return C.createElement(xp.Provider,{value:i},n)}class a3 extends C.Component{constructor(){super(...arguments),this.state={separatorProps:{highlighted:!1,leadingItem:this.props.item}},this._separators={highlight:()=>{var e=this.props,n=e.cellKey,r=e.prevCellKey;this.props.onUpdateSeparators([n,r],{highlighted:!0})},unhighlight:()=>{var e=this.props,n=e.cellKey,r=e.prevCellKey;this.props.onUpdateSeparators([n,r],{highlighted:!1})},updateProps:(e,n)=>{var r=this.props,i=r.cellKey,s=r.prevCellKey;this.props.onUpdateSeparators([e==="leading"?s:i],n)}},this._onLayout=e=>{this.props.onCellLayout&&this.props.onCellLayout(e,this.props.cellKey,this.props.index)}}static getDerivedStateFromProps(e,n){return{separatorProps:me(me({},n.separatorProps),{},{leadingItem:e.item})}}updateSeparatorProps(e){this.setState(n=>({separatorProps:me(me({},n.separatorProps),e)}))}componentWillUnmount(){this.props.onUnmount(this.props.cellKey)}_renderElement(e,n,r,i){if(e&&n&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),n)return C.createElement(n,{item:r,index:i,separators:this._separators});if(e)return e({item:r,index:i,separators:this._separators});pe(!1,"VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.")}render(){var e=this.props,n=e.CellRendererComponent,r=e.ItemSeparatorComponent,i=e.ListItemComponent,s=e.cellKey,o=e.horizontal,a=e.item,l=e.index,u=e.inversionStyle,h=e.onCellFocusCapture,d=e.onCellLayout,f=e.renderItem,p=this._renderElement(f,i,a,l),g=C.isValidElement(r)?r:r&&C.createElement(r,this.state.separatorProps),S=u?o?[fy.rowReverse,u]:[fy.columnReverse,u]:o?[fy.row,u]:u,T=n?C.createElement(n,en({cellKey:s,index:l,item:a,style:S,onFocusCapture:h},d&&{onLayout:this._onLayout}),p,g):C.createElement(X,en({style:S,onFocusCapture:h},d&&{onLayout:this._onLayout}),p,g);return C.createElement(Sf,{cellKey:this.props.cellKey},T)}}var fy=Ae.create({row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"}});function l3(t,e,n,r){r===void 0&&(r=1);for(var i=e.getItemCount(e.data),s=[],o=0;o<t.length;o++)for(var a=t[o],l=0,u=i-1;l<=u;){var h=l+(u-l>>>1),d=n(h,e),f=d.offset*r,p=(d.offset+d.length)*r;if(h===0&&a<f||h!==0&&a<=f)u=h-1;else if(a>p)l=h+1;else{s[o]=h;break}}return s}function u3(t,e){return e.last-e.first+1-Math.max(0,1+Math.min(e.last,t.last)-Math.max(e.first,t.first))}function c3(t,e,n,r,i,s){var o=t.getItemCount(t.data);if(o===0)return{first:0,last:-1};var a=s.offset,l=s.velocity,u=s.visibleLength,h=s.zoomScale,d=h===void 0?1:h,f=Math.max(0,a),p=f+u,g=(n-1)*u,S=.5,T=l>1?"after":l<-1?"before":"none",_=Math.max(0,f-(1-S)*g),y=Math.max(0,p+S*g),E=i(o-1,t).offset*d;if(E<_)return{first:Math.max(0,o-1-e),last:o-1};var P=l3([_,f,p,y],t,i,d),M=P[0],D=P[1],b=P[2],w=P[3];M=M??0,D=D??Math.max(0,M),w=w??o-1,b=b??Math.min(w,D+e-1);for(var R={first:D,last:b},I=u3(r,R);!(D<=M&&b>=w);){var A=I>=e,L=D<=r.first||D>r.last,k=D>M&&(!A||!L),le=b>=r.last||b<r.first,he=b<w&&(!A||!le);if(A&&!k&&!he)break;k&&!(T==="after"&&he&&le)&&(L&&I++,D--),he&&!(T==="before"&&k&&L)&&(le&&I++,b++)}if(!(b>=D&&D>=0&&b<o&&D>=M&&b<=w&&D<=R.first&&b>=R.last))throw new Error("Bad window calculation "+JSON.stringify({first:D,last:b,itemCount:o,overscanFirst:M,overscanLast:w,visible:R}));return{first:D,last:b}}function R_(t,e){return typeof t=="object"&&(t==null?void 0:t.key)!=null?t.key:typeof t=="object"&&(t==null?void 0:t.id)!=null?t.id:String(e)}var Lm={exports:{}};function _k(t,e){if(t!=null)return t;var n=new Error(e!==void 0?e:"Got unexpected "+t);throw n.framesToPop=1,n}Lm.exports=_k;Lm.exports.default=_k;Object.defineProperty(Lm.exports,"__esModule",{value:!0});var h3=Lm.exports;const d3=Fl(h3);var vC=.001,py=!1,my="";function wo(t){return t??!1}function f3(t){return t??10}function gy(t){return t??10}function p3(t){return t??2}function _C(t){return t??2}function wC(t,e){return t*e/2}function m3(t){return t??50}function SC(t){return t??21}function g3(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null}class Wn extends n3{scrollToEnd(e){var n=e?e.animated:!0,r=this.props.getItemCount(this.props.data)-1;if(!(r<0)){var i=this.__getFrameMetricsApprox(r,this.props),s=Math.max(0,i.offset+i.length+this._footerLength-this._scrollMetrics.visibleLength);if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(wo(this.props.horizontal)?{x:s,animated:n}:{y:s,animated:n})}}}scrollToIndex(e){var n=this.props,r=n.data,i=n.horizontal,s=n.getItemCount,o=n.getItemLayout,a=n.onScrollToIndexFailed,l=e.animated,u=e.index,h=e.viewOffset,d=e.viewPosition;if(pe(u>=0,"scrollToIndex out of range: requested index "+u+" but minimum is 0"),pe(s(r)>=1,"scrollToIndex out of range: item length "+s(r)+" but minimum is 1"),pe(u<s(r),"scrollToIndex out of range: requested index "+u+" is out of 0 to "+(s(r)-1)),!o&&u>this._highestMeasuredFrameIndex){pe(!!a,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),a({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:u});return}var f=this.__getFrameMetricsApprox(Math.floor(u),this.props),p=Math.max(0,this._getOffsetApprox(u,this.props)-(d||0)*(this._scrollMetrics.visibleLength-f.length))-(h||0);if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(i?{x:p,animated:l}:{y:p,animated:l})}}scrollToItem(e){for(var n=e.item,r=this.props,i=r.data,s=r.getItem,o=r.getItemCount,a=o(i),l=0;l<a;l++)if(s(i,l)===n){this.scrollToIndex(me(me({},e),{},{index:l}));break}}scrollToOffset(e){var n=e.animated,r=e.offset;if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(wo(this.props.horizontal)?{x:r,animated:n}:{y:r,animated:n})}}recordInteraction(){this._nestedChildLists.forEach(e=>{e.recordInteraction()}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}flashScrollIndicators(){this._scrollRef!=null&&this._scrollRef.flashScrollIndicators()}getScrollResponder(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}getScrollableNode(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():this._scrollRef}getScrollRef(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}_getCellKey(){var e;return((e=this.context)==null?void 0:e.cellKey)||"rootList"}hasMore(){return this._hasMore}constructor(e){var n;if(super(e),this._getScrollMetrics=()=>this._scrollMetrics,this._getOutermostParentListRef=()=>this._isNestedWithSameOrientation()?this.context.getOutermostParentListRef():this,this._registerAsNestedChild=a=>{this._nestedChildLists.add(a.ref,a.cellKey),this._hasInteracted&&a.ref.recordInteraction()},this._unregisterAsNestedChild=a=>{this._nestedChildLists.remove(a.ref)},this._onUpdateSeparators=(a,l)=>{a.forEach(u=>{var h=u!=null&&this._cellRefs[u];h&&h.updateSeparatorProps(l)})},this._getSpacerKey=a=>a?"height":"width",this._averageCellLength=0,this._cellRefs={},this._frames={},this._footerLength=0,this._hasTriggeredInitialScrollToIndex=!1,this._hasInteracted=!1,this._hasMore=!1,this._hasWarned={},this._headerLength=0,this._hiPriInProgress=!1,this._highestMeasuredFrameIndex=0,this._indicesToKeys=new Map,this._lastFocusedCellKey=null,this._nestedChildLists=new e3,this._offsetFromParentVirtualizedList=0,this._prevParentOffset=0,this._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},this._scrollRef=null,this._sentStartForContentLength=0,this._sentEndForContentLength=0,this._totalCellLength=0,this._totalCellsMeasured=0,this._viewabilityTuples=[],this._captureScrollRef=a=>{this._scrollRef=a},this._defaultRenderScrollComponent=a=>{var l=a.onRefresh;if(this._isNestedWithSameOrientation())return C.createElement(X,a);if(l){var u;return pe(typeof a.refreshing=="boolean","`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify((u=a.refreshing)!==null&&u!==void 0?u:"undefined")+"`"),C.createElement(wr,en({},a,{refreshControl:a.refreshControl==null?C.createElement(kU,{refreshing:a.refreshing,onRefresh:l,progressViewOffset:a.progressViewOffset}):a.refreshControl}))}else return C.createElement(wr,a)},this._onCellLayout=(a,l,u)=>{var h=a.nativeEvent.layout,d={offset:this._selectOffset(h),length:this._selectLength(h),index:u,inLayout:!0},f=this._frames[l];!f||d.offset!==f.offset||d.length!==f.length||u!==f.index?(this._totalCellLength+=d.length-(f?f.length:0),this._totalCellsMeasured+=f?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[l]=d,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,u),this._scheduleCellsToRenderUpdate()):this._frames[l].inLayout=!0,this._triggerRemeasureForChildListsInCell(l),this._computeBlankness(),this._updateViewableItems(this.props,this.state.cellsAroundViewport)},this._onCellUnmount=a=>{delete this._cellRefs[a];var l=this._frames[a];l&&(this._frames[a]=me(me({},l),{},{inLayout:!1}))},this._onLayout=a=>{this._isNestedWithSameOrientation()?this.measureLayoutRelativeToContainingList():this._scrollMetrics.visibleLength=this._selectLength(a.nativeEvent.layout),this.props.onLayout&&this.props.onLayout(a),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._onLayoutEmpty=a=>{this.props.onLayout&&this.props.onLayout(a)},this._onLayoutFooter=a=>{this._triggerRemeasureForChildListsInCell(this._getFooterCellKey()),this._footerLength=this._selectLength(a.nativeEvent.layout)},this._onLayoutHeader=a=>{this._headerLength=this._selectLength(a.nativeEvent.layout)},this._onContentSizeChange=(a,l)=>{a>0&&l>0&&this.props.initialScrollIndex!=null&&this.props.initialScrollIndex>0&&!this._hasTriggeredInitialScrollToIndex&&(this.props.contentOffset==null&&(this.props.initialScrollIndex<this.props.getItemCount(this.props.data)?this.scrollToIndex({animated:!1,index:d3(this.props.initialScrollIndex)}):this.scrollToEnd({animated:!1})),this._hasTriggeredInitialScrollToIndex=!0),this.props.onContentSizeChange&&this.props.onContentSizeChange(a,l),this._scrollMetrics.contentLength=this._selectLength({height:l,width:a}),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._convertParentScrollMetrics=a=>{var l=a.offset-this._offsetFromParentVirtualizedList,u=a.visibleLength,h=l-this._scrollMetrics.offset,d=this._scrollMetrics.contentLength;return{visibleLength:u,contentLength:d,offset:l,dOffset:h}},this._onScroll=a=>{this._nestedChildLists.forEach(_=>{_._onScroll(a)}),this.props.onScroll&&this.props.onScroll(a);var l=a.timeStamp,u=this._selectLength(a.nativeEvent.layoutMeasurement),h=this._selectLength(a.nativeEvent.contentSize),d=this._selectOffset(a.nativeEvent.contentOffset),f=d-this._scrollMetrics.offset;if(this._isNestedWithSameOrientation()){if(this._scrollMetrics.contentLength===0)return;var p=this._convertParentScrollMetrics({visibleLength:u,offset:d});u=p.visibleLength,h=p.contentLength,d=p.offset,f=p.dOffset}var g=this._scrollMetrics.timestamp?Math.max(1,l-this._scrollMetrics.timestamp):1,S=f/g;g>500&&this._scrollMetrics.dt>500&&h>5*u&&!this._hasWarned.perf&&(JU("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:g,prevDt:this._scrollMetrics.dt,contentLength:h}),this._hasWarned.perf=!0);var T=a.nativeEvent.zoomScale<0?1:a.nativeEvent.zoomScale;this._scrollMetrics={contentLength:h,dt:g,dOffset:f,offset:d,timestamp:l,velocity:S,visibleLength:u,zoomScale:T},this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.props&&(this._maybeCallOnEdgeReached(),S!==0&&this._fillRateHelper.activate(),this._computeBlankness(),this._scheduleCellsToRenderUpdate())},this._onScrollBeginDrag=a=>{this._nestedChildLists.forEach(l=>{l._onScrollBeginDrag(a)}),this._viewabilityTuples.forEach(l=>{l.viewabilityHelper.recordInteraction()}),this._hasInteracted=!0,this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(a)},this._onScrollEndDrag=a=>{this._nestedChildLists.forEach(u=>{u._onScrollEndDrag(a)});var l=a.nativeEvent.velocity;l&&(this._scrollMetrics.velocity=this._selectOffset(l)),this._computeBlankness(),this.props.onScrollEndDrag&&this.props.onScrollEndDrag(a)},this._onMomentumScrollBegin=a=>{this._nestedChildLists.forEach(l=>{l._onMomentumScrollBegin(a)}),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(a)},this._onMomentumScrollEnd=a=>{this._nestedChildLists.forEach(l=>{l._onMomentumScrollEnd(a)}),this._scrollMetrics.velocity=0,this._computeBlankness(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(a)},this._updateCellsToRender=()=>{this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.setState((a,l)=>{var u=this._adjustCellsAroundViewport(l,a.cellsAroundViewport),h=Wn._createRenderMask(l,u,this._getNonViewportRenderRegions(l));return u.first===a.cellsAroundViewport.first&&u.last===a.cellsAroundViewport.last&&h.equals(a.renderMask)?null:{cellsAroundViewport:u,renderMask:h}})},this._createViewToken=(a,l,u)=>{var h=u.data,d=u.getItem,f=d(h,a);return{index:a,item:f,key:this._keyExtractor(f,a,u),isViewable:l}},this._getOffsetApprox=(a,l)=>{if(Number.isInteger(a))return this.__getFrameMetricsApprox(a,l).offset;var u=this.__getFrameMetricsApprox(Math.floor(a),l),h=a-Math.floor(a);return u.offset+h*u.length},this.__getFrameMetricsApprox=(a,l)=>{var u=this._getFrameMetrics(a,l);if(u&&u.index===a)return u;var h=l.data,d=l.getItemCount,f=l.getItemLayout;return pe(a>=0&&a<d(h),"Tried to get frame for out of range index "+a),pe(!f,"Should not have to estimate frames when a measurement metrics function is provided"),{length:this._averageCellLength,offset:this._averageCellLength*a}},this._getFrameMetrics=(a,l)=>{var u=l.data,h=l.getItem,d=l.getItemCount,f=l.getItemLayout;pe(a>=0&&a<d(u),"Tried to get frame for out of range index "+a);var p=h(u,a),g=this._frames[this._keyExtractor(p,a,l)];return(!g||g.index!==a)&&f?f(u,a):g},this._getNonViewportRenderRegions=a=>{if(!(this._lastFocusedCellKey&&this._cellRefs[this._lastFocusedCellKey]))return[];var l=this._cellRefs[this._lastFocusedCellKey],u=l.props.index,h=a.getItemCount(a.data);if(u>=h||this._keyExtractor(a.getItem(a.data,u),u,a)!==this._lastFocusedCellKey)return[];for(var d=u,f=0,p=d-1;p>=0&&f<this._scrollMetrics.visibleLength;p--)d--,f+=this.__getFrameMetricsApprox(p,a).length;for(var g=u,S=0,T=g+1;T<h&&S<this._scrollMetrics.visibleLength;T++)g++,S+=this.__getFrameMetricsApprox(T,a).length;return[{first:d,last:g}]},this._checkProps(e),this._fillRateHelper=new t3(this._getFrameMetrics),this._updateCellsToRenderBatcher=new QU(this._updateCellsToRender,(n=this.props.updateCellsBatchingPeriod)!==null&&n!==void 0?n:50),this.props.viewabilityConfigCallbackPairs)this._viewabilityTuples=this.props.viewabilityConfigCallbackPairs.map(a=>({viewabilityHelper:new yC(a.viewabilityConfig),onViewableItemsChanged:a.onViewableItemsChanged}));else{var r=this.props,i=r.onViewableItemsChanged,s=r.viewabilityConfig;i&&this._viewabilityTuples.push({viewabilityHelper:new yC(s),onViewableItemsChanged:i})}var o=Wn._initialRenderRegion(e);this.state={cellsAroundViewport:o,renderMask:Wn._createRenderMask(e,o)},this.invertedWheelEventHandler=a=>{var l=this.props.horizontal?a.target.scrollLeft:a.target.scrollTop,u=this.props.horizontal?a.target.scrollWidth:a.target.scrollHeight,h=this.props.horizontal?a.target.clientWidth:a.target.clientHeight,d=u>h,f=this.props.horizontal?a.deltaX||a.wheelDeltaX:a.deltaY||a.wheelDeltaY,p=f;d&&(p=f<0?Math.min(f+l,0):Math.max(f-(u-h-l),0));var g=f-p;if(this.props.inverted&&this._scrollRef&&this._scrollRef.getScrollableNode){var S=this._scrollRef.getScrollableNode();if(this.props.horizontal){a.target.scrollLeft+=g;var T=S.scrollLeft-p;S.scrollLeft=this.props.getItemLayout?T:Math.min(T,this._totalCellLength)}else{a.target.scrollTop+=g;var _=S.scrollTop-p;S.scrollTop=this.props.getItemLayout?_:Math.min(_,this._totalCellLength)}a.preventDefault()}}}_checkProps(e){var n=e.onScroll,r=e.windowSize,i=e.getItemCount,s=e.data,o=e.initialScrollIndex;pe(!n||!n.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),pe(SC(r)>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),pe(i,'VirtualizedList: The "getItemCount" prop must be provided');var a=i(s);o!=null&&!this._hasTriggeredInitialScrollToIndex&&(o<0||a>0&&o>=a)&&!this._hasWarned.initialScrollIndex&&(console.warn('initialScrollIndex "'+o+'" is not valid (list has '+a+" items)"),this._hasWarned.initialScrollIndex=!0)}static _createRenderMask(e,n,r){var i=e.getItemCount(e.data);pe(n.first>=0&&n.last>=n.first-1&&n.last<i,'Invalid cells around viewport "['+n.first+", "+n.last+']" was passed to VirtualizedList._createRenderMask');var s=new ZU(i);if(i>0){for(var o=[n,...r??[]],a=0,l=o;a<l.length;a++){var u=l[a];s.addCells(u)}if(e.initialScrollIndex==null||e.initialScrollIndex<=0){var h=Wn._initialRenderRegion(e);s.addCells(h)}var d=new Set(e.stickyHeaderIndices);Wn._ensureClosestStickyHeader(e,d,s,n.first)}return s}static _initialRenderRegion(e){var n,r=e.getItemCount(e.data),i=Math.max(0,Math.min(r-1,Math.floor((n=e.initialScrollIndex)!==null&&n!==void 0?n:0))),s=Math.min(r,i+f3(e.initialNumToRender))-1;return{first:i,last:s}}static _ensureClosestStickyHeader(e,n,r,i){for(var s=e.ListHeaderComponent?1:0,o=i-1;o>=0;o--)if(n.has(o+s)){r.addCells({first:o,last:o});break}}_adjustCellsAroundViewport(e,n){var r=e.data,i=e.getItemCount,s=_C(e.onEndReachedThreshold),o=this._scrollMetrics,a=o.contentLength,l=o.offset,u=o.visibleLength,h=a-u-l;if(u<=0||a<=0)return n.last>=i(r)?Wn._constrainToItemCount(n,e):n;var d;if(e.disableVirtualization){var f=h<s*u?gy(e.maxToRenderPerBatch):0;d={first:0,last:Math.min(n.last+f,i(r)-1)}}else{if(e.initialScrollIndex&&!this._scrollMetrics.offset&&Math.abs(h)>=Number.EPSILON)return n.last>=i(r)?Wn._constrainToItemCount(n,e):n;d=c3(e,gy(e.maxToRenderPerBatch),SC(e.windowSize),n,this.__getFrameMetricsApprox,this._scrollMetrics),pe(d.last<i(r),"computeWindowedRenderLimits() should return range in-bounds")}if(this._nestedChildLists.size()>0){var p=this._findFirstChildWithMore(d.first,d.last);d.last=p??d.last}return d}_findFirstChildWithMore(e,n){for(var r=e;r<=n;r++){var i=this._indicesToKeys.get(r);if(i!=null&&this._nestedChildLists.anyInCell(i,s=>s.hasMore()))return r}return null}componentDidMount(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey}),this.setupWebWheelHandler()}componentWillUnmount(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}setupWebWheelHandler(){if(this._scrollRef&&this._scrollRef.getScrollableNode)this._scrollRef.getScrollableNode().addEventListener("wheel",this.invertedWheelEventHandler);else{setTimeout(()=>this.setupWebWheelHandler(),50);return}}teardownWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener("wheel",this.invertedWheelEventHandler)}static getDerivedStateFromProps(e,n){var r=e.getItemCount(e.data);if(r===n.renderMask.numCells())return n;var i=Wn._constrainToItemCount(n.cellsAroundViewport,e);return{cellsAroundViewport:i,renderMask:Wn._createRenderMask(e,i)}}_pushCells(e,n,r,i,s,o){var a=this,l=this.props,u=l.CellRendererComponent,h=l.ItemSeparatorComponent,d=l.ListHeaderComponent,f=l.ListItemComponent,p=l.data,g=l.debug,S=l.getItem,T=l.getItemCount,_=l.getItemLayout,y=l.horizontal,E=l.renderItem,P=d?1:0,M=T(p)-1,D;s=Math.min(M,s);for(var b=function(){var I=S(p,w),A=a._keyExtractor(I,w,a.props);a._indicesToKeys.set(w,A),r.has(w+P)&&n.push(e.length);var L=_==null||g||a._fillRateHelper.enabled();e.push(C.createElement(a3,en({CellRendererComponent:u,ItemSeparatorComponent:w<M?h:void 0,ListItemComponent:f,cellKey:A,horizontal:y,index:w,inversionStyle:o,item:I,key:A,prevCellKey:D,onUpdateSeparators:a._onUpdateSeparators,onCellFocusCapture:k=>a._onCellFocusCapture(A),onUnmount:a._onCellUnmount,ref:k=>{a._cellRefs[A]=k},renderItem:E},L&&{onCellLayout:a._onCellLayout}))),D=A},w=i;w<=s;w++)b()}static _constrainToItemCount(e,n){var r=n.getItemCount(n.data),i=Math.min(r-1,e.last),s=gy(n.maxToRenderPerBatch);return{first:pC(0,r-1-s,e.first),last:i}}_isNestedWithSameOrientation(){var e=this.context;return!!(e&&!!e.horizontal===wo(this.props.horizontal))}_keyExtractor(e,n,r){if(r.keyExtractor!=null)return r.keyExtractor(e,n);var i=R_(e,n);return i===String(n)&&(py=!0,e.type&&e.type.displayName&&(my=e.type.displayName)),i}render(){this._checkProps(this.props);var e=this.props,n=e.ListEmptyComponent,r=e.ListFooterComponent,i=e.ListHeaderComponent,s=this.props,o=s.data,a=s.horizontal,l=this.props.inverted?wo(this.props.horizontal)?dr.horizontallyInverted:dr.verticallyInverted:null,u=[],h=new Set(this.props.stickyHeaderIndices),d=[];if(i){h.has(0)&&d.push(0);var f=C.isValidElement(i)?i:C.createElement(i,null);u.push(C.createElement(Sf,{cellKey:this._getCellKey()+"-header",key:"$header"},C.createElement(X,{onLayout:this._onLayoutHeader,style:[l,this.props.ListHeaderComponentStyle]},f)))}var p=this.props.getItemCount(o);if(p===0&&n){var g=C.isValidElement(n)?n:C.createElement(n,null);u.push(C.createElement(Sf,{cellKey:this._getCellKey()+"-empty",key:"$empty"},C.cloneElement(g,{onLayout:he=>{this._onLayoutEmpty(he),g.props.onLayout&&g.props.onLayout(he)},style:[l,g.props.style]})))}if(p>0){py=!1,my="";for(var S=this._getSpacerKey(!a),T=this.state.renderMask.enumerateRegions(),_=g3(T,he=>he.isSpacer),y=Do(T),E;!(E=y()).done;){var P=E.value;if(P.isSpacer){if(this.props.disableVirtualization)continue;var M=P===_,D=M&&!this.props.getItemLayout,b=D?pC(P.first-1,P.last,this._highestMeasuredFrameIndex):P.last,w=this.__getFrameMetricsApprox(P.first,this.props),R=this.__getFrameMetricsApprox(b,this.props),I=R.offset+R.length-w.offset;u.push(C.createElement(X,{key:"$spacer-"+P.first,style:{[S]:I}}))}else this._pushCells(u,d,h,P.first,P.last,l)}!this._hasWarned.keys&&py&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",my),this._hasWarned.keys=!0)}if(r){var A=C.isValidElement(r)?r:C.createElement(r,null);u.push(C.createElement(Sf,{cellKey:this._getFooterCellKey(),key:"$footer"},C.createElement(X,{onLayout:this._onLayoutFooter,style:[l,this.props.ListFooterComponentStyle]},A)))}var L=me(me({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:m3(this.props.scrollEventThrottle),invertStickyHeaders:this.props.invertStickyHeaders!==void 0?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:d,style:l?[l,this.props.style]:this.props.style});this._hasMore=this.state.cellsAroundViewport.last<p-1;var k=C.createElement(o3,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:wo(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}},C.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(L),{ref:this._captureScrollRef},u)),le=k;return this.props.debug?C.createElement(X,{style:dr.debug},le,this._renderDebugOverlay()):le}componentDidUpdate(e){var n=this.props,r=n.data,i=n.extraData;(r!==e.data||i!==e.extraData)&&this._viewabilityTuples.forEach(o=>{o.viewabilityHelper.resetViewableIndices()});var s=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),s&&(this._hiPriInProgress=!1)}_computeBlankness(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}_onCellFocusCapture(e){this._lastFocusedCellKey=e,this._updateCellsToRender()}_triggerRemeasureForChildListsInCell(e){this._nestedChildLists.forEachInCell(e,n=>{n.measureLayoutRelativeToContainingList()})}measureLayoutRelativeToContainingList(){try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),(e,n,r,i)=>{this._offsetFromParentVirtualizedList=this._selectOffset({x:e,y:n}),this._scrollMetrics.contentLength=this._selectLength({width:r,height:i});var s=this._convertParentScrollMetrics(this.context.getScrollMetrics()),o=this._scrollMetrics.visibleLength!==s.visibleLength||this._scrollMetrics.offset!==s.offset;o&&(this._scrollMetrics.visibleLength=s.visibleLength,this._scrollMetrics.offset=s.offset,this._nestedChildLists.forEach(a=>{a.measureLayoutRelativeToContainingList()}))},e=>{console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(e){console.warn("measureLayoutRelativeToContainingList threw an error",e.stack)}}_getFooterCellKey(){return this._getCellKey()+"-footer"}_renderDebugOverlay(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),n=[],r=this.props.getItemCount(this.props.data),i=0;i<r;i++){var s=this.__getFrameMetricsApprox(i,this.props);s.inLayout&&n.push(s)}var o=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,a=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last,this.props),l=a.offset+a.length-o,u=this._scrollMetrics.offset,h=this._scrollMetrics.visibleLength;return C.createElement(X,{style:[dr.debugOverlayBase,dr.debugOverlay]},n.map((d,f)=>C.createElement(X,{key:"f"+f,style:[dr.debugOverlayBase,dr.debugOverlayFrame,{top:d.offset*e,height:d.length*e}]})),C.createElement(X,{style:[dr.debugOverlayBase,dr.debugOverlayFrameLast,{top:o*e,height:l*e}]}),C.createElement(X,{style:[dr.debugOverlayBase,dr.debugOverlayFrameVis,{top:u*e,height:h*e}]}))}_selectLength(e){return wo(this.props.horizontal)?e.width:e.height}_selectOffset(e){return wo(this.props.horizontal)?e.x:e.y}_maybeCallOnEdgeReached(){var e=this.props,n=e.data,r=e.getItemCount,i=e.onStartReached,s=e.onStartReachedThreshold,o=e.onEndReached,a=e.onEndReachedThreshold,l=e.initialScrollIndex,u=this._scrollMetrics,h=u.contentLength,d=u.visibleLength,f=u.offset,p=f,g=h-d-f;p<vC&&(p=0),g<vC&&(g=0);var S=2,T=s!=null?s*d:S,_=a!=null?a*d:S,y=p<=T,E=g<=_;o&&this.state.cellsAroundViewport.last===r(n)-1&&E&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,o({distanceFromEnd:g})):i!=null&&this.state.cellsAroundViewport.first===0&&y&&this._scrollMetrics.contentLength!==this._sentStartForContentLength?(!l||this._scrollMetrics.timestamp!==0)&&(this._sentStartForContentLength=this._scrollMetrics.contentLength,i({distanceFromStart:p})):(this._sentStartForContentLength=y?this._sentStartForContentLength:0,this._sentEndForContentLength=E?this._sentEndForContentLength:0)}_scheduleCellsToRenderUpdate(){var e=this.state.cellsAroundViewport,n=e.first,r=e.last,i=this._scrollMetrics,s=i.offset,o=i.visibleLength,a=i.velocity,l=this.props.getItemCount(this.props.data),u=!1,h=p3(this.props.onStartReachedThreshold),d=_C(this.props.onEndReachedThreshold);if(n>0){var f=s-this.__getFrameMetricsApprox(n,this.props).offset;u=f<0||a<-2&&f<wC(h,o)}if(!u&&r>=0&&r<l-1){var p=this.__getFrameMetricsApprox(r,this.props).offset-(s+o);u=p<0||a>2&&p<wC(d,o)}if(u&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress){this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),this._updateCellsToRender();return}else this._updateCellsToRenderBatcher.schedule()}_updateViewableItems(e,n){this._viewabilityTuples.forEach(r=>{r.viewabilityHelper.onUpdate(e,this._scrollMetrics.offset,this._scrollMetrics.visibleLength,this._getFrameMetrics,this._createViewToken,r.onViewableItemsChanged,n)})}}Wn.contextType=xp;var dr=Ae.create({verticallyInverted:{transform:"scaleY(-1)"},horizontallyInverted:{transform:"scaleX(-1)"},debug:{flex:1},debugOverlayBase:{position:"absolute",top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:"blue",borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:"orange"},debugOverlayFrameLast:{left:0,borderColor:"green",borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:"red",borderWidth:2}}),EC=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function y3(t,e){return!!(t===e||EC(t)&&EC(e))}function v3(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!y3(t[n],e[n]))return!1;return!0}function _3(t,e){e===void 0&&(e=v3);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var w3=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function S3(t){return t??P$.OS==="android"}function So(t){return t??1}function E3(t){return typeof Object(t).length=="number"}class T3 extends C.PureComponent{scrollToEnd(e){this._listRef&&this._listRef.scrollToEnd(e)}scrollToIndex(e){this._listRef&&this._listRef.scrollToIndex(e)}scrollToItem(e){this._listRef&&this._listRef.scrollToItem(e)}scrollToOffset(e){this._listRef&&this._listRef.scrollToOffset(e)}recordInteraction(){this._listRef&&this._listRef.recordInteraction()}flashScrollIndicators(){this._listRef&&this._listRef.flashScrollIndicators()}getScrollResponder(){if(this._listRef)return this._listRef.getScrollResponder()}getNativeScrollRef(){if(this._listRef)return this._listRef.getScrollRef()}getScrollableNode(){if(this._listRef)return this._listRef.getScrollableNode()}constructor(e){super(e),this._virtualizedListPairs=[],this._captureRef=n=>{this._listRef=n},this._getItem=(n,r)=>{var i=So(this.props.numColumns);if(i>1){for(var s=[],o=0;o<i;o++){var a=r*i+o;if(a<n.length){var l=n[a];s.push(l)}}return s}else return n[r]},this._getItemCount=n=>{if(n!=null&&E3(n)){var r=So(this.props.numColumns);return r>1?Math.ceil(n.length/r):n.length}else return 0},this._keyExtractor=(n,r)=>{var i,s=So(this.props.numColumns),o=(i=this.props.keyExtractor)!==null&&i!==void 0?i:R_;return s>1?(pe(Array.isArray(n),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",s),n.map((a,l)=>o(a,r*s+l)).join(":")):o(n,r)},this._renderer=(n,r,i,s,o)=>{var a=So(s),l=h=>n?C.createElement(n,h):r?r(h):null,u=h=>{if(a>1){var d=h.item,f=h.index;return pe(Array.isArray(d),"Expected array of items with numColumns > 1"),C.createElement(X,{style:[b3.row,i]},d.map((p,g)=>{var S=l({item:p,index:f*a+g,separators:h.separators});return S!=null?C.createElement(C.Fragment,{key:g},S):null}))}else return l(h)};return n?{ListItemComponent:u}:{renderItem:u}},this._memoizedRenderer=_3(this._renderer),this._checkProps(this.props),this.props.viewabilityConfigCallbackPairs?this._virtualizedListPairs=this.props.viewabilityConfigCallbackPairs.map(n=>({viewabilityConfig:n.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(n.onViewableItemsChanged)})):this.props.onViewableItemsChanged&&this._virtualizedListPairs.push({viewabilityConfig:this.props.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(this.props.onViewableItemsChanged)})}componentDidUpdate(e){pe(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),pe(e.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),pe(!RU(e.viewabilityConfig,this.props.viewabilityConfig),"Changing viewabilityConfig on the fly is not supported"),pe(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(this.props)}_checkProps(e){var n=e.getItem,r=e.getItemCount,i=e.horizontal,s=e.columnWrapperStyle,o=e.onViewableItemsChanged,a=e.viewabilityConfigCallbackPairs,l=So(this.props.numColumns);pe(!n&&!r,"FlatList does not support custom data formats."),l>1?pe(!i,"numColumns does not support horizontal."):pe(!s,"columnWrapperStyle not supported for single column lists"),pe(!(o&&a),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}_pushMultiColumnViewable(e,n){var r,i=So(this.props.numColumns),s=(r=this.props.keyExtractor)!==null&&r!==void 0?r:R_;n.item.forEach((o,a)=>{pe(n.index!=null,"Missing index!");var l=n.index*i+a;e.push(me(me({},n),{},{item:o,key:s(o,l),index:l}))})}_createOnViewableItemsChanged(e){return n=>{var r=So(this.props.numColumns);if(e)if(r>1){var i=[],s=[];n.viewableItems.forEach(o=>this._pushMultiColumnViewable(s,o)),n.changed.forEach(o=>this._pushMultiColumnViewable(i,o)),e({viewableItems:s,changed:i})}else e(n)}}render(){var e=this.props,n=e.numColumns,r=e.columnWrapperStyle,i=e.removeClippedSubviews,s=e.strictMode,o=s===void 0?!1:s,a=En(e,w3),l=o?this._memoizedRenderer:this._renderer;return C.createElement(Wn,en({},a,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:S3(i)},l(this.props.ListItemComponent,this.props.renderItem,r,n,this.props.extraData)))}}var b3=Ae.create({row:{flexDirection:"row"}}),C3=[];function wk(t){return C3[t-1]}var R3=/^data:/;class On{static has(e){var n=On._entries,r=R3.test(e);return r||!!n[e]}static add(e){var n=On._entries,r=Date.now();n[e]?(n[e].lastUsedTimestamp=r,n[e].refCount+=1):n[e]={lastUsedTimestamp:r,refCount:1}}static remove(e){var n=On._entries;n[e]&&(n[e].refCount-=1),On._cleanUpIfNeeded()}static _cleanUpIfNeeded(){var e=On._entries,n=Object.keys(e);if(n.length+1>On._maximumEntries){var r,i;n.forEach(s=>{var o=e[s];(!i||o.lastUsedTimestamp<i.lastUsedTimestamp)&&o.refCount===0&&(r=s,i=o)}),r&&delete e[r]}}}On._maximumEntries=256;On._entries={};var yy=0,Fd={},Kr={abort(t){var e=Fd[""+t];e&&(e.onerror=null,e.onload=null,e=null,delete Fd[""+t])},getSize(t,e,n){var r=!1,i=setInterval(o,16),s=Kr.load(t,o,a);function o(){var l=Fd[""+s];if(l){var u=l.naturalHeight,h=l.naturalWidth;u&&h&&(e(h,u),r=!0)}r&&(Kr.abort(s),clearInterval(i))}function a(){typeof n=="function"&&n(),Kr.abort(s),clearInterval(i)}},has(t){return On.has(t)},load(t,e,n){yy+=1;var r=new window.Image;return r.onerror=n,r.onload=i=>{var s=()=>e({nativeEvent:i});typeof r.decode=="function"?r.decode().then(s,s):setTimeout(s,0)},r.src=t,Fd[""+yy]=r,yy},prefetch(t){return new Promise((e,n)=>{Kr.load(t,()=>{On.add(t),On.remove(t),e()},n)})},queryCache(t){var e={};return t.forEach(n=>{On.has(n)&&(e[n]="disk/memory")}),Promise.resolve(e)}};class _c{static get(){return Tp.get("window").scale}static getFontScale(){return Tp.get("window").fontScale||_c.get()}static getPixelSizeForLayoutSize(e){return Math.round(e*_c.get())}static roundToNearestPixel(e){var n=_c.get();return Math.round(e*n)/n}}var I3=["aria-label","accessibilityLabel","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"],x3="ERRORED",vy="LOADED",TC="LOADING",A3="IDLE",P3=0,k3=/^(data:image\/svg\+xml;utf8,)(.*)/;function O3(t,e){return t&&e!=null?C.createElement("svg",{style:{position:"absolute",height:0,visibility:"hidden",width:0}},C.createElement("defs",null,C.createElement("filter",{id:"tint-"+e,suppressHydrationWarning:!0},C.createElement("feFlood",{floodColor:""+t,key:t}),C.createElement("feComposite",{in2:"SourceAlpha",operator:"in"})))):null}function D3(t,e,n,r){var i=Ae.flatten(t),s=i.filter,o=i.resizeMode,a=i.shadowOffset,l=i.tintColor;i.resizeMode,i.tintColor;var u=[],h=null;if(s&&u.push(s),e&&u.push("blur("+e+"px)"),a){var d=J1(i);d&&u.push("drop-shadow("+d+")")}return(r||l)&&n!=null&&u.push("url(#tint-"+n+")"),u.length>0&&(h=u.join(" ")),[o,h,l]}function M3(t){if(typeof t=="number"){var e=wk(t),n=e.height,r=e.width;return{height:n,width:r}}else if(t!=null&&!Array.isArray(t)&&typeof t=="object"){var i=t.height,s=t.width;return{height:i,width:s}}}function _y(t){var e=null;if(typeof t=="number"){var n=wk(t);if(n==null)throw new Error('Image: asset with ID "'+t+'" could not be found. Please check the image source or packager.');var r=n.scales[0];if(n.scales.length>1){var i=_c.get();r=n.scales.reduce((h,d)=>Math.abs(d-i)<Math.abs(h-i)?d:h)}var s=r!==1?"@"+r+"x":"";e=n?n.httpServerLocation+"/"+n.name+s+"."+n.type:""}else typeof t=="string"?e=t:t&&typeof t.uri=="string"&&(e=t.uri);if(e){var o=e.match(k3);if(o){var a=o[1],l=o[2],u=encodeURIComponent(l);return""+a+u}}return e}var Sk=C.forwardRef((t,e)=>{var n=t["aria-label"],r=t.accessibilityLabel,i=t.blurRadius,s=t.defaultSource,o=t.draggable,a=t.onError,l=t.onLayout,u=t.onLoad,h=t.onLoadEnd,d=t.onLoadStart,f=t.pointerEvents,p=t.source,g=t.style,S=En(t,I3),T=n||r,_=C.useState(()=>{var je=_y(p);if(je!=null){var Ct=Kr.has(je);if(Ct)return vy}return A3}),y=_[0],E=_[1],P=C.useState({}),M=P[0],D=P[1],b=C.useContext(Ep),w=C.useRef(null),R=C.useRef(P3++),I=C.useRef(null),A=y===vy||y===TC&&s==null,L=D3(g,i,R.current,t.tintColor),k=L[0],le=L[1],he=L[2],Me=t.resizeMode||k||"cover",be=t.tintColor||he,$=A?p:s,Y=_y($),ee=M3($),ye=Y?'url("'+Y+'")':null,Ie=nt(),nn=Y?Ul("img",{alt:T||"",style:Lu.accessibilityImage$raw,draggable:o||!1,ref:w,src:Y}):null;function nt(){if(w.current!=null&&(Me==="center"||Me==="repeat")){var je=w.current,Ct=je.naturalHeight,Tn=je.naturalWidth,ai=M.height,qi=M.width;if(Ct&&Tn&&ai&&qi){var sr=Math.min(1,qi/Tn,ai/Ct),Pr=Math.ceil(sr*Tn),jn=Math.ceil(sr*Ct);return Pr+"px "+jn+"px"}}}function Mt(je){if(Me==="center"||Me==="repeat"||l){var Ct=je.nativeEvent.layout;l&&l(je),D(Ct)}}var ot=_y(p);return C.useEffect(()=>{je(),ot!=null&&(E(TC),d&&d(),I.current=Kr.load(ot,function(Tn){E(vy),u&&u(Tn),h&&h()},function(){E(x3),a&&a({nativeEvent:{error:"Failed to load resource "+ot}}),h&&h()}));function je(){I.current!=null&&(Kr.abort(I.current),I.current=null)}return je},[ot,I,E,a,u,h,d]),C.createElement(X,en({},S,{"aria-label":T,onLayout:Mt,pointerEvents:f,ref:e,style:[Lu.root,b&&Lu.inline,ee,g,Lu.undo,{boxShadow:null}]}),C.createElement(X,{style:[Lu.image,L3[Me],{backgroundImage:ye,filter:le},Ie!=null&&{backgroundSize:Ie}],suppressHydrationWarning:!0}),nn,O3(be,R.current))});Sk.displayName="Image";var Cr=Sk;Cr.getSize=function(t,e,n){Kr.getSize(t,e,n)};Cr.prefetch=function(t){return Kr.prefetch(t)};Cr.queryCache=function(t){return Kr.queryCache(t)};var Lu=Ae.create({root:{flexBasis:"auto",overflow:"hidden",zIndex:0},inline:{display:"inline-flex"},undo:{blurRadius:null,shadowColor:null,shadowOpacity:null,shadowOffset:null,shadowRadius:null,tintColor:null,overlayColor:null,resizeMode:null},image:me(me({},Ae.absoluteFillObject),{},{backgroundColor:"transparent",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",width:"100%",zIndex:-1}),accessibilityImage$raw:me(me({},Ae.absoluteFillObject),{},{height:"100%",opacity:0,width:"100%",zIndex:-1})}),L3=Ae.create({center:{backgroundSize:"auto"},contain:{backgroundSize:"contain"},cover:{backgroundSize:"cover"},none:{backgroundPosition:"0",backgroundSize:"auto"},repeat:{backgroundPosition:"0",backgroundRepeat:"repeat",backgroundSize:"auto"},stretch:{backgroundSize:"100% 100%"}}),N3=["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"],V3=Object.assign({},H0,q0,K0,G0,X0,Y0,Q0,J0,{href:!0,lang:!0,pointerEvents:!0}),F3=t=>Z0(t,V3),H=C.forwardRef((t,e)=>{var n=t.hrefAttrs,r=t.numberOfLines,i=t.onClick,s=t.onLayout,o=t.onPress,a=t.onMoveShouldSetResponder,l=t.onMoveShouldSetResponderCapture,u=t.onResponderEnd,h=t.onResponderGrant,d=t.onResponderMove,f=t.onResponderReject,p=t.onResponderRelease,g=t.onResponderStart,S=t.onResponderTerminate,T=t.onResponderTerminationRequest,_=t.onScrollShouldSetResponder,y=t.onScrollShouldSetResponderCapture,E=t.onSelectionChangeShouldSetResponder,P=t.onSelectionChangeShouldSetResponderCapture,M=t.onStartShouldSetResponder,D=t.onStartShouldSetResponderCapture,b=t.selectable,w=En(t,N3),R=C.useContext(Ep),I=C.useRef(null),A=W0(),L=A.direction;eS(I,s),rS(I,{onMoveShouldSetResponder:a,onMoveShouldSetResponderCapture:l,onResponderEnd:u,onResponderGrant:h,onResponderMove:d,onResponderReject:f,onResponderRelease:p,onResponderStart:g,onResponderTerminate:S,onResponderTerminationRequest:T,onScrollShouldSetResponder:_,onScrollShouldSetResponderCapture:y,onSelectionChangeShouldSetResponder:E,onSelectionChangeShouldSetResponderCapture:P,onStartShouldSetResponder:M,onStartShouldSetResponderCapture:D});var k=C.useCallback(Mt=>{i!=null?i(Mt):o!=null&&(Mt.stopPropagation(),o(Mt))},[i,o]),le=R?"span":"div",he=t.lang!=null?Dm(t.lang):null,Me=t.dir||he,be=Me||L,$=F3(w);if($.dir=Me,R||($.dir=Me??"auto"),(i||o)&&($.onClick=k),$.style=[r!=null&&r>1&&{WebkitLineClamp:r},R===!0?Eo.textHasAncestor$raw:Eo.text$raw,r===1&&Eo.textOneLine,r!=null&&r>1&&Eo.textMultiLine,t.style,b===!0&&Eo.selectable,b===!1&&Eo.notSelectable,o&&Eo.pressable],t.href!=null&&(le="a",n!=null)){var Y=n.download,ee=n.rel,ye=n.target;Y!=null&&($.download=Y),ee!=null&&($.rel=ee),typeof ye=="string"&&($.target=ye.charAt(0)!=="_"?"_"+ye:ye)}var Ie=tS($),nn=Eh(I,Ie,e);$.ref=nn;var nt=Ul(le,$,{writingDirection:be});return R?nt:C.createElement(Ep.Provider,{value:!0},nt)});H.displayName="Text";var bC={backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",listStyle:"none",margin:0,padding:0,position:"relative",textAlign:"start",textDecoration:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},Eo=Ae.create({text$raw:bC,textHasAncestor$raw:me(me({},bC),{},{color:"inherit",font:"inherit",textAlign:"inherit",whiteSpace:"inherit"}),textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}}),B3=["animating","color","hidesWhenStopped","size","style"],CC=t=>C.createElement("circle",{cx:"16",cy:"16",fill:"none",r:"14",strokeWidth:"4",style:t}),Th=C.forwardRef((t,e)=>{var n=t.animating,r=n===void 0?!0:n,i=t.color,s=i===void 0?"#1976D2":i,o=t.hidesWhenStopped,a=o===void 0?!0:o,l=t.size,u=l===void 0?"small":l,h=t.style,d=En(t,B3),f=C.createElement("svg",{height:"100%",viewBox:"0 0 32 32",width:"100%"},CC({stroke:s,opacity:.2}),CC({stroke:s,strokeDasharray:80,strokeDashoffset:60}));return C.createElement(X,en({},d,{"aria-valuemax":1,"aria-valuemin":0,ref:e,role:"progressbar",style:[Bd.container,h]}),C.createElement(X,{children:f,style:[typeof u=="number"?{height:u,width:u}:j3[u],Bd.animation,!r&&Bd.animationPause,!r&&a&&Bd.hidesWhenStopped]}))});Th.displayName="ActivityIndicator";var Bd=Ae.create({container:{alignItems:"center",justifyContent:"center"},hidesWhenStopped:{visibility:"hidden"},animation:{animationDuration:"0.75s",animationKeyframes:[{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}],animationTimingFunction:"linear",animationIterationCount:"infinite"},animationPause:{animationPlayState:"paused"}}),j3=Ae.create({small:{width:20,height:20},large:{width:36,height:36}}),RC="DELAY",pr="ERROR",IC="LONG_PRESS_DETECTED",sn="NOT_RESPONDER",xl="RESPONDER_ACTIVE_LONG_PRESS_START",Nm="RESPONDER_ACTIVE_PRESS_START",I_="RESPONDER_INACTIVE_PRESS_START",$3="RESPONDER_GRANT",Ef="RESPONDER_RELEASE",Ek="RESPONDER_TERMINATED",xC=Object.freeze({NOT_RESPONDER:{DELAY:pr,RESPONDER_GRANT:I_,RESPONDER_RELEASE:pr,RESPONDER_TERMINATED:pr,LONG_PRESS_DETECTED:pr},RESPONDER_INACTIVE_PRESS_START:{DELAY:Nm,RESPONDER_GRANT:pr,RESPONDER_RELEASE:sn,RESPONDER_TERMINATED:sn,LONG_PRESS_DETECTED:pr},RESPONDER_ACTIVE_PRESS_START:{DELAY:pr,RESPONDER_GRANT:pr,RESPONDER_RELEASE:sn,RESPONDER_TERMINATED:sn,LONG_PRESS_DETECTED:xl},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:pr,RESPONDER_GRANT:pr,RESPONDER_RELEASE:sn,RESPONDER_TERMINATED:sn,LONG_PRESS_DETECTED:xl},ERROR:{DELAY:sn,RESPONDER_GRANT:I_,RESPONDER_RELEASE:sn,RESPONDER_TERMINATED:sn,LONG_PRESS_DETECTED:sn}}),Tk=t=>t.getAttribute("role"),x_=t=>t.tagName.toLowerCase(),AC=t=>t===Nm||t===xl,Tf=t=>Tk(t)==="button",PC=t=>t===I_||t===Nm||t===xl,U3=t=>t===Ek||t===Ef,kC=t=>{var e=t.key,n=t.target,r=e===" "||e==="Spacebar",i=x_(n)==="button"||Tf(n);return e==="Enter"||r&&i},z3=450,W3=50;class H3{constructor(e){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=sn,this._responderElement=null,this.configure(e)}configure(e){this._config=e}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return this._eventHandlers==null&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var e=(i,s)=>{i.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=sn,this._isPointerTouch=i.nativeEvent.type==="touchstart",this._receiveSignal($3,i);var o=wy(this._config.delayPressStart,0,W3);s!==!1&&o>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(RC,i)},o):this._receiveSignal(RC,i);var a=wy(this._config.delayLongPress,10,z3);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(i)},a+o)},n=i=>{this._receiveSignal(Ef,i)},r=i=>{var s=this._config.onPress,o=i.target;if(this._touchState!==sn&&kC(i)){n(i),document.removeEventListener("keyup",r);var a=o.getAttribute("role"),l=x_(o),u=a==="link"||l==="a"||l==="button"||l==="input"||l==="select"||l==="textarea",h=this._responderElement===o;s!=null&&!u&&h&&s(i),this._responderElement=null}};return{onStartShouldSetResponder:i=>{var s=this._config.disabled;return s&&Tf(i.currentTarget)&&i.stopPropagation(),s==null?!0:!s},onKeyDown:i=>{var s=this._config.disabled,o=i.key,a=i.target;if(!s&&kC(i)){this._touchState===sn&&(e(i,!1),this._responderElement=a,document.addEventListener("keyup",r));var l=o===" "||o==="Spacebar",u=Tk(a),h=u==="button"||u==="menuitem";l&&h&&x_(a)!=="button"&&i.preventDefault(),i.stopPropagation()}},onResponderGrant:i=>e(i),onResponderMove:i=>{this._config.onPressMove!=null&&this._config.onPressMove(i);var s=OC(i);if(this._touchActivatePosition!=null){var o=this._touchActivatePosition.pageX-s.pageX,a=this._touchActivatePosition.pageY-s.pageY;Math.hypot(o,a)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:i=>n(i),onResponderTerminate:i=>{i.nativeEvent.type==="selectionchange"&&(this._selectionTerminated=!0),this._receiveSignal(Ek,i)},onResponderTerminationRequest:i=>{var s=this._config,o=s.cancelable,a=s.disabled,l=s.onLongPress;return!a&&l!=null&&this._isPointerTouch&&i.nativeEvent.type==="contextmenu"?!1:o??!0},onClick:i=>{var s=this._config,o=s.disabled,a=s.onPress;o?Tf(i.currentTarget)&&i.stopPropagation():(i.stopPropagation(),this._longPressDispatched||this._selectionTerminated?i.preventDefault():a!=null&&i.altKey===!1&&a(i))},onContextMenu:i=>{var s=this._config,o=s.disabled,a=s.onLongPress;o?Tf(i.currentTarget)&&i.stopPropagation():a!=null&&this._isPointerTouch&&!i.defaultPrevented&&(i.preventDefault(),i.stopPropagation())}}}_receiveSignal(e,n){var r=this._touchState,i=null;xC[r]!=null&&(i=xC[r][e]),!(this._touchState===sn&&e===Ef)&&(i==null||i===pr?console.error("PressResponder: Invalid signal "+e+" for state "+r+" on responder"):r!==i&&(this._performTransitionSideEffects(r,i,e,n),this._touchState=i))}_performTransitionSideEffects(e,n,r,i){if(U3(r)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),PC(e)&&r===IC){var s=this._config.onLongPress;s!=null&&i.nativeEvent.key==null&&(s(i),this._longPressDispatched=!0)}var o=AC(e),a=AC(n);if(!o&&a?this._activate(i):o&&!a&&this._deactivate(i),PC(e)&&r===Ef){var l=this._config,u=l.onLongPress,h=l.onPress;if(h!=null){var d=u!=null&&e===xl;d||!a&&!o&&(this._activate(i),this._deactivate(i))}}this._cancelPressDelayTimeout()}_activate(e){var n=this._config,r=n.onPressChange,i=n.onPressStart,s=OC(e);this._touchActivatePosition={pageX:s.pageX,pageY:s.pageY},i!=null&&i(e),r!=null&&r(!0)}_deactivate(e){var n=this._config,r=n.onPressChange,i=n.onPressEnd;function s(){i!=null&&i(e),r!=null&&r(!1)}var o=wy(this._config.delayPressEnd);o>0?this._pressOutDelayTimeout=setTimeout(()=>{s()},o):s()}_handleLongPress(e){(this._touchState===Nm||this._touchState===xl)&&this._receiveSignal(IC,e)}_cancelLongPressDelayTimeout(){this._longPressDelayTimeout!=null&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){this._pressDelayTimeout!=null&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){this._pressOutDelayTimeout!=null&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}function wy(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=0),Math.max(e,t??n)}function OC(t){var e=t.nativeEvent,n=e.changedTouches,r=e.touches;return r!=null&&r.length>0?r[0]:n!=null&&n.length>0?n[0]:t.nativeEvent}function q3(t,e){var n=C.useRef(null);n.current==null&&(n.current=new H3(e));var r=n.current;return C.useEffect(()=>{r.configure(e)},[e,r]),C.useEffect(()=>()=>{r.reset()},[r]),C.useDebugValue(e),r.getEventHandlers()}var K3=["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"];function G3(t,e){var n=t.activeOpacity,r=t.delayPressIn,i=t.delayPressOut,s=t.delayLongPress,o=t.disabled,a=t.focusable,l=t.onLongPress,u=t.onPress,h=t.onPressIn,d=t.onPressOut,f=t.rejectResponderTermination,p=t.style,g=En(t,K3),S=C.useRef(null),T=Eh(e,S),_=C.useState("0s"),y=_[0],E=_[1],P=C.useState(null),M=P[0],D=P[1],b=C.useCallback((L,k)=>{D(L),E(k?k/1e3+"s":"0s")},[D,E]),w=C.useCallback(L=>{b(n??.2,L)},[n,b]),R=C.useCallback(L=>{b(null,L)},[b]),I=C.useMemo(()=>({cancelable:!f,disabled:o,delayLongPress:s,delayPressStart:r,delayPressEnd:i,onLongPress:l,onPress:u,onPressStart(L){var k=L.dispatchConfig!=null?L.dispatchConfig.registrationName==="onResponderGrant":L.type==="keydown";w(k?0:150),h!=null&&h(L)},onPressEnd(L){R(250),d!=null&&d(L)}}),[s,r,i,o,l,u,h,d,f,w,R]),A=q3(S,I);return C.createElement(X,en({},g,A,{accessibilityDisabled:o,focusable:!o&&a!==!1,pointerEvents:o?"box-none":void 0,ref:T,style:[DC.root,!o&&DC.actionable,p,M!=null&&{opacity:M},{transitionDuration:y}]}))}var DC=Ae.create({root:{transitionProperty:"opacity",transitionDuration:"0.15s",userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),Ce=C.memo(C.forwardRef(G3));Ce.displayName="TouchableOpacity";function X3(t){var e=t.children,n=C.useRef(null);if(Tt&&!n.current){var r=document.createElement("div");r&&document.body&&(document.body.appendChild(r),n.current=r)}return C.useEffect(()=>{if(Tt)return()=>{document.body&&n.current&&(document.body.removeChild(n.current),n.current=null)}},[]),n.current&&Tt?mB.createPortal(e,n.current):null}var MC=300;function Y3(t,e){return t==="slide"?e?J3:Z3:t==="fade"?e?e6:t6:e?un.container:un.hidden}function Q3(t){var e=t.animationType,n=t.children,r=t.onDismiss,i=t.onShow,s=t.visible,o=C.useState(!1),a=o[0],l=o[1],u=C.useRef(!1),h=C.useRef(!1),d=e&&e!=="none",f=C.useCallback(p=>{p&&p.currentTarget!==p.target||(s?i&&i():l(!1))},[i,s]);return C.useEffect(()=>{h.current&&!a&&r&&r(),h.current=a},[a,r]),C.useEffect(()=>{s&&l(!0),s!==u.current&&!d&&f(),u.current=s},[d,s,f]),a||s?Ul("div",{style:a?Y3(e,s):un.hidden,onAnimationEnd:f,children:n}):null}var un=Ae.create({container:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:9999},animatedIn:{animationDuration:MC+"ms",animationTimingFunction:"ease-in"},animatedOut:{pointerEvents:"none",animationDuration:MC+"ms",animationTimingFunction:"ease-out"},fadeIn:{opacity:1,animationKeyframes:{"0%":{opacity:0},"100%":{opacity:1}}},fadeOut:{opacity:0,animationKeyframes:{"0%":{opacity:1},"100%":{opacity:0}}},slideIn:{transform:"translateY(0%)",animationKeyframes:{"0%":{transform:"translateY(100%)"},"100%":{transform:"translateY(0%)"}}},slideOut:{transform:"translateY(100%)",animationKeyframes:{"0%":{transform:"translateY(0%)"},"100%":{transform:"translateY(100%)"}}},hidden:{opacity:0}}),J3=[un.container,un.animatedIn,un.slideIn],Z3=[un.container,un.animatedOut,un.slideOut],e6=[un.container,un.animatedIn,un.fadeIn],t6=[un.container,un.animatedOut,un.fadeOut],n6=["active","children","onRequestClose","transparent"],r6=C.forwardRef((t,e)=>{var n=t.active,r=t.children,i=t.onRequestClose,s=t.transparent,o=En(t,n6);C.useEffect(()=>{if(Tt){var l=u=>{n&&u.key==="Escape"&&(u.stopPropagation(),i&&i())};return document.addEventListener("keyup",l,!1),()=>document.removeEventListener("keyup",l,!1)}},[n,i]);var a=C.useMemo(()=>[jd.modal,s?jd.modalTransparent:jd.modalOpaque],[s]);return C.createElement(X,en({},o,{"aria-modal":!0,ref:e,role:n?"dialog":null,style:a}),C.createElement(X,{style:jd.container},r))}),jd=Ae.create({modal:{position:"fixed",top:0,right:0,bottom:0,left:0},modalTransparent:{backgroundColor:"transparent"},modalOpaque:{backgroundColor:"white"},container:{top:0,flex:1}}),LC=()=>Ul("div",{role:"none",tabIndex:0,style:s6.focusBracket});function bk(t){if(!Tt)return!1;try{t.focus()}catch{}return document.activeElement===t}function Ck(t){for(var e=0;e<t.childNodes.length;e++){var n=t.childNodes[e];if(bk(n)||Ck(n))return!0}return!1}function Rk(t){for(var e=t.childNodes.length-1;e>=0;e--){var n=t.childNodes[e];if(bk(n)||Rk(n))return!0}return!1}var i6=t=>{var e=t.active,n=t.children,r=C.useRef(),i=C.useRef({trapFocusInProgress:!1,lastFocusedElement:null});return C.useEffect(()=>{if(Tt){var s=()=>{if(!(r.current==null||i.current.trapFocusInProgress||!e)){try{if(i.current.trapFocusInProgress=!0,document.activeElement instanceof Node&&!r.current.contains(document.activeElement)){var o=Ck(r.current);i.current.lastFocusedElement===document.activeElement&&(o=Rk(r.current)),!o&&r.current!=null&&document.activeElement&&Ci.focus(r.current)}}finally{i.current.trapFocusInProgress=!1}i.current.lastFocusedElement=document.activeElement}};return s(),document.addEventListener("focus",s,!0),()=>document.removeEventListener("focus",s,!0)}},[e]),C.useEffect(function(){if(Tt){var s=document.activeElement;return function(){s&&document.contains(s)&&Ci.focus(s)}}},[]),C.createElement(C.Fragment,null,C.createElement(LC,null),C.createElement(X,{ref:r},n),C.createElement(LC,null))},s6=Ae.create({focusBracket:{outlineStyle:"none"}}),o6=["animationType","children","onDismiss","onRequestClose","onShow","transparent","visible"],a6=0,Lo=[],pl={};function Ik(){if(Lo.length!==0){var t=Lo[Lo.length-1];Lo.forEach(e=>{e in pl&&pl[e](e===t)})}}function A_(t){t in pl&&(pl[t](!1),delete pl[t]);var e=Lo.indexOf(t);e!==-1&&(Lo.splice(e,1),Ik())}function l6(t,e){A_(t),Lo.push(t),pl[t]=e,Ik()}var eh=C.forwardRef((t,e)=>{var n=t.animationType,r=t.children,i=t.onDismiss,s=t.onRequestClose,o=t.onShow,a=t.transparent,l=t.visible,u=l===void 0?!0:l,h=En(t,o6),d=C.useMemo(()=>a6++,[]),f=C.useState(!1),p=f[0],g=f[1],S=C.useCallback(()=>{A_(d),i&&i()},[d,i]),T=C.useCallback(()=>{l6(d,g),o&&o()},[d,o]);return C.useEffect(()=>()=>A_(d),[d]),C.createElement(X3,null,C.createElement(Q3,{animationType:n,onDismiss:S,onShow:T,visible:u},C.createElement(i6,{active:p},C.createElement(r6,en({},h,{active:p,onRequestClose:s,ref:e,transparent:a}),r))))}),u6=(t,e)=>{var n=t.selectionEnd,r=t.selectionStart,i=e.start,s=e.end;return i!==r||s!==n},NC=(t,e)=>{if(u6(t,e)){var n=e.start,r=e.end;try{t.setSelectionRange(n,r||n)}catch{}}},c6=Object.assign({},H0,q0,K0,G0,X0,Y0,Q0,J0,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0}),h6=t=>Z0(t,c6);function d6(t){return t.isComposing||t.keyCode===229}var Sy=null,Nn=C.forwardRef((t,e)=>{var n=t.autoCapitalize,r=n===void 0?"sentences":n,i=t.autoComplete,s=t.autoCompleteType,o=t.autoCorrect,a=o===void 0?!0:o,l=t.blurOnSubmit,u=t.caretHidden,h=t.clearTextOnFocus,d=t.dir,f=t.editable,p=t.enterKeyHint,g=t.inputMode,S=t.keyboardType,T=t.multiline,_=T===void 0?!1:T,y=t.numberOfLines,E=t.onBlur,P=t.onChange,M=t.onChangeText,D=t.onContentSizeChange,b=t.onFocus,w=t.onKeyPress,R=t.onLayout,I=t.onMoveShouldSetResponder,A=t.onMoveShouldSetResponderCapture,L=t.onResponderEnd,k=t.onResponderGrant,le=t.onResponderMove,he=t.onResponderReject,Me=t.onResponderRelease,be=t.onResponderStart,$=t.onResponderTerminate,Y=t.onResponderTerminationRequest,ee=t.onScrollShouldSetResponder,ye=t.onScrollShouldSetResponderCapture,Ie=t.onSelectionChange,nn=t.onSelectionChangeShouldSetResponder,nt=t.onSelectionChangeShouldSetResponderCapture,Mt=t.onStartShouldSetResponder,ot=t.onStartShouldSetResponderCapture,je=t.onSubmitEditing,Ct=t.placeholderTextColor,Tn=t.readOnly,ai=Tn===void 0?!1:Tn,qi=t.returnKeyType,sr=t.rows,Pr=t.secureTextEntry,jn=Pr===void 0?!1:Pr,oo=t.selection,Ki=t.selectTextOnFocus,ao=t.showSoftInputOnFocus,Gi=t.spellCheck,Pe,Xe;if(g!=null)Xe=g,g==="email"?Pe="email":g==="tel"?Pe="tel":g==="search"?Pe="search":g==="url"?Pe="url":Pe="text";else if(S!=null)switch(S){case"email-address":Pe="email";break;case"number-pad":case"numeric":Xe="numeric";break;case"decimal-pad":Xe="decimal";break;case"phone-pad":Pe="tel";break;case"search":case"web-search":Pe="search";break;case"url":Pe="url";break;default:Pe="text"}jn&&(Pe="password");var bn=C.useRef({height:null,width:null}),$n=C.useRef(null),Xi=C.useRef(null),lo=C.useRef(!1);C.useEffect(()=>{$n.current&&Xi.current&&NC($n.current,Xi.current),lo.current=jn},[jn]);var or=C.useCallback(J=>{if(_&&D&&J!=null){var He=J.scrollHeight,Rt=J.scrollWidth;(He!==bn.current.height||Rt!==bn.current.width)&&(bn.current.height=He,bn.current.width=Rt,D({nativeEvent:{contentSize:{height:bn.current.height,width:bn.current.width}}}))}},[_,D]),uo=C.useMemo(()=>J=>{J!=null&&(J.clear=function(){J!=null&&(J.value="")},J.isFocused=function(){return J!=null&&Si.currentlyFocusedField()===J},or(J))},[or]);function ha(J){Si._currentlyFocusedNode=null,E&&(J.nativeEvent.text=J.target.value,E(J))}function Yi(J){var He=J.target,Rt=He.value;J.nativeEvent.text=Rt,or(He),P&&P(J),M&&M(Rt)}function ou(J){var He=J.target;b&&(J.nativeEvent.text=He.value,b(J)),He!=null&&(Si._currentlyFocusedNode=He,h&&(He.value=""),Ki&&(Sy!=null&&clearTimeout(Sy),Sy=setTimeout(()=>{He!=null&&document.activeElement===He&&He.select()},0)))}function da(J){var He=J.target;J.stopPropagation();var Rt=!_,ar=l??Rt,Or=J.nativeEvent,ya=d6(Or);w&&w(J),J.key==="Enter"&&!J.shiftKey&&!ya&&!J.isDefaultPrevented()&&((l||!_)&&je&&(J.preventDefault(),Or.text=J.target.value,je(J)),ar&&He!=null&&setTimeout(()=>He.blur(),0))}function fa(J){try{var He=J.target,Rt=He.selectionStart,ar=He.selectionEnd,Or={start:Rt,end:ar};Ie&&(J.nativeEvent.selection=Or,J.nativeEvent.text=J.target.value,Ie(J)),lo.current===jn&&(Xi.current=Or)}catch{}}w_(()=>{var J=$n.current;J!=null&&oo!=null&&NC(J,oo),document.activeElement===J&&(Si._currentlyFocusedNode=J)},[$n,oo]);var co=_?"textarea":"input";eS($n,R),rS($n,{onMoveShouldSetResponder:I,onMoveShouldSetResponderCapture:A,onResponderEnd:L,onResponderGrant:k,onResponderMove:le,onResponderReject:he,onResponderRelease:Me,onResponderStart:be,onResponderTerminate:$,onResponderTerminationRequest:Y,onScrollShouldSetResponder:ee,onScrollShouldSetResponderCapture:ye,onSelectionChangeShouldSetResponder:nn,onSelectionChangeShouldSetResponderCapture:nt,onStartShouldSetResponder:Mt,onStartShouldSetResponderCapture:ot});var li=W0(),Qi=li.direction,Le=h6(t);Le.autoCapitalize=r,Le.autoComplete=i||s||"on",Le.autoCorrect=a?"on":"off",Le.dir=d!==void 0?d:"auto",Le.enterKeyHint=p||qi,Le.inputMode=Xe,Le.onBlur=ha,Le.onChange=Yi,Le.onFocus=ou,Le.onKeyDown=da,Le.onSelect=fa,Le.readOnly=ai===!0||f===!1,Le.rows=_?sr??y:1,Le.spellCheck=Gi??a,Le.style=[{"--placeholderTextColor":Ct},Ey.textinput$raw,Ey.placeholder,t.style,u&&Ey.caretHidden],Le.type=_?void 0:Pe,Le.virtualkeyboardpolicy=ao===!1?"manual":"auto";var Un=tS(Le),pa=Eh($n,Un,uo,e);Le.ref=pa;var ui=t.lang!=null?Dm(t.lang):null,ma=t.dir||ui,kr=ma||Qi,ga=Ul(co,Le,{writingDirection:kr});return ga});Nn.displayName="TextInput";Nn.State=Si;var Ey=Ae.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var VC="popstate";function f6(t={}){function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=aa(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),P_("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:th(s))}function r(i,s){ir(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return m6(e,n,r,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ir(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p6(){return Math.random().toString(36).substring(2,10)}function FC(t,e){return{usr:t.state,key:t.key,idx:e}}function P_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?aa(e):e,state:n,key:e&&e.key||r||p6()}}function th({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function aa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function m6(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function d(){a="POP";let T=h(),_=T==null?null:T-u;u=T,l&&l({action:a,location:S.location,delta:_})}function f(T,_){a="PUSH";let y=P_(S.location,T,_);n&&n(y,T),u=h()+1;let E=FC(y,u),P=S.createHref(y);try{o.pushState(E,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(P)}s&&l&&l({action:a,location:S.location,delta:1})}function p(T,_){a="REPLACE";let y=P_(S.location,T,_);n&&n(y,T),u=h();let E=FC(y,u),P=S.createHref(y);o.replaceState(E,"",P),s&&l&&l({action:a,location:S.location,delta:0})}function g(T){return g6(T)}let S={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(VC,d),l=T,()=>{i.removeEventListener(VC,d),l=null}},createHref(T){return e(i,T)},createURL:g,encodeLocation(T){let _=g(T);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:p,go(T){return o.go(T)}};return S}function g6(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:th(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function xk(t,e,n="/"){return y6(t,e,n,!1)}function y6(t,e,n,r){let i=typeof e=="string"?aa(e):e,s=Di(i.pathname||"/",n);if(s==null)return null;let o=Ak(t);v6(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=A6(s);a=I6(o[l],u,r)}return a}function Ak(t,e=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&l)return;Ze(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let d=Ri([r,h.relativePath]),f=n.concat(h);o.children&&o.children.length>0&&(Ze(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Ak(o.children,e,f,d,l)),!(o.path==null&&!o.index)&&e.push({path:d,score:C6(d,o.index),routesMeta:f})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of Pk(o.path))s(o,a,!0,u)}),e}function Pk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Pk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function v6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:R6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var _6=/^:[\w-]+$/,w6=3,S6=2,E6=1,T6=10,b6=-2,BC=t=>t==="*";function C6(t,e){let n=t.split("/"),r=n.length;return n.some(BC)&&(r+=b6),e&&(r+=S6),n.filter(i=>!BC(i)).reduce((i,s)=>i+(_6.test(s)?w6:s===""?E6:T6),r)}function R6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function I6(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=Ap({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Ap({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Ri([s,d.pathname]),pathnameBase:M6(Ri([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Ri([s,d.pathnameBase]))}return o}function Ap(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=x6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:d},f)=>{if(h==="*"){let g=a[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[f];return d&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function x6(t,e=!1,n=!0){ir(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function A6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ir(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Di(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var P6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k6=t=>P6.test(t);function O6(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?aa(t):t,s;if(n)if(k6(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),ir(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?s=jC(n.substring(1),"/"):s=jC(n,e)}else s=e;return{pathname:s,search:L6(r),hash:N6(i)}}function jC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ty(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kk(t){let e=D6(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ok(t,e,n,r=!1){let i;typeof t=="string"?i=aa(t):(i={...t},Ze(!i.pathname||!i.pathname.includes("?"),Ty("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),Ty("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),Ty("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=O6(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var Ri=t=>t.join("/").replace(/\/\/+/g,"/"),M6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),L6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,N6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function V6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function F6(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Dk=["POST","PUT","PATCH","DELETE"];new Set(Dk);var B6=["GET",...Dk];new Set(B6);var zl=C.createContext(null);zl.displayName="DataRouter";var Vm=C.createContext(null);Vm.displayName="DataRouterState";C.createContext(!1);var Mk=C.createContext({isTransitioning:!1});Mk.displayName="ViewTransition";var j6=C.createContext(new Map);j6.displayName="Fetchers";var $6=C.createContext(null);$6.displayName="Await";var Ar=C.createContext(null);Ar.displayName="Navigation";var bh=C.createContext(null);bh.displayName="Location";var Ui=C.createContext({outlet:null,matches:[],isDataRoute:!1});Ui.displayName="Route";var iS=C.createContext(null);iS.displayName="RouteError";function U6(t,{relative:e}={}){Ze(Ch(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(Ar),{hash:i,pathname:s,search:o}=Rh(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Ri([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Ch(){return C.useContext(bh)!=null}function oi(){return Ze(Ch(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(bh).location}var Lk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nk(t){C.useContext(Ar).static||C.useLayoutEffect(t)}function Wl(){let{isDataRoute:t}=C.useContext(Ui);return t?t5():z6()}function z6(){Ze(Ch(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(zl),{basename:e,navigator:n}=C.useContext(Ar),{matches:r}=C.useContext(Ui),{pathname:i}=oi(),s=JSON.stringify(kk(r)),o=C.useRef(!1);return Nk(()=>{o.current=!0}),C.useCallback((l,u={})=>{if(ir(o.current,Lk),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=Ok(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ri([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,s,i,t])}C.createContext(null);function Rh(t,{relative:e}={}){let{matches:n}=C.useContext(Ui),{pathname:r}=oi(),i=JSON.stringify(kk(n));return C.useMemo(()=>Ok(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function W6(t,e){return Vk(t,e)}function Vk(t,e,n,r,i){var y;Ze(Ch(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=C.useContext(Ar),{matches:o}=C.useContext(Ui),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",h=a?a.pathnameBase:"/",d=a&&a.route;{let E=d&&d.path||"";Fk(u,!d||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let f=oi(),p;if(e){let E=typeof e=="string"?aa(e):e;Ze(h==="/"||((y=E.pathname)==null?void 0:y.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),p=E}else p=f;let g=p.pathname||"/",S=g;if(h!=="/"){let E=h.replace(/^\//,"").split("/");S="/"+g.replace(/^\//,"").split("/").slice(E.length).join("/")}let T=xk(t,{pathname:S});ir(d||T!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ir(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=X6(T&&T.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:Ri([h,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:Ri([h,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,n,r,i);return e&&_?C.createElement(bh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},_):_}function H6(){let t=e5(),e=V6(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:s},"ErrorBoundary")," or"," ",C.createElement("code",{style:s},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,o)}var q6=C.createElement(H6,null),K6=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?C.createElement(Ui.Provider,{value:this.props.routeContext},C.createElement(iS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function G6({routeContext:t,match:e,children:n}){let r=C.useContext(zl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Ui.Provider,{value:t},n)}function X6(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let h=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Ze(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let a=!1,l=-1;if(n)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=h),d.route.id){let{loaderData:f,errors:p}=n,g=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=n&&r?(h,d)=>{var f,p;r(h,{location:n.location,params:((p=(f=n.matches)==null?void 0:f[0])==null?void 0:p.params)??{},unstable_pattern:F6(n.matches),errorInfo:d})}:void 0;return s.reduceRight((h,d,f)=>{let p,g=!1,S=null,T=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,S=d.route.errorElement||q6,a&&(l<0&&f===0?(Fk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,T=null):l===f&&(g=!0,T=d.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,f+1)),y=()=>{let E;return p?E=S:g?E=T:d.route.Component?E=C.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=h,C.createElement(G6,{match:d,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?C.createElement(K6,{location:n.location,revalidation:n.revalidation,component:S,error:p,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:u}):y()},null)}function sS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y6(t){let e=C.useContext(zl);return Ze(e,sS(t)),e}function Q6(t){let e=C.useContext(Vm);return Ze(e,sS(t)),e}function J6(t){let e=C.useContext(Ui);return Ze(e,sS(t)),e}function oS(t){let e=J6(t),n=e.matches[e.matches.length-1];return Ze(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Z6(){return oS("useRouteId")}function e5(){var r;let t=C.useContext(iS),e=Q6("useRouteError"),n=oS("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function t5(){let{router:t}=Y6("useNavigate"),e=oS("useNavigate"),n=C.useRef(!1);return Nk(()=>{n.current=!0}),C.useCallback(async(i,s={})=>{ir(n.current,Lk),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var $C={};function Fk(t,e,n){!e&&!$C[t]&&($C[t]=!0,ir(!1,n))}C.memo(n5);function n5({routes:t,future:e,state:n,unstable_onError:r}){return Vk(t,void 0,n,r,e)}function Da(t){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function r5({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:o}){Ze(!Ch(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:a,navigator:i,static:s,unstable_useTransitions:o,future:{}}),[a,i,s,o]);typeof n=="string"&&(n=aa(n));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=n,g=C.useMemo(()=>{let S=Di(u,a);return S==null?null:{location:{pathname:S,search:h,hash:d,state:f,key:p},navigationType:r}},[a,u,h,d,f,p,r]);return ir(g!=null,`<Router basename="${a}"> is not able to match the URL "${u}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:C.createElement(Ar.Provider,{value:l},C.createElement(bh.Provider,{children:e,value:g}))}function i5({children:t,location:e}){return W6(k_(t),e)}function k_(t,e=[]){let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){n.push.apply(n,k_(r.props.children,s));return}Ze(r.type===Da,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=k_(r.props.children,s)),n.push(o)}),n}var bf="get",Cf="application/x-www-form-urlencoded";function Fm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function s5(t){return Fm(t)&&t.tagName.toLowerCase()==="button"}function o5(t){return Fm(t)&&t.tagName.toLowerCase()==="form"}function a5(t){return Fm(t)&&t.tagName.toLowerCase()==="input"}function l5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function u5(t,e){return t.button===0&&(!e||e==="_self")&&!l5(t)}var $d=null;function c5(){if($d===null)try{new FormData(document.createElement("form"),0),$d=!1}catch{$d=!0}return $d}var h5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function by(t){return t!=null&&!h5.has(t)?(ir(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cf}"`),null):t}function d5(t,e){let n,r,i,s,o;if(o5(t)){let a=t.getAttribute("action");r=a?Di(a,e):null,n=t.getAttribute("method")||bf,i=by(t.getAttribute("enctype"))||Cf,s=new FormData(t)}else if(s5(t)||a5(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?Di(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||bf,i=by(t.getAttribute("formenctype"))||by(a.getAttribute("enctype"))||Cf,s=new FormData(a,t),!c5()){let{name:u,type:h,value:d}=t;if(h==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,d)}}else{if(Fm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bf,r=null,i=Cf,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function aS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function f5(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Di(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function p5(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m5(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function g5(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await p5(s,n);return o.links?o.links():[]}return[]}));return w5(r.flat(1).filter(m5).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function UC(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var h;return n[u].pathname!==l.pathname||((h=n[u].route.path)==null?void 0:h.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var d;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function y5(t,e,{includeHydrateFallback:n}={}){return v5(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function v5(t){return[...new Set(t)]}function _5(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function w5(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(_5(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function Bk(){let t=C.useContext(zl);return aS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function S5(){let t=C.useContext(Vm);return aS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var lS=C.createContext(void 0);lS.displayName="FrameworkContext";function jk(){let t=C.useContext(lS);return aS(t,"You must render this element inside a <HydratedRouter> element"),t}function E5(t,e){let n=C.useContext(lS),[r,i]=C.useState(!1),[s,o]=C.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=e,f=C.useRef(null);C.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let S=_=>{_.forEach(y=>{o(y.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return f.current&&T.observe(f.current),()=>{T.disconnect()}}},[t]),C.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let p=()=>{i(!0)},g=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Nu(a,p),onBlur:Nu(l,g),onMouseEnter:Nu(u,p),onMouseLeave:Nu(h,g),onTouchStart:Nu(d,p)}]:[!1,f,{}]}function Nu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function T5({page:t,...e}){let{router:n}=Bk(),r=C.useMemo(()=>xk(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(C5,{page:t,matches:r,...e}):null}function b5(t){let{manifest:e,routeModules:n}=jk(),[r,i]=C.useState([]);return C.useEffect(()=>{let s=!1;return g5(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function C5({page:t,matches:e,...n}){let r=oi(),{manifest:i,routeModules:s}=jk(),{basename:o}=Bk(),{loaderData:a,matches:l}=S5(),u=C.useMemo(()=>UC(t,e,l,i,r,"data"),[t,e,l,i,r]),h=C.useMemo(()=>UC(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let g=new Set,S=!1;if(e.forEach(_=>{var E;let y=i.routes[_.route.id];!y||!y.hasLoader||(!u.some(P=>P.route.id===_.route.id)&&_.route.id in a&&((E=s[_.route.id])!=null&&E.shouldRevalidate)||y.hasClientLoader?S=!0:g.add(_.route.id))}),g.size===0)return[];let T=f5(t,o,"data");return S&&g.size>0&&T.searchParams.set("_routes",e.filter(_=>g.has(_.route.id)).map(_=>_.route.id).join(",")),[T.pathname+T.search]},[o,a,r,i,u,e,t,s]),f=C.useMemo(()=>y5(h,i),[h,i]),p=b5(h);return C.createElement(C.Fragment,null,d.map(g=>C.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),f.map(g=>C.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),p.map(({key:g,link:S})=>C.createElement("link",{key:g,nonce:n.nonce,...S})))}function R5(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $k=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$k&&(window.__reactRouterVersion="7.10.1")}catch{}function I5({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=C.useRef();i.current==null&&(i.current=f6({window:r,v5Compat:!0}));let s=i.current,[o,a]=C.useState({action:s.action,location:s.location}),l=C.useCallback(u=>{n===!1?a(u):C.startTransition(()=>a(u))},[n]);return C.useLayoutEffect(()=>s.listen(l),[s,l]),C.createElement(r5,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:n===!0})}var Uk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zk=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:d,...f},p){let{basename:g,unstable_useTransitions:S}=C.useContext(Ar),T=typeof u=="string"&&Uk.test(u),_,y=!1;if(typeof u=="string"&&T&&(_=u,$k))try{let I=new URL(window.location.href),A=u.startsWith("//")?new URL(I.protocol+u):new URL(u),L=Di(A.pathname,g);A.origin===I.origin&&L!=null?u=L+A.search+A.hash:y=!0}catch{ir(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=U6(u,{relative:i}),[P,M,D]=E5(r,f),b=k5(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:d,unstable_useTransitions:S});function w(I){e&&e(I),I.defaultPrevented||b(I)}let R=C.createElement("a",{...f,...D,href:_||E,onClick:y||s?e:w,ref:R5(p,M),target:l,"data-discover":!T&&n==="render"?"true":void 0});return P&&!T?C.createElement(C.Fragment,null,R,C.createElement(T5,{page:E})):R});zk.displayName="Link";var x5=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},h){let d=Rh(o,{relative:u.relative}),f=oi(),p=C.useContext(Vm),{navigator:g,basename:S}=C.useContext(Ar),T=p!=null&&N5(d)&&a===!0,_=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,y=f.pathname,E=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(y=y.toLowerCase(),E=E?E.toLowerCase():null,_=_.toLowerCase()),E&&S&&(E=Di(E,S)||E);const P=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let M=y===_||!i&&y.startsWith(_)&&y.charAt(P)==="/",D=E!=null&&(E===_||!i&&E.startsWith(_)&&E.charAt(_.length)==="/"),b={isActive:M,isPending:D,isTransitioning:T},w=M?e:void 0,R;typeof r=="function"?R=r(b):R=[r,M?"active":null,D?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(b):s;return C.createElement(zk,{...u,"aria-current":w,className:R,ref:h,style:I,to:o,viewTransition:a},typeof l=="function"?l(b):l)});x5.displayName="NavLink";var A5=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=bf,action:a,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:d,...f},p)=>{let{unstable_useTransitions:g}=C.useContext(Ar),S=M5(),T=L5(a,{relative:u}),_=o.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&Uk.test(a),E=P=>{if(l&&l(P),P.defaultPrevented)return;P.preventDefault();let M=P.nativeEvent.submitter,D=(M==null?void 0:M.getAttribute("formmethod"))||o,b=()=>S(M||P.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:d});g&&n!==!1?C.startTransition(()=>b()):b()};return C.createElement("form",{ref:p,method:_,action:T,onSubmit:r?l:E,...f,"data-discover":!y&&t==="render"?"true":void 0})});A5.displayName="Form";function P5(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wk(t){let e=C.useContext(zl);return Ze(e,P5(t)),e}function k5(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_useTransitions:a}={}){let l=Wl(),u=oi(),h=Rh(t,{relative:s});return C.useCallback(d=>{if(u5(d,e)){d.preventDefault();let f=n!==void 0?n:th(u)===th(h),p=()=>l(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o});a?C.startTransition(()=>p()):p()}},[u,l,h,n,r,e,t,i,s,o,a])}var O5=0,D5=()=>`__${String(++O5)}__`;function M5(){let{router:t}=Wk("useSubmit"),{basename:e}=C.useContext(Ar),n=Z6(),r=t.fetch,i=t.navigate;return C.useCallback(async(s,o={})=>{let{action:a,method:l,encType:u,formData:h,body:d}=d5(s,e);if(o.navigate===!1){let f=o.fetcherKey||D5();await r(f,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||l,formEncType:o.encType||u,flushSync:o.flushSync})}else await i(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||l,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,e,n])}function L5(t,{relative:e}={}){let{basename:n}=C.useContext(Ar),r=C.useContext(Ui);Ze(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Rh(t||".",{relative:e})},o=oi();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ri([n,s.pathname])),th(s)}function N5(t,{relative:e}={}){let n=C.useContext(Mk);Ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Wk("useViewTransitionState"),i=Rh(t,{relative:e});if(!n.isTransitioning)return!1;let s=Di(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Di(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ap(i.pathname,o)!=null||Ap(i.pathname,s)!=null}const V5=()=>{};var zC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},F5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},qk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[h],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new B5;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class B5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j5=function(t){const e=Hk(t);return qk.encodeByteArray(e,!0)},Pp=function(t){return j5(t).replace(/\./g,"")},Kk=function(t){try{return qk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=()=>$5().__FIREBASE_DEFAULTS__,z5=()=>{if(typeof process>"u"||typeof zC>"u")return;const t=zC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Kk(t[1]);return e&&JSON.parse(e)},Bm=()=>{try{return V5()||U5()||z5()||W5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Gk=t=>{var e,n;return(n=(e=Bm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},H5=t=>{const e=Gk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Xk=()=>{var t;return(t=Bm())==null?void 0:t.config},Yk=t=>{var e;return(e=Bm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Pp(JSON.stringify(n)),Pp(JSON.stringify(o)),""].join(".")}const wc={};function G5(){const t={prod:[],emulator:[]};for(const e of Object.keys(wc))wc[e]?t.emulator.push(e):t.prod.push(e);return t}function X5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let WC=!1;function Jk(t,e){if(typeof window>"u"||typeof document>"u"||!Hl(window.location.host)||wc[t]===e||wc[t]||WC)return;wc[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=G5().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{WC=!0,o()},f}function h(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=X5(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),S=n("learnmore"),T=document.getElementById(S)||document.createElement("a"),_=n("preprendIcon"),y=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const E=f.element;a(E),h(T,S);const P=u();l(y,_),E.append(y,g,T,P),document.body.appendChild(E)}s?(g.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Q5(){var e;const t=(e=Bm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ez(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tz(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nz(){return!Q5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rz(){try{return typeof indexedDB=="object"}catch{return!1}}function iz(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz="FirebaseError";class zi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sz,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ih.prototype.create)}}class Ih{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?oz(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zi(i,a,r)}}function oz(t,e){return t.replace(az,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const az=/\{\$([^}]+)}/g;function lz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(HC(s)&&HC(o)){if(!Qo(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function HC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function qu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uz(t,e){const n=new cz(t,e);return n.subscribe.bind(n)}class cz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hz(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Cy),i.error===void 0&&(i.error=Cy),i.complete===void 0&&(i.complete=Cy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class Jo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new q5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pz(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fz(t){return t===Ro?void 0:t}function pz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const gz={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},yz=_e.INFO,vz={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},_z=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=vz[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uS{constructor(e){this.name=e,this._logLevel=yz,this._logHandler=_z,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const wz=(t,e)=>e.some(n=>t instanceof n);let qC,KC;function Sz(){return qC||(qC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ez(){return KC||(KC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zk=new WeakMap,O_=new WeakMap,eO=new WeakMap,Ry=new WeakMap,cS=new WeakMap;function Tz(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Vs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Zk.set(n,t)}).catch(()=>{}),cS.set(e,t),e}function bz(t){if(O_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});O_.set(t,e)}let D_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return O_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Cz(t){D_=t(D_)}function Rz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Iy(this),e,...n);return eO.set(r,e.sort?e.sort():[e]),Vs(r)}:Ez().includes(t)?function(...e){return t.apply(Iy(this),e),Vs(Zk.get(this))}:function(...e){return Vs(t.apply(Iy(this),e))}}function Iz(t){return typeof t=="function"?Rz(t):(t instanceof IDBTransaction&&bz(t),wz(t,Sz())?new Proxy(t,D_):t)}function Vs(t){if(t instanceof IDBRequest)return Tz(t);if(Ry.has(t))return Ry.get(t);const e=Iz(t);return e!==t&&(Ry.set(t,e),cS.set(e,t)),e}const Iy=t=>cS.get(t);function xz(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Vs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Vs(o.result),l.oldVersion,l.newVersion,Vs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Az=["get","getKey","getAll","getAllKeys","count"],Pz=["put","add","delete","clear"],xy=new Map;function GC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xy.get(e))return xy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Pz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Az.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return xy.set(e,s),s}Cz(t=>({...t,get:(e,n,r)=>GC(e,n)||t.get(e,n,r),has:(e,n)=>!!GC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Oz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Oz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const M_="@firebase/app",XC="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new uS("@firebase/app"),Dz="@firebase/app-compat",Mz="@firebase/analytics-compat",Lz="@firebase/analytics",Nz="@firebase/app-check-compat",Vz="@firebase/app-check",Fz="@firebase/auth",Bz="@firebase/auth-compat",jz="@firebase/database",$z="@firebase/data-connect",Uz="@firebase/database-compat",zz="@firebase/functions",Wz="@firebase/functions-compat",Hz="@firebase/installations",qz="@firebase/installations-compat",Kz="@firebase/messaging",Gz="@firebase/messaging-compat",Xz="@firebase/performance",Yz="@firebase/performance-compat",Qz="@firebase/remote-config",Jz="@firebase/remote-config-compat",Zz="@firebase/storage",e9="@firebase/storage-compat",t9="@firebase/firestore",n9="@firebase/ai",r9="@firebase/firestore-compat",i9="firebase",s9="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="[DEFAULT]",o9={[M_]:"fire-core",[Dz]:"fire-core-compat",[Lz]:"fire-analytics",[Mz]:"fire-analytics-compat",[Vz]:"fire-app-check",[Nz]:"fire-app-check-compat",[Fz]:"fire-auth",[Bz]:"fire-auth-compat",[jz]:"fire-rtdb",[$z]:"fire-data-connect",[Uz]:"fire-rtdb-compat",[zz]:"fire-fn",[Wz]:"fire-fn-compat",[Hz]:"fire-iid",[qz]:"fire-iid-compat",[Kz]:"fire-fcm",[Gz]:"fire-fcm-compat",[Xz]:"fire-perf",[Yz]:"fire-perf-compat",[Qz]:"fire-rc",[Jz]:"fire-rc-compat",[Zz]:"fire-gcs",[e9]:"fire-gcs-compat",[t9]:"fire-fst",[r9]:"fire-fst-compat",[n9]:"fire-vertex","fire-js":"fire-js",[i9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp=new Map,a9=new Map,N_=new Map;function YC(t,e){try{t.container.addComponent(e)}catch(n){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Al(t){const e=t.name;if(N_.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;N_.set(e,t);for(const n of kp.values())YC(n,t);for(const n of a9.values())YC(n,t);return!0}function hS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Ih("app","Firebase",l9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=s9;function tO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:L_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Fs.create("bad-app-name",{appName:String(i)});if(n||(n=Xk()),!n)throw Fs.create("no-options");const s=kp.get(i);if(s){if(Qo(n,s.options)&&Qo(r,s.config))return s;throw Fs.create("duplicate-app",{appName:i})}const o=new mz(i);for(const l of N_.values())o.addComponent(l);const a=new u9(n,r,o);return kp.set(i,a),a}function nO(t=L_){const e=kp.get(t);if(!e&&t===L_&&Xk())return tO();if(!e)throw Fs.create("no-app",{appName:t});return e}function Bs(t,e,n){let r=o9[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(o.join(" "));return}Al(new Jo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9="firebase-heartbeat-database",h9=1,nh="firebase-heartbeat-store";let Ay=null;function rO(){return Ay||(Ay=xz(c9,h9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fs.create("idb-open",{originalErrorMessage:t.message})})),Ay}async function d9(t){try{const n=(await rO()).transaction(nh),r=await n.objectStore(nh).get(iO(t));return await n.done,r}catch(e){if(e instanceof zi)Mi.warn(e.message);else{const n=Fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(n.message)}}}async function QC(t,e){try{const r=(await rO()).transaction(nh,"readwrite");await r.objectStore(nh).put(e,iO(t)),await r.done}catch(n){if(n instanceof zi)Mi.warn(n.message);else{const r=Fs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mi.warn(r.message)}}}function iO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=1024,p9=30;class m9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new y9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=JC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>p9){const o=v9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=JC(),{heartbeatsToSend:r,unsentEntries:i}=g9(this._heartbeatsCache.heartbeats),s=Pp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Mi.warn(n),""}}}function JC(){return new Date().toISOString().substring(0,10)}function g9(t,e=f9){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ZC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ZC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class y9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rz()?iz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await d9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return QC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return QC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ZC(t){return Pp(JSON.stringify({version:2,heartbeats:t})).length}function v9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(t){Al(new Jo("platform-logger",e=>new kz(e),"PRIVATE")),Al(new Jo("heartbeat",e=>new m9(e),"PRIVATE")),Bs(M_,XC,t),Bs(M_,XC,"esm2020"),Bs("fire-js","")}_9("");var w9="firebase",S9="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bs(w9,S9,"app");var eR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var js,sO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,w){function R(){}R.prototype=w.prototype,b.F=w.prototype,b.prototype=new R,b.prototype.constructor=b,b.D=function(I,A,L){for(var k=Array(arguments.length-2),le=2;le<arguments.length;le++)k[le-2]=arguments[le];return w.prototype[A].apply(I,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,w,R){R||(R=0);const I=Array(16);if(typeof w=="string")for(var A=0;A<16;++A)I[A]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(A=0;A<16;++A)I[A]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=b.g[0],R=b.g[1],A=b.g[2];let L=b.g[3],k;k=w+(L^R&(A^L))+I[0]+3614090360&4294967295,w=R+(k<<7&4294967295|k>>>25),k=L+(A^w&(R^A))+I[1]+3905402710&4294967295,L=w+(k<<12&4294967295|k>>>20),k=A+(R^L&(w^R))+I[2]+606105819&4294967295,A=L+(k<<17&4294967295|k>>>15),k=R+(w^A&(L^w))+I[3]+3250441966&4294967295,R=A+(k<<22&4294967295|k>>>10),k=w+(L^R&(A^L))+I[4]+4118548399&4294967295,w=R+(k<<7&4294967295|k>>>25),k=L+(A^w&(R^A))+I[5]+1200080426&4294967295,L=w+(k<<12&4294967295|k>>>20),k=A+(R^L&(w^R))+I[6]+2821735955&4294967295,A=L+(k<<17&4294967295|k>>>15),k=R+(w^A&(L^w))+I[7]+4249261313&4294967295,R=A+(k<<22&4294967295|k>>>10),k=w+(L^R&(A^L))+I[8]+1770035416&4294967295,w=R+(k<<7&4294967295|k>>>25),k=L+(A^w&(R^A))+I[9]+2336552879&4294967295,L=w+(k<<12&4294967295|k>>>20),k=A+(R^L&(w^R))+I[10]+4294925233&4294967295,A=L+(k<<17&4294967295|k>>>15),k=R+(w^A&(L^w))+I[11]+2304563134&4294967295,R=A+(k<<22&4294967295|k>>>10),k=w+(L^R&(A^L))+I[12]+1804603682&4294967295,w=R+(k<<7&4294967295|k>>>25),k=L+(A^w&(R^A))+I[13]+4254626195&4294967295,L=w+(k<<12&4294967295|k>>>20),k=A+(R^L&(w^R))+I[14]+2792965006&4294967295,A=L+(k<<17&4294967295|k>>>15),k=R+(w^A&(L^w))+I[15]+1236535329&4294967295,R=A+(k<<22&4294967295|k>>>10),k=w+(A^L&(R^A))+I[1]+4129170786&4294967295,w=R+(k<<5&4294967295|k>>>27),k=L+(R^A&(w^R))+I[6]+3225465664&4294967295,L=w+(k<<9&4294967295|k>>>23),k=A+(w^R&(L^w))+I[11]+643717713&4294967295,A=L+(k<<14&4294967295|k>>>18),k=R+(L^w&(A^L))+I[0]+3921069994&4294967295,R=A+(k<<20&4294967295|k>>>12),k=w+(A^L&(R^A))+I[5]+3593408605&4294967295,w=R+(k<<5&4294967295|k>>>27),k=L+(R^A&(w^R))+I[10]+38016083&4294967295,L=w+(k<<9&4294967295|k>>>23),k=A+(w^R&(L^w))+I[15]+3634488961&4294967295,A=L+(k<<14&4294967295|k>>>18),k=R+(L^w&(A^L))+I[4]+3889429448&4294967295,R=A+(k<<20&4294967295|k>>>12),k=w+(A^L&(R^A))+I[9]+568446438&4294967295,w=R+(k<<5&4294967295|k>>>27),k=L+(R^A&(w^R))+I[14]+3275163606&4294967295,L=w+(k<<9&4294967295|k>>>23),k=A+(w^R&(L^w))+I[3]+4107603335&4294967295,A=L+(k<<14&4294967295|k>>>18),k=R+(L^w&(A^L))+I[8]+1163531501&4294967295,R=A+(k<<20&4294967295|k>>>12),k=w+(A^L&(R^A))+I[13]+2850285829&4294967295,w=R+(k<<5&4294967295|k>>>27),k=L+(R^A&(w^R))+I[2]+4243563512&4294967295,L=w+(k<<9&4294967295|k>>>23),k=A+(w^R&(L^w))+I[7]+1735328473&4294967295,A=L+(k<<14&4294967295|k>>>18),k=R+(L^w&(A^L))+I[12]+2368359562&4294967295,R=A+(k<<20&4294967295|k>>>12),k=w+(R^A^L)+I[5]+4294588738&4294967295,w=R+(k<<4&4294967295|k>>>28),k=L+(w^R^A)+I[8]+2272392833&4294967295,L=w+(k<<11&4294967295|k>>>21),k=A+(L^w^R)+I[11]+1839030562&4294967295,A=L+(k<<16&4294967295|k>>>16),k=R+(A^L^w)+I[14]+4259657740&4294967295,R=A+(k<<23&4294967295|k>>>9),k=w+(R^A^L)+I[1]+2763975236&4294967295,w=R+(k<<4&4294967295|k>>>28),k=L+(w^R^A)+I[4]+1272893353&4294967295,L=w+(k<<11&4294967295|k>>>21),k=A+(L^w^R)+I[7]+4139469664&4294967295,A=L+(k<<16&4294967295|k>>>16),k=R+(A^L^w)+I[10]+3200236656&4294967295,R=A+(k<<23&4294967295|k>>>9),k=w+(R^A^L)+I[13]+681279174&4294967295,w=R+(k<<4&4294967295|k>>>28),k=L+(w^R^A)+I[0]+3936430074&4294967295,L=w+(k<<11&4294967295|k>>>21),k=A+(L^w^R)+I[3]+3572445317&4294967295,A=L+(k<<16&4294967295|k>>>16),k=R+(A^L^w)+I[6]+76029189&4294967295,R=A+(k<<23&4294967295|k>>>9),k=w+(R^A^L)+I[9]+3654602809&4294967295,w=R+(k<<4&4294967295|k>>>28),k=L+(w^R^A)+I[12]+3873151461&4294967295,L=w+(k<<11&4294967295|k>>>21),k=A+(L^w^R)+I[15]+530742520&4294967295,A=L+(k<<16&4294967295|k>>>16),k=R+(A^L^w)+I[2]+3299628645&4294967295,R=A+(k<<23&4294967295|k>>>9),k=w+(A^(R|~L))+I[0]+4096336452&4294967295,w=R+(k<<6&4294967295|k>>>26),k=L+(R^(w|~A))+I[7]+1126891415&4294967295,L=w+(k<<10&4294967295|k>>>22),k=A+(w^(L|~R))+I[14]+2878612391&4294967295,A=L+(k<<15&4294967295|k>>>17),k=R+(L^(A|~w))+I[5]+4237533241&4294967295,R=A+(k<<21&4294967295|k>>>11),k=w+(A^(R|~L))+I[12]+1700485571&4294967295,w=R+(k<<6&4294967295|k>>>26),k=L+(R^(w|~A))+I[3]+2399980690&4294967295,L=w+(k<<10&4294967295|k>>>22),k=A+(w^(L|~R))+I[10]+4293915773&4294967295,A=L+(k<<15&4294967295|k>>>17),k=R+(L^(A|~w))+I[1]+2240044497&4294967295,R=A+(k<<21&4294967295|k>>>11),k=w+(A^(R|~L))+I[8]+1873313359&4294967295,w=R+(k<<6&4294967295|k>>>26),k=L+(R^(w|~A))+I[15]+4264355552&4294967295,L=w+(k<<10&4294967295|k>>>22),k=A+(w^(L|~R))+I[6]+2734768916&4294967295,A=L+(k<<15&4294967295|k>>>17),k=R+(L^(A|~w))+I[13]+1309151649&4294967295,R=A+(k<<21&4294967295|k>>>11),k=w+(A^(R|~L))+I[4]+4149444226&4294967295,w=R+(k<<6&4294967295|k>>>26),k=L+(R^(w|~A))+I[11]+3174756917&4294967295,L=w+(k<<10&4294967295|k>>>22),k=A+(w^(L|~R))+I[2]+718787259&4294967295,A=L+(k<<15&4294967295|k>>>17),k=R+(L^(A|~w))+I[9]+3951481745&4294967295,b.g[0]=b.g[0]+w&4294967295,b.g[1]=b.g[1]+(A+(k<<21&4294967295|k>>>11))&4294967295,b.g[2]=b.g[2]+A&4294967295,b.g[3]=b.g[3]+L&4294967295}r.prototype.v=function(b,w){w===void 0&&(w=b.length);const R=w-this.blockSize,I=this.C;let A=this.h,L=0;for(;L<w;){if(A==0)for(;L<=R;)i(this,b,L),L+=this.blockSize;if(typeof b=="string"){for(;L<w;)if(I[A++]=b.charCodeAt(L++),A==this.blockSize){i(this,I),A=0;break}}else for(;L<w;)if(I[A++]=b[L++],A==this.blockSize){i(this,I),A=0;break}}this.h=A,this.o+=w},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var w=1;w<b.length-8;++w)b[w]=0;w=this.o*8;for(var R=b.length-8;R<b.length;++R)b[R]=w&255,w/=256;for(this.v(b),b=Array(16),w=0,R=0;R<4;++R)for(let I=0;I<32;I+=8)b[w++]=this.g[R]>>>I&255;return b};function s(b,w){var R=a;return Object.prototype.hasOwnProperty.call(R,b)?R[b]:R[b]=w(b)}function o(b,w){this.h=w;const R=[];let I=!0;for(let A=b.length-1;A>=0;A--){const L=b[A]|0;I&&L==w||(R[A]=L,I=!1)}this.g=R}var a={};function l(b){return-128<=b&&b<128?s(b,function(w){return new o([w|0],w<0?-1:0)}):new o([b|0],b<0?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return d;if(b<0)return T(u(-b));const w=[];let R=1;for(let I=0;b>=R;I++)w[I]=b/R|0,R*=4294967296;return new o(w,0)}function h(b,w){if(b.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(b.charAt(0)=="-")return T(h(b.substring(1),w));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=u(Math.pow(w,8));let I=d;for(let L=0;L<b.length;L+=8){var A=Math.min(8,b.length-L);const k=parseInt(b.substring(L,L+A),w);A<8?(A=u(Math.pow(w,A)),I=I.j(A).add(u(k))):(I=I.j(R),I=I.add(u(k)))}return I}var d=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-T(this).m();let b=0,w=1;for(let R=0;R<this.g.length;R++){const I=this.i(R);b+=(I>=0?I:4294967296+I)*w,w*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(g(this))return"0";if(S(this))return"-"+T(this).toString(b);const w=u(Math.pow(b,6));var R=this;let I="";for(;;){const A=P(R,w).g;R=_(R,A.j(w));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(b);if(R=A,g(R))return L+I;for(;L.length<6;)L="0"+L;I=L+I}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function g(b){if(b.h!=0)return!1;for(let w=0;w<b.g.length;w++)if(b.g[w]!=0)return!1;return!0}function S(b){return b.h==-1}t.l=function(b){return b=_(this,b),S(b)?-1:g(b)?0:1};function T(b){const w=b.g.length,R=[];for(let I=0;I<w;I++)R[I]=~b.g[I];return new o(R,~b.h).add(f)}t.abs=function(){return S(this)?T(this):this},t.add=function(b){const w=Math.max(this.g.length,b.g.length),R=[];let I=0;for(let A=0;A<=w;A++){let L=I+(this.i(A)&65535)+(b.i(A)&65535),k=(L>>>16)+(this.i(A)>>>16)+(b.i(A)>>>16);I=k>>>16,L&=65535,k&=65535,R[A]=k<<16|L}return new o(R,R[R.length-1]&-2147483648?-1:0)};function _(b,w){return b.add(T(w))}t.j=function(b){if(g(this)||g(b))return d;if(S(this))return S(b)?T(this).j(T(b)):T(T(this).j(b));if(S(b))return T(this.j(T(b)));if(this.l(p)<0&&b.l(p)<0)return u(this.m()*b.m());const w=this.g.length+b.g.length,R=[];for(var I=0;I<2*w;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(let A=0;A<b.g.length;A++){const L=this.i(I)>>>16,k=this.i(I)&65535,le=b.i(A)>>>16,he=b.i(A)&65535;R[2*I+2*A]+=k*he,y(R,2*I+2*A),R[2*I+2*A+1]+=L*he,y(R,2*I+2*A+1),R[2*I+2*A+1]+=k*le,y(R,2*I+2*A+1),R[2*I+2*A+2]+=L*le,y(R,2*I+2*A+2)}for(b=0;b<w;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=w;b<2*w;b++)R[b]=0;return new o(R,0)};function y(b,w){for(;(b[w]&65535)!=b[w];)b[w+1]+=b[w]>>>16,b[w]&=65535,w++}function E(b,w){this.g=b,this.h=w}function P(b,w){if(g(w))throw Error("division by zero");if(g(b))return new E(d,d);if(S(b))return w=P(T(b),w),new E(T(w.g),T(w.h));if(S(w))return w=P(b,T(w)),new E(T(w.g),w.h);if(b.g.length>30){if(S(b)||S(w))throw Error("slowDivide_ only works with positive integers.");for(var R=f,I=w;I.l(b)<=0;)R=M(R),I=M(I);var A=D(R,1),L=D(I,1);for(I=D(I,2),R=D(R,2);!g(I);){var k=L.add(I);k.l(b)<=0&&(A=A.add(R),L=k),I=D(I,1),R=D(R,1)}return w=_(b,A.j(w)),new E(A,w)}for(A=d;b.l(w)>=0;){for(R=Math.max(1,Math.floor(b.m()/w.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),L=u(R),k=L.j(w);S(k)||k.l(b)>0;)R-=I,L=u(R),k=L.j(w);g(L)&&(L=f),A=A.add(L),b=_(b,k)}return new E(A,b)}t.B=function(b){return P(this,b).h},t.and=function(b){const w=Math.max(this.g.length,b.g.length),R=[];for(let I=0;I<w;I++)R[I]=this.i(I)&b.i(I);return new o(R,this.h&b.h)},t.or=function(b){const w=Math.max(this.g.length,b.g.length),R=[];for(let I=0;I<w;I++)R[I]=this.i(I)|b.i(I);return new o(R,this.h|b.h)},t.xor=function(b){const w=Math.max(this.g.length,b.g.length),R=[];for(let I=0;I<w;I++)R[I]=this.i(I)^b.i(I);return new o(R,this.h^b.h)};function M(b){const w=b.g.length+1,R=[];for(let I=0;I<w;I++)R[I]=b.i(I)<<1|b.i(I-1)>>>31;return new o(R,b.h)}function D(b,w){const R=w>>5;w%=32;const I=b.g.length-R,A=[];for(let L=0;L<I;L++)A[L]=w>0?b.i(L+R)>>>w|b.i(L+R+1)<<32-w:b.i(L+R);return new o(A,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,sO=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,js=o}).apply(typeof eR<"u"?eR:typeof self<"u"?self:typeof window<"u"?window:{});var Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oO,Ku,aO,Rf,V_,lO,uO,cO;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ud=="object"&&Ud];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var v=r;c=c.split(".");for(var x=0;x<c.length-1;x++){var N=c[x];if(!(N in v))break e;v=v[N]}c=c[c.length-1],x=v[c],m=m(x),m!=x&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(m){var v=[],x;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&v.push([x,m[x]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function l(c,m,v){return c.call.apply(c.bind,arguments)}function u(c,m,v){return u=l,u.apply(null,arguments)}function h(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var x=v.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function d(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(x,N,F){for(var W=Array(arguments.length-2),de=2;de<arguments.length;de++)W[de-2]=arguments[de];return m.prototype[N].apply(x,W)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function p(c){const m=c.length;if(m>0){const v=Array(m);for(let x=0;x<m;x++)v[x]=c[x];return v}return[]}function g(c,m){for(let x=1;x<arguments.length;x++){const N=arguments[x];var v=typeof N;if(v=v!="object"?v:N?Array.isArray(N)?"array":v:"null",v=="array"||v=="object"&&typeof N.length=="number"){v=c.length||0;const F=N.length||0;c.length=v+F;for(let W=0;W<F;W++)c[v+W]=N[W]}else c.push(N)}}class S{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function T(c){o.setTimeout(()=>{throw c},0)}function _(){var c=b;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class y{constructor(){this.h=this.g=null}add(m,v){const x=E.get();x.set(m,v),this.h?this.h.next=x:this.g=x,this.h=x}}var E=new S(()=>new P,c=>c.reset());class P{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let M,D=!1,b=new y,w=()=>{const c=Promise.resolve(void 0);M=()=>{c.then(R)}};function R(){for(var c;c=_();){try{c.h.call(c.g)}catch(v){T(v)}var m=E;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}D=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};o.addEventListener("test",v,m),o.removeEventListener("test",v,m)}catch{}return c}();function k(c){return/^[\s\xa0]*$/.test(c)}function le(c,m){A.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}d(le,A),le.prototype.init=function(c,m){const v=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),Me=0;function be(c,m,v,x,N){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!x,this.ha=N,this.key=++Me,this.da=this.fa=!1}function $(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Y(c,m,v){for(const x in c)m.call(v,c[x],x,c)}function ee(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function ye(c){const m={};for(const v in c)m[v]=c[v];return m}const Ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nn(c,m){let v,x;for(let N=1;N<arguments.length;N++){x=arguments[N];for(v in x)c[v]=x[v];for(let F=0;F<Ie.length;F++)v=Ie[F],Object.prototype.hasOwnProperty.call(x,v)&&(c[v]=x[v])}}function nt(c){this.src=c,this.g={},this.h=0}nt.prototype.add=function(c,m,v,x,N){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const W=ot(c,m,x,N);return W>-1?(m=c[W],v||(m.fa=!1)):(m=new be(m,this.src,F,!!x,N),m.fa=v,c.push(m)),m};function Mt(c,m){const v=m.type;if(v in c.g){var x=c.g[v],N=Array.prototype.indexOf.call(x,m,void 0),F;(F=N>=0)&&Array.prototype.splice.call(x,N,1),F&&($(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ot(c,m,v,x){for(let N=0;N<c.length;++N){const F=c[N];if(!F.da&&F.listener==m&&F.capture==!!v&&F.ha==x)return N}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Ct={};function Tn(c,m,v,x,N){if(Array.isArray(m)){for(let F=0;F<m.length;F++)Tn(c,m[F],v,x,N);return null}return v=Gi(v),c&&c[he]?c.J(m,v,a(x)?!!x.capture:!1,N):ai(c,m,v,!1,x,N)}function ai(c,m,v,x,N,F){if(!m)throw Error("Invalid event type");const W=a(N)?!!N.capture:!!N;let de=Ki(c);if(de||(c[je]=de=new nt(c)),v=de.add(m,v,x,W,F),v.proxy)return v;if(x=qi(),v.proxy=x,x.src=c,x.listener=v,c.addEventListener)L||(N=W),N===void 0&&(N=!1),c.addEventListener(m.toString(),x,N);else if(c.attachEvent)c.attachEvent(jn(m.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return v}function qi(){function c(v){return m.call(c.src,c.listener,v)}const m=oo;return c}function sr(c,m,v,x,N){if(Array.isArray(m))for(var F=0;F<m.length;F++)sr(c,m[F],v,x,N);else x=a(x)?!!x.capture:!!x,v=Gi(v),c&&c[he]?(c=c.i,F=String(m).toString(),F in c.g&&(m=c.g[F],v=ot(m,v,x,N),v>-1&&($(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[F],c.h--)))):c&&(c=Ki(c))&&(m=c.g[m.toString()],c=-1,m&&(c=ot(m,v,x,N)),(v=c>-1?m[c]:null)&&Pr(v))}function Pr(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[he])Mt(m.i,c);else{var v=c.type,x=c.proxy;m.removeEventListener?m.removeEventListener(v,x,c.capture):m.detachEvent?m.detachEvent(jn(v),x):m.addListener&&m.removeListener&&m.removeListener(x),(v=Ki(m))?(Mt(v,c),v.h==0&&(v.src=null,m[je]=null)):$(c)}}}function jn(c){return c in Ct?Ct[c]:Ct[c]="on"+c}function oo(c,m){if(c.da)c=!0;else{m=new le(m,this);const v=c.listener,x=c.ha||c.src;c.fa&&Pr(c),c=v.call(x,m)}return c}function Ki(c){return c=c[je],c instanceof nt?c:null}var ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gi(c){return typeof c=="function"?c:(c[ao]||(c[ao]=function(m){return c.handleEvent(m)}),c[ao])}function Pe(){I.call(this),this.i=new nt(this),this.M=this,this.G=null}d(Pe,I),Pe.prototype[he]=!0,Pe.prototype.removeEventListener=function(c,m,v,x){sr(this,c,m,v,x)};function Xe(c,m){var v,x=c.G;if(x)for(v=[];x;x=x.G)v.push(x);if(c=c.M,x=m.type||m,typeof m=="string")m=new A(m,c);else if(m instanceof A)m.target=m.target||c;else{var N=m;m=new A(x,c),nn(m,N)}N=!0;let F,W;if(v)for(W=v.length-1;W>=0;W--)F=m.g=v[W],N=bn(F,x,!0,m)&&N;if(F=m.g=c,N=bn(F,x,!0,m)&&N,N=bn(F,x,!1,m)&&N,v)for(W=0;W<v.length;W++)F=m.g=v[W],N=bn(F,x,!1,m)&&N}Pe.prototype.N=function(){if(Pe.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let x=0;x<v.length;x++)$(v[x]);delete c.g[m],c.h--}}this.G=null},Pe.prototype.J=function(c,m,v,x){return this.i.add(String(c),m,!1,v,x)},Pe.prototype.K=function(c,m,v,x){return this.i.add(String(c),m,!0,v,x)};function bn(c,m,v,x){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let N=!0;for(let F=0;F<m.length;++F){const W=m[F];if(W&&!W.da&&W.capture==v){const de=W.listener,yt=W.ha||W.src;W.fa&&Mt(c.i,W),N=de.call(yt,x)!==!1&&N}}return N&&!x.defaultPrevented}function $n(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:o.setTimeout(c,m||0)}function Xi(c){c.g=$n(()=>{c.g=null,c.i&&(c.i=!1,Xi(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class lo extends I{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xi(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(c){I.call(this),this.h=c,this.g={}}d(or,I);var uo=[];function ha(c){Y(c.g,function(m,v){this.g.hasOwnProperty(v)&&Pr(m)},c),c.g={}}or.prototype.N=function(){or.Z.N.call(this),ha(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yi=o.JSON.stringify,ou=o.JSON.parse,da=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function fa(){}function co(){}var li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qi(){A.call(this,"d")}d(Qi,A);function Le(){A.call(this,"c")}d(Le,A);var Un={},pa=null;function ui(){return pa=pa||new Pe}Un.Ia="serverreachability";function ma(c){A.call(this,Un.Ia,c)}d(ma,A);function kr(c){const m=ui();Xe(m,new ma(m))}Un.STAT_EVENT="statevent";function ga(c,m){A.call(this,Un.STAT_EVENT,c),this.stat=m}d(ga,A);function J(c){const m=ui();Xe(m,new ga(m,c))}Un.Ja="timingevent";function He(c,m){A.call(this,Un.Ja,c),this.size=m}d(He,A);function Rt(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},m)}function ar(){this.g=!0}ar.prototype.ua=function(){this.g=!1};function Or(c,m,v,x,N,F){c.info(function(){if(c.g)if(F){var W="",de=F.split("&");for(let Ne=0;Ne<de.length;Ne++){var yt=de[Ne].split("=");if(yt.length>1){const It=yt[0];yt=yt[1];const Nr=It.split("_");W=Nr.length>=2&&Nr[1]=="type"?W+(It+"="+yt+"&"):W+(It+"=redacted&")}}}else W=null;else W=F;return"XMLHTTP REQ ("+x+") [attempt "+N+"]: "+m+`
`+v+`
`+W})}function ya(c,m,v,x,N,F,W){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+N+"]: "+m+`
`+v+`
`+F+" "+W})}function ci(c,m,v,x){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Kh(c,v)+(x?" "+x:"")})}function Sg(c,m){c.info(function(){return"TIMEOUT: "+m})}ar.prototype.info=function(){};function Kh(c,m){if(!c.g)return m;if(!m)return null;try{const F=JSON.parse(m);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var x=v[1];if(Array.isArray(x)&&!(x.length<1)){var N=x[0];if(N!="noop"&&N!="stop"&&N!="close")for(let W=1;W<x.length;W++)x[W]=""}}}}return Yi(F)}catch{return m}}var va={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},au={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gh;function _a(){}d(_a,fa),_a.prototype.g=function(){return new XMLHttpRequest},Gh=new _a;function ho(c){return encodeURIComponent(String(c))}function Xh(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Dr(c,m,v,x){this.j=c,this.i=m,this.l=v,this.S=x||1,this.V=new or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new fo}function fo(){this.i=null,this.g="",this.h=!1}var po={},wa={};function lu(c,m,v){c.M=1,c.A=mo(Rn(m)),c.u=v,c.R=!0,uu(c,null)}function uu(c,m){c.F=Date.now(),G(c),c.B=Rn(c.A);var v=c.B,x=c.S;Array.isArray(x)||(x=[String(x)]),Su(v.i,"t",x),c.C=0,v=c.j.L,c.h=new fo,c.g=yT(c.j,v?m:null,!c.u),c.P>0&&(c.O=new lo(u(c.Y,c,c.g),c.P)),m=c.V,v=c.g,x=c.ba;var N="readystatechange";Array.isArray(N)||(N&&(uo[0]=N.toString()),N=uo);for(let F=0;F<N.length;F++){const W=Tn(v,N[F],x||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=c.J?ye(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),kr(),Or(c.i,c.v,c.B,c.l,c.S,c.u)}Dr.prototype.ba=function(c){c=c.target;const m=this.O;m&&ss(c)==3?m.j():this.Y(c)},Dr.prototype.Y=function(c){try{if(c==this.g)e:{const de=ss(this.g),yt=this.g.ya(),Ne=this.g.ca();if(!(de<3)&&(de!=3||this.g&&(this.h.h||this.g.la()||oT(this.g)))){this.K||de!=4||yt==7||(yt==8||Ne<=0?kr(3):kr(2)),Cn(this);var m=this.g.ca();this.X=m;var v=Eg(this);if(this.o=m==200,ya(this.i,this.v,this.B,this.l,this.S,de,m),this.o){if(this.U&&!this.L){t:{if(this.g){var x,N=this.g;if((x=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(x)){var F=x;break t}}F=null}if(c=F)ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sa(this,c);else{this.o=!1,this.m=3,J(12),Mr(this),Zi(this);break e}}if(this.R){c=!0;let It;for(;!this.K&&this.C<v.length;)if(It=Yh(this,v),It==wa){de==4&&(this.m=4,J(14),c=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(It==po){this.m=4,J(15),ci(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ci(this.i,this.l,It,null),Sa(this,It);if(Ji(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),de!=4||v.length!=0||this.h.h||(this.m=1,J(16),c=!1),this.o=this.o&&c,!c)ci(this.i,this.l,v,"[Invalid Chunked Response]"),Mr(this),Zi(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Cg(W),W.P=!0,J(11))}}else ci(this.i,this.l,v,null),Sa(this,v);de==4&&Mr(this),this.o&&!this.K&&(de==4?fT(this.j,this):(this.o=!1,G(this)))}else U2(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,J(12)):(this.m=0,J(13)),Mr(this),Zi(this)}}}catch{}finally{}};function Eg(c){if(!Ji(c))return c.g.la();const m=oT(c.g);if(m==="")return"";let v="";const x=m.length,N=ss(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Mr(c),Zi(c),"";c.h.i=new o.TextDecoder}for(let F=0;F<x;F++)c.h.h=!0,v+=c.h.i.decode(m[F],{stream:!(N&&F==x-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Ji(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Yh(c,m){var v=c.C,x=m.indexOf(`
`,v);return x==-1?wa:(v=Number(m.substring(v,x)),isNaN(v)?po:(x+=1,x+v>m.length?wa:(m=m.slice(x,x+v),c.C=x+v,m)))}Dr.prototype.cancel=function(){this.K=!0,Mr(this)};function G(c){c.T=Date.now()+c.H,Qh(c,c.H)}function Qh(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Rt(u(c.aa,c),m)}function Cn(c){c.D&&(o.clearTimeout(c.D),c.D=null)}Dr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Sg(this.i,this.B),this.M!=2&&(kr(),J(17)),Mr(this),this.m=2,Zi(this)):Qh(this,this.T-c)};function Zi(c){c.j.I==0||c.K||fT(c.j,c)}function Mr(c){Cn(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,ha(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Sa(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||Ea(v.h,c))){if(!c.L&&Ea(v.h,c)&&v.I==3){try{var x=v.Ba.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var N=x;if(N[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)fd(v),hd(v);else break e;bg(v),J(18)}}else v.xa=N[1],0<v.xa-v.K&&N[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Rt(u(v.Va,v),6e3));du(v.h)<=1&&v.ta&&(v.ta=void 0)}else vo(v,11)}else if((c.L||v.g==c)&&fd(v),!k(m))for(N=v.Ba.g.parse(m),m=0;m<N.length;m++){let Ne=N[m];const It=Ne[0];if(!(It<=v.K))if(v.K=It,Ne=Ne[1],v.I==2)if(Ne[0]=="c"){v.M=Ne[1],v.ba=Ne[2];const Nr=Ne[3];Nr!=null&&(v.ka=Nr,v.j.info("VER="+v.ka));const _o=Ne[4];_o!=null&&(v.za=_o,v.j.info("SVER="+v.za));const os=Ne[5];os!=null&&typeof os=="number"&&os>0&&(x=1.5*os,v.O=x,v.j.info("backChannelRequestTimeoutMs_="+x)),x=v;const as=c.g;if(as){const md=as.g?as.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(md){var F=x.h;F.g||md.indexOf("spdy")==-1&&md.indexOf("quic")==-1&&md.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ta(F,F.h),F.h=null))}if(x.G){const Rg=as.g?as.g.getResponseHeader("X-HTTP-Session-Id"):null;Rg&&(x.wa=Rg,De(x.J,x.G,Rg))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),x=v;var W=c;if(x.na=gT(x,x.L?x.ba:null,x.W),W.L){fu(x.h,W);var de=W,yt=x.O;yt&&(de.H=yt),de.D&&(Cn(de),G(de)),x.g=W}else hT(x);v.i.length>0&&dd(v)}else Ne[0]!="stop"&&Ne[0]!="close"||vo(v,7);else v.I==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?vo(v,7):Tg(v):Ne[0]!="noop"&&v.l&&v.l.qa(Ne),v.A=0)}}kr(4)}catch{}}var Jh=class{constructor(c,m){this.g=c,this.map=m}};function cu(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function hu(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function du(c){return c.h?1:c.g?c.g.size:0}function Ea(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Ta(c,m){c.g?c.g.add(m):c.h=m}function fu(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}cu.prototype.cancel=function(){if(this.i=pu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pu(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return p(c.i)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zh(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const x=c[v].indexOf("=");let N,F=null;x>=0?(N=c[v].substring(0,x),F=c[v].substring(x+1)):N=c[v],m(N,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function lr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof lr?(this.l=c.l,es(this,c.j),this.o=c.o,this.g=c.g,ts(this,c.u),this.h=c.h,ba(this,Eu(c.i)),this.m=c.m):c&&(m=String(c).match(mu))?(this.l=!1,es(this,m[1]||"",!0),this.o=ns(m[2]||""),this.g=ns(m[3]||"",!0),ts(this,m[4]),this.h=ns(m[5]||"",!0),ba(this,m[6]||"",!0),this.m=ns(m[7]||"")):(this.l=!1,this.i=new is(null,this.l))}lr.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(rs(m,yu,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(rs(m,yu,!0),"@"),c.push(ho(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(rs(v,v.charAt(0)=="/"?td:ed,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",rs(v,rd)),c.join("")},lr.prototype.resolve=function(c){const m=Rn(this);let v=!!c.j;v?es(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var x=c.h;if(v)ts(m,c.u);else if(v=!!c.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var N=m.h.lastIndexOf("/");N!=-1&&(x=m.h.slice(0,N+1)+x)}if(N=x,N==".."||N==".")x="";else if(N.indexOf("./")!=-1||N.indexOf("/.")!=-1){x=N.lastIndexOf("/",0)==0,N=N.split("/");const F=[];for(let W=0;W<N.length;){const de=N[W++];de=="."?x&&W==N.length&&F.push(""):de==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),x&&W==N.length&&F.push("")):(F.push(de),x=!0)}x=F.join("/")}else x=N}return v?m.h=x:v=c.i.toString()!=="",v?ba(m,Eu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Rn(c){return new lr(c)}function es(c,m,v){c.j=v?ns(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ts(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function ba(c,m,v){m instanceof is?(c.i=m,id(c.i,c.l)):(v||(m=rs(m,nd)),c.i=new is(m,c.l))}function De(c,m,v){c.i.set(m,v)}function mo(c){return De(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ns(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function rs(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,gu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yu=/[#\/\?@]/g,ed=/[#\?:]/g,td=/[#\?]/g,nd=/[#\?@]/g,rd=/#/g;function is(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Lr(c){c.g||(c.g=new Map,c.h=0,c.i&&Zh(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=is.prototype,t.add=function(c,m){Lr(this),this.i=null,c=hi(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function vu(c,m){Lr(c),m=hi(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function _u(c,m){return Lr(c),m=hi(c,m),c.g.has(m)}t.forEach=function(c,m){Lr(this),this.g.forEach(function(v,x){v.forEach(function(N){c.call(m,N,x,this)},this)},this)};function wu(c,m){Lr(c);let v=[];if(typeof m=="string")_u(c,m)&&(v=v.concat(c.g.get(hi(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}t.set=function(c,m){return Lr(this),this.i=null,c=hi(this,c),_u(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=wu(this,c),c.length>0?String(c[0]):m):m};function Su(c,m,v){vu(c,m),v.length>0&&(c.i=null,c.g.set(hi(c,m),p(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let x=0;x<m.length;x++){var v=m[x];const N=ho(v);v=wu(this,v);for(let F=0;F<v.length;F++){let W=N;v[F]!==""&&(W+="="+ho(v[F])),c.push(W)}}return this.i=c.join("&")};function Eu(c){const m=new is;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function hi(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function id(c,m){m&&!c.j&&(Lr(c),c.i=null,c.g.forEach(function(v,x){const N=x.toLowerCase();x!=N&&(vu(this,x),Su(this,N,v))},c)),c.j=m}function sd(c,m){const v=new ar;if(o.Image){const x=new Image;x.onload=h(ur,v,"TestLoadImage: loaded",!0,m,x),x.onerror=h(ur,v,"TestLoadImage: error",!1,m,x),x.onabort=h(ur,v,"TestLoadImage: abort",!1,m,x),x.ontimeout=h(ur,v,"TestLoadImage: timeout",!1,m,x),o.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else m(!1)}function od(c,m){const v=new ar,x=new AbortController,N=setTimeout(()=>{x.abort(),ur(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:x.signal}).then(F=>{clearTimeout(N),F.ok?ur(v,"TestPingServer: ok",!0,m):ur(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(N),ur(v,"TestPingServer: error",!1,m)})}function ur(c,m,v,x,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),x(v)}catch{}}function ad(){this.g=new da}function Ca(c){this.i=c.Sb||null,this.h=c.ab||!1}d(Ca,fa),Ca.prototype.g=function(){return new go(this.i,this.h)};function go(c,m){Pe.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(go,Pe),t=go.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,yo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||o).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,yo(this)),this.g&&(this.readyState=3,yo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tu(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Tu(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?di(this):yo(this),this.readyState==3&&Tu(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,di(this))},t.Na=function(c){this.g&&(this.response=c,di(this))},t.ga=function(){this.g&&di(this)};function di(c){c.readyState=4,c.l=null,c.j=null,c.B=null,yo(c)}t.setRequestHeader=function(c,m){this.A.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function yo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(go.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bu(c){let m="";return Y(c,function(v,x){m+=x,m+=":",m+=v,m+=`\r
`}),m}function Ra(c,m,v){e:{for(x in v){var x=!1;break e}x=!0}x||(v=bu(v),typeof c=="string"?v!=null&&ho(v):De(c,m,v))}function $e(c){Pe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d($e,Pe);var ld=/^https?$/i,ud=["POST","PUT"];t=$e.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,m,v,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gh.g(),this.g.onreadystatechange=f(u(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(F){rT(this,F);return}if(c=v||"",v=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var N in x)v.set(N,x[N]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const F of x.keys())v.set(F,x.get(F));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),N=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(ud,m,void 0)>=0)||x||N||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,W]of v)this.g.setRequestHeader(F,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){rT(this,F)}};function rT(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,iT(c),cd(c)}function iT(c){c.A||(c.A=!0,Xe(c,"complete"),Xe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Xe(this,"complete"),Xe(this,"abort"),cd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cd(this,!0)),$e.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?sT(this):this.Xa())},t.Xa=function(){sT(this)};function sT(c){if(c.h&&typeof s<"u"){if(c.v&&ss(c)==4)setTimeout(c.Ca.bind(c),0);else if(Xe(c,"readystatechange"),ss(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var x;if(x=F===0){let W=String(c.D).match(mu)[1]||null;!W&&o.self&&o.self.location&&(W=o.self.location.protocol.slice(0,-1)),x=!ld.test(W?W.toLowerCase():"")}v=x}if(v)Xe(c,"complete"),Xe(c,"success");else{c.o=6;try{var N=ss(c)>2?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.ca()+"]",iT(c)}}finally{cd(c)}}}}function cd(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Xe(c,"ready");try{v.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ss(c){return c.g?c.g.readyState:0}t.ca=function(){try{return ss(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),ou(m)}};function oT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function U2(c){const m={};c=(c.g&&ss(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(k(c[x]))continue;var v=Xh(c[x]);const N=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=m[N]||[];m[N]=F,F.push(v)}ee(m,function(x){return x.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cu(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function aT(c){this.za=0,this.i=[],this.j=new ar,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Cu("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Cu("baseRetryDelayMs",5e3,c),this.Za=Cu("retryDelaySeedMs",1e4,c),this.Ta=Cu("forwardChannelMaxRetries",2,c),this.va=Cu("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new cu(c&&c.concurrentRequestLimit),this.Ba=new ad,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=aT.prototype,t.ka=8,t.I=1,t.connect=function(c,m,v,x){J(0),this.W=c,this.H=m||{},v&&x!==void 0&&(this.H.OSID=v,this.H.OAID=x),this.F=this.X,this.J=gT(this,null,this.W),dd(this)};function Tg(c){if(lT(c),c.I==3){var m=c.V++,v=Rn(c.J);if(De(v,"SID",c.M),De(v,"RID",m),De(v,"TYPE","terminate"),Ru(c,v),m=new Dr(c,c.j,m),m.M=2,m.A=mo(Rn(v)),v=!1,o.navigator&&o.navigator.sendBeacon)try{v=o.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&o.Image&&(new Image().src=m.A,v=!0),v||(m.g=yT(m.j,null),m.g.ea(m.A)),m.F=Date.now(),G(m)}mT(c)}function hd(c){c.g&&(Cg(c),c.g.cancel(),c.g=null)}function lT(c){hd(c),c.v&&(o.clearTimeout(c.v),c.v=null),fd(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function dd(c){if(!hu(c.h)&&!c.m){c.m=!0;var m=c.Ea;M||w(),D||(M(),D=!0),b.add(m,c),c.D=0}}function z2(c,m){return du(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Rt(u(c.Ea,c,m),pT(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const N=new Dr(this,this.j,c);let F=this.o;if(this.U&&(F?(F=ye(F),nn(F,this.U)):F=this.U),this.u!==null||this.R||(N.J=F,F=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var x=this.i[v];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(m+=x,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=cT(this,N,m),v=Rn(this.J),De(v,"RID",c),De(v,"CVER",22),this.G&&De(v,"X-HTTP-Session-Id",this.G),Ru(this,v),F&&(this.R?m="headers="+ho(bu(F))+"&"+m:this.u&&Ra(v,this.u,F)),Ta(this.h,N),this.Ra&&De(v,"TYPE","init"),this.S?(De(v,"$req",m),De(v,"SID","null"),N.U=!0,lu(N,v,null)):lu(N,v,m),this.I=2}}else this.I==3&&(c?uT(this,c):this.i.length==0||hu(this.h)||uT(this))};function uT(c,m){var v;m?v=m.l:v=c.V++;const x=Rn(c.J);De(x,"SID",c.M),De(x,"RID",v),De(x,"AID",c.K),Ru(c,x),c.u&&c.o&&Ra(x,c.u,c.o),v=new Dr(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=cT(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ta(c.h,v),lu(v,x,m)}function Ru(c,m){c.H&&Y(c.H,function(v,x){De(m,x,v)}),c.l&&Y({},function(v,x){De(m,x,v)})}function cT(c,m,v){v=Math.min(c.i.length,v);const x=c.l?u(c.l.Ka,c.l,c):null;e:{var N=c.i;let de=-1;for(;;){const yt=["count="+v];de==-1?v>0?(de=N[0].g,yt.push("ofs="+de)):de=0:yt.push("ofs="+de);let Ne=!0;for(let It=0;It<v;It++){var F=N[It].g;const Nr=N[It].map;if(F-=de,F<0)de=Math.max(0,N[It].g-100),Ne=!1;else try{F="req"+F+"_"||"";try{var W=Nr instanceof Map?Nr:Object.entries(Nr);for(const[_o,os]of W){let as=os;a(os)&&(as=Yi(os)),yt.push(F+_o+"="+encodeURIComponent(as))}}catch(_o){throw yt.push(F+"type="+encodeURIComponent("_badmap")),_o}}catch{x&&x(Nr)}}if(Ne){W=yt.join("&");break e}}W=void 0}return c=c.i.splice(0,v),m.G=c,W}function hT(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;M||w(),D||(M(),D=!0),b.add(m,c),c.A=0}}function bg(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Rt(u(c.Da,c),pT(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,dT(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Rt(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,J(10),hd(this),dT(this))};function Cg(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function dT(c){c.g=new Dr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Rn(c.na);De(m,"RID","rpc"),De(m,"SID",c.M),De(m,"AID",c.K),De(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&De(m,"TO",c.ia),De(m,"TYPE","xmlhttp"),Ru(c,m),c.u&&c.o&&Ra(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=mo(Rn(m)),v.u=null,v.R=!0,uu(v,c)}t.Va=function(){this.C!=null&&(this.C=null,hd(this),bg(this),J(19))};function fd(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function fT(c,m){var v=null;if(c.g==m){fd(c),Cg(c),c.g=null;var x=2}else if(Ea(c.h,m))v=m.G,fu(c.h,m),x=1;else return;if(c.I!=0){if(m.o)if(x==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var N=c.D;x=ui(),Xe(x,new He(x,v)),dd(c)}else hT(c);else if(N=m.m,N==3||N==0&&m.X>0||!(x==1&&z2(c,m)||x==2&&bg(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),N){case 1:vo(c,5);break;case 4:vo(c,10);break;case 3:vo(c,6);break;default:vo(c,2)}}}function pT(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function vo(c,m){if(c.j.info("Error code "+m),m==2){var v=u(c.bb,c),x=c.Ua;const N=!x;x=new lr(x||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||es(x,"https"),mo(x),N?sd(x.toString(),v):od(x.toString(),v)}else J(2);c.I=0,c.l&&c.l.pa(m),mT(c),lT(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function mT(c){if(c.I=0,c.ja=[],c.l){const m=pu(c.h);(m.length!=0||c.i.length!=0)&&(g(c.ja,m),g(c.ja,c.i),c.h.i.length=0,p(c.i),c.i.length=0),c.l.oa()}}function gT(c,m,v){var x=v instanceof lr?Rn(v):new lr(v);if(x.g!="")m&&(x.g=m+"."+x.g),ts(x,x.u);else{var N=o.location;x=N.protocol,m=m?m+"."+N.hostname:N.hostname,N=+N.port;const F=new lr(null);x&&es(F,x),m&&(F.g=m),N&&ts(F,N),v&&(F.h=v),x=F}return v=c.G,m=c.wa,v&&m&&De(x,v,m),De(x,"VER",c.ka),Ru(c,x),x}function yT(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new $e(new Ca({ab:v})):new $e(c.ma),m.Fa(c.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vT(){}t=vT.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function pd(){}pd.prototype.g=function(c,m){return new In(c,m)};function In(c,m){Pe.call(this),this.g=new aT(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!k(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!k(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ia(this)}d(In,Pe),In.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Tg(this.g)},In.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Yi(c),c=v);m.i.push(new Jh(m.Ya++,c)),m.I==3&&dd(m)},In.prototype.N=function(){this.g.l=null,delete this.j,Tg(this.g),delete this.g,In.Z.N.call(this)};function _T(c){Qi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}d(_T,Qi);function wT(){Le.call(this),this.status=1}d(wT,Le);function Ia(c){this.g=c}d(Ia,vT),Ia.prototype.ra=function(){Xe(this.g,"a")},Ia.prototype.qa=function(c){Xe(this.g,new _T(c))},Ia.prototype.pa=function(c){Xe(this.g,new wT)},Ia.prototype.oa=function(){Xe(this.g,"b")},pd.prototype.createWebChannel=pd.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,cO=function(){return new pd},uO=function(){return ui()},lO=Un,V_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},va.NO_ERROR=0,va.TIMEOUT=8,va.HTTP_ERROR=6,Rf=va,au.COMPLETE="complete",aO=au,co.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",Pe.prototype.listen=Pe.prototype.J,Ku=co,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,oO=$e}).apply(typeof Ud<"u"?Ud:typeof self<"u"?self:typeof window<"u"?window:{});const tR="@firebase/firestore",nR="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new uS("@firebase/firestore");function Ma(){return Zo.logLevel}function K(t,...e){if(Zo.logLevel<=_e.DEBUG){const n=e.map(dS);Zo.debug(`Firestore (${Kl}): ${t}`,...n)}}function Li(t,...e){if(Zo.logLevel<=_e.ERROR){const n=e.map(dS);Zo.error(`Firestore (${Kl}): ${t}`,...n)}}function Pl(t,...e){if(Zo.logLevel<=_e.WARN){const n=e.map(dS);Zo.warn(`Firestore (${Kl}): ${t}`,...n)}}function dS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hO(t,r,n)}function hO(t,e,n){let r=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Li(r),new Error(r)}function ke(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||hO(e,i,r)}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class E9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class T9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class b9{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ii,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ii)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string",31837,{l:r}),new dO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class C9{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R9{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new C9(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I9{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ke(this.o===void 0,3512);const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=x9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function F_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Py(i)===Py(s)?we(i,s):Py(i)?1:-1}return we(t.length,e.length)}const A9=55296,P9=57343;function Py(t){const e=t.charCodeAt(0);return e>=A9&&e<=P9}function kl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="__name__";class $r{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=$r.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return we(e.length,n.length)}static compareSegments(e,n){const r=$r.isNumericId(e),i=$r.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?$r.extractNumericId(e).compare($r.extractNumericId(n)):F_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return js.fromString(e.substring(4,e.length-2))}}class Fe extends $r{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const k9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends $r{construct(e,n,r){return new jt(e,n,r)}static isValidIdentifier(e){return k9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iR}static keyField(){return new jt([iR])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new q(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new q(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(Fe.fromString(e))}static fromName(e){return new re(Fe.fromString(e).popFirst(5))}static empty(){return new re(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Fe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(t,e,n){if(!n)throw new q(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O9(t,e,n,r){if(e===!0&&r===!0)throw new q(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sR(t){if(!re.isDocumentKey(t))throw new q(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oR(t){if(re.isDocumentKey(t))throw new q(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pO(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function jm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function Rr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jm(t);throw new q(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ah(t,e){if(!pO(t))throw new q(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new q(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=-62135596800,lR=1e6;class ze{static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*lR);return new ze(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aR)throw new q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lR}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ah(e,ze._jsonSchema))return new ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-aR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:mt("string",ze._jsonSchemaVersion),seconds:mt("number"),nanoseconds:mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new ze(0,0))}static max(){return new ue(new ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=-1;function D9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new Ws(i,re.empty(),e)}function M9(t){return new Ws(t.readTime,t.key,rh)}class Ws{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ws(ue.min(),re.empty(),rh)}static max(){return new Ws(ue.max(),re.empty(),rh)}}function L9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==N9)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function F9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$m.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=-1;function Um(t){return t==null}function Op(t){return t===0&&1/t==-1/0}function B9(t){return typeof t=="number"&&Number.isInteger(t)&&!Op(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="";function j9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uR(e)),e=$9(t.get(n),e);return uR(e)}function $9(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case mO:n+="";break;default:n+=s}}return n}function uR(t){return t+mO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function to(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zd(this.root,e,this.comparator,!0)}}class zd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=i??Bt.EMPTY,this.right=s??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Bt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hR(this.data.getIterator())}getIteratorFrom(e){return new hR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class hR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new bt(jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return kl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new yO("Invalid base64 string: "+s):s}}(e);return new zt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const U9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(t){if(ke(!!t,39018),typeof t=="string"){let e=0;const n=U9.exec(t);if(ke(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qs(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="server_timestamp",_O="__type__",wO="__previous_value__",SO="__local_write_time__";function mS(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[_O])==null?void 0:r.stringValue)===vO}function zm(t){const e=t.mapValue.fields[wO];return mS(e)?zm(e):e}function ih(t){const e=Hs(t.mapValue.fields[SO].timestampValue);return new ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,n,r,i,s,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const Dp="(default)";class sh{constructor(e,n){this.projectId=e,this.database=n||Dp}static empty(){return new sh("","")}get isDefaultDatabase(){return this.database===Dp}isEqual(e){return e instanceof sh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="__type__",W9="__max__",Wd={mapValue:{}},TO="__vector__",Mp="value";function Ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mS(t)?4:q9(t)?9007199254740991:H9(t)?10:11:se(28295,{value:t})}function si(t,e){if(t===e)return!0;const n=Ks(t);if(n!==Ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ih(t).isEqual(ih(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Hs(i.timestampValue),a=Hs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return qs(i.bytesValue).isEqual(qs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return at(i.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return at(i.integerValue)===at(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=at(i.doubleValue),a=at(s.doubleValue);return o===a?Op(o)===Op(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return kl(t.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(cR(o)!==cR(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!si(o[l],a[l])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function oh(t,e){return(t.values||[]).find(n=>si(n,e))!==void 0}function Ol(t,e){if(t===e)return 0;const n=Ks(t),r=Ks(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=at(s.integerValue||s.doubleValue),l=at(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return dR(t.timestampValue,e.timestampValue);case 4:return dR(ih(t),ih(e));case 5:return F_(t.stringValue,e.stringValue);case 6:return function(s,o){const a=qs(s),l=qs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=we(a[u],l[u]);if(h!==0)return h}return we(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=we(at(s.latitude),at(o.latitude));return a!==0?a:we(at(s.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return fR(t.arrayValue,e.arrayValue);case 10:return function(s,o){var f,p,g,S;const a=s.fields||{},l=o.fields||{},u=(f=a[Mp])==null?void 0:f.arrayValue,h=(p=l[Mp])==null?void 0:p.arrayValue,d=we(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((S=h==null?void 0:h.values)==null?void 0:S.length)||0);return d!==0?d:fR(u,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Wd.mapValue&&o===Wd.mapValue)return 0;if(s===Wd.mapValue)return 1;if(o===Wd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=F_(l[d],h[d]);if(f!==0)return f;const p=Ol(a[l[d]],u[h[d]]);if(p!==0)return p}return we(l.length,h.length)}(t.mapValue,e.mapValue);default:throw se(23264,{he:n})}}function dR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=Hs(t),r=Hs(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function fR(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ol(n[i],r[i]);if(s)return s}return we(n.length,r.length)}function Dl(t){return B_(t)}function B_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Hs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=B_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${B_(n.fields[o])}`;return i+"}"}(t.mapValue):se(61005,{value:t})}function If(t){switch(Ks(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zm(t);return e?16+If(e):16;case 5:return 2*t.stringValue.length;case 6:return qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+If(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return to(r.fields,(s,o)=>{i+=s.length+If(o)}),i}(t.mapValue);default:throw se(13486,{value:t})}}function pR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function j_(t){return!!t&&"integerValue"in t}function gS(t){return!!t&&"arrayValue"in t}function mR(t){return!!t&&"nullValue"in t}function gR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xf(t){return!!t&&"mapValue"in t}function H9(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[EO])==null?void 0:r.stringValue)===TO}function Sc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return to(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sc(t.arrayValue.values[n]);return e}return{...t}}function q9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===W9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(n)}setAll(e){let n=jt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Sc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());xf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){to(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new gn(Sc(this.value))}}function bO(t){const e=[];return to(t.fields,(n,r)=>{const i=new jt([n]);if(xf(r)){const s=bO(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qt(e,0,ue.min(),ue.min(),ue.min(),gn.empty(),0)}static newFoundDocument(e,n,r,i){return new Qt(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new Qt(e,2,n,ue.min(),ue.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,ue.min(),ue.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){this.position=e,this.inclusive=n}}function yR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=Ol(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function vR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!si(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n="asc"){this.field=e,this.dir=n}}function K9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{}class pt extends CO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new X9(e,n,r):n==="array-contains"?new J9(e,r):n==="in"?new Z9(e,r):n==="not-in"?new eW(e,r):n==="array-contains-any"?new tW(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Y9(e,r):new Q9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ol(n,this.value)):n!==null&&Ks(this.value)===Ks(n)&&this.matchesComparison(Ol(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends CO{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ir(e,n)}matches(e){return RO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RO(t){return t.op==="and"}function IO(t){return G9(t)&&RO(t)}function G9(t){for(const e of t.filters)if(e instanceof Ir)return!1;return!0}function $_(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+Dl(t.value);if(IO(t))return t.filters.map(e=>$_(e)).join(",");{const e=t.filters.map(n=>$_(n)).join(",");return`${t.op}(${e})`}}function xO(t,e){return t instanceof pt?function(r,i){return i instanceof pt&&r.op===i.op&&r.field.isEqual(i.field)&&si(r.value,i.value)}(t,e):t instanceof Ir?function(r,i){return i instanceof Ir&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&xO(o,i.filters[a]),!0):!1}(t,e):void se(19439)}function AO(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Dl(n.value)}`}(t):t instanceof Ir?function(n){return n.op.toString()+" {"+n.getFilters().map(AO).join(" ,")+"}"}(t):"Filter"}class X9 extends pt{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class Y9 extends pt{constructor(e,n){super(e,"in",n),this.keys=PO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Q9 extends pt{constructor(e,n){super(e,"not-in",n),this.keys=PO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PO(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class J9 extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gS(n)&&oh(n.arrayValue,this.value)}}class Z9 extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oh(this.value.arrayValue,n)}}class eW extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!oh(this.value.arrayValue,n)}}class tW extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function _R(t,e=null,n=[],r=[],i=null,s=null,o=null){return new nW(t,e,n,r,i,s,o)}function yS(t){const e=ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Um(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Dl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Dl(r)).join(",")),e.Te=n}return e.Te}function vS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!K9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vR(t.startAt,e.startAt)&&vR(t.endAt,e.endAt)}function U_(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rW(t,e,n,r,i,s,o,a){return new Ph(t,e,n,r,i,s,o,a)}function _S(t){return new Ph(t)}function wR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kO(t){return t.collectionGroup!==null}function Ec(t){const e=ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new bt(jt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Np(s,r))}),n.has(jt.keyField().canonicalString())||e.Ie.push(new Np(jt.keyField(),r))}return e.Ie}function Qr(t){const e=ce(t);return e.Ee||(e.Ee=iW(e,Ec(t))),e.Ee}function iW(t,e){if(t.limitType==="F")return _R(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Np(i.field,s)});const n=t.endAt?new Lp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lp(t.startAt.position,t.startAt.inclusive):null;return _R(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function z_(t,e){const n=t.filters.concat([e]);return new Ph(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function W_(t,e,n){return new Ph(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wm(t,e){return vS(Qr(t),Qr(e))&&t.limitType===e.limitType}function OO(t){return`${yS(Qr(t))}|lt:${t.limitType}`}function La(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>AO(i)).join(", ")}]`),Um(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Dl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Dl(i)).join(",")),`Target(${r})`}(Qr(t))}; limitType=${t.limitType})`}function Hm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ec(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=yR(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ec(r),i)||r.endAt&&!function(o,a,l){const u=yR(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ec(r),i))}(t,e)}function sW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DO(t){return(e,n)=>{let r=!1;for(const i of Ec(t)){const s=oW(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function oW(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ol(l,u):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return gO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW=new tt(re.comparator);function Ni(){return aW}const MO=new tt(re.comparator);function Gu(...t){let e=MO;for(const n of t)e=e.insert(n.key,n);return e}function LO(t){let e=MO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function No(){return Tc()}function NO(){return Tc()}function Tc(){return new la(t=>t.toString(),(t,e)=>t.isEqual(e))}const lW=new tt(re.comparator),uW=new bt(re.comparator);function Se(...t){let e=uW;for(const n of t)e=e.add(n);return e}const cW=new bt(we);function hW(){return cW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Op(e)?"-0":e}}function VO(t){return{integerValue:""+t}}function dW(t,e){return B9(e)?VO(e):wS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this._=void 0}}function fW(t,e,n){return t instanceof Vp?function(i,s){const o={fields:{[_O]:{stringValue:vO},[SO]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&mS(s)&&(s=zm(s)),s&&(o.fields[wO]=s),{mapValue:o}}(n,e):t instanceof ah?BO(t,e):t instanceof lh?jO(t,e):function(i,s){const o=FO(i,s),a=SR(o)+SR(i.Ae);return j_(o)&&j_(i.Ae)?VO(a):wS(i.serializer,a)}(t,e)}function pW(t,e,n){return t instanceof ah?BO(t,e):t instanceof lh?jO(t,e):n}function FO(t,e){return t instanceof Fp?function(r){return j_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Vp extends qm{}class ah extends qm{constructor(e){super(),this.elements=e}}function BO(t,e){const n=$O(e);for(const r of t.elements)n.some(i=>si(i,r))||n.push(r);return{arrayValue:{values:n}}}class lh extends qm{constructor(e){super(),this.elements=e}}function jO(t,e){let n=$O(e);for(const r of t.elements)n=n.filter(i=>!si(i,r));return{arrayValue:{values:n}}}class Fp extends qm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function SR(t){return at(t.integerValue||t.doubleValue)}function $O(t){return gS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mW(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ah&&i instanceof ah||r instanceof lh&&i instanceof lh?kl(r.elements,i.elements,si):r instanceof Fp&&i instanceof Fp?si(r.Ae,i.Ae):r instanceof Vp&&i instanceof Vp}(t.transform,e.transform)}class gW{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Af(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Km{}function UO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new SS(t.key,er.none()):new kh(t.key,t.data,er.none());{const n=t.data,r=gn.empty();let i=new bt(jt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new no(t.key,r,new Mn(i.toArray()),er.none())}}function yW(t,e,n){t instanceof kh?function(i,s,o){const a=i.value.clone(),l=TR(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof no?function(i,s,o){if(!Af(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=TR(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(zO(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function bc(t,e,n,r){return t instanceof kh?function(s,o,a,l){if(!Af(s.precondition,o))return a;const u=s.value.clone(),h=bR(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof no?function(s,o,a,l){if(!Af(s.precondition,o))return a;const u=bR(s.fieldTransforms,l,o),h=o.data;return h.setAll(zO(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Af(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function vW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=FO(r.transform,i||null);s!=null&&(n===null&&(n=gn.empty()),n.set(r.field,s))}return n||null}function ER(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&kl(r,i,(s,o)=>mW(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kh extends Km{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class no extends Km{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function zO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function TR(t,e,n){const r=new Map;ke(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,pW(o,a,n[i]))}return r}function bR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,fW(s,o,e))}return r}class SS extends Km{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _W extends Km{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&yW(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NO();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=UO(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&kl(this.mutations,e.mutations,(n,r)=>ER(n,r))&&kl(this.baseMutations,e.baseMutations,(n,r)=>ER(n,r))}}class ES{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return lW}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ES(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Ee;function TW(t){switch(t){case B.OK:return se(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function WO(t){if(t===void 0)return Li("GRPC error has no .code"),B.UNKNOWN;switch(t){case ct.OK:return B.OK;case ct.CANCELLED:return B.CANCELLED;case ct.UNKNOWN:return B.UNKNOWN;case ct.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ct.INTERNAL:return B.INTERNAL;case ct.UNAVAILABLE:return B.UNAVAILABLE;case ct.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ct.NOT_FOUND:return B.NOT_FOUND;case ct.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ct.ABORTED:return B.ABORTED;case ct.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ct.DATA_LOSS:return B.DATA_LOSS;default:return se(39323,{code:t})}}(Ee=ct||(ct={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW=new js([4294967295,4294967295],0);function CR(t){const e=bW().encode(t),n=new sO;return n.update(e),new Uint8Array(n.digest())}function RR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new js([n,r],0),new js([i,s],0)]}class TS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xu(`Invalid padding: ${n}`);if(r<0)throw new Xu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=js.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(js.fromNumber(r)));return i.compare(CW)===1&&(i=new js([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=CR(e),[r,i]=RR(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new TS(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=CR(e),[r,i]=RR(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Oh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gm(ue.min(),i,new tt(we),Ni(),Se())}}class Oh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oh(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class HO{constructor(e,n){this.targetId=e,this.Ce=n}}class qO{constructor(e,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class IR{constructor(){this.ve=0,this.Fe=xR(),this.Me=zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Se(),n=Se(),r=Se();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se(38017,{changeType:s})}}),new Oh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=xR()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RW{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ni(),this.Je=Hd(),this.He=Hd(),this.Ye=new tt(we)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(U_(s))if(r===0){const o=new re(s.path);this.et(n,o,Qt.newNoDocument(o,ue.min()))}else ke(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=qs(r).toUint8Array()}catch(l){if(l instanceof yO)return Pl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new TS(o,i,s)}catch(l){return Pl(l instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&U_(a.target)){const l=new re(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Qt.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=Se();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Gm(e,n,this.Ye,this.je,r);return this.je=Ni(),this.Je=Hd(),this.He=Hd(),this.Ye=new tt(we),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new IR,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new bt(we),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new bt(we),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new IR),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Hd(){return new tt(re.comparator)}function xR(){return new tt(re.comparator)}const IW={asc:"ASCENDING",desc:"DESCENDING"},xW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AW={and:"AND",or:"OR"};class PW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function H_(t,e){return t.useProto3Json||Um(e)?e:{value:e}}function Bp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kW(t,e){return Bp(t,e.toTimestamp())}function Jr(t){return ke(!!t,49232),ue.fromTimestamp(function(n){const r=Hs(n);return new ze(r.seconds,r.nanos)}(t))}function bS(t,e){return q_(t,e).canonicalString()}function q_(t,e){const n=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function GO(t){const e=Fe.fromString(t);return ke(ZO(e),10190,{key:e.toString()}),e}function K_(t,e){return bS(t.databaseId,e.path)}function ky(t,e){const n=GO(e);if(n.get(1)!==t.databaseId.projectId)throw new q(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(YO(n))}function XO(t,e){return bS(t.databaseId,e)}function OW(t){const e=GO(t);return e.length===4?Fe.emptyPath():YO(e)}function G_(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YO(t){return ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AR(t,e,n){return{name:K_(t,e),fields:n.value.mapValue.fields}}function DW(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(ke(h===void 0||typeof h=="string",58123),zt.fromBase64String(h||"")):(ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),zt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?B.UNKNOWN:WO(u.code);return new q(h,u.message||"")}(o);n=new qO(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ky(t,r.document.name),s=Jr(r.document.updateTime),o=r.document.createTime?Jr(r.document.createTime):ue.min(),a=new gn({mapValue:{fields:r.document.fields}}),l=Qt.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Pf(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ky(t,r.document),s=r.readTime?Jr(r.readTime):ue.min(),o=Qt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Pf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ky(t,r.document),s=r.removedTargetIds||[];n=new Pf([],s,i,null)}else{if(!("filter"in e))return se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new EW(i,s),a=r.targetId;n=new HO(a,o)}}return n}function MW(t,e){let n;if(e instanceof kh)n={update:AR(t,e.key,e.value)};else if(e instanceof SS)n={delete:K_(t,e.key)};else if(e instanceof no)n={update:AR(t,e.key,e.data),updateMask:zW(e.fieldMask)};else{if(!(e instanceof _W))return se(16599,{Vt:e.type});n={verify:K_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Vp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ah)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof lh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Fp)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:kW(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se(27497)}(t,e.precondition)),n}function LW(t,e){return t&&t.length>0?(ke(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Jr(i.updateTime):Jr(s);return o.isEqual(ue.min())&&(o=Jr(s)),new gW(o,i.transformResults||[])}(n,e))):[]}function NW(t,e){return{documents:[XO(t,e.path)]}}function VW(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XO(t,i);const s=function(u){if(u.length!==0)return JO(Ir.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:Na(f.field),direction:jW(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=H_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function FW(t){let e=OW(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ke(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=QO(d);return f instanceof Ir&&IO(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(g){return new Np(Va(g.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Um(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new Lp(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new Lp(p,f)}(n.endAt)),rW(e,i,o,s,a,"F",l,u)}function BW(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Va(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Va(n.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Va(n.unaryFilter.field);return pt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Va(n.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return pt.create(Va(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ir.create(n.compositeFilter.filters.map(r=>QO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function jW(t){return IW[t]}function $W(t){return xW[t]}function UW(t){return AW[t]}function Na(t){return{fieldPath:t.canonicalString()}}function Va(t){return jt.fromServerFormat(t.fieldPath)}function JO(t){return t instanceof pt?function(n){if(n.op==="=="){if(gR(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NAN"}};if(mR(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gR(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NOT_NAN"}};if(mR(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(n.field),op:$W(n.op),value:n.value}}}(t):t instanceof Ir?function(n){const r=n.getFilters().map(i=>JO(i));return r.length===1?r[0]:{compositeFilter:{op:UW(n.op),filters:r}}}(t):se(54877,{filter:t})}function zW(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n,r,i,s=ue.min(),o=ue.min(),a=zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e){this.yt=e}}function HW(t){const e=FW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?W_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(){this.Cn=new KW}addToCollectionParentIndex(e,n){return this.Cn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Ws.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class KW{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bt(Fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eD=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(eD,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ml(0)}static cr(){return new Ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="LruGarbageCollector",GW=1048576;function OR([t,e],[n,r]){const i=we(t,n);return i===0?we(e,r):i}class XW{constructor(e){this.Ir=e,this.buffer=new bt(OR),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();OR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){K(kR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xl(n)?K(kR,"Ignoring IndexedDB error during garbage collection: ",n):await Gl(n)}await this.Vr(3e5)})}}class QW{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve($m.ce);const r=new XW(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(PR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PR):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Ma()<=_e.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function JW(t,e){return new QW(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(){this.changes=new la(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bc(r.mutation,i,Mn.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=No();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Gu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=No();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ni();const o=Tc(),a=function(){return Tc()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof no)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),bc(h.mutation,u,h.mutation.getFieldMask(),ze.now())):o.set(u.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new e8(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Tc();let i=new tt((o,a)=>o-a),s=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Mn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const d=(i.get(a.batchId)||Se()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=NO();h.forEach(f=>{if(!s.has(f)){const p=UO(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(No());let a=rh,l=s;return o.next(u=>j.forEach(u,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Se())).next(h=>({batchId:a,changes:LO(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=Gu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Gu();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,l=>{const u=function(d,f){return new Ph(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Qt.newInvalidDocument(h)))});let a=Gu();return o.forEach((l,u)=>{const h=s.get(l);h!==void 0&&bc(h.mutation,u,Mn.empty(),ze.now()),Hm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return j.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jr(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:HW(i.bundledQuery),readTime:Jr(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(){this.overlays=new tt(re.comparator),this.qr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=No();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=No(),s=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tt((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=No(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=No(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return j.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new SW(n,r));let s=this.qr.get(n);s===void 0&&(s=Se(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.Qr=new bt(Pt.$r),this.Ur=new bt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new re(new Fe([])),r=new Pt(n,e),i=new Pt(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new re(new Fe([])),r=new Pt(n,e),i=new Pt(n,e+1);let s=Se();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Pt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return re.comparator(e.key,n.key)||we(e.Yr,n.Yr)}static Kr(e,n){return we(e.Yr,n.Yr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new bt(Pt.$r)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new wW(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Pt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?pS:this.tr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),i=new Pt(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(we);return n.forEach(i=>{const s=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),j.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;re.isDocumentKey(s)||(s=s.child(""));const o=new Pt(new re(s),0);let a=new bt(we);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},o),j.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return j.forEach(n.mutations,i=>{const s=new Pt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Pt(n,0),i=this.Zr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e){this.ri=e,this.docs=function(){return new tt(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=Ni();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qt.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ni();const o=n.path,a=new re(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||L9(M9(h),r)<=0||(i.has(h.key)||Hm(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se(9500)}ii(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new a8(this)}getSize(e){return j.resolve(this.size)}}class a8 extends ZW{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e){this.persistence=e,this.si=new la(n=>yS(n),vS),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.oi=0,this._i=new CS,this.targetCount=0,this.ai=Ml.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),j.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ml(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Pr(n),j.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n){this.ui={},this.overlays={},this.ci=new $m(0),this.li=!1,this.li=!0,this.hi=new i8,this.referenceDelegate=e(this),this.Pi=new l8(this),this.indexManager=new qW,this.remoteDocumentCache=function(i){return new o8(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new WW(n),this.Ii=new n8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new r8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new s8(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new u8(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return j.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class u8 extends V9{constructor(e){super(),this.currentSequenceNumber=e}}class RS{constructor(e){this.persistence=e,this.Ri=new CS,this.Vi=null}static mi(e){return new RS(e)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.fi,r=>{const i=re.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class jp{constructor(e,n){this.persistence=e,this.pi=new la(r=>j9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=JW(this,n)}static mi(e,n){return new jp(e,n)}Ei(){}di(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return j.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?j.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ue.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=If(e.data.value)),n}br(e,n,r){return j.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Se(),i=Se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new IS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return nz()?8:F9(tn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new c8;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ma()<=_e.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",La(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),j.resolve()):(Ma()<=_e.DEBUG&&K("QueryEngine","Query:",La(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ma()<=_e.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",La(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):j.resolve())}ys(e,n){if(wR(n))return j.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=W_(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Se(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,W_(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return wR(n)||i.isEqual(ue.min())?j.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?j.resolve(null):(Ma()<=_e.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),La(n)),this.vs(e,o,n,D9(i,rh)).next(a=>a))})}Ds(e,n){let r=new bt(DO(e));return n.forEach((i,s)=>{Hm(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Ma()<=_e.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",La(n)),this.ps.getDocumentsMatchingQuery(e,n,Ws.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="LocalStore",d8=3e8;class f8{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new tt(we),this.xs=new la(s=>yS(s),vS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function p8(t,e,n,r){return new f8(t,e,n,r)}async function nD(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Se();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function m8(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const d=u.batch,f=d.keys();let p=j.resolve();return f.forEach(g=>{p=p.next(()=>h.getEntry(l,g)).next(S=>{const T=u.docVersions.get(g);ke(T!==null,48541),S.version.compareTo(T)<0&&(d.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),h.addEntry(S)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rD(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function g8(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(zt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),i=i.insert(d,p),function(S,T,_){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=d8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,p,h)&&a.push(n.Pi.updateTargetData(s,p))});let l=Ni(),u=Se();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(y8(s,o,e.documentUpdates).next(h=>{l=h.ks,u=h.qs})),!r.isEqual(ue.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(d=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ms=i,s))}function y8(t,e,n){let r=Se(),i=Se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ni();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K(xS,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function v8(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=pS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _8(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new xs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function X_(t,e,n){const r=ce(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Xl(o))throw o;K(xS,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function DR(t,e,n){const r=ce(t);let i=ue.min(),s=Se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const d=ce(l),f=d.xs.get(h);return f!==void 0?j.resolve(d.Ms.get(f)):d.Pi.getTargetData(u,h)}(r,o,Qr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:Se())).next(a=>(w8(r,sW(e),a),{documents:a,Qs:s})))}function w8(t,e,n){let r=t.Os.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class MR{constructor(){this.activeTargetIds=hW()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class S8{constructor(){this.Mo=new MR,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new MR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="ConnectivityMonitor";class NR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){K(LR,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){K(LR,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd=null;function Y_(){return qd===null?qd=function(){return 268435456+Math.round(2147483648*Math.random())}():qd++,"0x"+qd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="RestConnection",T8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class b8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Dp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=Y_(),a=this.zo(e,n.toUriEncodedString());K(Oy,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(a),h=Hl(u);return this.Jo(e,a,l,r,h).then(d=>(K(Oy,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Pl(Oy,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=T8[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class R8 extends b8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Y_();return new Promise((a,l)=>{const u=new oO;u.setWithCredentials(!0),u.listenOnce(aO.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Rf.NO_ERROR:const d=u.getResponseJson();K(Kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Rf.TIMEOUT:K(Kt,`RPC '${e}' ${o} timed out`),l(new q(B.DEADLINE_EXCEEDED,"Request time out"));break;case Rf.HTTP_ERROR:const f=u.getStatus();if(K(Kt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const S=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(y)>=0?y:B.UNKNOWN}(g.status);l(new q(S,g.message))}else l(new q(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new q(B.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{K(Kt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);K(Kt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}T_(e,n,r){const i=Y_(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=cO(),a=uO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");K(Kt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let f=!1,p=!1;const g=new C8({Yo:T=>{p?K(Kt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(f||(K(Kt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),K(Kt,`RPC '${e}' stream ${i} sending:`,T),d.send(T))},Zo:()=>d.close()}),S=(T,_,y)=>{T.listen(_,E=>{try{y(E)}catch(P){setTimeout(()=>{throw P},0)}})};return S(d,Ku.EventType.OPEN,()=>{p||(K(Kt,`RPC '${e}' stream ${i} transport opened.`),g.o_())}),S(d,Ku.EventType.CLOSE,()=>{p||(p=!0,K(Kt,`RPC '${e}' stream ${i} transport closed`),g.a_(),this.E_(d))}),S(d,Ku.EventType.ERROR,T=>{p||(p=!0,Pl(Kt,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),g.a_(new q(B.UNAVAILABLE,"The operation could not be completed")))}),S(d,Ku.EventType.MESSAGE,T=>{var _;if(!p){const y=T.data[0];ke(!!y,16349);const E=y,P=(E==null?void 0:E.error)||((_=E[0])==null?void 0:_.error);if(P){K(Kt,`RPC '${e}' stream ${i} received error:`,P);const M=P.status;let D=function(R){const I=ct[R];if(I!==void 0)return WO(I)}(M),b=P.message;D===void 0&&(D=B.INTERNAL,b="Unknown error status: "+M+" with message "+P.message),p=!0,g.a_(new q(D,b)),d.close()}else K(Kt,`RPC '${e}' stream ${i} received:`,y),g.u_(y)}}),S(a,lO.STAT_EVENT,T=>{T.stat===V_.PROXY?K(Kt,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===V_.NOPROXY&&K(Kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Dy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t){return new PW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="PersistentStream";class sD{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Li(n.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new q(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return K(VR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(K(VR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class I8 extends sD{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=DW(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?Jr(o.readTime):ue.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=G_(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=U_(l)?{documents:NW(s,l)}:{query:VW(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KO(s,o.resumeToken);const u=H_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=Bp(s,o.snapshotVersion.toTimestamp());const u=H_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=BW(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=G_(this.serializer),n.removeTarget=e,this.q_(n)}}class x8 extends sD{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LW(e.writeResults,e.commitTime),r=Jr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=G_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>MW(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{}class P8 extends A8{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new q(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,q_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(B.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,q_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class k8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Li(n),this.aa=!1):K("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="RemoteStore";class O8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{ua(this)&&(K(ea,"Restarting streams for network reachability change."),await async function(l){const u=ce(l);u.Ea.add(4),await Dh(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Ym(u)}(this))})}),this.Ra=new k8(r,i)}}async function Ym(t){if(ua(t))for(const e of t.da)await e(!0)}async function Dh(t){for(const e of t.da)await e(!1)}function oD(t,e){const n=ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),OS(n)?kS(n):Yl(n).O_()&&PS(n,e))}function AS(t,e){const n=ce(t),r=Yl(n);n.Ia.delete(e),r.O_()&&aD(n,e),n.Ia.size===0&&(r.O_()?r.L_():ua(n)&&n.Ra.set("Unknown"))}function PS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yl(t).Y_(e)}function aD(t,e){t.Va.Ue(e),Yl(t).Z_(e)}function kS(t){t.Va=new RW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Yl(t).start(),t.Ra.ua()}function OS(t){return ua(t)&&!Yl(t).x_()&&t.Ia.size>0}function ua(t){return ce(t).Ea.size===0}function lD(t){t.Va=void 0}async function D8(t){t.Ra.set("Online")}async function M8(t){t.Ia.forEach((e,n)=>{PS(t,e)})}async function L8(t,e){lD(t),OS(t)?(t.Ra.ha(e),kS(t)):t.Ra.set("Unknown")}async function N8(t,e,n){if(t.Ra.set("Online"),e instanceof qO&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){K(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $p(t,r)}else if(e instanceof Pf?t.Va.Ze(e):e instanceof HO?t.Va.st(e):t.Va.tt(e),!n.isEqual(ue.min()))try{const r=await rD(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ia.get(u);h&&s.Ia.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s.Ia.get(l);if(!h)return;s.Ia.set(l,h.withResumeToken(zt.EMPTY_BYTE_STRING,h.snapshotVersion)),aD(s,l);const d=new xs(h.target,l,u,h.sequenceNumber);PS(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K(ea,"Failed to raise snapshot:",r),await $p(t,r)}}async function $p(t,e,n){if(!Xl(e))throw e;t.Ea.add(1),await Dh(t),t.Ra.set("Offline"),n||(n=()=>rD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(ea,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ym(t)})}function uD(t,e){return e().catch(n=>$p(t,n,e))}async function Qm(t){const e=ce(t),n=Gs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pS;for(;V8(e);)try{const i=await v8(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,F8(e,i)}catch(i){await $p(e,i)}cD(e)&&hD(e)}function V8(t){return ua(t)&&t.Ta.length<10}function F8(t,e){t.Ta.push(e);const n=Gs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function cD(t){return ua(t)&&!Gs(t).x_()&&t.Ta.length>0}function hD(t){Gs(t).start()}async function B8(t){Gs(t).ra()}async function j8(t){const e=Gs(t);for(const n of t.Ta)e.ea(n.mutations)}async function $8(t,e,n){const r=t.Ta.shift(),i=ES.from(r,e,n);await uD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qm(t)}async function U8(t,e){e&&Gs(t).X_&&await async function(r,i){if(function(o){return TW(o)&&o!==B.ABORTED}(i.code)){const s=r.Ta.shift();Gs(r).B_(),await uD(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Qm(r)}}(t,e),cD(t)&&hD(t)}async function FR(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),K(ea,"RemoteStore received new credentials");const r=ua(n);n.Ea.add(3),await Dh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ym(n)}async function z8(t,e){const n=ce(t);e?(n.Ea.delete(2),await Ym(n)):e||(n.Ea.add(2),await Dh(n),n.Ra.set("Unknown"))}function Yl(t){return t.ma||(t.ma=function(n,r,i){const s=ce(n);return s.sa(),new I8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:D8.bind(null,t),t_:M8.bind(null,t),r_:L8.bind(null,t),H_:N8.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),OS(t)?kS(t):t.Ra.set("Unknown")):(await t.ma.stop(),lD(t))})),t.ma}function Gs(t){return t.fa||(t.fa=function(n,r,i){const s=ce(n);return s.sa(),new x8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:B8.bind(null,t),r_:U8.bind(null,t),ta:j8.bind(null,t),na:$8.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Qm(t)):(await t.fa.stop(),t.Ta.length>0&&(K(ea,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new DS(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function MS(t,e){if(Li("AsyncQueue",`${e}: ${t}`),Xl(t))return new q(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{static emptySet(e){return new ml(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=Gu(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ml)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ml;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.ga=new tt(re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ll{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ll(e,n,ml.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class H8{constructor(){this.queries=jR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ce(n),s=i.queries;i.queries=jR(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new q(B.ABORTED,"Firestore shutting down"))}}function jR(){return new la(t=>OO(t),Wm)}async function dD(t,e){const n=ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new W8,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=MS(o,`Initialization of query '${La(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&LS(n)}async function fD(t,e){const n=ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function q8(t,e){const n=ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&LS(n)}function K8(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function LS(t){t.Ca.forEach(e=>{e.next()})}var Q_,$R;($R=Q_||(Q_={})).Ma="default",$R.Cache="cache";class pD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ll(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Q_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.key=e}}class gD{constructor(e){this.key=e}}class G8{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Se(),this.mutatedKeys=Se(),this.eu=DO(e),this.tu=new ml(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new BR,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),p=Hm(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),S=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let T=!1;f&&p?f.data.isEqual(p.data)?g!==S&&(r.track({type:3,doc:p}),T=!0):this.su(f,p)||(r.track({type:2,doc:p}),T=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),T=!0):f&&!p&&(r.track({type:1,doc:f}),T=!0,(l||u)&&(a=!0)),T&&(p?(o=o.add(p),s=S?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,d)=>function(p,g){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:T})}};return S(p)-S(g)}(h.type,d.type)||this.eu(h.doc,d.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Ll(this.query,e.tu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new BR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Se(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new gD(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new mD(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Se();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const NS="SyncEngine";class X8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Y8{constructor(e){this.key=e,this.hu=!1}}class Q8{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new la(a=>OO(a),Wm),this.Iu=new Map,this.Eu=new Set,this.du=new tt(re.comparator),this.Au=new Map,this.Ru=new CS,this.Vu={},this.mu=new Map,this.fu=Ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function J8(t,e,n=!0){const r=ED(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await yD(r,e,n,!0),i}async function Z8(t,e){const n=ED(t);await yD(n,e,!0,!1)}async function yD(t,e,n,r){const i=await _8(t.localStore,Qr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await eH(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&oD(t.remoteStore,i),a}async function eH(t,e,n,r,i){t.pu=(d,f,p)=>async function(S,T,_,y){let E=T.view.ru(_);E.Cs&&(E=await DR(S.localStore,T.query,!1).then(({documents:b})=>T.view.ru(b,E)));const P=y&&y.targetChanges.get(T.targetId),M=y&&y.targetMismatches.get(T.targetId)!=null,D=T.view.applyChanges(E,S.isPrimaryClient,P,M);return zR(S,T.targetId,D.au),D.snapshot}(t,d,f,p);const s=await DR(t.localStore,e,!0),o=new G8(e,s.Qs),a=o.ru(s.documents),l=Oh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);zR(t,n,u.au);const h=new X8(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function tH(t,e,n){const r=ce(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Wm(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await X_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&AS(r.remoteStore,i.targetId),J_(r,i.targetId)}).catch(Gl)):(J_(r,i.targetId),await X_(r.localStore,i.targetId,!0))}async function nH(t,e){const n=ce(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),AS(n.remoteStore,r.targetId))}async function rH(t,e,n){const r=cH(t);try{const i=await function(o,a){const l=ce(o),u=ze.now(),h=a.reduce((p,g)=>p.add(g.key),Se());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Ni(),S=Se();return l.Ns.getEntries(p,h).next(T=>{g=T,g.forEach((_,y)=>{y.isValidDocument()||(S=S.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(T=>{d=T;const _=[];for(const y of a){const E=vW(y,d.get(y.key).overlayedDocument);E!=null&&_.push(new no(y.key,E,bO(E.value.mapValue),er.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,a)}).next(T=>{f=T;const _=T.applyToLocalDocumentSet(d,S);return l.documentOverlayCache.saveOverlays(p,T.batchId,_)})}).then(()=>({batchId:f.batchId,changes:LO(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new tt(we)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await Mh(r,i.changes),await Qm(r.remoteStore)}catch(i){const s=MS(i,"Failed to persist write");n.reject(s)}}async function vD(t,e){const n=ce(t);try{const r=await g8(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?ke(o.hu,14607):i.removedDocuments.size>0&&(ke(o.hu,42227),o.hu=!1))}),await Mh(n,r,e)}catch(r){await Gl(r)}}function UR(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ce(o);l.onlineState=a;let u=!1;l.queries.forEach((h,d)=>{for(const f of d.Sa)f.va(a)&&(u=!0)}),u&&LS(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iH(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new tt(re.comparator);o=o.insert(s,Qt.newNoDocument(s,ue.min()));const a=Se().add(s),l=new Gm(ue.min(),new Map,new tt(we),o,a);await vD(r,l),r.du=r.du.remove(s),r.Au.delete(e),VS(r)}else await X_(r.localStore,e,!1).then(()=>J_(r,e,n)).catch(Gl)}async function sH(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await m8(n.localStore,e);wD(n,r,null),_D(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mh(n,i)}catch(i){await Gl(i)}}async function oH(t,e,n){const r=ce(t);try{const i=await function(o,a){const l=ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ke(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);wD(r,e,n),_D(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mh(r,i)}catch(i){await Gl(i)}}function _D(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function wD(t,e,n){const r=ce(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function J_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||SD(t,r)})}function SD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(AS(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),VS(t))}function zR(t,e,n){for(const r of n)r instanceof mD?(t.Ru.addReference(r.key,e),aH(t,r)):r instanceof gD?(K(NS,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||SD(t,r.key)):se(19791,{wu:r})}function aH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(K(NS,"New document in limbo: "+n),t.Eu.add(r),VS(t))}function VS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new re(Fe.fromString(e)),r=t.fu.next();t.Au.set(r,new Y8(n)),t.du=t.du.insert(n,r),oD(t.remoteStore,new xs(Qr(_S(n.path)),r,"TargetPurposeLimboResolution",$m.ce))}}async function Mh(t,e,n){const r=ce(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=IS.As(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,u){const h=ce(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>j.forEach(u,f=>j.forEach(f.Es,p=>h.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>j.forEach(f.ds,p=>h.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!Xl(d))throw d;K(xS,"Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const p=h.Ms.get(f),g=p.snapshotVersion,S=p.withLastLimboFreeSnapshotVersion(g);h.Ms=h.Ms.insert(f,S)}}}(r.localStore,s))}async function lH(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){K(NS,"User change. New user:",e.toKey());const r=await nD(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new q(B.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mh(n,r.Ls)}}function uH(t,e){const n=ce(t),r=n.Au.get(e);if(r&&r.hu)return Se().add(r.key);{let i=Se();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function ED(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iH.bind(null,e),e.Pu.H_=q8.bind(null,e.eventManager),e.Pu.yu=K8.bind(null,e.eventManager),e}function cH(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oH.bind(null,e),e}class Up{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return p8(this.persistence,new h8,e.initialUser,this.serializer)}Cu(e){return new tD(RS.mi,this.serializer)}Du(e){return new S8}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Up.provider={build:()=>new Up};class hH extends Up{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ke(this.persistence.referenceDelegate instanceof jp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YW(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new tD(r=>jp.mi(r,n),this.serializer)}}class Z_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>UR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lH.bind(null,this.syncEngine),await z8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new H8}()}createDatastore(e){const n=Xm(e.databaseInfo.databaseId),r=function(s){return new R8(s)}(e.databaseInfo);return function(s,o,a,l){return new P8(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new O8(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>UR(this.syncEngine,n,0),function(){return NR.v()?new NR:new E8}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,h){const d=new Q8(i,s,o,a,l,u);return h&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ce(i);K(ea,"RemoteStore shutting down."),s.Ea.add(5),await Dh(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Z_.provider={build:()=>new Z_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="FirestoreClient";class dH{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xt.UNAUTHENTICATED,this.clientId=fS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{K(Xs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K(Xs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=MS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function My(t,e){t.asyncQueue.verifyOperationInProgress(),K(Xs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function WR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fH(t);K(Xs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>FR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>FR(e.remoteStore,i)),t._onlineComponents=e}async function fH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(Xs,"Using user provided OfflineComponentProvider");try{await My(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Pl("Error using user provided cache. Falling back to memory cache: "+n),await My(t,new Up)}}else K(Xs,"Using default OfflineComponentProvider"),await My(t,new hH(void 0));return t._offlineComponents}async function bD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(Xs,"Using user provided OnlineComponentProvider"),await WR(t,t._uninitializedComponentsProvider._online)):(K(Xs,"Using default OnlineComponentProvider"),await WR(t,new Z_))),t._onlineComponents}function pH(t){return bD(t).then(e=>e.syncEngine)}async function CD(t){const e=await bD(t),n=e.eventManager;return n.onListen=J8.bind(null,e.syncEngine),n.onUnlisten=tH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Z8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nH.bind(null,e.syncEngine),n}function mH(t,e,n={}){const r=new Ii;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new TD({next:f=>{h.Nu(),o.enqueueAndForget(()=>fD(s,d));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new q(B.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new q(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new pD(_S(a.path),h,{includeMetadataChanges:!0,qa:!0});return dD(s,d)}(await CD(t),t.asyncQueue,e,n,r)),r.promise}function gH(t,e,n={}){const r=new Ii;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new TD({next:f=>{h.Nu(),o.enqueueAndForget(()=>fD(s,d)),f.fromCache&&l.source==="server"?u.reject(new q(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new pD(a,h,{includeMetadataChanges:!0,qa:!0});return dD(s,d)}(await CD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="firestore.googleapis.com",qR=!0;class KR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ID,this.ssl=qR}else this.host=e.host,this.ssl=e.ssl??qR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GW)throw new q(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RD(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new E9;switch(r.type){case"firstParty":return new R9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=HR.get(n);r&&(K("ComponentProvider","Removing Datastore"),HR.delete(n),r.terminate())}(this),Promise.resolve()}}function yH(t,e,n,r={}){var u;t=Rr(t,Jm);const i=Hl(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(Qk(`https://${a}`),Jk("Firestore",!0)),s.host!==ID&&s.host!==a&&Pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!Qo(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=Xt.MOCK_USER;else{h=K5(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new q(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Xt(f)}t._authCredentials=new T9(new dO(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ql(this.firestore,e,this._query)}}class ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}toJSON(){return{type:ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ah(n,ut._jsonSchema))return new ut(e,r||null,new re(Fe.fromString(n.referencePath)))}}ut._jsonSchemaVersion="firestore/documentReference/1.0",ut._jsonSchema={type:mt("string",ut._jsonSchemaVersion),referencePath:mt("string")};class $s extends Ql{constructor(e,n,r){super(e,n,_S(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new re(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function FS(t,e,...n){if(t=Dt(t),fO("collection","path",e),t instanceof Jm){const r=Fe.fromString(e,...n);return oR(r),new $s(t,null,r)}{if(!(t instanceof ut||t instanceof $s))throw new q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return oR(r),new $s(t.firestore,null,r)}}function Jl(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=fS.newId()),fO("doc","path",e),t instanceof Jm){const r=Fe.fromString(e,...n);return sR(r),new ut(t,null,new re(r))}{if(!(t instanceof ut||t instanceof $s))throw new q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return sR(r),new ut(t.firestore,t instanceof $s?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="AsyncQueue";class XR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iD(this,"async_queue_retry"),this._c=()=>{const r=Dy();r&&K(GR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Dy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ii;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xl(e))throw e;K(GR,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Li("INTERNAL UNHANDLED ERROR: ",YR(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=DS.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&se(47125,{Pc:YR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function YR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ca extends Jm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new XR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new XR(e),this._firestoreClient=void 0,await e}}}function vH(t,e){const n=typeof t=="object"?t:nO(),r=typeof t=="string"?t:Dp,i=hS(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=H5("firestore");s&&yH(i,...s)}return i}function BS(t){if(t._terminated)throw new q(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_H(t),t._firestoreClient}function _H(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,u,h){return new z9(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,RD(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new dH(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(zt.fromBase64String(e))}catch(n){throw new q(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ah(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:mt("string",Gn._jsonSchemaVersion),bytes:mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zr._jsonSchemaVersion}}static fromJSON(e){if(Ah(e,Zr._jsonSchema))return new Zr(e.latitude,e.longitude)}}Zr._jsonSchemaVersion="firestore/geoPoint/1.0",Zr._jsonSchema={type:mt("string",Zr._jsonSchemaVersion),latitude:mt("number"),longitude:mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ah(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ei(e.vectorValues);throw new q(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:mt("string",ei._jsonSchemaVersion),vectorValues:mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH=/^__.*__$/;class SH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new no(e,this.data,this.fieldMask,n,this.fieldTransforms):new kh(e,this.data,n,this.fieldTransforms)}}class xD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new no(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:t})}}class $S{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $S({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return zp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(AD(this.Ac)&&wH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class EH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xm(e)}Cc(e,n,r,i=!1){return new $S({Ac:e,methodName:n,Dc:r,path:jt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eg(t){const e=t._freezeSettings(),n=Xm(t._databaseId);return new EH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PD(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);US("Data must be an object, but it was:",o,r);const a=kD(r,o);let l,u;if(s.merge)l=new Mn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=ew(e,d,n);if(!o.contains(f))throw new q(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);DD(h,f)||h.push(f)}l=new Mn(h),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new SH(new gn(a),l,u)}class tg extends jS{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tg}}function TH(t,e,n,r){const i=t.Cc(1,e,n);US("Data must be an object, but it was:",i,r);const s=[],o=gn.empty();to(r,(l,u)=>{const h=zS(e,l,n);u=Dt(u);const d=i.yc(h);if(u instanceof tg)s.push(h);else{const f=Lh(u,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new Mn(s);return new xD(o,a,i.fieldTransforms)}function bH(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[ew(e,r,n)],l=[i];if(s.length%2!=0)throw new q(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(ew(e,s[f])),l.push(s[f+1]);const u=[],h=gn.empty();for(let f=a.length-1;f>=0;--f)if(!DD(u,a[f])){const p=a[f];let g=l[f];g=Dt(g);const S=o.yc(p);if(g instanceof tg)u.push(p);else{const T=Lh(g,S);T!=null&&(u.push(p),h.set(p,T))}}const d=new Mn(u);return new xD(h,d,o.fieldTransforms)}function CH(t,e,n,r=!1){return Lh(n,t.Cc(r?4:3,e))}function Lh(t,e){if(OD(t=Dt(t)))return US("Unsupported field value:",e,t),kD(t,e);if(t instanceof jS)return function(r,i){if(!AD(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Lh(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ze.fromDate(r);return{timestampValue:Bp(i.serializer,s)}}if(r instanceof ze){const s=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bp(i.serializer,s)}}if(r instanceof Zr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:KO(i.serializer,r._byteString)};if(r instanceof ut){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:bS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ei)return function(o,a){return{mapValue:{fields:{[EO]:{stringValue:TO},[Mp]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return wS(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${jm(r)}`)}(t,e)}function kD(t,e){const n={};return gO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(t,(r,i)=>{const s=Lh(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function OD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof Zr||t instanceof Gn||t instanceof ut||t instanceof jS||t instanceof ei)}function US(t,e,n){if(!OD(n)||!pO(n)){const r=jm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ew(t,e,n){if((e=Dt(e))instanceof Zm)return e._internalPath;if(typeof e=="string")return zS(t,e);throw zp("Field path arguments must be of type string or ",t,!1,void 0,n)}const RH=new RegExp("[~\\*/\\[\\]]");function zS(t,e,n){if(e.search(RH)>=0)throw zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zm(...e.split("."))._internalPath}catch{throw zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new q(B.INVALID_ARGUMENT,a+t+l)}function DD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(LD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IH extends MD{data(){return super.data()}}function LD(t,e){return typeof e=="string"?zS(t,e):e instanceof Zm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WS{}class AH extends WS{}function ND(t,e,...n){let r=[];e instanceof WS&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof qS).length,a=s.filter(l=>l instanceof HS).length;if(o>1||o>0&&a>0)throw new q(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class HS extends AH{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new HS(e,n,r)}_apply(e){const n=this._parse(e);return VD(e._query,n),new Ql(e.firestore,e.converter,z_(e._query,n))}_parse(e){const n=eg(e.firestore);return function(s,o,a,l,u,h,d){let f;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){JR(d,h);const g=[];for(const S of d)g.push(QR(l,s,S));f={arrayValue:{values:g}}}else f=QR(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||JR(d,h),f=CH(a,o,d,h==="in"||h==="not-in");return pt.create(u,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class qS extends WS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)VD(o,l),o=z_(o,l)}(e._query,n),new Ql(e.firestore,e.converter,z_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function QR(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new q(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kO(e)&&n.indexOf("/")!==-1)throw new q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Fe.fromString(n));if(!re.isDocumentKey(r))throw new q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pR(t,new re(r))}if(n instanceof ut)return pR(t,n._key);throw new q(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jm(n)}.`)}function JR(t,e){if(!Array.isArray(t)||t.length===0)throw new q(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VD(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PH{convertValue(e,n="none"){switch(Ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return to(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Mp].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>at(o.doubleValue));return new ei(n)}convertGeoPoint(e){return new Zr(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ih(e));default:return null}}convertTimestamp(e){const n=Hs(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);ke(ZO(r),9688,{name:e});const i=new sh(r.get(1),r.get(3)),s=new re(r.popFirst(5));return i.isEqual(n)||Li(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Yu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zo extends MD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(LD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=zo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}zo._jsonSchemaVersion="firestore/documentSnapshot/1.0",zo._jsonSchema={type:mt("string",zo._jsonSchemaVersion),bundleSource:mt("string","DocumentSnapshot"),bundleName:mt("string"),bundle:mt("string")};class kf extends zo{data(e={}){return super.data(e)}}class gl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kf(this._firestore,this._userDataWriter,r.key,r,new Yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new kf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new kf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:kH(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(t){t=Rr(t,ut);const e=Rr(t.firestore,ca);return mH(BS(e),t._key).then(n=>NH(e,t,n))}gl._jsonSchemaVersion="firestore/querySnapshot/1.0",gl._jsonSchema={type:mt("string",gl._jsonSchemaVersion),bundleSource:mt("string","QuerySnapshot"),bundleName:mt("string"),bundle:mt("string")};class BD extends PH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}function jD(t){t=Rr(t,Ql);const e=Rr(t.firestore,ca),n=BS(e),r=new BD(e);return xH(t._query),gH(n,t._query).then(i=>new gl(e,r,t,i))}function $D(t,e,n){t=Rr(t,ut);const r=Rr(t.firestore,ca),i=FD(t.converter,e,n);return ng(r,[PD(eg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,er.none())])}function DH(t,e,n,...r){t=Rr(t,ut);const i=Rr(t.firestore,ca),s=eg(i);let o;return o=typeof(e=Dt(e))=="string"||e instanceof Zm?bH(s,"updateDoc",t._key,e,n,r):TH(s,"updateDoc",t._key,e),ng(i,[o.toMutation(t._key,er.exists(!0))])}function MH(t){return ng(Rr(t.firestore,ca),[new SS(t._key,er.none())])}function LH(t,e){const n=Rr(t.firestore,ca),r=Jl(t),i=FD(t.converter,e);return ng(n,[PD(eg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}function ng(t,e){return function(r,i){const s=new Ii;return r.asyncQueue.enqueueAndForget(async()=>rH(await pH(r),i,s)),s.promise}(BS(t),e)}function NH(t,e,n){const r=n.docs.get(e._key),i=new BD(t);return new zo(t,i,e._key,r,new Yu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Kl=i})(ql),Al(new Jo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ca(new b9(r.getProvider("auth-internal")),new I9(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new q(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sh(u.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Bs(tR,nR,e),Bs(tR,nR,"esm2020")})();function UD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VH=UD,zD=new Ih("auth","Firebase",UD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=new uS("@firebase/auth");function FH(t,...e){Wp.logLevel<=_e.WARN&&Wp.warn(`Auth (${ql}): ${t}`,...e)}function Of(t,...e){Wp.logLevel<=_e.ERROR&&Wp.error(`Auth (${ql}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,...e){throw KS(t,...e)}function ti(t,...e){return KS(t,...e)}function WD(t,e,n){const r={...VH(),[e]:n};return new Ih("auth","Firebase",r).create(e,{appName:t.name})}function xi(t){return WD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zD.create(t,...e)}function ie(t,e,...n){if(!t)throw KS(e,...n)}function Ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Of(e),new Error(e)}function Vi(t,e){t||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function BH(){return ZR()==="http:"||ZR()==="https:"}function ZR(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BH()||Z5()||"connection"in navigator)?navigator.onLine:!0}function $H(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vi(n>e,"Short delay should be less than long delay!"),this.isMobile=Y5()||ez()}get(){return jH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t,e){Vi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WH=new Nh(3e4,6e4);function Wi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Hi(t,e,n,r,i={}){return qD(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=xh({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return J5()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Hl(t.emulatorConfig.host)&&(u.credentials="include"),HD.fetch()(await KD(t,t.config.apiHost,n,a),u)})}async function qD(t,e,n){t._canInitEmulator=!1;const r={...UH,...e};try{const i=new qH(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Kd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Kd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Kd(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw WD(t,h,u);xr(t,h)}}catch(i){if(i instanceof zi)throw i;xr(t,"network-request-failed",{message:String(i)})}}async function Vh(t,e,n,r,i={}){const s=await Hi(t,e,n,r,i);return"mfaPendingCredential"in s&&xr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function KD(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?GS(t.config,i):`${t.config.apiScheme}://${i}`;return zH.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function HH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"network-request-failed")),WH.get())})}}function Kd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ti(t,e,r);return i.customData._tokenResponse=n,i}function eI(t){return t!==void 0&&t.enterprise!==void 0}class KH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GH(t,e){return Hi(t,"GET","/v2/recaptchaConfig",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XH(t,e){return Hi(t,"POST","/v1/accounts:delete",e)}async function Hp(t,e){return Hi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YH(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=XS(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Cc(Ly(i.auth_time)),issuedAtTime:Cc(Ly(i.iat)),expirationTime:Cc(Ly(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ly(t){return Number(t)*1e3}function XS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Of("JWT malformed, contained fewer than 3 sections"),null;try{const i=Kk(n);return i?JSON.parse(i):(Of("Failed to decode base64 JWT payload"),null)}catch(i){return Of("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function tI(t){const e=XS(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zi&&QH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function QH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qp(t){var d;const e=t.auth,n=await t.getIdToken(),r=await uh(t,Hp(e,{idToken:n}));ie(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?GD(i.providerUserInfo):[],o=e7(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new nw(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function ZH(t){const e=Dt(t);await qp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function e7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GD(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t7(t,e){const n=await qD(t,{},async()=>{const r=xh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await KD(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Hl(t.emulatorConfig.host)&&(l.credentials="include"),HD.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function n7(t,e){return Hi(t,"POST","/v2/accounts:revokeToken",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=tI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await t7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new yl;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Sr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new JH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new nw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await uh(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YH(this,e)}reload(){return ZH(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await uh(this,XH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:g,stsTokenManager:S}=n;ie(d&&S,e,"internal-error");const T=yl.fromJSON(this.name,S);ie(typeof d=="string",e,"internal-error"),ds(r,e.name),ds(i,e.name),ie(typeof f=="boolean",e,"internal-error"),ie(typeof p=="boolean",e,"internal-error"),ds(s,e.name),ds(o,e.name),ds(a,e.name),ds(l,e.name),ds(u,e.name),ds(h,e.name);const _=new Sr({uid:d,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:T,createdAt:u,lastLoginAt:h});return g&&Array.isArray(g)&&(_.providerData=g.map(y=>({...y}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new yl;i.updateFromServerResponse(n);const s=new Sr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?GD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new yl;a.updateFromIdToken(r);const l=new Sr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new nw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=new Map;function Ti(t){Vi(t instanceof Function,"Expected a class definition");let e=nI.get(t);return e?(Vi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XD.type="NONE";const rI=XD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t,e,n){return`firebase:${t}:${e}:${n}`}class vl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Df(this.userKey,i.apiKey,s),this.fullPersistenceKey=Df("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Hp(this.auth,{idToken:e}).catch(()=>{});return n?Sr._fromGetAccountInfoResponse(this.auth,n,e):null}return Sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new vl(Ti(rI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ti(rI);const o=Df(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let d;if(typeof h=="string"){const f=await Hp(e,{idToken:h}).catch(()=>{});if(!f)break;d=await Sr._fromGetAccountInfoResponse(e,f,h)}else d=Sr._fromJSON(e,h);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new vl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new vl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tM(e))return"Blackberry";if(nM(e))return"Webos";if(QD(e))return"Safari";if((e.includes("chrome/")||JD(e))&&!e.includes("edge/"))return"Chrome";if(eM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YD(t=tn()){return/firefox\//i.test(t)}function QD(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JD(t=tn()){return/crios\//i.test(t)}function ZD(t=tn()){return/iemobile/i.test(t)}function eM(t=tn()){return/android/i.test(t)}function tM(t=tn()){return/blackberry/i.test(t)}function nM(t=tn()){return/webos/i.test(t)}function YS(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function r7(t=tn()){var e;return YS(t)&&!!((e=window.navigator)!=null&&e.standalone)}function i7(){return tz()&&document.documentMode===10}function rM(t=tn()){return YS(t)||eM(t)||nM(t)||tM(t)||/windows phone/i.test(t)||ZD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t,e=[]){let n;switch(t){case"Browser":n=iI(tn());break;case"Worker":n=`${iI(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ql}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o7(t,e={}){return Hi(t,"GET","/v2/passwordPolicy",Wi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=6;class l7{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??a7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sI(this),this.idTokenSubscription=new sI(this),this.beforeStateQueue=new s7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ti(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await vl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hp(this,{idToken:e}),r=await Sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Kn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$H()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(xi(this));const n=e?Dt(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await o7(this),n=new l7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ih("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await n7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ti(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await vl.create(this,[Ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&FH(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ro(t){return Dt(t)}class sI{constructor(e){this.auth=e,this.observer=null,this.addObserver=uz(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c7(t){rg=t}function sM(t){return rg.loadJS(t)}function h7(){return rg.recaptchaEnterpriseScript}function d7(){return rg.gapiScript}function f7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class p7{constructor(){this.enterprise=new m7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class m7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const g7="recaptcha-enterprise",oM="NO_RECAPTCHA";class y7{constructor(e){this.type=g7,this.auth=ro(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{GH(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new KH(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;eI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(oM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new p7().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&eI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=h7();l.length!==0&&(l+=a),sM(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function oI(t,e,n,r=!1,i=!1){const s=new y7(t);let o;if(i)o=oM;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Kp(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await oI(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await oI(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v7(t,e){const n=hS(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Qo(s,e??{}))return i;xr(i,"already-initialized")}return n.initialize({options:e})}function _7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ti);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function w7(t,e,n){const r=ro(t);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=aM(e),{host:o,port:a}=S7(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(Qo(u,r.config.emulator)&&Qo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Hl(o)?(Qk(`${s}//${o}${l}`),Jk("Auth",!0)):E7()}function aM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S7(t){const e=aM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:aI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:aI(o)}}}function aI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function E7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,n){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function T7(t,e){return Hi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b7(t,e){return Vh(t,"POST","/v1/accounts:signInWithPassword",Wi(t,e))}async function C7(t,e){return Hi(t,"POST","/v1/accounts:sendOobCode",Wi(t,e))}async function R7(t,e){return C7(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I7(t,e){return Vh(t,"POST","/v1/accounts:signInWithEmailLink",Wi(t,e))}async function x7(t,e){return Vh(t,"POST","/v1/accounts:signInWithEmailLink",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends QS{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ch(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ch(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kp(e,n,"signInWithPassword",b7);case"emailLink":return I7(e,{email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kp(e,r,"signUpPassword",T7);case"emailLink":return x7(e,{idToken:n,email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t,e){return Vh(t,"POST","/v1/accounts:signInWithIdp",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7="http://localhost";class ta extends QS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new ta(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return _l(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_l(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_l(e,n)}buildRequest(){const e={requestUri:A7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function k7(t){const e=Hu(qu(t)).link,n=e?Hu(qu(e)).deep_link_id:null,r=Hu(qu(t)).deep_link_id;return(r?Hu(qu(r)).link:null)||r||n||e||t}class JS{constructor(e){const n=Hu(qu(e)),r=n.apiKey??null,i=n.oobCode??null,s=P7(n.mode??null);ie(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=k7(e);try{return new JS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(){this.providerId=Zl.PROVIDER_ID}static credential(e,n){return ch._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=JS.parseLink(n);return ie(r,"argument-error"),ch._fromEmailAndCode(e,r.code,r.tenantId)}}Zl.PROVIDER_ID="password";Zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends lM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Fh{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Fh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ta._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ts.credential(n,r)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Fh{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.GITHUB_SIGN_IN_METHOD="github.com";bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Fh{constructor(){super("twitter.com")}static credential(e,n){return ta._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Cs.credential(n,r)}catch{return null}}}Cs.TWITTER_SIGN_IN_METHOD="twitter.com";Cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O7(t,e){return Vh(t,"POST","/v1/accounts:signUp",Wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Sr._fromIdTokenResponse(e,r,i),o=lI(r);return new na({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=lI(r);return new na({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function lI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends zi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gp(e,n,r,i)}}function uM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gp._fromErrorAndOperation(t,s,e,r):s})}async function D7(t,e,n=!1){const r=await uh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return na._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M7(t,e,n=!1){const{auth:r}=t;if(Kn(r.app))return Promise.reject(xi(r));const i="reauthenticate";try{const s=await uh(t,uM(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=XS(s.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),na._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&xr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(t,e,n=!1){if(Kn(t.app))return Promise.reject(xi(t));const r="signIn",i=await uM(t,r,e),s=await na._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function L7(t,e){return cM(ro(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(t){const e=ro(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function N7(t,e,n){const r=ro(t);await Kp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",R7)}async function V7(t,e,n){if(Kn(t.app))return Promise.reject(xi(t));const r=ro(t),o=await Kp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O7).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&hM(t),l}),a=await na._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function F7(t,e,n){return Kn(t.app)?Promise.reject(xi(t)):L7(Dt(t),Zl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hM(t),r})}function B7(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function j7(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function $7(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function U7(t){return Dt(t).signOut()}const Xp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xp,"1"),this.storage.removeItem(Xp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7=1e3,W7=10;class fM extends dM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);i7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,W7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},z7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fM.type="LOCAL";const H7=fM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM extends dM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pM.type="SESSION";const mM=pM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ig(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await q7(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ig.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=ZS("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function G7(t){ni().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function X7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Q7(){return gM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="firebaseLocalStorageDb",J7=1,Yp="firebaseLocalStorage",vM="fbase_key";class Bh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sg(t,e){return t.transaction([Yp],e?"readwrite":"readonly").objectStore(Yp)}function Z7(){const t=indexedDB.deleteDatabase(yM);return new Bh(t).toPromise()}function rw(){const t=indexedDB.open(yM,J7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yp,{keyPath:vM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yp)?e(r):(r.close(),await Z7(),e(await rw()))})})}async function uI(t,e,n){const r=sg(t,!0).put({[vM]:e,value:n});return new Bh(r).toPromise()}async function eq(t,e){const n=sg(t,!1).get(e),r=await new Bh(n).toPromise();return r===void 0?null:r.value}function cI(t,e){const n=sg(t,!0).delete(e);return new Bh(n).toPromise()}const tq=800,nq=3;class _M{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ig._getInstance(Q7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await X7(),!this.activeServiceWorker)return;this.sender=new K7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rw();return await uI(e,Xp,"1"),await cI(e,Xp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eq(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=sg(i,!1).getAll();return new Bh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_M.type="LOCAL";const rq=_M;new Nh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iq(t,e){return e?Ti(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE extends QS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _l(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _l(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _l(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sq(t){return cM(t.auth,new eE(t),t.bypassAuthState)}function oq(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),M7(n,new eE(t),t.bypassAuthState)}async function aq(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),D7(n,new eE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sq;case"linkViaPopup":case"linkViaRedirect":return aq;case"reauthViaPopup":case"reauthViaRedirect":return oq;default:xr(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq=new Nh(2e3,1e4);class Za extends wM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=ZS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lq.get())};e()}}Za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq="pendingRedirect",Mf=new Map;class cq extends wM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mf.get(this.auth._key());if(!e){try{const r=await hq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mf.set(this.auth._key(),e)}return this.bypassAuthState||Mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hq(t,e){const n=pq(e),r=fq(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function dq(t,e){Mf.set(t._key(),e)}function fq(t){return Ti(t._redirectPersistence)}function pq(t){return Df(uq,t.config.apiKey,t.name)}async function mq(t,e,n=!1){if(Kn(t.app))return Promise.reject(xi(t));const r=ro(t),i=iq(r,e),o=await new cq(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq=10*60*1e3;class yq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!SM(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ti(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gq&&this.cachedEventUids.clear(),this.cachedEventUids.has(hI(e))}saveEventToCache(e){this.cachedEventUids.add(hI(e)),this.lastProcessedEventTime=Date.now()}}function hI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _q(t,e={}){return Hi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sq=/^https?/;async function Eq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _q(t);for(const n of e)try{if(Tq(n))return}catch{}xr(t,"unauthorized-domain")}function Tq(t){const e=tw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Sq.test(n))return!1;if(wq.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq=new Nh(3e4,6e4);function dI(){const t=ni().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Cq(t){return new Promise((e,n)=>{var i,s,o;function r(){dI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dI(),n(ti(t,"network-request-failed"))},timeout:bq.get()})}if((s=(i=ni().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=ni().gapi)!=null&&o.load)r();else{const a=f7("iframefcb");return ni()[a]=()=>{gapi.load?r():n(ti(t,"network-request-failed"))},sM(`${d7()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Lf=null,e})}let Lf=null;function Rq(t){return Lf=Lf||Cq(t),Lf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq=new Nh(5e3,15e3),xq="__/auth/iframe",Aq="emulator/auth/iframe",Pq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Oq(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?GS(e,Aq):`https://${t.config.authDomain}/${xq}`,r={apiKey:e.apiKey,appName:t.name,v:ql},i=kq.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xh(r).slice(1)}`}async function Dq(t){const e=await Rq(t),n=ni().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:Oq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pq,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ti(t,"network-request-failed"),a=ni().setTimeout(()=>{s(o)},Iq.get());function l(){ni().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lq=500,Nq=600,Vq="_blank",Fq="http://localhost";class fI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bq(t,e,n,r=Lq,i=Nq){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...Mq,width:r.toString(),height:i.toString(),top:s,left:o},u=tn().toLowerCase();n&&(a=JD(u)?Vq:n),YD(u)&&(e=e||Fq,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(r7(u)&&a!=="_self")return jq(e||"",a),new fI(null);const d=window.open(e||"",a,h);ie(d,t,"popup-blocked");try{d.focus()}catch{}return new fI(d)}function jq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q="__/auth/handler",Uq="emulator/auth/handler",zq=encodeURIComponent("fac");async function pI(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ql,eventId:i};if(e instanceof lM){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",lz(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Fh){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${zq}=${encodeURIComponent(l)}`:"";return`${Wq(t)}?${xh(a).slice(1)}${u}`}function Wq({config:t}){return t.emulator?GS(t,Uq):`https://${t.authDomain}/${$q}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="webStorageSupport";class Hq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mM,this._completeRedirectFn=mq,this._overrideRedirectResult=dq}async _openPopup(e,n,r,i){var o;Vi((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await pI(e,n,r,tw(),i);return Bq(e,s,ZS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await pI(e,n,r,tw(),i);return G7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Dq(e),r=new yq(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ny,{type:Ny},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Ny];s!==void 0&&n(!!s),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Eq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rM()||QD()||YS()}}const qq=Hq;var mI="@firebase/auth",gI="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xq(t){Al(new Jo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iM(t)},u=new u7(r,i,s,l);return _7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Al(new Jo("auth-internal",e=>{const n=ro(e.getProvider("auth").getImmediate());return(r=>new Kq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bs(mI,gI,Gq(t)),Bs(mI,gI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq=5*60,Qq=Yk("authIdTokenMaxAge")||Yq;let yI=null;const Jq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Qq)return;const i=n==null?void 0:n.token;yI!==i&&(yI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Zq(t=nO()){const e=hS(t,"auth");if(e.isInitialized())return e.getImmediate();const n=v7(t,{popupRedirectResolver:qq,persistence:[rq,H7,mM]}),r=Yk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Jq(s.toString());j7(n,o,()=>o(n.currentUser)),B7(n,a=>o(a))}}const i=Gk("auth");return i&&w7(n,`http://${i}`),n}function eK(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}c7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ti("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",eK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xq("Browser");const tK={apiKey:"AIzaSyBbUnVpOyU1eSSFrQi79ztijFjT0bvMosc",authDomain:"pocket-stylist-3c0fe.firebaseapp.com",projectId:"pocket-stylist-3c0fe",storageBucket:"pocket-stylist-3c0fe.firebasestorage.app",messagingSenderId:"274246899324",appId:"1:274246899324:web:845c91cdaab06299df1bf9"},EM=tO(tK),eu=Zq(EM),io=vH(EM),nK=(t,e)=>F7(eu,t,e),rK=(t,e)=>V7(eu,t,e),iK=()=>U7(eu),sK=t=>N7(eu,t),TM=C.createContext();function bM(){return C.useContext(TM)}function oK({children:t}){const[e,n]=C.useState(null),[r,i]=C.useState(!0);C.useEffect(()=>$7(eu,a=>{n(a),i(!1)}),[]);const s={currentUser:e,loading:r};return O.jsx(TM.Provider,{value:s,children:!r&&t})}const aK="Left",lK="Right",uK="Up",cK="Down",el={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},iw={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},vI="mousemove",_I="mouseup",hK="touchend",dK="touchmove",fK="touchstart";function pK(t,e,n,r){return t>e?n>0?lK:aK:r>0?cK:uK}function wI(t,e){if(e===0)return t;const n=Math.PI/180*e,r=t[0]*Math.cos(n)+t[1]*Math.sin(n),i=t[1]*Math.cos(n)-t[0]*Math.sin(n);return[r,i]}function mK(t,e){const n=h=>{const d="touches"in h;d&&h.touches.length>1||t((f,p)=>{p.trackMouse&&!d&&(document.addEventListener(vI,r),document.addEventListener(_I,o));const{clientX:g,clientY:S}=d?h.touches[0]:h,T=wI([g,S],p.rotationAngle);return p.onTouchStartOrOnMouseDown&&p.onTouchStartOrOnMouseDown({event:h}),Object.assign(Object.assign(Object.assign({},f),iw),{initial:T.slice(),xy:T,start:h.timeStamp||0})})},r=h=>{t((d,f)=>{const p="touches"in h;if(p&&h.touches.length>1)return d;if(h.timeStamp-d.start>f.swipeDuration)return d.swiping?Object.assign(Object.assign({},d),{swiping:!1}):d;const{clientX:g,clientY:S}=p?h.touches[0]:h,[T,_]=wI([g,S],f.rotationAngle),y=T-d.xy[0],E=_-d.xy[1],P=Math.abs(y),M=Math.abs(E),D=(h.timeStamp||0)-d.start,b=Math.sqrt(P*P+M*M)/(D||1),w=[y/(D||1),E/(D||1)],R=pK(P,M,y,E),I=typeof f.delta=="number"?f.delta:f.delta[R.toLowerCase()]||el.delta;if(P<I&&M<I&&!d.swiping)return d;const A={absX:P,absY:M,deltaX:y,deltaY:E,dir:R,event:h,first:d.first,initial:d.initial,velocity:b,vxvy:w};A.first&&f.onSwipeStart&&f.onSwipeStart(A),f.onSwiping&&f.onSwiping(A);let L=!1;return(f.onSwiping||f.onSwiped||f[`onSwiped${R}`])&&(L=!0),L&&f.preventScrollOnSwipe&&f.trackTouch&&h.cancelable&&h.preventDefault(),Object.assign(Object.assign({},d),{first:!1,eventData:A,swiping:!0})})},i=h=>{t((d,f)=>{let p;if(d.swiping&&d.eventData){if(h.timeStamp-d.start<f.swipeDuration){p=Object.assign(Object.assign({},d.eventData),{event:h}),f.onSwiped&&f.onSwiped(p);const g=f[`onSwiped${p.dir}`];g&&g(p)}}else f.onTap&&f.onTap({event:h});return f.onTouchEndOrOnMouseUp&&f.onTouchEndOrOnMouseUp({event:h}),Object.assign(Object.assign(Object.assign({},d),iw),{eventData:p})})},s=()=>{document.removeEventListener(vI,r),document.removeEventListener(_I,o)},o=h=>{s(),i(h)},a=(h,d)=>{let f=()=>{};if(h&&h.addEventListener){const p=Object.assign(Object.assign({},el.touchEventOptions),d.touchEventOptions),g=[[fK,n,p],[dK,r,Object.assign(Object.assign({},p),d.preventScrollOnSwipe?{passive:!1}:{})],[hK,i,p]];g.forEach(([S,T,_])=>h.addEventListener(S,T,_)),f=()=>g.forEach(([S,T])=>h.removeEventListener(S,T))}return f},u={ref:h=>{h!==null&&t((d,f)=>{if(d.el===h)return d;const p={};return d.el&&d.el!==h&&d.cleanUpTouch&&(d.cleanUpTouch(),p.cleanUpTouch=void 0),f.trackTouch&&h&&(p.cleanUpTouch=a(h,f)),Object.assign(Object.assign(Object.assign({},d),{el:h}),p)})}};return e.trackMouse&&(u.onMouseDown=n),[u,a]}function gK(t,e,n,r){return!e.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?e.preventScrollOnSwipe!==n.preventScrollOnSwipe||e.touchEventOptions.passive!==n.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})}function yK(t){const{trackMouse:e}=t,n=C.useRef(Object.assign({},iw)),r=C.useRef(Object.assign({},el)),i=C.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},el),t);let s;for(s in el)r.current[s]===void 0&&(r.current[s]=el[s]);const[o,a]=C.useMemo(()=>mK(l=>n.current=l(n.current,r.current),{trackMouse:e}),[e]);return n.current=gK(n.current,r.current,i.current,a),o}var CM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},SI=dt.createContext&&dt.createContext(CM),vK=["attr","size","title"];function _K(t,e){if(t==null)return{};var n=wK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qp(){return Qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qp.apply(this,arguments)}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){SK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SK(t,e,n){return e=EK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EK(t){var e=TK(t,"string");return typeof e=="symbol"?e:e+""}function TK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RM(t){return t&&t.map((e,n)=>dt.createElement(e.tag,Jp({key:n},e.attr),RM(e.child)))}function bK(t){return e=>dt.createElement(CK,Qp({attr:Jp({},t.attr)},e),RM(t.child))}function CK(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=_K(t,vK),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),dt.createElement("svg",Qp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Jp(Jp({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&dt.createElement("title",null,s),t.children)};return SI!==void 0?dt.createElement(SI.Consumer,null,n=>e(n)):e(CM)}function RK(t){return bK({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}const tE=C.createContext({});function nE(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const rE=typeof window<"u",IM=rE?C.useLayoutEffect:C.useEffect,og=C.createContext(null);function iE(t,e){t.indexOf(e)===-1&&t.push(e)}function sE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fi=(t,e,n)=>n>e?e:n<t?t:n;let oE=()=>{};const Bi={},xM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function AM(t){return typeof t=="object"&&t!==null}const PM=t=>/^0[^.\s]+$/u.test(t);function aE(t){let e;return()=>(e===void 0&&(e=t()),e)}const tr=t=>t,IK=(t,e)=>n=>e(t(n)),jh=(...t)=>t.reduce(IK),hh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class lE{constructor(){this.subscriptions=[]}add(e){return iE(this.subscriptions,e),()=>sE(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ri=t=>t*1e3,Yn=t=>t/1e3;function kM(t,e){return e?t*(1e3/e):0}const OM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,xK=1e-7,AK=12;function PK(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=OM(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>xK&&++a<AK);return o}function $h(t,e,n,r){if(t===e&&n===r)return tr;const i=s=>PK(s,0,1,t,n);return s=>s===0||s===1?s:OM(i(s),e,r)}const DM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,MM=t=>e=>1-t(1-e),LM=$h(.33,1.53,.69,.99),uE=MM(LM),NM=DM(uE),VM=t=>(t*=2)<1?.5*uE(t):.5*(2-Math.pow(2,-10*(t-1))),cE=t=>1-Math.sin(Math.acos(t)),FM=MM(cE),BM=DM(cE),kK=$h(.42,0,1,1),OK=$h(0,0,.58,1),jM=$h(.42,0,.58,1),DK=t=>Array.isArray(t)&&typeof t[0]!="number",$M=t=>Array.isArray(t)&&typeof t[0]=="number",MK={linear:tr,easeIn:kK,easeInOut:jM,easeOut:OK,circIn:cE,circInOut:BM,circOut:FM,backIn:uE,backInOut:NM,backOut:LM,anticipate:VM},LK=t=>typeof t=="string",TI=t=>{if($M(t)){oE(t.length===4);const[e,n,r,i]=t;return $h(e,n,r,i)}else if(LK(t))return MK[t];return t},Gd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function NK(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(h){o.has(h)&&(u.schedule(h),t()),h(a)}const u={schedule:(h,d=!1,f=!1)=>{const g=f&&i?n:r;return d&&o.add(h),g.has(h)||g.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,u.process(h))}};return u}const VK=40;function UM(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Gd.reduce((E,P)=>(E[P]=NK(s),E),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:h,update:d,preRender:f,render:p,postRender:g}=o,S=()=>{const E=Bi.useManualTiming?i.timestamp:performance.now();n=!1,Bi.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,VK),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),h.process(i),d.process(i),f.process(i),p.process(i),g.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},T=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:Gd.reduce((E,P)=>{const M=o[P];return E[P]=(D,b=!1,w=!1)=>(n||T(),M.schedule(D,b,w)),E},{}),cancel:E=>{for(let P=0;P<Gd.length;P++)o[Gd[P]].cancel(E)},state:i,steps:o}}const{schedule:Ge,cancel:Ys,state:Nt,steps:Vy}=UM(typeof requestAnimationFrame<"u"?requestAnimationFrame:tr,!0);let Nf;function FK(){Nf=void 0}const vn={now:()=>(Nf===void 0&&vn.set(Nt.isProcessing||Bi.useManualTiming?Nt.timestamp:performance.now()),Nf),set:t=>{Nf=t,queueMicrotask(FK)}},zM=t=>e=>typeof e=="string"&&e.startsWith(t),WM=zM("--"),BK=zM("var(--"),hE=t=>BK(t)?jK.test(t.split("/*")[0].trim()):!1,jK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dh={...tu,transform:t=>Fi(0,1,t)},Xd={...tu,default:1},Rc=t=>Math.round(t*1e5)/1e5,dE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $K(t){return t==null}const UK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fE=(t,e)=>n=>!!(typeof n=="string"&&UK.test(n)&&n.startsWith(t)||e&&!$K(n)&&Object.prototype.hasOwnProperty.call(n,e)),HM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(dE);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},zK=t=>Fi(0,255,t),Fy={...tu,transform:t=>Math.round(zK(t))},Vo={test:fE("rgb","red"),parse:HM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Fy.transform(t)+", "+Fy.transform(e)+", "+Fy.transform(n)+", "+Rc(dh.transform(r))+")"};function WK(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const sw={test:fE("#"),parse:WK,transform:Vo.transform},Uh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),gs=Uh("deg"),ii=Uh("%"),oe=Uh("px"),HK=Uh("vh"),qK=Uh("vw"),bI={...ii,parse:t=>ii.parse(t)/100,transform:t=>ii.transform(t*100)},tl={test:fE("hsl","hue"),parse:HM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ii.transform(Rc(e))+", "+ii.transform(Rc(n))+", "+Rc(dh.transform(r))+")"},ht={test:t=>Vo.test(t)||sw.test(t)||tl.test(t),parse:t=>Vo.test(t)?Vo.parse(t):tl.test(t)?tl.parse(t):sw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Vo.transform(t):tl.transform(t),getAnimatableNone:t=>{const e=ht.parse(t);return e.alpha=0,ht.transform(e)}},KK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GK(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(dE))==null?void 0:e.length)||0)+(((n=t.match(KK))==null?void 0:n.length)||0)>0}const qM="number",KM="color",XK="var",YK="var(",CI="${}",QK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(QK,l=>(ht.test(l)?(r.color.push(s),i.push(KM),n.push(ht.parse(l))):l.startsWith(YK)?(r.var.push(s),i.push(XK),n.push(l)):(r.number.push(s),i.push(qM),n.push(parseFloat(l))),++s,CI)).split(CI);return{values:n,split:a,indexes:r,types:i}}function GM(t){return fh(t).values}function XM(t){const{split:e,types:n}=fh(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===qM?s+=Rc(i[o]):a===KM?s+=ht.transform(i[o]):s+=i[o]}return s}}const JK=t=>typeof t=="number"?0:ht.test(t)?ht.getAnimatableNone(t):t;function ZK(t){const e=GM(t);return XM(t)(e.map(JK))}const Qs={test:GK,parse:GM,createTransformer:XM,getAnimatableNone:ZK};function By(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function eG({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=By(l,a,t+1/3),s=By(l,a,t),o=By(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Zp(t,e){return n=>n>0?e:t}const Qe=(t,e,n)=>t+(e-t)*n,jy=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},tG=[sw,Vo,tl],nG=t=>tG.find(e=>e.test(t));function RI(t){const e=nG(t);if(!e)return!1;let n=e.parse(t);return e===tl&&(n=eG(n)),n}const II=(t,e)=>{const n=RI(t),r=RI(e);if(!n||!r)return Zp(t,e);const i={...n};return s=>(i.red=jy(n.red,r.red,s),i.green=jy(n.green,r.green,s),i.blue=jy(n.blue,r.blue,s),i.alpha=Qe(n.alpha,r.alpha,s),Vo.transform(i))},ow=new Set(["none","hidden"]);function rG(t,e){return ow.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function iG(t,e){return n=>Qe(t,e,n)}function pE(t){return typeof t=="number"?iG:typeof t=="string"?hE(t)?Zp:ht.test(t)?II:aG:Array.isArray(t)?YM:typeof t=="object"?ht.test(t)?II:sG:Zp}function YM(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>pE(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function sG(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=pE(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function oG(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const aG=(t,e)=>{const n=Qs.createTransformer(e),r=fh(t),i=fh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ow.has(t)&&!i.values.length||ow.has(e)&&!r.values.length?rG(t,e):jh(YM(oG(r,i),i.values),n):Zp(t,e)};function QM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qe(t,e,n):pE(t)(t,e)}const lG=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ge.update(e,n),stop:()=>Ys(e),now:()=>Nt.isProcessing?Nt.timestamp:vn.now()}},JM=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},em=2e4;function mE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<em;)e+=n,r=t.next(e);return e>=em?1/0:e}function uG(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(mE(r),em);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Yn(i)}}const cG=5;function ZM(t,e,n){const r=Math.max(e-cG,0);return kM(n-t(r),e-r)}const it={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$y=.001;function hG({duration:t=it.duration,bounce:e=it.bounce,velocity:n=it.velocity,mass:r=it.mass}){let i,s,o=1-e;o=Fi(it.minDamping,it.maxDamping,o),t=Fi(it.minDuration,it.maxDuration,Yn(t)),o<1?(i=u=>{const h=u*o,d=h*t,f=h-n,p=aw(u,o),g=Math.exp(-d);return $y-f/p*g},s=u=>{const d=u*o*t,f=d*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-d),S=aw(Math.pow(u,2),o);return(-i(u)+$y>0?-1:1)*((f-p)*g)/S}):(i=u=>{const h=Math.exp(-u*t),d=(u-n)*t+1;return-$y+h*d},s=u=>{const h=Math.exp(-u*t),d=(n-u)*(t*t);return h*d});const a=5/t,l=fG(i,s,a);if(t=ri(t),isNaN(l))return{stiffness:it.stiffness,damping:it.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const dG=12;function fG(t,e,n){let r=n;for(let i=1;i<dG;i++)r=r-t(r)/e(r);return r}function aw(t,e){return t*Math.sqrt(1-e*e)}const pG=["duration","bounce"],mG=["stiffness","damping","mass"];function xI(t,e){return e.some(n=>t[n]!==void 0)}function gG(t){let e={velocity:it.velocity,stiffness:it.stiffness,damping:it.damping,mass:it.mass,isResolvedFromDuration:!1,...t};if(!xI(t,mG)&&xI(t,pG))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Fi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:it.mass,stiffness:i,damping:s}}else{const n=hG(t);e={...e,...n,mass:it.mass},e.isResolvedFromDuration=!0}return e}function tm(t=it.visualDuration,e=it.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:h,duration:d,velocity:f,isResolvedFromDuration:p}=gG({...n,velocity:-Yn(n.velocity||0)}),g=f||0,S=u/(2*Math.sqrt(l*h)),T=o-s,_=Yn(Math.sqrt(l/h)),y=Math.abs(T)<5;r||(r=y?it.restSpeed.granular:it.restSpeed.default),i||(i=y?it.restDelta.granular:it.restDelta.default);let E;if(S<1){const M=aw(_,S);E=D=>{const b=Math.exp(-S*_*D);return o-b*((g+S*_*T)/M*Math.sin(M*D)+T*Math.cos(M*D))}}else if(S===1)E=M=>o-Math.exp(-_*M)*(T+(g+_*T)*M);else{const M=_*Math.sqrt(S*S-1);E=D=>{const b=Math.exp(-S*_*D),w=Math.min(M*D,300);return o-b*((g+S*_*T)*Math.sinh(w)+M*T*Math.cosh(w))/M}}const P={calculatedDuration:p&&d||null,next:M=>{const D=E(M);if(p)a.done=M>=d;else{let b=M===0?g:0;S<1&&(b=M===0?ri(g):ZM(E,M,D));const w=Math.abs(b)<=r,R=Math.abs(o-D)<=i;a.done=w&&R}return a.value=a.done?o:D,a},toString:()=>{const M=Math.min(mE(P),em),D=JM(b=>P.next(M*b).value,M,30);return M+"ms "+D},toTransition:()=>{}};return P}tm.applyToOptions=t=>{const e=uG(t,100,tm);return t.ease=e.ease,t.duration=ri(e.duration),t.type="keyframes",t};function lw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const d=t[0],f={done:!1,value:d},p=w=>a!==void 0&&w<a||l!==void 0&&w>l,g=w=>a===void 0?l:l===void 0||Math.abs(a-w)<Math.abs(l-w)?a:l;let S=n*e;const T=d+S,_=o===void 0?T:o(T);_!==T&&(S=_-d);const y=w=>-S*Math.exp(-w/r),E=w=>_+y(w),P=w=>{const R=y(w),I=E(w);f.done=Math.abs(R)<=u,f.value=f.done?_:I};let M,D;const b=w=>{p(f.value)&&(M=w,D=tm({keyframes:[f.value,g(f.value)],velocity:ZM(E,w,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return b(0),{calculatedDuration:null,next:w=>{let R=!1;return!D&&M===void 0&&(R=!0,P(w),b(w)),M!==void 0&&w>=M?D.next(w-M):(!R&&P(w),f)}}}function yG(t,e,n){const r=[],i=n||Bi.mix||QM,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||tr:e;a=jh(l,a)}r.push(a)}return r}function vG(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(oE(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=yG(e,r,i),l=a.length,u=h=>{if(o&&h<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(h<t[d+1]);d++);const f=hh(t[d],t[d+1],h);return a[d](f)};return n?h=>u(Fi(t[0],t[s-1],h)):u}function _G(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=hh(0,e,r);t.push(Qe(n,1,i))}}function wG(t){const e=[0];return _G(e,t.length-1),e}function SG(t,e){return t.map(n=>n*e)}function EG(t,e){return t.map(()=>e||jM).splice(0,t.length-1)}function Ic({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=DK(r)?r.map(TI):TI(r),s={done:!1,value:e[0]},o=SG(n&&n.length===e.length?n:wG(e),t),a=vG(o,e,{ease:Array.isArray(i)?i:EG(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const TG=t=>t!==null;function gE(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(TG),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const bG={decay:lw,inertia:lw,tween:Ic,keyframes:Ic,spring:tm};function eL(t){typeof t.type=="string"&&(t.type=bG[t.type])}class yE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const CG=t=>t/100;class vE extends yE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==vn.now()&&this.tick(vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;eL(e);const{type:n=Ic,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Ic;l!==Ic&&typeof a[0]!="number"&&(this.mixKeyframes=jh(CG,QM(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=mE(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:h,repeat:d,repeatType:f,repeatDelay:p,type:g,onUpdate:S,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,P=r;if(d){const w=Math.min(this.currentTime,i)/a;let R=Math.floor(w),I=w%1;!I&&w>=1&&(I=1),I===1&&R--,R=Math.min(R,d+1),!!(R%2)&&(f==="reverse"?(I=1-I,p&&(I-=p/a)):f==="mirror"&&(P=o)),E=Fi(0,1,I)*a}const M=y?{done:!1,value:h[0]}:P.next(E);s&&(M.value=s(M.value));let{done:D}=M;!y&&l!==null&&(D=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return b&&g!==lw&&(M.value=gE(h,this.options,T,this.speed)),S&&S(M.value),b&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return Yn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Yn(e)}get time(){return Yn(this.currentTime)}set time(e){var n;e=ri(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(vn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Yn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=lG,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function RG(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Fo=t=>t*180/Math.PI,uw=t=>{const e=Fo(Math.atan2(t[1],t[0]));return cw(e)},IG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:uw,rotateZ:uw,skewX:t=>Fo(Math.atan(t[1])),skewY:t=>Fo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},cw=t=>(t=t%360,t<0&&(t+=360),t),AI=uw,PI=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),kI=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),xG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:PI,scaleY:kI,scale:t=>(PI(t)+kI(t))/2,rotateX:t=>cw(Fo(Math.atan2(t[6],t[5]))),rotateY:t=>cw(Fo(Math.atan2(-t[2],t[0]))),rotateZ:AI,rotate:AI,skewX:t=>Fo(Math.atan(t[4])),skewY:t=>Fo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function hw(t){return t.includes("scale")?1:0}function dw(t,e){if(!t||t==="none")return hw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=xG,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=IG,i=a}if(!i)return hw(e);const s=r[e],o=i[1].split(",").map(PG);return typeof s=="function"?s(o):o[s]}const AG=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return dw(n,e)};function PG(t){return parseFloat(t.trim())}const nu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ru=new Set(nu),OI=t=>t===tu||t===oe,kG=new Set(["x","y","z"]),OG=nu.filter(t=>!kG.has(t));function DG(t){const e=[];return OG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Wo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>dw(e,"x"),y:(t,{transform:e})=>dw(e,"y")};Wo.translateX=Wo.x;Wo.translateY=Wo.y;const Ho=new Set;let fw=!1,pw=!1,mw=!1;function tL(){if(pw){const t=Array.from(Ho).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=DG(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pw=!1,fw=!1,Ho.forEach(t=>t.complete(mw)),Ho.clear()}function nL(){Ho.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(pw=!0)})}function MG(){mw=!0,nL(),tL(),mw=!1}class _E{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ho.add(this),fw||(fw=!0,Ge.read(nL),Ge.resolveKeyframes(tL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}RG(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ho.delete(this)}cancel(){this.state==="scheduled"&&(Ho.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const LG=t=>t.startsWith("--");function NG(t,e,n){LG(e)?t.style.setProperty(e,n):t.style[e]=n}const VG=aE(()=>window.ScrollTimeline!==void 0),FG={};function BG(t,e){const n=aE(t);return()=>FG[e]??n()}const rL=BG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,DI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qu([0,.65,.55,1]),circOut:Qu([.55,0,1,.45]),backIn:Qu([.31,.01,.66,-.59]),backOut:Qu([.33,1.53,.69,.99])};function iL(t,e){if(t)return typeof t=="function"?rL()?JM(t,e):"ease-out":$M(t)?Qu(t):Array.isArray(t)?t.map(n=>iL(n,e)||DI.easeOut):DI[t]}function jG(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const h={[e]:n};l&&(h.offset=l);const d=iL(a,i);Array.isArray(d)&&(h.easing=d);const f={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(h,f)}function sL(t){return typeof t=="function"&&"applyToOptions"in t}function $G({type:t,...e}){return sL(t)&&rL()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class UG extends yE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,oE(typeof e.type!="string");const u=$G(e);this.animation=jG(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=gE(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):NG(n,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Yn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Yn(e)}get time(){return Yn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ri(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&VG()?(this.animation.timeline=e,tr):n(this)}}const oL={anticipate:VM,backInOut:NM,circInOut:BM};function zG(t){return t in oL}function WG(t){typeof t.ease=="string"&&zG(t.ease)&&(t.ease=oL[t.ease])}const MI=10;class HG extends UG{constructor(e){WG(e),eL(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new vE({...o,autoplay:!1}),l=ri(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-MI).value,a.sample(l).value,MI),a.stop()}}const LI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qs.test(t)||t==="0")&&!t.startsWith("url("));function qG(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function KG(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=LI(i,e),a=LI(s,e);return!o||!a?!1:qG(t)||(n==="spring"||sL(n))&&r}function gw(t){t.duration=0,t.type="keyframes"}const GG=new Set(["opacity","clipPath","filter","transform"]),XG=aE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function YG(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return XG()&&n&&GG.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const QG=40;class JG extends yE{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:h,...d}){var g;super(),this.stop=()=>{var S,T;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=vn.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:h,...d},p=(h==null?void 0:h.KeyframeResolver)||_E;this.keyframeResolver=new p(a,(S,T,_)=>this.onKeyframesResolved(S,T,f,!_),l,u,h),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:h}=r;this.resolvedAt=vn.now(),KG(e,s,o,a)||((Bi.instantAnimations||!l)&&(h==null||h(gE(e,r,n))),e[0]=e[e.length-1],gw(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>QG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!u&&YG(f)?new HG({...f,element:f.motionValue.owner.current}):new vE(f);p.finished.then(()=>this.notifyFinished()).catch(tr),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),MG()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const ZG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eX(t){const e=ZG.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function aL(t,e,n=1){const[r,i]=eX(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return xM(o)?parseFloat(o):o}return hE(i)?aL(i,e,n+1):i}function wE(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const lL=new Set(["width","height","top","left","right","bottom",...nu]),tX={test:t=>t==="auto",parse:t=>t},uL=t=>e=>e.test(t),cL=[tu,oe,ii,gs,qK,HK,tX],NI=t=>cL.find(uL(t));function nX(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||PM(t):!0}const rX=new Set(["brightness","contrast","saturate","opacity"]);function iX(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(dE)||[];if(!r)return t;const i=n.replace(r,"");let s=rX.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const sX=/\b([a-z-]*)\(.*?\)/gu,yw={...Qs,getAnimatableNone:t=>{const e=t.match(sX);return e?e.map(iX).join(" "):t}},VI={...tu,transform:Math.round},oX={rotate:gs,rotateX:gs,rotateY:gs,rotateZ:gs,scale:Xd,scaleX:Xd,scaleY:Xd,scaleZ:Xd,skew:gs,skewX:gs,skewY:gs,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:dh,originX:bI,originY:bI,originZ:oe},SE={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,backgroundPositionX:oe,backgroundPositionY:oe,...oX,zIndex:VI,fillOpacity:dh,strokeOpacity:dh,numOctaves:VI},aX={...SE,color:ht,backgroundColor:ht,outlineColor:ht,fill:ht,stroke:ht,borderColor:ht,borderTopColor:ht,borderRightColor:ht,borderBottomColor:ht,borderLeftColor:ht,filter:yw,WebkitFilter:yw},hL=t=>aX[t];function dL(t,e){let n=hL(t);return n!==yw&&(n=Qs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const lX=new Set(["auto","none","0"]);function uX(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!lX.has(s)&&fh(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=dL(n,i)}class cX extends _E{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),hE(u))){const h=aL(u,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!lL.has(r)||e.length!==2)return;const[i,s]=e,o=NI(i),a=NI(s);if(o!==a)if(OI(o)&&OI(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Wo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||nX(e[i]))&&r.push(i);r.length&&uX(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Wo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function hX(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const fL=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function pL(t){return AM(t)&&"offsetHeight"in t}const FI=30,dX=t=>!isNaN(parseFloat(t));class fX{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=vn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=vn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=dX(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new lE);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ge.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>FI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,FI);return kM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nl(t,e){return new fX(t,e)}const{schedule:EE}=UM(queueMicrotask,!1),mr={x:!1,y:!1};function mL(){return mr.x||mr.y}function pX(t){return t==="x"||t==="y"?mr[t]?null:(mr[t]=!0,()=>{mr[t]=!1}):mr.x||mr.y?null:(mr.x=mr.y=!0,()=>{mr.x=mr.y=!1})}function gL(t,e){const n=hX(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function BI(t){return!(t.pointerType==="touch"||mL())}function mX(t,e,n={}){const[r,i,s]=gL(t,n),o=a=>{if(!BI(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const h=d=>{BI(d)&&(u(d),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const yL=(t,e)=>e?t===e?!0:yL(t,e.parentElement):!1,TE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,gX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yX(t){return gX.has(t.tagName)||t.tabIndex!==-1}const Vf=new WeakSet;function jI(t){return e=>{e.key==="Enter"&&t(e)}}function Uy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const vX=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=jI(()=>{if(Vf.has(n))return;Uy(n,"down");const i=jI(()=>{Uy(n,"up")}),s=()=>Uy(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function $I(t){return TE(t)&&!mL()}function _X(t,e,n={}){const[r,i,s]=gL(t,n),o=a=>{const l=a.currentTarget;if(!$I(a))return;Vf.add(l);const u=e(l,a),h=(p,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),Vf.has(l)&&Vf.delete(l),$I(p)&&typeof u=="function"&&u(p,{success:g})},d=p=>{h(p,l===window||l===document||n.useGlobalTarget||yL(l,p.target))},f=p=>{h(p,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),pL(a)&&(a.addEventListener("focus",u=>vX(u,i)),!yX(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function vL(t){return AM(t)&&"ownerSVGElement"in t}function wX(t){return vL(t)&&t.tagName==="svg"}const Jt=t=>!!(t&&t.getVelocity),SX=[...cL,ht,Qs],EX=t=>SX.find(uL(t)),bE=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function UI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function TX(...t){return e=>{let n=!1;const r=t.map(i=>{const s=UI(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():UI(t[i],null)}}}}function bX(...t){return C.useCallback(TX(...t),t)}class CX extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=pL(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function RX({children:t,isPresent:e,anchorX:n,root:r}){const i=C.useId(),s=C.useRef(null),o=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=C.useContext(bE),l=bX(s,t==null?void 0:t.ref);return C.useInsertionEffect(()=>{const{width:u,height:h,top:d,left:f,right:p}=o.current;if(e||!s.current||!u||!h)return;const g=n==="left"?`left: ${f}`:`right: ${p}`;s.current.dataset.motionPopId=i;const S=document.createElement("style");a&&(S.nonce=a);const T=r??document.head;return T.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${g}px !important;
            top: ${d}px !important;
          }
        `),()=>{T.contains(S)&&T.removeChild(S)}},[e]),O.jsx(CX,{isPresent:e,childRef:s,sizeRef:o,children:C.cloneElement(t,{ref:l})})}const IX=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=nE(xX),h=C.useId();let d=!0,f=C.useMemo(()=>(d=!1,{id:h,initial:e,isPresent:n,custom:i,onExitComplete:p=>{u.set(p,!0);for(const g of u.values())if(!g)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,r]);return s&&d&&(f={...f}),C.useMemo(()=>{u.forEach((p,g)=>u.set(g,!1))},[n]),C.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=O.jsx(RX,{isPresent:n,anchorX:a,root:l,children:t})),O.jsx(og.Provider,{value:f,children:t})};function xX(){return new Map}function _L(t=!0){const e=C.useContext(og);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=C.useId();C.useEffect(()=>{if(t)return i(s)},[t]);const o=C.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Yd=t=>t.key||"";function zI(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const AX=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,h]=_L(o),d=C.useMemo(()=>zI(t),[t]),f=o&&!u?[]:d.map(Yd),p=C.useRef(!0),g=C.useRef(d),S=nE(()=>new Map),[T,_]=C.useState(d),[y,E]=C.useState(d);IM(()=>{p.current=!1,g.current=d;for(let D=0;D<y.length;D++){const b=Yd(y[D]);f.includes(b)?S.delete(b):S.get(b)!==!0&&S.set(b,!1)}},[y,f.length,f.join("-")]);const P=[];if(d!==T){let D=[...d];for(let b=0;b<y.length;b++){const w=y[b],R=Yd(w);f.includes(R)||(D.splice(b,0,w),P.push(w))}return s==="wait"&&P.length&&(D=P),E(zI(D)),_(d),null}const{forceRender:M}=C.useContext(tE);return O.jsx(O.Fragment,{children:y.map(D=>{const b=Yd(D),w=o&&!u?!1:d===y||f.includes(b),R=()=>{if(S.has(b))S.set(b,!0);else return;let I=!0;S.forEach(A=>{A||(I=!1)}),I&&(M==null||M(),E(g.current),o&&(h==null||h()),r&&r())};return O.jsx(IX,{isPresent:w,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:w?void 0:R,anchorX:a,children:D},b)})})},wL=C.createContext({strict:!1}),WI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vl={};for(const t in WI)Vl[t]={isEnabled:e=>WI[t].some(n=>!!e[n])};function PX(t){for(const e in t)Vl[e]={...Vl[e],...t[e]}}const kX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||kX.has(t)}let SL=t=>!nm(t);function OX(t){typeof t=="function"&&(SL=e=>e.startsWith("on")?!nm(e):t(e))}try{OX(require("@emotion/is-prop-valid").default)}catch{}function DX(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(SL(i)||n===!0&&nm(i)||!e&&!nm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const ag=C.createContext({});function lg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ph(t){return typeof t=="string"||Array.isArray(t)}const CE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],RE=["initial",...CE];function ug(t){return lg(t.animate)||RE.some(e=>ph(t[e]))}function EL(t){return!!(ug(t)||t.variants)}function MX(t,e){if(ug(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ph(n)?n:void 0,animate:ph(r)?r:void 0}}return t.inherit!==!1?e:{}}function LX(t){const{initial:e,animate:n}=MX(t,C.useContext(ag));return C.useMemo(()=>({initial:e,animate:n}),[HI(e),HI(n)])}function HI(t){return Array.isArray(t)?t.join(" "):t}function qI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(oe.test(t))t=parseFloat(t);else return t;const n=qI(t,e.target.x),r=qI(t,e.target.y);return`${n}% ${r}%`}},NX={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Qs.parse(t);if(i.length>5)return r;const s=Qs.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Qe(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}},vw={borderRadius:{...Vu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vu,borderTopRightRadius:Vu,borderBottomLeftRadius:Vu,borderBottomRightRadius:Vu,boxShadow:NX};function TL(t,{layout:e,layoutId:n}){return ru.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!vw[t]||t==="opacity")}const VX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FX=nu.length;function BX(t,e,n){let r="",i=!0;for(let s=0;s<FX;s++){const o=nu[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=fL(a,SE[o]);if(!l){i=!1;const h=VX[o]||o;r+=`${h}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function IE(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(ru.has(l)){o=!0;continue}else if(WM(l)){i[l]=u;continue}else{const h=fL(u,SE[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=BX(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${u} ${h}`}}const xE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bL(t,e,n){for(const r in e)!Jt(e[r])&&!TL(r,n)&&(t[r]=e[r])}function jX({transformTemplate:t},e){return C.useMemo(()=>{const n=xE();return IE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function $X(t,e){const n=t.style||{},r={};return bL(r,n,t),Object.assign(r,jX(t,e)),r}function UX(t,e){const n={},r=$X(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const zX={offset:"stroke-dashoffset",array:"stroke-dasharray"},WX={offset:"strokeDashoffset",array:"strokeDasharray"};function HX(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?zX:WX;t[s.offset]=oe.transform(-r);const o=oe.transform(e),a=oe.transform(n);t[s.array]=`${o} ${a}`}function CL(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,u,h){if(IE(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&HX(d,i,s,o,!1)}const RL=()=>({...xE(),attrs:{}}),IL=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qX(t,e,n,r){const i=C.useMemo(()=>{const s=RL();return CL(s,e,IL(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};bL(s,t.style,t),i.style={...s,...i.style}}return i}const KX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function AE(t){return typeof t!="string"||t.includes("-")?!1:!!(KX.indexOf(t)>-1||/[A-Z]/u.test(t))}function GX(t,e,n,{latestValues:r},i,s=!1){const a=(AE(t)?qX:UX)(e,r,i,t),l=DX(e,typeof t=="string",s),u=t!==C.Fragment?{...l,...a,ref:n}:{},{children:h}=e,d=C.useMemo(()=>Jt(h)?h.get():h,[h]);return C.createElement(t,{...u,children:d})}function KI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function PE(t,e,n,r){if(typeof e=="function"){const[i,s]=KI(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=KI(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Ff(t){return Jt(t)?t.get():t}function XX({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:YX(n,r,i,t),renderState:e()}}function YX(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Ff(s[f]);let{initial:o,animate:a}=t;const l=ug(t),u=EL(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;if(d&&typeof d!="boolean"&&!lg(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const g=PE(t,f[p]);if(g){const{transitionEnd:S,transition:T,..._}=g;for(const y in _){let E=_[y];if(Array.isArray(E)){const P=h?E.length-1:0;E=E[P]}E!==null&&(i[y]=E)}for(const y in S)i[y]=S[y]}}}return i}const xL=t=>(e,n)=>{const r=C.useContext(ag),i=C.useContext(og),s=()=>XX(t,e,r,i);return n?s():nE(s)};function kE(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Jt(r[o])||e.style&&Jt(e.style[o])||TL(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const QX=xL({scrapeMotionValuesFromProps:kE,createRenderState:xE});function AL(t,e,n){const r=kE(t,e,n);for(const i in t)if(Jt(t[i])||Jt(e[i])){const s=nu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const JX=xL({scrapeMotionValuesFromProps:AL,createRenderState:RL}),ZX=Symbol.for("motionComponentSymbol");function nl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function eY(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):nl(n)&&(n.current=r))},[e])}const OE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tY="framerAppearId",PL="data-"+OE(tY),kL=C.createContext({});function nY(t,e,n,r,i){var S,T;const{visualElement:s}=C.useContext(ag),o=C.useContext(wL),a=C.useContext(og),l=C.useContext(bE).reducedMotion,u=C.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=u.current,d=C.useContext(kL);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&rY(u.current,n,i,d);const f=C.useRef(!1);C.useInsertionEffect(()=>{h&&f.current&&h.update(n,a)});const p=n[PL],g=C.useRef(!!p&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,p))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,p)));return IM(()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),g.current&&h.animationState&&h.animationState.animateChanges())}),C.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,p)}),g.current=!1),h.enteringChildren=void 0)}),h}function rY(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:OL(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&nl(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:u})}function OL(t){if(t)return t.options.allowProjection!==!1?t.projection:OL(t.parent)}function zy(t,{forwardMotionProps:e=!1}={},n,r){n&&PX(n);const i=AE(t)?JX:QX;function s(a,l){let u;const h={...C.useContext(bE),...a,layoutId:iY(a)},{isStatic:d}=h,f=LX(a),p=i(a,d);if(!d&&rE){sY();const g=oY(h);u=g.MeasureLayout,f.visualElement=nY(t,p,h,r,g.ProjectionNode)}return O.jsxs(ag.Provider,{value:f,children:[u&&f.visualElement?O.jsx(u,{visualElement:f.visualElement,...h}):null,GX(t,a,eY(p,f.visualElement,l),p,d,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=C.forwardRef(s);return o[ZX]=t,o}function iY({layoutId:t}){const e=C.useContext(tE).id;return e&&t!==void 0?e+"-"+t:t}function sY(t,e){C.useContext(wL).strict}function oY(t){const{drag:e,layout:n}=Vl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function aY(t,e){if(typeof Proxy>"u")return zy;const n=new Map,r=(s,o)=>zy(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,zy(o,void 0,t,e)),n.get(o))})}function DL({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function lY({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function uY(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Wy(t){return t===void 0||t===1}function _w({scale:t,scaleX:e,scaleY:n}){return!Wy(t)||!Wy(e)||!Wy(n)}function Io(t){return _w(t)||ML(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ML(t){return GI(t.x)||GI(t.y)}function GI(t){return t&&t!=="0%"}function rm(t,e,n){const r=t-n,i=e*r;return n+i}function XI(t,e,n,r,i){return i!==void 0&&(t=rm(t,i,r)),rm(t,n,r)+e}function ww(t,e=0,n=1,r,i){t.min=XI(t.min,e,n,r,i),t.max=XI(t.max,e,n,r,i)}function LL(t,{x:e,y:n}){ww(t.x,e.translate,e.scale,e.originPoint),ww(t.y,n.translate,n.scale,n.originPoint)}const YI=.999999999999,QI=1.0000000000001;function cY(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&il(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,LL(t,o)),r&&Io(s.latestValues)&&il(t,s.latestValues))}e.x<QI&&e.x>YI&&(e.x=1),e.y<QI&&e.y>YI&&(e.y=1)}function rl(t,e){t.min=t.min+e,t.max=t.max+e}function JI(t,e,n,r,i=.5){const s=Qe(t.min,t.max,i);ww(t,e,n,s,r)}function il(t,e){JI(t.x,e.x,e.scaleX,e.scale,e.originX),JI(t.y,e.y,e.scaleY,e.scale,e.originY)}function NL(t,e){return DL(uY(t.getBoundingClientRect(),e))}function hY(t,e,n){const r=NL(t,n),{scroll:i}=e;return i&&(rl(r.x,i.offset.x),rl(r.y,i.offset.y)),r}const ZI=()=>({translate:0,scale:1,origin:0,originPoint:0}),sl=()=>({x:ZI(),y:ZI()}),ex=()=>({min:0,max:0}),wt=()=>({x:ex(),y:ex()}),Sw={current:null},VL={current:!1};function dY(){if(VL.current=!0,!!rE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sw.current=t.matches;t.addEventListener("change",e),e()}else Sw.current=!1}const fY=new WeakMap;function pY(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Jt(i))t.addValue(r,i);else if(Jt(s))t.addValue(r,Nl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Nl(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const tx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mY{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_E,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=vn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ge.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=ug(n),this.isVariantNode=EL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const p=d[f];l[f]!==void 0&&Jt(p)&&p.set(l[f])}}mount(e){var n;this.current=e,fY.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),VL.current||dY(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sw.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ys(this.notifyUpdate),Ys(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ru.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ge.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Vl){const n=Vl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<tx.length;r++){const i=tx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=pY(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Nl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(xM(r)||PM(r))?r=parseFloat(r):!EX(r)&&Qs.test(n)&&(r=dL(e,n)),this.setBaseTarget(e,Jt(r)?r.get():r)),Jt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=PE(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Jt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new lE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){EE.render(this.render)}}class FL extends mY{constructor(){super(...arguments),this.KeyframeResolver=cX}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function BL(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function gY(t){return window.getComputedStyle(t)}class yY extends FL{constructor(){super(...arguments),this.type="html",this.renderInstance=BL}readValueFromInstance(e,n){var r;if(ru.has(n))return(r=this.projection)!=null&&r.isProjecting?hw(n):AG(e,n);{const i=gY(e),s=(WM(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return NL(e,n)}build(e,n,r){IE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return kE(e,n,r)}}const jL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vY(t,e,n,r){BL(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(jL.has(i)?i:OE(i),e.attrs[i])}class _Y extends FL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ru.has(n)){const r=hL(n);return r&&r.default||0}return n=jL.has(n)?n:OE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return AL(e,n,r)}build(e,n,r){CL(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){vY(e,n,r,i)}mount(e){this.isSVGTag=IL(e.tagName),super.mount(e)}}const wY=(t,e)=>AE(t)?new _Y(e):new yY(e,{allowProjection:t!==C.Fragment});function wl(t,e,n){const r=t.getProps();return PE(r,e,n!==void 0?n:r.custom,t)}const Ew=t=>Array.isArray(t);function SY(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Nl(n))}function EY(t){return Ew(t)?t[t.length-1]||0:t}function TY(t,e){const n=wl(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=EY(s[o]);SY(t,o,a)}}function bY(t){return!!(Jt(t)&&t.add)}function Tw(t,e){const n=t.getValue("willChange");if(bY(n))return n.add(e);if(!n&&Bi.WillChange){const r=new Bi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function $L(t){return t.props[PL]}const CY=t=>t!==null;function RY(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(CY),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const IY={type:"spring",stiffness:500,damping:25,restSpeed:10},xY=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),AY={type:"keyframes",duration:.8},PY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kY=(t,{keyframes:e})=>e.length>2?AY:ru.has(t)?t.startsWith("scale")?xY(e[1]):IY:PY;function OY({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const DE=(t,e,n,r={},i,s)=>o=>{const a=wE(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ri(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};OY(a)||Object.assign(h,kY(t,h)),h.duration&&(h.duration=ri(h.duration)),h.repeatDelay&&(h.repeatDelay=ri(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(gw(h),h.delay===0&&(d=!0)),(Bi.instantAnimations||Bi.skipAnimations)&&(d=!0,gw(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const f=RY(h.keyframes,a);if(f!==void 0){Ge.update(()=>{h.onUpdate(f),h.onComplete()});return}}return a.isSync?new vE(h):new JG(h)};function DY({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function UL(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const d=t.getValue(h,t.latestValues[h]??null),f=a[h];if(f===void 0||u&&DY(u,h))continue;const p={delay:n,...wE(s||{},h)},g=d.get();if(g!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===g&&!p.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const _=$L(t);if(_){const y=window.MotionHandoffAnimation(_,h,Ge);y!==null&&(p.startTime=y,S=!0)}}Tw(t,h),d.start(DE(h,d,f,t.shouldReduceMotion&&lL.has(h)?{type:!1}:p,t,S));const T=d.animation;T&&l.push(T)}return o&&Promise.all(l).then(()=>{Ge.update(()=>{o&&TY(t,o)})}),l}function zL(t,e,n,r=0,i=1){const s=Array.from(t).sort((u,h)=>u.sortNodePosition(h)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function bw(t,e,n={}){var l;const r=wl(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(UL(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=i;return MY(t,e,u,h,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,h]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function MY(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(bw(l,e,{...o,delay:n+(typeof r=="function"?0:r)+zL(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function LY(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>bw(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=bw(t,e,n);else{const i=typeof e=="function"?wl(t,e,n.custom):e;r=Promise.all(UL(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function WL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const NY=RE.length;function HL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?HL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<NY;n++){const r=RE[n],i=t.props[r];(ph(i)||i===!1)&&(e[r]=i)}return e}const VY=[...CE].reverse(),FY=CE.length;function BY(t){return e=>Promise.all(e.map(({animation:n,options:r})=>LY(t,n,r)))}function jY(t){let e=BY(t),n=nx(),r=!0;const i=l=>(u,h)=>{var f;const d=wl(t,h,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:p,transitionEnd:g,...S}=d;u={...u,...S,...g}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,h=HL(t.parent)||{},d=[],f=new Set;let p={},g=1/0;for(let T=0;T<FY;T++){const _=VY[T],y=n[_],E=u[_]!==void 0?u[_]:h[_],P=ph(E),M=_===l?y.isActive:null;M===!1&&(g=T);let D=E===h[_]&&E!==u[_]&&P;if(D&&r&&t.manuallyAnimateOnMount&&(D=!1),y.protectedKeys={...p},!y.isActive&&M===null||!E&&!y.prevProp||lg(E)||typeof E=="boolean")continue;const b=$Y(y.prevProp,E);let w=b||_===l&&y.isActive&&!D&&P||T>g&&P,R=!1;const I=Array.isArray(E)?E:[E];let A=I.reduce(i(_),{});M===!1&&(A={});const{prevResolvedValues:L={}}=y,k={...L,...A},le=be=>{w=!0,f.has(be)&&(R=!0,f.delete(be)),y.needsAnimating[be]=!0;const $=t.getValue(be);$&&($.liveStyle=!1)};for(const be in k){const $=A[be],Y=L[be];if(p.hasOwnProperty(be))continue;let ee=!1;Ew($)&&Ew(Y)?ee=!WL($,Y):ee=$!==Y,ee?$!=null?le(be):f.add(be):$!==void 0&&f.has(be)?le(be):y.protectedKeys[be]=!0}y.prevProp=E,y.prevResolvedValues=A,y.isActive&&(p={...p,...A}),r&&t.blockInitialAnimation&&(w=!1);const he=D&&b;w&&(!he||R)&&d.push(...I.map(be=>{const $={type:_};if(typeof be=="string"&&r&&!he&&t.manuallyAnimateOnMount&&t.parent){const{parent:Y}=t,ee=wl(Y,be);if(Y.enteringChildren&&ee){const{delayChildren:ye}=ee.transition||{};$.delay=zL(Y.enteringChildren,t,ye)}}return{animation:be,options:$}}))}if(f.size){const T={};if(typeof u.initial!="boolean"){const _=wl(t,Array.isArray(u.initial)?u.initial[0]:u.initial);_&&_.transition&&(T.transition=_.transition)}f.forEach(_=>{const y=t.getBaseTarget(_),E=t.getValue(_);E&&(E.liveStyle=!0),T[_]=y??null}),d.push({animation:T})}let S=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(d):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=nx()}}}function $Y(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!WL(e,t):!1}function To(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nx(){return{animate:To(!0),whileInView:To(),whileHover:To(),whileTap:To(),whileDrag:To(),whileFocus:To(),exit:To()}}class so{constructor(e){this.isMounted=!1,this.node=e}update(){}}class UY extends so{constructor(e){super(e),e.animationState||(e.animationState=jY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();lg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let zY=0;class WY extends so{constructor(){super(...arguments),this.id=zY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const HY={animation:{Feature:UY},exit:{Feature:WY}};function mh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function zh(t){return{point:{x:t.pageX,y:t.pageY}}}const qY=t=>e=>TE(e)&&t(e,zh(e));function xc(t,e,n,r){return mh(t,e,qY(n),r)}const qL=1e-4,KY=1-qL,GY=1+qL,KL=.01,XY=0-KL,YY=0+KL;function an(t){return t.max-t.min}function QY(t,e,n){return Math.abs(t-e)<=n}function rx(t,e,n,r=.5){t.origin=r,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=an(n)/an(e),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=KY&&t.scale<=GY||isNaN(t.scale))&&(t.scale=1),(t.translate>=XY&&t.translate<=YY||isNaN(t.translate))&&(t.translate=0)}function Ac(t,e,n,r){rx(t.x,e.x,n.x,r?r.originX:void 0),rx(t.y,e.y,n.y,r?r.originY:void 0)}function ix(t,e,n){t.min=n.min+e.min,t.max=t.min+an(e)}function JY(t,e,n){ix(t.x,e.x,n.x),ix(t.y,e.y,n.y)}function sx(t,e,n){t.min=e.min-n.min,t.max=t.min+an(e)}function im(t,e,n){sx(t.x,e.x,n.x),sx(t.y,e.y,n.y)}function zn(t){return[t("x"),t("y")]}const GL=({current:t})=>t?t.ownerDocument.defaultView:null,ox=(t,e)=>Math.abs(t-e);function ZY(t,e){const n=ox(t.x,e.x),r=ox(t.y,e.y);return Math.sqrt(n**2+r**2)}class XL{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=qy(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=ZY(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:S}=f,{timestamp:T}=Nt;this.history.push({...S,timestamp:T});const{onStart:_,onMove:y}=this.handlers;p||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Hy(p,this.transformPagePoint),Ge.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:S,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=qy(f.type==="pointercancel"?this.lastMoveEventInfo:Hy(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,_),S&&S(f,_)},!TE(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=zh(e),l=Hy(a,this.transformPagePoint),{point:u}=l,{timestamp:h}=Nt;this.history=[{...u,timestamp:h}];const{onSessionStart:d}=n;d&&d(e,qy(l,this.history)),this.removeListeners=jh(xc(this.contextWindow,"pointermove",this.handlePointerMove),xc(this.contextWindow,"pointerup",this.handlePointerUp),xc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ys(this.updatePoint)}}function Hy(t,e){return e?{point:e(t.point)}:t}function ax(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qy({point:t},e){return{point:t,delta:ax(t,YL(e)),offset:ax(t,eQ(e)),velocity:tQ(e,.1)}}function eQ(t){return t[0]}function YL(t){return t[t.length-1]}function tQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=YL(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ri(e)));)n--;if(!r)return{x:0,y:0};const s=Yn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function nQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qe(n,t,r.max):Math.min(t,n)),t}function lx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function rQ(t,{top:e,left:n,bottom:r,right:i}){return{x:lx(t.x,n,i),y:lx(t.y,e,r)}}function ux(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function iQ(t,e){return{x:ux(t.x,e.x),y:ux(t.y,e.y)}}function sQ(t,e){let n=.5;const r=an(t),i=an(e);return i>r?n=hh(e.min,e.max-r,t.min):r>i&&(n=hh(t.min,t.max-i,e.min)),Fi(0,1,n)}function oQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Cw=.35;function aQ(t=Cw){return t===!1?t=0:t===!0&&(t=Cw),{x:cx(t,"left","right"),y:cx(t,"top","bottom")}}function cx(t,e,n){return{min:hx(t,e),max:hx(t,n)}}function hx(t,e){return typeof t=="number"?t:t[e]||0}const lQ=new WeakMap;class uQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zh(d).point)},o=(d,f)=>{const{drag:p,dragPropagation:g,onDragStart:S}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pX(p),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(_=>{let y=this.getAxisMotionValue(_).get()||0;if(ii.test(y)){const{projection:E}=this.visualElement;if(E&&E.layout){const P=E.layout.layoutBox[_];P&&(y=an(P)*(parseFloat(y)/100))}}this.originPoint[_]=y}),S&&Ge.postRender(()=>S(d,f)),Tw(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:S,onDrag:T}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:_}=f;if(g&&this.currentDirection===null){this.currentDirection=cQ(_),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),T&&T(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>zn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new XL(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:GL(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ge.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Qd(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=nQ(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&nl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=rQ(r.layoutBox,e):this.constraints=!1,this.elastic=aQ(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&zn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=oQ(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!nl(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=hY(r,i.root,this.visualElement.getTransformPagePoint());let o=iQ(i.layout.layoutBox,s);if(n){const a=n(lY(o));this.hasMutatedConstraints=!!a,a&&(o=DL(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=zn(h=>{if(!Qd(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Tw(this.visualElement,e),r.start(DE(e,r,0,n,this.visualElement,!1))}stopAnimation(){zn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){zn(n=>{const{drag:r}=this.getProps();if(!Qd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Qe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!nl(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};zn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=sQ({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zn(o=>{if(!Qd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Qe(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;lQ.set(this.visualElement,this);const e=this.visualElement.current,n=xc(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();nl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ge.read(r);const o=mh(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(zn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Cw,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Qd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function cQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class hQ extends so{constructor(e){super(e),this.removeGroupControls=tr,this.removeListeners=tr,this.controls=new uQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tr}unmount(){this.removeGroupControls(),this.removeListeners()}}const dx=t=>(e,n)=>{t&&Ge.postRender(()=>t(e,n))};class dQ extends so{constructor(){super(...arguments),this.removePointerDownListener=tr}onPointerDown(e){this.session=new XL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:dx(e),onStart:dx(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ge.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=xc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Ky=!1;class fQ extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Ky&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,Ky=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ge.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),EE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Ky=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QL(t){const[e,n]=_L(),r=C.useContext(tE);return O.jsx(fQ,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(kL),isPresent:e,safeToRemove:n})}function pQ(t,e,n){const r=Jt(t)?t:Nl(t);return r.start(DE("",r,e,n)),r.animation}const mQ=(t,e)=>t.depth-e.depth;class gQ{constructor(){this.children=[],this.isDirty=!1}add(e){iE(this.children,e),this.isDirty=!0}remove(e){sE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mQ),this.isDirty=!1,this.children.forEach(e)}}function yQ(t,e){const n=vn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ys(r),t(s-e))};return Ge.setup(r,!0),()=>Ys(r)}const JL=["TopLeft","TopRight","BottomLeft","BottomRight"],vQ=JL.length,fx=t=>typeof t=="string"?parseFloat(t):t,px=t=>typeof t=="number"||oe.test(t);function _Q(t,e,n,r,i,s){i?(t.opacity=Qe(0,n.opacity??1,wQ(r)),t.opacityExit=Qe(e.opacity??1,0,SQ(r))):s&&(t.opacity=Qe(e.opacity??1,n.opacity??1,r));for(let o=0;o<vQ;o++){const a=`border${JL[o]}Radius`;let l=mx(e,a),u=mx(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||px(l)===px(u)?(t[a]=Math.max(Qe(fx(l),fx(u),r),0),(ii.test(u)||ii.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,r))}function mx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const wQ=ZL(0,.5,FM),SQ=ZL(.5,.95,tr);function ZL(t,e,n){return r=>r<t?0:r>e?1:n(hh(t,e,r))}function gx(t,e){t.min=e.min,t.max=e.max}function fr(t,e){gx(t.x,e.x),gx(t.y,e.y)}function yx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function vx(t,e,n,r,i){return t-=e,t=rm(t,1/n,r),i!==void 0&&(t=rm(t,1/i,r)),t}function EQ(t,e=0,n=1,r=.5,i,s=t,o=t){if(ii.test(e)&&(e=parseFloat(e),e=Qe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Qe(s.min,s.max,r);t===s&&(a-=e),t.min=vx(t.min,e,n,a,i),t.max=vx(t.max,e,n,a,i)}function _x(t,e,[n,r,i],s,o){EQ(t,e[n],e[r],e[i],e.scale,s,o)}const TQ=["x","scaleX","originX"],bQ=["y","scaleY","originY"];function wx(t,e,n,r){_x(t.x,e,TQ,n?n.x:void 0,r?r.x:void 0),_x(t.y,e,bQ,n?n.y:void 0,r?r.y:void 0)}function Sx(t){return t.translate===0&&t.scale===1}function eN(t){return Sx(t.x)&&Sx(t.y)}function Ex(t,e){return t.min===e.min&&t.max===e.max}function CQ(t,e){return Ex(t.x,e.x)&&Ex(t.y,e.y)}function Tx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function tN(t,e){return Tx(t.x,e.x)&&Tx(t.y,e.y)}function bx(t){return an(t.x)/an(t.y)}function Cx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class RQ{constructor(){this.members=[]}add(e){iE(this.members,e),e.scheduleRender()}remove(e){if(sE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function IQ(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:f,skewX:p,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Gy=["","X","Y","Z"],xQ=1e3;let AQ=0;function Xy(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function nN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=$L(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ge,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&nN(r)}function rN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=AQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(OQ),this.nodes.forEach(NQ),this.nodes.forEach(VQ),this.nodes.forEach(DQ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new gQ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new lE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=vL(o)&&!wX(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let h,d=0;const f=()=>this.root.updateBlockedByResize=!1;Ge.read(()=>{d=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==d&&(d=p,this.root.updateBlockedByResize=!0,h&&h(),h=yQ(f,250),Bf.hasAnimatedSinceResize&&(Bf.hasAnimatedSinceResize=!1,this.nodes.forEach(xx)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||UQ,{onLayoutAnimationStart:S,onLayoutAnimationComplete:T}=u.getProps(),_=!this.targetLayout||!tN(this.targetLayout,p),y=!d&&f;if(this.options.layoutRoot||this.resumeFrom||y||d&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...wE(g,"layout"),onPlay:S,onComplete:T};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(h,y)}else d||xx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FQ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ix);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(LQ),this.nodes.forEach(PQ),this.nodes.forEach(kQ)):this.nodes.forEach(Ix),this.clearAllSnapshots();const a=vn.now();Nt.delta=Fi(0,1e3/60,a-Nt.timestamp),Nt.timestamp=a,Nt.isProcessing=!0,Vy.update.process(Nt),Vy.preRender.process(Nt),Vy.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,EE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(MQ),this.sharedNodes.forEach(BQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!an(this.snapshot.measuredBox.x)&&!an(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!eN(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Io(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),zQ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return wt();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(WQ))){const{scroll:h}=this.root;h&&(rl(a.x,h.offset.x),rl(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=wt();if(fr(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&fr(a,o),rl(a.x,d.offset.x),rl(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=wt();fr(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&il(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Io(h.latestValues)&&il(l,h.latestValues)}return Io(this.latestValues)&&il(l,this.latestValues),l}removeTransform(o){const a=wt();fr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Io(u.latestValues))continue;_w(u.latestValues)&&u.updateSnapshot();const h=wt(),d=u.measurePageBox();fr(h,d),wx(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Io(this.latestValues)&&wx(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!this.layout||!(h||d))return;this.resolvedRelativeTargetAt=Nt.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fr(this.target,this.layout.layoutBox),LL(this.target,this.targetDelta)):fr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||_w(this.parent.latestValues)||ML(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),im(this.relativeTargetOrigin,a,l),fr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var g;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;fr(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;cY(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=wt());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yx(this.prevProjectionDelta.x,this.projectionDelta.x),yx(this.prevProjectionDelta.y,this.projectionDelta.y)),Ac(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!Cx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sl(),this.projectionDelta=sl(),this.projectionDeltaWithTransform=sl()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},d=sl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=wt(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,S=p!==g,T=this.getStack(),_=!T||T.members.length<=1,y=!!(S&&!_&&this.options.crossfade===!0&&!this.path.some($Q));this.animationProgress=0;let E;this.mixTargetDelta=P=>{const M=P/1e3;Ax(d.x,o.x,M),Ax(d.y,o.y,M),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(im(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jQ(this.relativeTarget,this.relativeTargetOrigin,f,M),E&&CQ(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=wt()),fr(E,this.relativeTarget)),S&&(this.animationValues=h,_Q(h,u,this.latestValues,M,y,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ge.update(()=>{Bf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Nl(0)),this.currentAnimation=pQ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&iN(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||wt();const d=an(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=an(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}fr(a,l),il(a,h),Ac(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new RQ),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Xy("z",o,u,this.animationValues);for(let h=0;h<Gy.length;h++)Xy(`rotate${Gy[h]}`,o,u,this.animationValues),Xy(`skew${Gy[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ff(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ff(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Io(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=IQ(this.projectionDeltaWithTransform,this.treeScale,h);l&&(d=l(h,d)),o.transform=d;const{x:f,y:p}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in vw){if(h[g]===void 0)continue;const{correct:S,applyTo:T,isCSSVariable:_}=vw[g],y=d==="none"?h[g]:S(h[g],u);if(T){const E=T.length;for(let P=0;P<E;P++)o[T[P]]=y}else _?this.options.visualElement.renderState.vars[g]=y:o[g]=y}this.options.layoutId&&(o.pointerEvents=u===this?Ff(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Rx),this.root.sharedNodes.clear()}}}function PQ(t){t.updateLayout()}function kQ(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?zn(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],p=an(f);f.min=r[d].min,f.max=f.min+p}):iN(s,e.layoutBox,r)&&zn(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],p=an(r[d]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=sl();Ac(a,r,e.layoutBox);const l=sl();o?Ac(l,t.applyTransform(i,!0),e.measuredBox):Ac(l,r,e.layoutBox);const u=!eN(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const g=wt();im(g,e.layoutBox,f.layoutBox);const S=wt();im(S,r,p.layoutBox),tN(g,S)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function OQ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function DQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function MQ(t){t.clearSnapshot()}function Rx(t){t.clearMeasurements()}function Ix(t){t.isLayoutDirty=!1}function LQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function xx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function NQ(t){t.resolveTargetDelta()}function VQ(t){t.calcProjection()}function FQ(t){t.resetSkewAndRotation()}function BQ(t){t.removeLeadSnapshot()}function Ax(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Px(t,e,n,r){t.min=Qe(e.min,n.min,r),t.max=Qe(e.max,n.max,r)}function jQ(t,e,n,r){Px(t.x,e.x,n.x,r),Px(t.y,e.y,n.y,r)}function $Q(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const UQ={duration:.45,ease:[.4,0,.1,1]},kx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ox=kx("applewebkit/")&&!kx("chrome/")?Math.round:tr;function Dx(t){t.min=Ox(t.min),t.max=Ox(t.max)}function zQ(t){Dx(t.x),Dx(t.y)}function iN(t,e,n){return t==="position"||t==="preserve-aspect"&&!QY(bx(e),bx(n),.2)}function WQ(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const HQ=rN({attachResizeListener:(t,e)=>mh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yy={current:void 0},sN=rN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yy.current){const t=new HQ({});t.mount(window),t.setOptions({layoutScroll:!0}),Yy.current=t}return Yy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qQ={pan:{Feature:dQ},drag:{Feature:hQ,ProjectionNode:sN,MeasureLayout:QL}};function Mx(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Ge.postRender(()=>s(e,zh(e)))}class KQ extends so{mount(){const{current:e}=this.node;e&&(this.unmount=mX(e,(n,r)=>(Mx(this.node,r,"Start"),i=>Mx(this.node,i,"End"))))}unmount(){}}class GQ extends so{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jh(mh(this.node.current,"focus",()=>this.onFocus()),mh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Lx(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Ge.postRender(()=>s(e,zh(e)))}class XQ extends so{mount(){const{current:e}=this.node;e&&(this.unmount=_X(e,(n,r)=>(Lx(this.node,r,"Start"),(i,{success:s})=>Lx(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Rw=new WeakMap,Qy=new WeakMap,YQ=t=>{const e=Rw.get(t.target);e&&e(t)},QQ=t=>{t.forEach(YQ)};function JQ({root:t,...e}){const n=t||document;Qy.has(n)||Qy.set(n,{});const r=Qy.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(QQ,{root:t,...e})),r[i]}function ZQ(t,e,n){const r=JQ(e);return Rw.set(t,n),r.observe(t),()=>{Rw.delete(t),r.unobserve(t)}}const eJ={some:0,all:1};class tJ extends so{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:eJ[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=u?h:d;f&&f(l)};return ZQ(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(nJ(e,n))&&this.startObserver()}unmount(){}}function nJ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const rJ={inView:{Feature:tJ},tap:{Feature:XQ},focus:{Feature:GQ},hover:{Feature:KQ}},iJ={layout:{ProjectionNode:sN,MeasureLayout:QL}},sJ={...HY,...rJ,...qQ,...iJ},oJ=aY(sJ,wY),aJ=""+new URL("banner-CuJgjCV8.png",import.meta.url).href,Hr={colors:{background:"#fff9ec",highlight:"#ff8e52",text:"#00202b",secondaryText:"#666666",border:"#eee"}};function lJ(){return O.jsxs(X,{style:Nx.container,children:[O.jsx(H,{style:Nx.title,children:"Pocket Stylist"}),O.jsx(H,{children:"Welcome to your personal style assistant."})]})}const Nx=Ae.create({container:{flex:1,padding:20,alignItems:"center",justifyContent:"center"},title:{fontSize:24,fontWeight:"bold",marginBottom:10}}),uJ=async(t,e)=>{const n=Jl(io,"users",t);await $D(n,e,{merge:!0})},cJ=async t=>{const e=Jl(io,"users",t),n=OH(e);return(await n).exists()?(await n).data():null},hJ=async(t,e)=>{const n=FS(io,"users",t,"closet"),r=await LH(n,e);return{...e,id:r.id}},dJ=async t=>{const e=FS(io,"users",t,"closet"),n=ND(e);return(await jD(n)).docs.map(i=>({id:i.id,...i.data()}))},Vx=async(t,e,n)=>{const r=Jl(io,"users",t,"closet",e);await DH(r,n)},fJ=async(t,e)=>{const n=Jl(io,"users",t,"closet",e);await MH(n)},pJ=async(t,e,n)=>{const r=Jl(io,"users",t,"schedule",e);await $D(r,{date:e,...n},{merge:!0})},mJ=async t=>{const e=FS(io,"users",t,"schedule"),n=ND(e),r=await jD(n),i={};return r.forEach(s=>{i[s.id]=s.data()}),i},oN=C.createContext();function cg(){return C.useContext(oN)}function gJ({children:t}){const{currentUser:e}=bM(),[n,r]=C.useState([]),[i,s]=C.useState({}),[o,a]=C.useState(!0);C.useEffect(()=>{e?(async()=>{try{const T=await dJ(e.uid);r(T);const _=await mJ(e.uid);s(_)}catch(T){console.error("Error fetching data:",T)}finally{a(!1)}})():(r([]),s({}),a(!1))},[e]);const g={items:n,schedule:i,loading:o,addItem:async S=>{if(!e)throw new Error("User not authenticated");try{const T=await hJ(e.uid,{...S,rating:3,wearCount:0,createdAt:new Date().toISOString()});return r(_=>[..._,T]),T}catch(T){throw console.error("Error adding item:",T),T}},updateItem:async(S,T)=>{if(e)try{await Vx(e.uid,S,T),r(_=>_.map(y=>y.id===S?{...y,...T}:y))}catch(_){console.error("Error updating item:",_)}},deleteItem:async S=>{if(e)try{await fJ(e.uid,S),r(T=>T.filter(_=>_.id!==S))}catch(T){console.error("Error deleting item:",T)}},addToSchedule:async(S,T)=>{if(e)try{await pJ(e.uid,S,T),s(_=>({..._,[S]:T}))}catch(_){console.error("Error saving schedule:",_)}},markAsWorn:async(S,T=new Date)=>{if(!e)return;const _=new Date(T).toISOString();r(y=>y.map(E=>S.includes(E.id)?{...E,lastWorn:_,wearCount:(E.wearCount||0)+1}:E));for(const y of S){const E=n.find(P=>P.id===y);E&&await Vx(e.uid,y,{lastWorn:_,wearCount:(E.wearCount||0)+1})}},isItemAvailable:S=>{if(!S.lastWorn)return!0;const T=new Date(S.lastWorn),_=new Date(T);return _.setDate(T.getDate()+(S.refreshCycle||1)),new Date>=_}};return O.jsx(oN.Provider,{value:g,children:t})}const aN=2,yJ=Tp.get("window").width,vJ=(yJ-40)/aN;function _J(){const{items:t,isItemAvailable:e,deleteItem:n,updateItem:r}=cg(),i=Wl(),[s,o]=C.useState(!1),[a,l]=C.useState(!1),[u,h]=C.useState(null),d=C.useRef(null),f=C.useRef(null),p=y=>{const E=y.target.files[0];if(E){o(!1);const P=new FileReader;P.onloadend=()=>{i("/camera",{state:{image:P.result}})},P.readAsDataURL(E)}},g=y=>{h(y),l(!0)},S=async()=>{confirm("Are you sure you want to delete this item?")&&(await n(u.id),l(!1))},T=async y=>{await r(u.id,{rating:y}),h(E=>({...E,rating:y}))},_=({item:y})=>{const E=e(y);return O.jsx(Ce,{onPress:()=>g(y),children:O.jsxs(X,{style:[fe.itemContainer,!E&&fe.unavailableItem],children:[O.jsx(Cr,{source:{uri:y.imageUri||y.image},style:fe.image,resizeMode:"cover"}),O.jsxs(X,{style:fe.infoContainer,children:[O.jsx(H,{style:fe.itemType,children:y.type}),!E&&O.jsx(H,{style:fe.unavailableText,children:"In Wash"})]})]})})};return O.jsxs(X,{style:fe.container,children:[O.jsxs(X,{style:fe.header,children:[O.jsx(H,{style:fe.title,children:"Virtual Closet"}),O.jsx(Ce,{style:fe.addButton,onPress:()=>o(!0),children:O.jsx(H,{style:fe.addButtonText,children:"+ Add"})}),O.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:d,style:{display:"none"},onChange:p}),O.jsx("input",{type:"file",accept:"image/*",ref:f,style:{display:"none"},onChange:p})]}),O.jsx(T3,{data:t,renderItem:_,keyExtractor:y=>y.id,numColumns:aN,contentContainerStyle:fe.listContent,ListEmptyComponent:O.jsx(H,{style:fe.emptyText,children:"No items in closet. Add some!"})}),O.jsx(eh,{animationType:"fade",transparent:!0,visible:s,onRequestClose:()=>o(!1),children:O.jsxs(X,{style:fe.modalOverlay,children:[O.jsx(Ce,{style:fe.modalBackdrop,onPress:()=>o(!1)}),O.jsxs(X,{style:fe.modalContent,children:[O.jsx(H,{style:fe.modalTitle,children:"Add New Item"}),O.jsx(Ce,{style:fe.modalButton,onPress:()=>{o(!1),d.current.click()},children:O.jsx(H,{style:fe.modalButtonText,children:"Take Photo"})}),O.jsx(Ce,{style:fe.modalButton,onPress:()=>{o(!1),f.current.click()},children:O.jsx(H,{style:fe.modalButtonText,children:"Choose from Library"})}),O.jsx(Ce,{style:[fe.modalButton,fe.cancelButton],onPress:()=>o(!1),children:O.jsx(H,{style:fe.cancelButtonText,children:"Cancel"})})]})]})}),O.jsx(eh,{animationType:"slide",visible:a,onRequestClose:()=>l(!1),children:O.jsx(X,{style:fe.detailContainer,children:u&&O.jsxs(wr,{children:[O.jsx(Cr,{source:{uri:u.imageUri},style:fe.detailImage,resizeMode:"contain"}),O.jsxs(X,{style:fe.detailInfo,children:[O.jsx(H,{style:fe.detailTitle,children:u.type}),O.jsxs(H,{style:fe.detailText,children:["Color: ",u.color]}),O.jsxs(H,{style:fe.detailText,children:["Style: ",u.style]}),O.jsxs(H,{style:fe.detailText,children:["Worn: ",u.wearCount||0," times"]}),O.jsx(H,{style:fe.sectionTitle,children:"Rating"}),O.jsx(X,{style:fe.ratingContainer,children:[1,2,3,4,5].map(y=>O.jsx(Ce,{onPress:()=>T(y),children:O.jsx(H,{style:[fe.star,(u.rating||0)>=y?fe.starFilled:fe.starEmpty],children:""})},y))}),O.jsx(Ce,{style:fe.deleteButton,onPress:S,children:O.jsx(H,{style:fe.deleteButtonText,children:"Delete Item"})}),O.jsx(Ce,{style:fe.closeDetailButton,onPress:()=>l(!1),children:O.jsx(H,{style:fe.closeDetailButtonText,children:"Close"})})]})]})})})]})}const fe=Ae.create({container:{flex:1,padding:10,backgroundColor:"#fff"},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingHorizontal:10},title:{fontSize:24,fontWeight:"bold"},addButton:{backgroundColor:"#007AFF",paddingVertical:8,paddingHorizontal:15,borderRadius:20},addButtonText:{color:"#fff",fontWeight:"bold"},listContent:{paddingBottom:20},itemContainer:{width:vJ,margin:5,backgroundColor:"#f9f9f9",borderRadius:10,overflow:"hidden",elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:1.41},unavailableItem:{opacity:.5,backgroundColor:"#eee"},image:{width:"100%",height:150},infoContainer:{padding:10},itemType:{textTransform:"capitalize",fontWeight:"bold"},unavailableText:{color:"red",fontSize:12,marginTop:5},modalOverlay:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},modalBackdrop:{...Ae.absoluteFillObject},modalContent:{width:"80%",maxWidth:300,backgroundColor:"white",borderRadius:20,padding:20,alignItems:"center",elevation:5},modalTitle:{fontSize:18,fontWeight:"bold",marginBottom:20},modalButton:{width:"100%",padding:15,backgroundColor:"#f0f0f0",borderRadius:10,marginBottom:10,alignItems:"center"},modalButtonText:{fontSize:16,color:"#007AFF"},cancelButton:{backgroundColor:"transparent",marginTop:5},cancelButtonText:{fontSize:16,color:"#FF3B30",fontWeight:"bold"},detailContainer:{flex:1,backgroundColor:"#fff"},detailImage:{width:"100%",height:400,backgroundColor:"#f0f0f0"},detailInfo:{padding:20},detailTitle:{fontSize:28,fontWeight:"bold",marginBottom:10,textTransform:"capitalize"},detailText:{fontSize:16,marginBottom:5,color:"#333"},sectionTitle:{fontSize:18,fontWeight:"bold",marginTop:20,marginBottom:10},ratingContainer:{flexDirection:"row",marginBottom:20},star:{fontSize:30,marginRight:5},starFilled:{color:"#FFD700"},starEmpty:{color:"#ddd"},deleteButton:{backgroundColor:"#FF3B30",padding:15,borderRadius:10,alignItems:"center",marginTop:20},deleteButtonText:{color:"#fff",fontWeight:"bold",fontSize:16},closeDetailButton:{padding:15,alignItems:"center",marginTop:10},closeDetailButtonText:{color:"#007AFF",fontSize:16},emptyText:{textAlign:"center",marginTop:50,fontSize:18,color:"#999"}});function ae(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function V(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}let lN=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return lN=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function Iw(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const xw=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class ne extends Error{}class Wt extends ne{constructor(e,n,r,i){super(`${Wt.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.requestID=i==null?void 0:i.get("x-request-id"),this.error=n;const s=n;this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new hg({message:r,cause:xw(n)});const s=n==null?void 0:n.error;return e===400?new uN(e,s,r,i):e===401?new cN(e,s,r,i):e===403?new hN(e,s,r,i):e===404?new dN(e,s,r,i):e===409?new fN(e,s,r,i):e===422?new pN(e,s,r,i):e===429?new mN(e,s,r,i):e>=500?new gN(e,s,r,i):new Wt(e,s,r,i)}}class Qn extends Wt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class hg extends Wt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class ME extends hg{constructor({message:e}={}){super({message:e??"Request timed out."})}}class uN extends Wt{}class cN extends Wt{}class hN extends Wt{}class dN extends Wt{}class fN extends Wt{}class pN extends Wt{}class mN extends Wt{}class gN extends Wt{}class yN extends ne{constructor(){super("Could not parse response content as the length limit was reached")}}class vN extends ne{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Ju extends Error{constructor(e){super(e)}}const wJ=/^[a-z][a-z0-9+.-]*:/i,SJ=t=>wJ.test(t);let pn=t=>(pn=Array.isArray,pn(t)),Fx=pn;function _N(t){return typeof t!="object"?{}:t??{}}function EJ(t){if(!t)return!0;for(const e in t)return!1;return!0}function TJ(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jy(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const bJ=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ne(`${t} must be an integer`);if(e<0)throw new ne(`${t} must be a positive integer`);return e},CJ=t=>{try{return JSON.parse(t)}catch{return}},Wh=t=>new Promise(e=>setTimeout(e,t)),Fa="6.10.0",RJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function IJ(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const xJ=()=>{var n;const t=IJ();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fa,"X-Stainless-OS":jx(Deno.build.os),"X-Stainless-Arch":Bx(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fa,"X-Stainless-OS":jx(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Bx(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=AJ();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function AJ(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const Bx=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",jx=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let $x;const PJ=()=>$x??($x=xJ());function kJ(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function wN(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function SN(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return wN({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)==null?void 0:n.call(e))}})}function EN(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function OJ(t){var r,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(r=t[Symbol.asyncIterator]()).return)==null?void 0:i.call(r));return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const DJ=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),TN="RFC3986",bN=t=>String(t),Ux={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:bN},MJ="RFC1738";let Aw=(t,e)=>(Aw=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Aw(t,e));const Fr=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Zy=1024,LJ=(t,e,n,r,i)=>{if(t.length===0)return t;let s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let o="";for(let a=0;a<s.length;a+=Zy){const l=s.length>=Zy?s.slice(a,a+Zy):s,u=[];for(let h=0;h<l.length;++h){let d=l.charCodeAt(h);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||i===MJ&&(d===40||d===41)){u[u.length]=l.charAt(h);continue}if(d<128){u[u.length]=Fr[d];continue}if(d<2048){u[u.length]=Fr[192|d>>6]+Fr[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=Fr[224|d>>12]+Fr[128|d>>6&63]+Fr[128|d&63];continue}h+=1,d=65536+((d&1023)<<10|l.charCodeAt(h)&1023),u[u.length]=Fr[240|d>>18]+Fr[128|d>>12&63]+Fr[128|d>>6&63]+Fr[128|d&63]}o+=u.join("")}return o};function NJ(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function zx(t,e){if(pn(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const CN={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},RN=function(t,e){Array.prototype.push.apply(t,pn(e)?e:[e])};let Wx;const _t={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:LJ,encodeValuesOnly:!1,format:TN,formatter:bN,indices:!1,serializeDate(t){return(Wx??(Wx=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function VJ(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const ev={};function IN(t,e,n,r,i,s,o,a,l,u,h,d,f,p,g,S,T,_){let y=t,E=_,P=0,M=!1;for(;(E=E.get(ev))!==void 0&&!M;){const I=E.get(t);if(P+=1,typeof I<"u"){if(I===P)throw new RangeError("Cyclic object value");M=!0}typeof E.get(ev)>"u"&&(P=0)}if(typeof u=="function"?y=u(e,y):y instanceof Date?y=f==null?void 0:f(y):n==="comma"&&pn(y)&&(y=zx(y,function(I){return I instanceof Date?f==null?void 0:f(I):I})),y===null){if(s)return l&&!S?l(e,_t.encoder,T,"key",p):e;y=""}if(VJ(y)||NJ(y)){if(l){const I=S?e:l(e,_t.encoder,T,"key",p);return[(g==null?void 0:g(I))+"="+(g==null?void 0:g(l(y,_t.encoder,T,"value",p)))]}return[(g==null?void 0:g(e))+"="+(g==null?void 0:g(String(y)))]}const D=[];if(typeof y>"u")return D;let b;if(n==="comma"&&pn(y))S&&l&&(y=zx(y,l)),b=[{value:y.length>0?y.join(",")||null:void 0}];else if(pn(u))b=u;else{const I=Object.keys(y);b=h?I.sort(h):I}const w=a?String(e).replace(/\./g,"%2E"):String(e),R=r&&pn(y)&&y.length===1?w+"[]":w;if(i&&pn(y)&&y.length===0)return R+"[]";for(let I=0;I<b.length;++I){const A=b[I],L=typeof A=="object"&&typeof A.value<"u"?A.value:y[A];if(o&&L===null)continue;const k=d&&a?A.replace(/\./g,"%2E"):A,le=pn(y)?typeof n=="function"?n(R,k):R:R+(d?"."+k:"["+k+"]");_.set(t,P);const he=new WeakMap;he.set(ev,_),RN(D,IN(L,le,n,r,i,s,o,a,n==="comma"&&S&&pn(y)?null:l,u,h,d,f,p,g,S,T,he))}return D}function FJ(t=_t){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||_t.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=TN;if(typeof t.format<"u"){if(!Aw(Ux,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=Ux[n];let i=_t.filter;(typeof t.filter=="function"||pn(t.filter))&&(i=t.filter);let s;if(t.arrayFormat&&t.arrayFormat in CN?s=t.arrayFormat:"indices"in t?s=t.indices?"indices":"repeat":s=_t.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:_t.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:_t.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:_t.allowEmptyArrays,arrayFormat:s,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:_t.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?_t.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:_t.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:_t.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:_t.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:_t.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:_t.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:_t.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:_t.strictNullHandling}}function BJ(t,e={}){let n=t;const r=FJ(e);let i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):pn(r.filter)&&(s=r.filter,i=s);const o=[];if(typeof n!="object"||n===null)return"";const a=CN[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const u=new WeakMap;for(let f=0;f<i.length;++f){const p=i[f];r.skipNulls&&n[p]===null||RN(o,IN(n[p],p,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const h=o.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),h.length>0?d+h:""}function jJ(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Hx;function LE(t){let e;return(Hx??(e=new globalThis.TextEncoder,Hx=e.encode.bind(e)))(t)}let qx;function Kx(t){let e;return(qx??(e=new globalThis.TextDecoder,qx=e.decode.bind(e)))(t)}var xn,An;class dg{constructor(){xn.set(this,void 0),An.set(this,void 0),ae(this,xn,new Uint8Array),ae(this,An,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?LE(e):e;ae(this,xn,jJ([V(this,xn,"f"),n]));const r=[];let i;for(;(i=$J(V(this,xn,"f"),V(this,An,"f")))!=null;){if(i.carriage&&V(this,An,"f")==null){ae(this,An,i.index);continue}if(V(this,An,"f")!=null&&(i.index!==V(this,An,"f")+1||i.carriage)){r.push(Kx(V(this,xn,"f").subarray(0,V(this,An,"f")-1))),ae(this,xn,V(this,xn,"f").subarray(V(this,An,"f"))),ae(this,An,null);continue}const s=V(this,An,"f")!==null?i.preceding-1:i.preceding,o=Kx(V(this,xn,"f").subarray(0,s));r.push(o),ae(this,xn,V(this,xn,"f").subarray(i.index)),ae(this,An,null)}return r}flush(){return V(this,xn,"f").length?this.decode(`
`):[]}}xn=new WeakMap,An=new WeakMap;dg.NEWLINE_CHARS=new Set([`
`,"\r"]);dg.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function $J(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function UJ(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const sm={off:0,error:200,warn:300,info:400,debug:500},Gx=(t,e,n)=>{if(t){if(TJ(sm,t))return t;Vt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(sm))}`)}};function Zu(){}function Jd(t,e,n){return!e||sm[t]>sm[n]?Zu:e[t].bind(e)}const zJ={error:Zu,warn:Zu,info:Zu,debug:Zu};let Xx=new WeakMap;function Vt(t){const e=t.logger,n=t.logLevel??"off";if(!e)return zJ;const r=Xx.get(e);if(r&&r[0]===n)return r[1];const i={error:Jd("error",e,n),warn:Jd("warn",e,n),info:Jd("info",e,n),debug:Jd("debug",e,n)};return Xx.set(e,[n,i]),i}const xo=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Fu;class Gr{constructor(e,n,r){this.iterator=e,Fu.set(this,void 0),this.controller=n,ae(this,Fu,r)}static fromSSEResponse(e,n,r){let i=!1;const s=r?Vt(r):console;async function*o(){if(i)throw new ne("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(const l of WJ(e,n))if(!a){if(l.data.startsWith("[DONE]")){a=!0;continue}if(l.event===null||!l.event.startsWith("thread.")){let u;try{u=JSON.parse(l.data)}catch(h){throw s.error("Could not parse message into JSON:",l.data),s.error("From chunk:",l.raw),h}if(u&&u.error)throw new Wt(void 0,u.error,void 0,e.headers);yield u}else{let u;try{u=JSON.parse(l.data)}catch(h){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),h}if(l.event=="error")throw new Wt(void 0,u.error,u.message,void 0);yield{event:l.event,data:u}}}a=!0}catch(l){if(Iw(l))return;throw l}finally{a||n.abort()}}return new Gr(o,n,r)}static fromReadableStream(e,n,r){let i=!1;async function*s(){const a=new dg,l=EN(e);for await(const u of l)for(const h of a.decode(u))yield h;for(const u of a.flush())yield u}async function*o(){if(i)throw new ne("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(const l of s())a||l&&(yield JSON.parse(l));a=!0}catch(l){if(Iw(l))return;throw l}finally{a||n.abort()}}return new Gr(o,n,r)}[(Fu=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new Gr(()=>i(e),this.controller,V(this,Fu,"f")),new Gr(()=>i(n),this.controller,V(this,Fu,"f"))]}toReadableStream(){const e=this;let n;return wN({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const o=LE(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*WJ(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ne("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ne("Attempted to iterate over a response with no body");const n=new qJ,r=new dg,i=EN(t.body);for await(const s of HJ(i))for(const o of r.decode(s)){const a=n.decode(o);a&&(yield a)}for(const s of r.flush()){const o=n.decode(s);o&&(yield o)}}async function*HJ(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?LE(n):n;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let s;for(;(s=UJ(e))!==-1;)yield e.slice(0,s),e=e.slice(s)}e.length>0&&(yield e)}class qJ{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=KJ(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function KJ(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function xN(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,o=await(async()=>{var d;if(e.options.stream)return Vt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Gr.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const a=n.headers.get("content-type"),l=(d=a==null?void 0:a.split(";")[0])==null?void 0:d.trim();if((l==null?void 0:l.includes("application/json"))||(l==null?void 0:l.endsWith("+json"))){const f=await n.json();return AN(f,n)}return await n.text()})();return Vt(t).debug(`[${r}] response parsed`,xo({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}function AN(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var ec;class fg extends Promise{constructor(e,n,r=xN){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,ec.set(this,void 0),ae(this,ec,e)}_thenUnwrap(e){return new fg(V(this,ec,"f"),this.responsePromise,async(n,r)=>AN(e(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(V(this,ec,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}ec=new WeakMap;var Zd;class NE{constructor(e,n,r,i){Zd.set(this,void 0),ae(this,Zd,e),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new ne("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await V(this,Zd,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Zd=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class GJ extends fg{constructor(e,n,r){super(e,n,async(i,s)=>new r(i,s.response,await xN(i,s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class pg extends NE{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class gt extends NE{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const e=this.getPaginatedItems(),n=(r=e[e.length-1])==null?void 0:r.id;return n?{...this.options,query:{..._N(this.options.query),after:n}}:null}}class om extends NE{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{..._N(this.options.query),after:e}}:null}}const PN=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)==null?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Pc(t,e,n){return PN(),new File(t,e??"unknown_file",n)}function jf(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const VE=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Yx=async(t,e)=>Pw(t.body)?{...t,body:await kN(t.body,e)}:t,ra=async(t,e)=>({...t,body:await kN(t.body,e)}),Qx=new WeakMap;function XJ(t){const e=typeof t=="function"?t:t.fetch,n=Qx.get(e);if(n)return n;const r=(async()=>{try{const i="Response"in e?e.Response:(await e("data:,")).constructor,s=new FormData;return s.toString()!==await new i(s).text()}catch{return!0}})();return Qx.set(e,r),r}const kN=async(t,e)=>{if(!await XJ(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([r,i])=>kw(n,r,i))),n},ON=t=>t instanceof Blob&&"name"in t,YJ=t=>typeof t=="object"&&t!==null&&(t instanceof Response||VE(t)||ON(t)),Pw=t=>{if(YJ(t))return!0;if(Array.isArray(t))return t.some(Pw);if(t&&typeof t=="object"){for(const e in t)if(Pw(t[e]))return!0}return!1},kw=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,Pc([await n.blob()],jf(n)));else if(VE(n))t.append(e,Pc([await new Response(SN(n)).blob()],jf(n)));else if(ON(n))t.append(e,n,jf(n));else if(Array.isArray(n))await Promise.all(n.map(r=>kw(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>kw(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},DN=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",QJ=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&DN(t),JJ=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function ZJ(t,e,n){if(PN(),t=await t,QJ(t))return t instanceof File?t:Pc([await t.arrayBuffer()],t.name);if(JJ(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Pc(await Ow(i),e,n)}const r=await Ow(t);if(e||(e=jf(t)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n={...n,type:i})}return Pc(r,e,n)}async function Ow(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(DN(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(VE(t))for await(const r of t)e.push(...await Ow(r));else{const r=(n=t==null?void 0:t.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof t}${r?`; constructor: ${r}`:""}${eZ(t)}`)}return e}function eZ(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class te{constructor(e){this._client=e}}function MN(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Jx=Object.freeze(Object.create(null)),tZ=(t=MN)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],o=n.reduce((h,d,f)=>{var S;/[?#]/.test(d)&&(i=!0);const p=r[f];let g=(i?encodeURIComponent:t)(""+p);return f!==r.length&&(p==null||typeof p=="object"&&p.toString===((S=Object.getPrototypeOf(Object.getPrototypeOf(p.hasOwnProperty??Jx)??Jx))==null?void 0:S.toString))&&(g=p+"",s.push({start:h.length+d.length,length:g.length,error:`Value of type ${Object.prototype.toString.call(p).slice(8,-1)} is not a valid path parameter`})),h+d+(f===r.length?"":g)},""),a=o.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)s.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(s.sort((h,d)=>h.start-d.start),s.length>0){let h=0;const d=s.reduce((f,p)=>{const g=" ".repeat(p.start-h),S="^".repeat(p.length);return h=p.start+p.length,f+g+S},"");throw new ne(`Path parameters result in path with invalid segments:
${s.map(f=>f.error).join(`
`)}
${o}
${d}`)}return o},U=tZ(MN);let LN=class extends te{list(e,n={},r){return this._client.getAPIList(U`/chat/completions/${e}/messages`,gt,{query:n,...r})}};function am(t){return t!==void 0&&"function"in t&&t.function!==void 0}function FE(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function Hh(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function nZ(t,e){return!e||!NN(e)?{...t,choices:t.choices.map(n=>(VN(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:BE(t,e)}function BE(t,e){const n=t.choices.map(r=>{var i;if(r.finish_reason==="length")throw new yN;if(r.finish_reason==="content_filter")throw new vN;return VN(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(s=>iZ(e,s)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?rZ(e,r.message.content):null}}});return{...t,choices:n}}function rZ(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function iZ(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return am(i)&&((s=i.function)==null?void 0:s.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Hh(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function sZ(t,e){var r;if(!t||!("tools"in t)||!t.tools)return!1;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return am(i)&&((s=i.function)==null?void 0:s.name)===e.function.name});return am(n)&&(Hh(n)||(n==null?void 0:n.function.strict)||!1)}function NN(t){var e;return FE(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>Hh(n)||n.type==="function"&&n.function.strict===!0))??!1}function VN(t){for(const e of t||[])if(e.type!=="function")throw new ne(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function oZ(t){for(const e of t??[]){if(e.type!=="function")throw new ne(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new ne(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const lm=t=>(t==null?void 0:t.role)==="assistant",FN=t=>(t==null?void 0:t.role)==="tool";var Dw,$f,Uf,tc,nc,zf,rc,mi,ic,um,cm,Ba,BN;class jE{constructor(){Dw.add(this),this.controller=new AbortController,$f.set(this,void 0),Uf.set(this,()=>{}),tc.set(this,()=>{}),nc.set(this,void 0),zf.set(this,()=>{}),rc.set(this,()=>{}),mi.set(this,{}),ic.set(this,!1),um.set(this,!1),cm.set(this,!1),Ba.set(this,!1),ae(this,$f,new Promise((e,n)=>{ae(this,Uf,e,"f"),ae(this,tc,n,"f")})),ae(this,nc,new Promise((e,n)=>{ae(this,zf,e,"f"),ae(this,rc,n,"f")})),V(this,$f,"f").catch(()=>{}),V(this,nc,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},V(this,Dw,"m",BN).bind(this))},0)}_connected(){this.ended||(V(this,Uf,"f").call(this),this._emit("connect"))}get ended(){return V(this,ic,"f")}get errored(){return V(this,um,"f")}get aborted(){return V(this,cm,"f")}abort(){this.controller.abort()}on(e,n){return(V(this,mi,"f")[e]||(V(this,mi,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=V(this,mi,"f")[e];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(V(this,mi,"f")[e]||(V(this,mi,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{ae(this,Ba,!0),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){ae(this,Ba,!0),await V(this,nc,"f")}_emit(e,...n){if(V(this,ic,"f"))return;e==="end"&&(ae(this,ic,!0),V(this,zf,"f").call(this));const r=V(this,mi,"f")[e];if(r&&(V(this,mi,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!V(this,Ba,"f")&&!(r!=null&&r.length)&&Promise.reject(i),V(this,tc,"f").call(this,i),V(this,rc,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!V(this,Ba,"f")&&!(r!=null&&r.length)&&Promise.reject(i),V(this,tc,"f").call(this,i),V(this,rc,"f").call(this,i),this._emit("end")}}_emitFinal(){}}$f=new WeakMap,Uf=new WeakMap,tc=new WeakMap,nc=new WeakMap,zf=new WeakMap,rc=new WeakMap,mi=new WeakMap,ic=new WeakMap,um=new WeakMap,cm=new WeakMap,Ba=new WeakMap,Dw=new WeakSet,BN=function(e){if(ae(this,um,!0),e instanceof Error&&e.name==="AbortError"&&(e=new Qn),e instanceof Qn)return ae(this,cm,!0),this._emit("abort",e);if(e instanceof ne)return this._emit("error",e);if(e instanceof Error){const n=new ne(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new ne(String(e)))};function aZ(t){return typeof t.parse=="function"}var rn,Mw,hm,Lw,Nw,Vw,jN,$N;const lZ=10;class UN extends jE{constructor(){super(...arguments),rn.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),FN(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(lm(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new ne("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),V(this,rn,"m",Mw).call(this)}async finalMessage(){return await this.done(),V(this,rn,"m",hm).call(this)}async finalFunctionToolCall(){return await this.done(),V(this,rn,"m",Lw).call(this)}async finalFunctionToolCallResult(){return await this.done(),V(this,rn,"m",Nw).call(this)}async totalUsage(){return await this.done(),V(this,rn,"m",Vw).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=V(this,rn,"m",hm).call(this);n&&this._emit("finalMessage",n);const r=V(this,rn,"m",Mw).call(this);r&&this._emit("finalContent",r);const i=V(this,rn,"m",Lw).call(this);i&&this._emit("finalFunctionToolCall",i);const s=V(this,rn,"m",Nw).call(this);s!=null&&this._emit("finalFunctionToolCallResult",s),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",V(this,rn,"m",Vw).call(this))}async _createChatCompletion(e,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),V(this,rn,"m",jN).call(this,n);const s=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(BE(s,n))}async _runChatCompletion(e,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,n,r)}async _runTools(e,n,r){var p,g,S;const i="tool",{tool_choice:s="auto",stream:o,...a}=n,l=typeof s!="string"&&s.type==="function"&&((p=s==null?void 0:s.function)==null?void 0:p.name),{maxChatCompletions:u=lZ}=r||{},h=n.tools.map(T=>{if(Hh(T)){if(!T.$callback)throw new ne("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:T.$callback,name:T.function.name,description:T.function.description||"",parameters:T.function.parameters,parse:T.$parseRaw,strict:!0}}}return T}),d={};for(const T of h)T.type==="function"&&(d[T.function.name||T.function.function.name]=T.function);const f="tools"in n?h.map(T=>T.type==="function"?{type:"function",function:{name:T.function.name||T.function.function.name,parameters:T.function.parameters,description:T.function.description,strict:T.function.strict}}:T):void 0;for(const T of n.messages)this._addMessage(T,!1);for(let T=0;T<u;++T){const y=(g=(await this._createChatCompletion(e,{...a,tool_choice:s,tools:f,messages:[...this.messages]},r)).choices[0])==null?void 0:g.message;if(!y)throw new ne("missing message in ChatCompletion response");if(!((S=y.tool_calls)!=null&&S.length))return;for(const E of y.tool_calls){if(E.type!=="function")continue;const P=E.id,{name:M,arguments:D}=E.function,b=d[M];if(b){if(l&&l!==M){const A=`Invalid tool_call: ${JSON.stringify(M)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:P,content:A});continue}}else{const A=`Invalid tool_call: ${JSON.stringify(M)}. Available options are: ${Object.keys(d).map(L=>JSON.stringify(L)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:P,content:A});continue}let w;try{w=aZ(b)?await b.parse(D):D}catch(A){const L=A instanceof Error?A.message:String(A);this._addMessage({role:i,tool_call_id:P,content:L});continue}const R=await b.function(w,this),I=V(this,rn,"m",$N).call(this,R);if(this._addMessage({role:i,tool_call_id:P,content:I}),l)return}}}}rn=new WeakSet,Mw=function(){return V(this,rn,"m",hm).call(this).content??null},hm=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(lm(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new ne("stream ended without producing a ChatCompletionMessage with role=assistant")},Lw=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(lm(i)&&((e=i==null?void 0:i.tool_calls)!=null&&e.length))return(n=i.tool_calls.filter(s=>s.type==="function").at(-1))==null?void 0:n.function}},Nw=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(FN(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},Vw=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},jN=function(e){if(e.n!=null&&e.n>1)throw new ne("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},$N=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class $E extends UN{static runTools(e,n,r){const i=new $E,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}_addMessage(e,n=!0){super._addMessage(e,n),lm(e)&&e.content&&this._emit("content",e.content)}}const zN=1,WN=2,HN=4,qN=8,KN=16,GN=32,XN=64,YN=128,QN=256,JN=YN|QN,ZN=KN|GN|JN|XN,e2=zN|WN|ZN,t2=HN|qN,uZ=e2|t2,At={STR:zN,NUM:WN,ARR:HN,OBJ:qN,NULL:KN,BOOL:GN,NAN:XN,INFINITY:YN,MINUS_INFINITY:QN,INF:JN,SPECIAL:ZN,ATOM:e2,COLLECTION:t2,ALL:uZ};class cZ extends Error{}class hZ extends Error{}function dZ(t,e=At.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return fZ(t.trim(),e)}const fZ=(t,e)=>{const n=t.length;let r=0;const i=f=>{throw new cZ(`${f} at position ${r}`)},s=f=>{throw new hZ(`${f} at position ${r}`)},o=()=>(d(),r>=n&&i("Unexpected end of input"),t[r]==='"'?a():t[r]==="{"?l():t[r]==="["?u():t.substring(r,r+4)==="null"||At.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||At.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||At.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||At.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||At.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||At.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):h()),a=()=>{const f=r;let p=!1;for(r++;r<n&&(t[r]!=='"'||p&&t[r-1]==="\\");)p=t[r]==="\\"?!p:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(f,++r-Number(p)))}catch(g){s(String(g))}else if(At.STR&e)try{return JSON.parse(t.substring(f,r-Number(p))+'"')}catch{return JSON.parse(t.substring(f,t.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},l=()=>{r++,d();const f={};try{for(;t[r]!=="}";){if(d(),r>=n&&At.OBJ&e)return f;const p=a();d(),r++;try{const g=o();Object.defineProperty(f,p,{value:g,writable:!0,enumerable:!0,configurable:!0})}catch(g){if(At.OBJ&e)return f;throw g}d(),t[r]===","&&r++}}catch{if(At.OBJ&e)return f;i("Expected '}' at end of object")}return r++,f},u=()=>{r++;const f=[];try{for(;t[r]!=="]";)f.push(o()),d(),t[r]===","&&r++}catch{if(At.ARR&e)return f;i("Expected ']' at end of array")}return r++,f},h=()=>{if(r===0){t==="-"&&At.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t)}catch(p){if(At.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}s(String(p))}}const f=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(At.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(t.substring(f,r))}catch{t.substring(f,r)==="-"&&At.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t.substring(f,t.lastIndexOf("e")))}catch(g){s(String(g))}}},d=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return o()},Zx=t=>dZ(t,At.ALL^At.NUM);var vt,pi,Pa,fs,tv,ef,nv,rv,iv,tf,sv,eA;class gh extends UN{constructor(e){super(),vt.add(this),pi.set(this,void 0),Pa.set(this,void 0),fs.set(this,void 0),ae(this,pi,e),ae(this,Pa,[])}get currentChatCompletionSnapshot(){return V(this,fs,"f")}static fromReadableStream(e){const n=new gh(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const i=new gh(n);return i._run(()=>i._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,n,r){var o;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),V(this,vt,"m",tv).call(this);const s=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of s)V(this,vt,"m",nv).call(this,a);if((o=s.controller.signal)!=null&&o.aborted)throw new Qn;return this._addChatCompletion(V(this,vt,"m",tf).call(this))}async _fromReadableStream(e,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,vt,"m",tv).call(this),this._connected();const i=Gr.fromReadableStream(e,this.controller);let s;for await(const a of i)s&&s!==a.id&&this._addChatCompletion(V(this,vt,"m",tf).call(this)),V(this,vt,"m",nv).call(this,a),s=a.id;if((o=i.controller.signal)!=null&&o.aborted)throw new Qn;return this._addChatCompletion(V(this,vt,"m",tf).call(this))}[(pi=new WeakMap,Pa=new WeakMap,fs=new WeakMap,vt=new WeakSet,tv=function(){this.ended||ae(this,fs,void 0)},ef=function(n){let r=V(this,Pa,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},V(this,Pa,"f")[n.index]=r,r)},nv=function(n){var i,s,o,a,l,u,h,d,f,p,g,S,T,_,y;if(this.ended)return;const r=V(this,vt,"m",eA).call(this,n);this._emit("chunk",n,r);for(const E of n.choices){const P=r.choices[E.index];E.delta.content!=null&&((i=P.message)==null?void 0:i.role)==="assistant"&&((s=P.message)!=null&&s.content)&&(this._emit("content",E.delta.content,P.message.content),this._emit("content.delta",{delta:E.delta.content,snapshot:P.message.content,parsed:P.message.parsed})),E.delta.refusal!=null&&((o=P.message)==null?void 0:o.role)==="assistant"&&((a=P.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:E.delta.refusal,snapshot:P.message.refusal}),((l=E.logprobs)==null?void 0:l.content)!=null&&((u=P.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(h=E.logprobs)==null?void 0:h.content,snapshot:((d=P.logprobs)==null?void 0:d.content)??[]}),((f=E.logprobs)==null?void 0:f.refusal)!=null&&((p=P.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(g=E.logprobs)==null?void 0:g.refusal,snapshot:((S=P.logprobs)==null?void 0:S.refusal)??[]});const M=V(this,vt,"m",ef).call(this,P);P.finish_reason&&(V(this,vt,"m",iv).call(this,P),M.current_tool_call_index!=null&&V(this,vt,"m",rv).call(this,P,M.current_tool_call_index));for(const D of E.delta.tool_calls??[])M.current_tool_call_index!==D.index&&(V(this,vt,"m",iv).call(this,P),M.current_tool_call_index!=null&&V(this,vt,"m",rv).call(this,P,M.current_tool_call_index)),M.current_tool_call_index=D.index;for(const D of E.delta.tool_calls??[]){const b=(T=P.message.tool_calls)==null?void 0:T[D.index];b!=null&&b.type&&((b==null?void 0:b.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(_=b.function)==null?void 0:_.name,index:D.index,arguments:b.function.arguments,parsed_arguments:b.function.parsed_arguments,arguments_delta:((y=D.function)==null?void 0:y.arguments)??""}):(b==null||b.type,void 0))}}},rv=function(n,r){var o,a,l;if(V(this,vt,"m",ef).call(this,n).done_tool_calls.has(r))return;const s=(o=n.message.tool_calls)==null?void 0:o[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const u=(l=(a=V(this,pi,"f"))==null?void 0:a.tools)==null?void 0:l.find(h=>am(h)&&h.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:Hh(u)?u.$parseRaw(s.function.arguments):u!=null&&u.function.strict?JSON.parse(s.function.arguments):null})}else s.type},iv=function(n){var i,s;const r=V(this,vt,"m",ef).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=V(this,vt,"m",sv).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(i=n.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},tf=function(){if(this.ended)throw new ne("stream has ended, this shouldn't happen");const n=V(this,fs,"f");if(!n)throw new ne("request ended without sending any chunks");return ae(this,fs,void 0),ae(this,Pa,[]),pZ(n,V(this,pi,"f"))},sv=function(){var r;const n=(r=V(this,pi,"f"))==null?void 0:r.response_format;return FE(n)?n:null},eA=function(n){var r,i,s,o;let a=V(this,fs,"f");const{choices:l,...u}=n;a?Object.assign(a,u):a=ae(this,fs,{...u,choices:[]});for(const{delta:h,finish_reason:d,index:f,logprobs:p=null,...g}of n.choices){let S=a.choices[f];if(S||(S=a.choices[f]={finish_reason:d,index:f,message:{},logprobs:p,...g}),p)if(!S.logprobs)S.logprobs=Object.assign({},p);else{const{content:D,refusal:b,...w}=p;Object.assign(S.logprobs,w),D&&((r=S.logprobs).content??(r.content=[]),S.logprobs.content.push(...D)),b&&((i=S.logprobs).refusal??(i.refusal=[]),S.logprobs.refusal.push(...b))}if(d&&(S.finish_reason=d,V(this,pi,"f")&&NN(V(this,pi,"f")))){if(d==="length")throw new yN;if(d==="content_filter")throw new vN}if(Object.assign(S,g),!h)continue;const{content:T,refusal:_,function_call:y,role:E,tool_calls:P,...M}=h;if(Object.assign(S.message,M),_&&(S.message.refusal=(S.message.refusal||"")+_),E&&(S.message.role=E),y&&(S.message.function_call?(y.name&&(S.message.function_call.name=y.name),y.arguments&&((s=S.message.function_call).arguments??(s.arguments=""),S.message.function_call.arguments+=y.arguments)):S.message.function_call=y),T&&(S.message.content=(S.message.content||"")+T,!S.message.refusal&&V(this,vt,"m",sv).call(this)&&(S.message.parsed=Zx(S.message.content))),P){S.message.tool_calls||(S.message.tool_calls=[]);for(const{index:D,id:b,type:w,function:R,...I}of P){const A=(o=S.message.tool_calls)[D]??(o[D]={});Object.assign(A,I),b&&(A.id=b),w&&(A.type=w),R&&(A.function??(A.function={name:R.name??"",arguments:""})),R!=null&&R.name&&(A.function.name=R.name),R!=null&&R.arguments&&(A.function.arguments+=R.arguments,sZ(V(this,pi,"f"),A)&&(A.function.parsed_arguments=Zx(A.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Gr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function pZ(t,e){const{id:n,choices:r,created:i,model:s,system_fingerprint:o,...a}=t,l={...a,id:n,choices:r.map(({message:u,finish_reason:h,index:d,logprobs:f,...p})=>{if(!h)throw new ne(`missing finish_reason for choice ${d}`);const{content:g=null,function_call:S,tool_calls:T,..._}=u,y=u.role;if(!y)throw new ne(`missing role for choice ${d}`);if(S){const{arguments:E,name:P}=S;if(E==null)throw new ne(`missing function_call.arguments for choice ${d}`);if(!P)throw new ne(`missing function_call.name for choice ${d}`);return{...p,message:{content:g,function_call:{arguments:E,name:P},role:y,refusal:u.refusal??null},finish_reason:h,index:d,logprobs:f}}return T?{...p,index:d,finish_reason:h,logprobs:f,message:{..._,role:y,content:g,refusal:u.refusal??null,tool_calls:T.map((E,P)=>{const{function:M,type:D,id:b,...w}=E,{arguments:R,name:I,...A}=M||{};if(b==null)throw new ne(`missing choices[${d}].tool_calls[${P}].id
${nf(t)}`);if(D==null)throw new ne(`missing choices[${d}].tool_calls[${P}].type
${nf(t)}`);if(I==null)throw new ne(`missing choices[${d}].tool_calls[${P}].function.name
${nf(t)}`);if(R==null)throw new ne(`missing choices[${d}].tool_calls[${P}].function.arguments
${nf(t)}`);return{...w,id:b,type:D,function:{...A,name:I,arguments:R}}})}}:{...p,message:{..._,content:g,role:y,refusal:u.refusal??null},finish_reason:h,index:d,logprobs:f}}),created:i,model:s,object:"chat.completion",...o?{system_fingerprint:o}:{}};return nZ(l,e)}function nf(t){return JSON.stringify(t)}class dm extends gh{static fromReadableStream(e){const n=new dm(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,r){const i=new dm(n),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}}let UE=class extends te{constructor(){super(...arguments),this.messages=new LN(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(U`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(U`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/chat/completions",gt,{query:e,...n})}delete(e,n){return this._client.delete(U`/chat/completions/${e}`,n)}parse(e,n){return oZ(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>BE(r,e))}runTools(e,n){return e.stream?dm.runTools(this._client,e,n):$E.runTools(this._client,e,n)}stream(e,n){return gh.createChatCompletion(this._client,e,n)}};UE.Messages=LN;class zE extends te{constructor(){super(...arguments),this.completions=new UE(this._client)}}zE.Completions=UE;const n2=Symbol("brand.privateNullableHeaders");function*mZ(t){if(!t)return;if(n2 in t){const{values:r,nulls:i}=t;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Fx(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=Fx(r[1])?r[1]:[r[1]];let o=!1;for(const a of s)a!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,a])}}const Z=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[s,o]of mZ(r)){const a=s.toLowerCase();i.has(a)||(e.delete(s),i.add(a)),o===null?(e.delete(s),n.add(a)):(e.append(s,o),n.delete(a))}}return{[n2]:!0,values:e,nulls:n}};class r2 extends te{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:Z([{Accept:"application/octet-stream"},n==null?void 0:n.headers]),__binaryResponse:!0})}}class i2 extends te{create(e,n){return this._client.post("/audio/transcriptions",ra({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class s2 extends te{create(e,n){return this._client.post("/audio/translations",ra({body:e,...n,__metadata:{model:e.model}},this._client))}}class qh extends te{constructor(){super(...arguments),this.transcriptions=new i2(this._client),this.translations=new s2(this._client),this.speech=new r2(this._client)}}qh.Transcriptions=i2;qh.Translations=s2;qh.Speech=r2;class o2 extends te{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(U`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",gt,{query:e,...n})}cancel(e,n){return this._client.post(U`/batches/${e}/cancel`,n)}}class a2 extends te{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get(U`/assistants/${e}`,{...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post(U`/assistants/${e}`,{body:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e={},n){return this._client.getAPIList("/assistants",gt,{query:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete(U`/assistants/${e}`,{...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let l2=class extends te{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}};class u2 extends te{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let mg=class extends te{constructor(){super(...arguments),this.sessions=new l2(this._client),this.transcriptionSessions=new u2(this._client)}};mg.Sessions=l2;mg.TranscriptionSessions=u2;class c2 extends te{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}cancel(e,n){return this._client.post(U`/chatkit/sessions/${e}/cancel`,{...n,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}}let h2=class extends te{retrieve(e,n){return this._client.get(U`/chatkit/threads/${e}`,{...n,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",om,{query:e,...n,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete(U`/chatkit/threads/${e}`,{...n,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}listItems(e,n={},r){return this._client.getAPIList(U`/chatkit/threads/${e}/items`,om,{query:n,...r,headers:Z([{"OpenAI-Beta":"chatkit_beta=v1"},r==null?void 0:r.headers])})}};class gg extends te{constructor(){super(...arguments),this.sessions=new c2(this._client),this.threads=new h2(this._client)}}gg.Sessions=c2;gg.Threads=h2;class d2 extends te{create(e,n,r){return this._client.post(U`/threads/${e}/messages`,{body:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{thread_id:i}=n;return this._client.get(U`/threads/${i}/messages/${e}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{thread_id:i,...s}=n;return this._client.post(U`/threads/${i}/messages/${e}`,{body:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList(U`/threads/${e}/messages`,gt,{query:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n,r){const{thread_id:i}=n;return this._client.delete(U`/threads/${i}/messages/${e}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class f2 extends te{retrieve(e,n,r){const{thread_id:i,run_id:s,...o}=n;return this._client.get(U`/threads/${i}/runs/${s}/steps/${e}`,{query:o,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n,r){const{thread_id:i,...s}=n;return this._client.getAPIList(U`/threads/${i}/runs/${e}/steps`,gt,{query:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}const gZ=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return Array.from(new Float32Array(r.buffer))}};var ov={};const ka=t=>{var e,n,r,i;if(typeof globalThis.process<"u")return((e=ov==null?void 0:ov[t])==null?void 0:e.trim())??void 0;if(typeof globalThis.Deno<"u")return(i=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};var Ft,Bo,Fw,Ur,Wf,yr,jo,ol,Ao,fm,Pn,Hf,qf,kc,sc,oc,tA,nA,rA,iA,sA,oA,aA;class Oc extends jE{constructor(){super(...arguments),Ft.add(this),Fw.set(this,[]),Ur.set(this,{}),Wf.set(this,{}),yr.set(this,void 0),jo.set(this,void 0),ol.set(this,void 0),Ao.set(this,void 0),fm.set(this,void 0),Pn.set(this,void 0),Hf.set(this,void 0),qf.set(this,void 0),kc.set(this,void 0)}[(Fw=new WeakMap,Ur=new WeakMap,Wf=new WeakMap,yr=new WeakMap,jo=new WeakMap,ol=new WeakMap,Ao=new WeakMap,fm=new WeakMap,Pn=new WeakMap,Hf=new WeakMap,qf=new WeakMap,kc=new WeakMap,Ft=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Bo;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=Gr.fromReadableStream(e,this.controller);for await(const o of i)V(this,Ft,"m",sc).call(this,o);if((s=i.controller.signal)!=null&&s.aborted)throw new Qn;return this._addRun(V(this,Ft,"m",oc).call(this))}toReadableStream(){return new Gr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,i){const s=new Bo;return s._run(()=>s._runToolAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createToolAssistantStream(e,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await e.submitToolOutputs(n,o,{...i,signal:this.controller.signal});this._connected();for await(const u of a)V(this,Ft,"m",sc).call(this,u);if((l=a.controller.signal)!=null&&l.aborted)throw new Qn;return this._addRun(V(this,Ft,"m",oc).call(this))}static createThreadAssistantStream(e,n,r){const i=new Bo;return i._run(()=>i._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,n,r,i){const s=new Bo;return s._run(()=>s._runAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return V(this,Hf,"f")}currentRun(){return V(this,qf,"f")}currentMessageSnapshot(){return V(this,yr,"f")}currentRunStepSnapshot(){return V(this,kc,"f")}async finalRunSteps(){return await this.done(),Object.values(V(this,Ur,"f"))}async finalMessages(){return await this.done(),Object.values(V(this,Wf,"f"))}async finalRun(){if(await this.done(),!V(this,jo,"f"))throw Error("Final run was not received.");return V(this,jo,"f")}async _createThreadAssistantStream(e,n,r){var a;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},o=await e.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const l of o)V(this,Ft,"m",sc).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new Qn;return this._addRun(V(this,Ft,"m",oc).call(this))}async _createAssistantStream(e,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await e.create(n,o,{...i,signal:this.controller.signal});this._connected();for await(const u of a)V(this,Ft,"m",sc).call(this,u);if((l=a.controller.signal)!=null&&l.aborted)throw new Qn;return this._addRun(V(this,Ft,"m",oc).call(this))}static accumulateDelta(e,n){for(const[r,i]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let s=e[r];if(s==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(Jy(s)&&Jy(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(o=>typeof o=="string"||typeof o=="number")){s.push(...i);continue}for(const o of i){if(!Jy(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const a=o.index;if(a==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=s[a];l==null?s.push(o):s[a]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);e[r]=s}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,i){return await this._createAssistantStream(n,e,r,i)}async _runToolAssistantStream(e,n,r,i){return await this._createToolAssistantStream(n,e,r,i)}}Bo=Oc,sc=function(e){if(!this.ended)switch(ae(this,Hf,e),V(this,Ft,"m",rA).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":V(this,Ft,"m",aA).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":V(this,Ft,"m",nA).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":V(this,Ft,"m",tA).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},oc=function(){if(this.ended)throw new ne("stream has ended, this shouldn't happen");if(!V(this,jo,"f"))throw Error("Final run has not been received");return V(this,jo,"f")},tA=function(e){const[n,r]=V(this,Ft,"m",sA).call(this,e,V(this,yr,"f"));ae(this,yr,n),V(this,Wf,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,o=n.content[i.index];if(o&&o.type=="text")this._emit("textDelta",s,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=V(this,ol,"f")){if(V(this,Ao,"f"))switch(V(this,Ao,"f").type){case"text":this._emit("textDone",V(this,Ao,"f").text,V(this,yr,"f"));break;case"image_file":this._emit("imageFileDone",V(this,Ao,"f").image_file,V(this,yr,"f"));break}ae(this,ol,i.index)}ae(this,Ao,n.content[i.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(V(this,ol,"f")!==void 0){const i=e.data.content[V(this,ol,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,V(this,yr,"f"));break;case"text":this._emit("textDone",i.text,V(this,yr,"f"));break}}V(this,yr,"f")&&this._emit("messageDone",e.data),ae(this,yr,void 0)}},nA=function(e){const n=V(this,Ft,"m",iA).call(this,e);switch(ae(this,kc,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==V(this,fm,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(V(this,Pn,"f")&&this._emit("toolCallDone",V(this,Pn,"f")),ae(this,fm,s.index),ae(this,Pn,n.step_details.tool_calls[s.index]),V(this,Pn,"f")&&this._emit("toolCallCreated",V(this,Pn,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ae(this,kc,void 0),e.data.step_details.type=="tool_calls"&&V(this,Pn,"f")&&(this._emit("toolCallDone",V(this,Pn,"f")),ae(this,Pn,void 0)),this._emit("runStepDone",e.data,n);break}},rA=function(e){V(this,Fw,"f").push(e),this._emit("event",e)},iA=function(e){switch(e.event){case"thread.run.step.created":return V(this,Ur,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=V(this,Ur,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=Bo.accumulateDelta(n,r.delta);V(this,Ur,"f")[e.data.id]=i}return V(this,Ur,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":V(this,Ur,"f")[e.data.id]=e.data;break}if(V(this,Ur,"f")[e.data.id])return V(this,Ur,"f")[e.data.id];throw new Error("No snapshot available")},sA=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let o=n.content[s.index];n.content[s.index]=V(this,Ft,"m",oA).call(this,s,o)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},oA=function(e,n){return Bo.accumulateDelta(n,e)},aA=function(e){switch(ae(this,qf,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":ae(this,jo,e.data),V(this,Pn,"f")&&(this._emit("toolCallDone",V(this,Pn,"f")),ae(this,Pn,void 0));break}};let WE=class extends te{constructor(){super(...arguments),this.steps=new f2(this._client)}create(e,n,r){const{include:i,...s}=n;return this._client.post(U`/threads/${e}/runs`,{query:{include:i},body:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}retrieve(e,n,r){const{thread_id:i}=n;return this._client.get(U`/threads/${i}/runs/${e}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{thread_id:i,...s}=n;return this._client.post(U`/threads/${i}/runs/${e}`,{body:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList(U`/threads/${e}/runs`,gt,{query:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(e,n,r){const{thread_id:i}=n;return this._client.post(U`/threads/${i}/runs/${e}/cancel`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(i.id,{thread_id:e},r)}createAndStream(e,n,r){return Oc.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){var s;const i=Z([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((s=r==null?void 0:r.pollIntervalMs)==null?void 0:s.toString())??void 0}]);for(;;){const{data:o,response:a}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=a.headers.get("openai-poll-after-ms");if(u){const h=parseInt(u);isNaN(h)||(l=h)}}await Wh(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(e,n,r){return Oc.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r){const{thread_id:i,...s}=n;return this._client.post(U`/threads/${i}/runs/${e}/submit_tool_outputs`,{body:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,r){const i=await this.submitToolOutputs(e,n,r);return await this.poll(i.id,n,r)}submitToolOutputsStream(e,n,r){return Oc.createToolAssistantStream(e,this._client.beta.threads.runs,n,r)}};WE.Steps=f2;class yg extends te{constructor(){super(...arguments),this.runs=new WE(this._client),this.messages=new d2(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get(U`/threads/${e}`,{...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post(U`/threads/${e}`,{body:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n){return this._client.delete(U`/threads/${e}`,{...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(e,n){return Oc.createThreadAssistantStream(e,this._client.beta.threads,n)}}yg.Runs=WE;yg.Messages=d2;class iu extends te{constructor(){super(...arguments),this.realtime=new mg(this._client),this.chatkit=new gg(this._client),this.assistants=new a2(this._client),this.threads=new yg(this._client)}}iu.Realtime=mg;iu.ChatKit=gg;iu.Assistants=a2;iu.Threads=yg;class p2 extends te{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class m2 extends te{retrieve(e,n,r){const{container_id:i}=n;return this._client.get(U`/containers/${i}/files/${e}/content`,{...r,headers:Z([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}}let HE=class extends te{constructor(){super(...arguments),this.content=new m2(this._client)}create(e,n,r){return this._client.post(U`/containers/${e}/files`,ra({body:n,...r},this._client))}retrieve(e,n,r){const{container_id:i}=n;return this._client.get(U`/containers/${i}/files/${e}`,r)}list(e,n={},r){return this._client.getAPIList(U`/containers/${e}/files`,gt,{query:n,...r})}delete(e,n,r){const{container_id:i}=n;return this._client.delete(U`/containers/${i}/files/${e}`,{...r,headers:Z([{Accept:"*/*"},r==null?void 0:r.headers])})}};HE.Content=m2;class qE extends te{constructor(){super(...arguments),this.files=new HE(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(U`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",gt,{query:e,...n})}delete(e,n){return this._client.delete(U`/containers/${e}`,{...n,headers:Z([{Accept:"*/*"},n==null?void 0:n.headers])})}}qE.Files=HE;class g2 extends te{create(e,n,r){const{include:i,...s}=n;return this._client.post(U`/conversations/${e}/items`,{query:{include:i},body:s,...r})}retrieve(e,n,r){const{conversation_id:i,...s}=n;return this._client.get(U`/conversations/${i}/items/${e}`,{query:s,...r})}list(e,n={},r){return this._client.getAPIList(U`/conversations/${e}/items`,om,{query:n,...r})}delete(e,n,r){const{conversation_id:i}=n;return this._client.delete(U`/conversations/${i}/items/${e}`,r)}}class KE extends te{constructor(){super(...arguments),this.items=new g2(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(U`/conversations/${e}`,n)}update(e,n,r){return this._client.post(U`/conversations/${e}`,{body:n,...r})}delete(e,n){return this._client.delete(U`/conversations/${e}`,n)}}KE.Items=g2;class y2 extends te{create(e,n){const r=!!e.encoding_format;let i=r?e.encoding_format:"base64";r&&Vt(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const s=this._client.post("/embeddings",{body:{...e,encoding_format:i},...n});return r?s:(Vt(this._client).debug("embeddings/decoding base64 embeddings from base64"),s._thenUnwrap(o=>(o&&o.data&&o.data.forEach(a=>{const l=a.embedding;a.embedding=gZ(l)}),o)))}}class v2 extends te{retrieve(e,n,r){const{eval_id:i,run_id:s}=n;return this._client.get(U`/evals/${i}/runs/${s}/output_items/${e}`,r)}list(e,n,r){const{eval_id:i,...s}=n;return this._client.getAPIList(U`/evals/${i}/runs/${e}/output_items`,gt,{query:s,...r})}}class GE extends te{constructor(){super(...arguments),this.outputItems=new v2(this._client)}create(e,n,r){return this._client.post(U`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){const{eval_id:i}=n;return this._client.get(U`/evals/${i}/runs/${e}`,r)}list(e,n={},r){return this._client.getAPIList(U`/evals/${e}/runs`,gt,{query:n,...r})}delete(e,n,r){const{eval_id:i}=n;return this._client.delete(U`/evals/${i}/runs/${e}`,r)}cancel(e,n,r){const{eval_id:i}=n;return this._client.post(U`/evals/${i}/runs/${e}`,r)}}GE.OutputItems=v2;class XE extends te{constructor(){super(...arguments),this.runs=new GE(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(U`/evals/${e}`,n)}update(e,n,r){return this._client.post(U`/evals/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/evals",gt,{query:e,...n})}delete(e,n){return this._client.delete(U`/evals/${e}`,n)}}XE.Runs=GE;let _2=class extends te{create(e,n){return this._client.post("/files",ra({body:e,...n},this._client))}retrieve(e,n){return this._client.get(U`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",gt,{query:e,...n})}delete(e,n){return this._client.delete(U`/files/${e}`,n)}content(e,n){return this._client.get(U`/files/${e}/content`,{...n,headers:Z([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let o=await this.retrieve(e);for(;!o.status||!i.has(o.status);)if(await Wh(n),o=await this.retrieve(e),Date.now()-s>r)throw new ME({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return o}};class w2 extends te{}let S2=class extends te{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class YE extends te{constructor(){super(...arguments),this.graders=new S2(this._client)}}YE.Graders=S2;class E2 extends te{create(e,n,r){return this._client.getAPIList(U`/fine_tuning/checkpoints/${e}/permissions`,pg,{body:n,method:"post",...r})}retrieve(e,n={},r){return this._client.get(U`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}delete(e,n,r){const{fine_tuned_model_checkpoint:i}=n;return this._client.delete(U`/fine_tuning/checkpoints/${i}/permissions/${e}`,r)}}let QE=class extends te{constructor(){super(...arguments),this.permissions=new E2(this._client)}};QE.Permissions=E2;class T2 extends te{list(e,n={},r){return this._client.getAPIList(U`/fine_tuning/jobs/${e}/checkpoints`,gt,{query:n,...r})}}class JE extends te{constructor(){super(...arguments),this.checkpoints=new T2(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(U`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",gt,{query:e,...n})}cancel(e,n){return this._client.post(U`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return this._client.getAPIList(U`/fine_tuning/jobs/${e}/events`,gt,{query:n,...r})}pause(e,n){return this._client.post(U`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(U`/fine_tuning/jobs/${e}/resume`,n)}}JE.Checkpoints=T2;class su extends te{constructor(){super(...arguments),this.methods=new w2(this._client),this.jobs=new JE(this._client),this.checkpoints=new QE(this._client),this.alpha=new YE(this._client)}}su.Methods=w2;su.Jobs=JE;su.Checkpoints=QE;su.Alpha=YE;class b2 extends te{}class ZE extends te{constructor(){super(...arguments),this.graderModels=new b2(this._client)}}ZE.GraderModels=b2;class C2 extends te{createVariation(e,n){return this._client.post("/images/variations",ra({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",ra({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class R2 extends te{retrieve(e,n){return this._client.get(U`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",pg,e)}delete(e,n){return this._client.delete(U`/models/${e}`,n)}}class I2 extends te{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class x2 extends te{accept(e,n,r){return this._client.post(U`/realtime/calls/${e}/accept`,{body:n,...r,headers:Z([{Accept:"*/*"},r==null?void 0:r.headers])})}hangup(e,n){return this._client.post(U`/realtime/calls/${e}/hangup`,{...n,headers:Z([{Accept:"*/*"},n==null?void 0:n.headers])})}refer(e,n,r){return this._client.post(U`/realtime/calls/${e}/refer`,{body:n,...r,headers:Z([{Accept:"*/*"},r==null?void 0:r.headers])})}reject(e,n={},r){return this._client.post(U`/realtime/calls/${e}/reject`,{body:n,...r,headers:Z([{Accept:"*/*"},r==null?void 0:r.headers])})}}class A2 extends te{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class vg extends te{constructor(){super(...arguments),this.clientSecrets=new A2(this._client),this.calls=new x2(this._client)}}vg.ClientSecrets=A2;vg.Calls=x2;function yZ(t,e){return!e||!_Z(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:P2(t,e)}function P2(t,e){const n=t.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:EZ(e,i)};if(i.type==="message"){const s=i.content.map(o=>o.type==="output_text"?{...o,parsed:vZ(e,o.text)}:o);return{...i,content:s}}return i}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||Bw(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const i of r.output)if(i.type==="message"){for(const s of i.content)if(s.type==="output_text"&&s.parsed!==null)return s.parsed}return null}}),r}function vZ(t,e){var n,r,i,s;return((r=(n=t.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((i=t.text)==null?void 0:i.format)?((s=t.text)==null?void 0:s.format).$parseRaw(e):JSON.parse(e)}function _Z(t){var e;return!!FE((e=t.text)==null?void 0:e.format)}function wZ(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function SZ(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function EZ(t,e){const n=SZ(t.tools??[],e.name);return{...e,...e,parsed_arguments:wZ(n)?n.$parseRaw(e.arguments):n!=null&&n.strict?JSON.parse(e.arguments):null}}function Bw(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}var Oa,rf,ps,sf,lA,uA,cA,hA;class eT extends jE{constructor(e){super(),Oa.add(this),rf.set(this,void 0),ps.set(this,void 0),sf.set(this,void 0),ae(this,rf,e)}static createResponse(e,n,r){const i=new eT(n);return i._run(()=>i._createOrRetrieveResponse(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(e,n,r){var a;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),V(this,Oa,"m",lA).call(this);let s,o=null;"response_id"in n?(s=await e.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),o=n.starting_after??null):s=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const l of s)V(this,Oa,"m",uA).call(this,l,o);if((a=s.controller.signal)!=null&&a.aborted)throw new Qn;return V(this,Oa,"m",cA).call(this)}[(rf=new WeakMap,ps=new WeakMap,sf=new WeakMap,Oa=new WeakSet,lA=function(){this.ended||ae(this,ps,void 0)},uA=function(n,r){if(this.ended)return;const i=(o,a)=>{(r==null||a.sequence_number>r)&&this._emit(o,a)},s=V(this,Oa,"m",hA).call(this,n);switch(i("event",n),n.type){case"response.output_text.delta":{const o=s.output[n.output_index];if(!o)throw new ne(`missing output at index ${n.output_index}`);if(o.type==="message"){const a=o.content[n.content_index];if(!a)throw new ne(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new ne(`expected content to be 'output_text', got ${a.type}`);i("response.output_text.delta",{...n,snapshot:a.text})}break}case"response.function_call_arguments.delta":{const o=s.output[n.output_index];if(!o)throw new ne(`missing output at index ${n.output_index}`);o.type==="function_call"&&i("response.function_call_arguments.delta",{...n,snapshot:o.arguments});break}default:i(n.type,n);break}},cA=function(){if(this.ended)throw new ne("stream has ended, this shouldn't happen");const n=V(this,ps,"f");if(!n)throw new ne("request ended without sending any events");ae(this,ps,void 0);const r=TZ(n,V(this,rf,"f"));return ae(this,sf,r),r},hA=function(n){var i;let r=V(this,ps,"f");if(!r){if(n.type!=="response.created")throw new ne(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=ae(this,ps,n.response),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new ne(`missing output at index ${n.output_index}`);const o=s.type,a=n.part;o==="message"&&a.type!=="reasoning_text"?s.content.push(a):o==="reasoning"&&a.type==="reasoning_text"&&(s.content||(s.content=[]),s.content.push(a));break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new ne(`missing output at index ${n.output_index}`);if(s.type==="message"){const o=s.content[n.content_index];if(!o)throw new ne(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new ne(`expected content to be 'output_text', got ${o.type}`);o.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new ne(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.reasoning_text.delta":{const s=r.output[n.output_index];if(!s)throw new ne(`missing output at index ${n.output_index}`);if(s.type==="reasoning"){const o=(i=s.content)==null?void 0:i[n.content_index];if(!o)throw new ne(`missing content at index ${n.content_index}`);if(o.type!=="reasoning_text")throw new ne(`expected content to be 'reasoning_text', got ${o.type}`);o.text+=n.delta}break}case"response.completed":{ae(this,ps,n.response);break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=V(this,sf,"f");if(!e)throw new ne("stream ended without producing a ChatCompletion");return e}}function TZ(t,e){return yZ(t,e)}class k2 extends te{list(e,n={},r){return this._client.getAPIList(U`/responses/${e}/input_items`,gt,{query:n,...r})}}class O2 extends te{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class _g extends te{constructor(){super(...arguments),this.inputItems=new k2(this._client),this.inputTokens=new O2(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Bw(r),r))}retrieve(e,n={},r){return this._client.get(U`/responses/${e}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&Bw(i),i))}delete(e,n){return this._client.delete(U`/responses/${e}`,{...n,headers:Z([{Accept:"*/*"},n==null?void 0:n.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>P2(r,e))}stream(e,n){return eT.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(U`/responses/${e}/cancel`,n)}compact(e={},n){return this._client.post("/responses/compact",{body:e,...n})}}_g.InputItems=k2;_g.InputTokens=O2;class D2 extends te{create(e,n,r){return this._client.post(U`/uploads/${e}/parts`,ra({body:n,...r},this._client))}}class tT extends te{constructor(){super(...arguments),this.parts=new D2(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(U`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(U`/uploads/${e}/complete`,{body:n,...r})}}tT.Parts=D2;const bZ=async t=>{const e=await Promise.allSettled(t),n=e.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};class M2 extends te{create(e,n,r){return this._client.post(U`/vector_stores/${e}/file_batches`,{body:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{vector_store_id:i}=n;return this._client.get(U`/vector_stores/${i}/file_batches/${e}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(e,n,r){const{vector_store_id:i}=n;return this._client.post(U`/vector_stores/${i}/file_batches/${e}/cancel`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const i=await this.create(e,n);return await this.poll(e,i.id,r)}listFiles(e,n,r){const{vector_store_id:i,...s}=n;return this._client.getAPIList(U`/vector_stores/${i}/file_batches/${e}/files`,gt,{query:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async poll(e,n,r){var s;const i=Z([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((s=r==null?void 0:r.pollIntervalMs)==null?void 0:s.toString())??void 0}]);for(;;){const{data:o,response:a}=await this.retrieve(n,{vector_store_id:e},{...r,headers:i}).withResponse();switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=a.headers.get("openai-poll-after-ms");if(u){const h=parseInt(u);isNaN(h)||(l=h)}}await Wh(l);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(i==null?void 0:i.maxConcurrency)??5,o=Math.min(s,n.length),a=this._client,l=n.values(),u=[...r];async function h(f){for(let p of f){const g=await a.files.create({file:p,purpose:"assistants"},i);u.push(g.id)}}const d=Array(o).fill(l).map(h);return await bZ(d),await this.createAndPoll(e,{file_ids:u})}}class L2 extends te{create(e,n,r){return this._client.post(U`/vector_stores/${e}/files`,{body:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{vector_store_id:i}=n;return this._client.get(U`/vector_stores/${i}/files/${e}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{vector_store_id:i,...s}=n;return this._client.post(U`/vector_stores/${i}/files/${e}`,{body:s,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList(U`/vector_stores/${e}/files`,gt,{query:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n,r){const{vector_store_id:i}=n;return this._client.delete(U`/vector_stores/${i}/files/${e}`,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}async poll(e,n,r){var s;const i=Z([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((s=r==null?void 0:r.pollIntervalMs)==null?void 0:s.toString())??void 0}]);for(;;){const o=await this.retrieve(n,{vector_store_id:e},{...r,headers:i}).withResponse(),a=o.data;switch(a.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.response.headers.get("openai-poll-after-ms");if(u){const h=parseInt(u);isNaN(h)||(l=h)}}await Wh(l);break;case"failed":case"completed":return a}}}async upload(e,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,n,r){const i=await this.upload(e,n,r);return await this.poll(e,i.id,r)}content(e,n,r){const{vector_store_id:i}=n;return this._client.getAPIList(U`/vector_stores/${i}/files/${e}/content`,pg,{...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class wg extends te{constructor(){super(...arguments),this.files=new L2(this._client),this.fileBatches=new M2(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get(U`/vector_stores/${e}`,{...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post(U`/vector_stores/${e}`,{body:n,...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",gt,{query:e,...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete(U`/vector_stores/${e}`,{...n,headers:Z([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}search(e,n,r){return this._client.getAPIList(U`/vector_stores/${e}/search`,pg,{body:n,method:"post",...r,headers:Z([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}wg.Files=L2;wg.FileBatches=M2;class N2 extends te{create(e,n){return this._client.post("/videos",Yx({body:e,...n},this._client))}retrieve(e,n){return this._client.get(U`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",om,{query:e,...n})}delete(e,n){return this._client.delete(U`/videos/${e}`,n)}downloadContent(e,n={},r){return this._client.get(U`/videos/${e}/content`,{query:n,...r,headers:Z([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}remix(e,n,r){return this._client.post(U`/videos/${e}/remix`,Yx({body:n,...r},this._client))}}var ja,V2,Kf;class F2 extends te{constructor(){super(...arguments),ja.add(this)}async unwrap(e,n,r=this._client.webhookSecret,i=300){return await this.verifySignature(e,n,r,i),JSON.parse(e)}async verifySignature(e,n,r=this._client.webhookSecret,i=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");V(this,ja,"m",V2).call(this,r);const s=Z([n]).values,o=V(this,ja,"m",Kf).call(this,s,"webhook-signature"),a=V(this,ja,"m",Kf).call(this,s,"webhook-timestamp"),l=V(this,ja,"m",Kf).call(this,s,"webhook-id"),u=parseInt(a,10);if(isNaN(u))throw new Ju("Invalid webhook timestamp format");const h=Math.floor(Date.now()/1e3);if(h-u>i)throw new Ju("Webhook timestamp is too old");if(u>h+i)throw new Ju("Webhook timestamp is too new");const d=o.split(" ").map(S=>S.startsWith("v1,")?S.substring(3):S),f=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),p=l?`${l}.${a}.${e}`:`${a}.${e}`,g=await crypto.subtle.importKey("raw",f,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const S of d)try{const T=Buffer.from(S,"base64");if(await crypto.subtle.verify("HMAC",g,T,new TextEncoder().encode(p)))return}catch{continue}throw new Ju("The given webhook signature does not match the expected signature")}}ja=new WeakSet,V2=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Kf=function(e,n){if(!e)throw new Error("Headers are required");const r=e.get(n);if(r==null)throw new Error(`Missing required header: ${n}`);return r};var jw,nT,Gf,B2;class ge{constructor({baseURL:e=ka("OPENAI_BASE_URL"),apiKey:n=ka("OPENAI_API_KEY"),organization:r=ka("OPENAI_ORG_ID")??null,project:i=ka("OPENAI_PROJECT_ID")??null,webhookSecret:s=ka("OPENAI_WEBHOOK_SECRET")??null,...o}={}){if(jw.add(this),Gf.set(this,void 0),this.completions=new p2(this),this.chat=new zE(this),this.embeddings=new y2(this),this.files=new _2(this),this.images=new C2(this),this.audio=new qh(this),this.moderations=new I2(this),this.models=new R2(this),this.fineTuning=new su(this),this.graders=new ZE(this),this.vectorStores=new wg(this),this.webhooks=new F2(this),this.beta=new iu(this),this.batches=new o2(this),this.uploads=new tT(this),this.responses=new _g(this),this.realtime=new vg(this),this.conversations=new KE(this),this.evals=new XE(this),this.containers=new qE(this),this.videos=new N2(this),n===void 0)throw new ne("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const a={apiKey:n,organization:r,project:i,webhookSecret:s,...o,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&RJ())throw new ne(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=a.baseURL,this.timeout=a.timeout??nT.DEFAULT_TIMEOUT,this.logger=a.logger??console;const l="warn";this.logLevel=l,this.logLevel=Gx(a.logLevel,"ClientOptions.logLevel",this)??Gx(ka("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??l,this.fetchOptions=a.fetchOptions,this.maxRetries=a.maxRetries??2,this.fetch=a.fetch??kJ(),ae(this,Gf,DJ),this._options=a,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=r,this.project=i,this.webhookSecret=s}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return Z([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return BJ(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Fa}`}defaultIdempotencyKey(){return`stainless-node-retry-${lN()}`}makeStatusError(e,n,r,i){return Wt.generate(e,n,r,i)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(r){throw r instanceof ne?r:new ne(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof n!="string"||!n)throw new ne(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,r){const i=!V(this,jw,"m",B2).call(this)&&r||this.baseURL,s=SJ(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return EJ(o)||(n={...o,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>({method:e,path:n,...i})))}request(e,n=null){return new fg(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var _,y;const i=await e,s=i.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(i);const{req:o,url:a,timeout:l}=await this.buildRequest(i,{retryCount:s-n});await this.prepareRequest(o,{url:a,options:i});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=r===void 0?"":`, retryOf: ${r}`,d=Date.now();if(Vt(this).debug(`[${u}] sending request`,xo({retryOfRequestLogID:r,method:i.method,url:a,options:i,headers:o.headers})),(_=i.signal)!=null&&_.aborted)throw new Qn;const f=new AbortController,p=await this.fetchWithTimeout(a,o,l,f).catch(xw),g=Date.now();if(p instanceof globalThis.Error){const E=`retrying, ${n} attempts remaining`;if((y=i.signal)!=null&&y.aborted)throw new Qn;const P=Iw(p)||/timed? ?out/i.test(String(p)+("cause"in p?String(p.cause):""));if(n)return Vt(this).info(`[${u}] connection ${P?"timed out":"failed"} - ${E}`),Vt(this).debug(`[${u}] connection ${P?"timed out":"failed"} (${E})`,xo({retryOfRequestLogID:r,url:a,durationMs:g-d,message:p.message})),this.retryRequest(i,n,r??u);throw Vt(this).info(`[${u}] connection ${P?"timed out":"failed"} - error; no more retries left`),Vt(this).debug(`[${u}] connection ${P?"timed out":"failed"} (error; no more retries left)`,xo({retryOfRequestLogID:r,url:a,durationMs:g-d,message:p.message})),P?new ME:new hg({cause:p})}const S=[...p.headers.entries()].filter(([E])=>E==="x-request-id").map(([E,P])=>", "+E+": "+JSON.stringify(P)).join(""),T=`[${u}${h}${S}] ${o.method} ${a} ${p.ok?"succeeded":"failed"} with status ${p.status} in ${g-d}ms`;if(!p.ok){const E=await this.shouldRetry(p);if(n&&E){const R=`retrying, ${n} attempts remaining`;return await OJ(p.body),Vt(this).info(`${T} - ${R}`),Vt(this).debug(`[${u}] response error (${R})`,xo({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,durationMs:g-d})),this.retryRequest(i,n,r??u,p.headers)}const P=E?"error; no more retries left":"error; not retryable";Vt(this).info(`${T} - ${P}`);const M=await p.text().catch(R=>xw(R).message),D=CJ(M),b=D?void 0:M;throw Vt(this).debug(`[${u}] response error (${P})`,xo({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,message:b,durationMs:Date.now()-d})),this.makeStatusError(p.status,D,b,p.headers)}return Vt(this).info(T),Vt(this).debug(`[${u}] response start`,xo({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,durationMs:g-d})),{response:p,options:i,controller:f,requestLogID:u,retryOfRequestLogID:r,startTime:d}}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}requestAPIList(e,n){const r=this.makeRequest(n,null,void 0);return new GJ(this,r,e)}async fetchWithTimeout(e,n,r,i){const{signal:s,method:o,...a}=n||{};s&&s.addEventListener("abort",()=>i.abort());const l=setTimeout(()=>i.abort(),r),u=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,h={signal:i.signal,...u?{duplex:"half"}:{},method:"GET",...a};o&&(h.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(l)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){let s;const o=i==null?void 0:i.get("retry-after-ms");if(o){const l=parseFloat(o);Number.isNaN(l)||(s=l)}const a=i==null?void 0:i.get("retry-after");if(a&&!s){const l=parseFloat(a);Number.isNaN(l)?s=Date.parse(a)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await Wh(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,o=Math.min(.5*Math.pow(2,s),8),a=1-Math.random()*.25;return o*a*1e3}async buildRequest(e,{retryCount:n=0}={}){const r={...e},{method:i,path:s,query:o,defaultBaseURL:a}=r,l=this.buildURL(s,o,a);"timeout"in r&&bJ("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:u,body:h}=this.buildBody({options:r}),d=await this.buildHeaders({options:e,method:i,bodyHeaders:u,retryCount:n});return{req:{method:i,headers:d,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"},...h&&{body:h},...this.fetchOptions??{},...r.fetchOptions??{}},url:l,timeout:r.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const o=Z([s,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...PJ(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(o),o.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Z([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:SN(e)}:V(this,Gf,"f").call(this,{body:e,headers:r})}}nT=ge,Gf=new WeakMap,jw=new WeakSet,B2=function(){return this.baseURL!=="https://api.openai.com/v1"};ge.OpenAI=nT;ge.DEFAULT_TIMEOUT=6e5;ge.OpenAIError=ne;ge.APIError=Wt;ge.APIConnectionError=hg;ge.APIConnectionTimeoutError=ME;ge.APIUserAbortError=Qn;ge.NotFoundError=dN;ge.ConflictError=fN;ge.RateLimitError=mN;ge.BadRequestError=uN;ge.AuthenticationError=cN;ge.InternalServerError=gN;ge.PermissionDeniedError=hN;ge.UnprocessableEntityError=pN;ge.InvalidWebhookSignatureError=Ju;ge.toFile=ZJ;ge.Completions=p2;ge.Chat=zE;ge.Embeddings=y2;ge.Files=_2;ge.Images=C2;ge.Audio=qh;ge.Moderations=I2;ge.Models=R2;ge.FineTuning=su;ge.Graders=ZE;ge.VectorStores=wg;ge.Webhooks=F2;ge.Beta=iu;ge.Batches=o2;ge.Uploads=tT;ge.Responses=_g;ge.Realtime=vg;ge.Conversations=KE;ge.Evals=XE;ge.Containers=qE;ge.Videos=N2;const CZ=()=>localStorage.getItem("openai_api_key"),j2=()=>{const t=CZ();if(!t)throw new Error("OpenAI API Key not found. Please add it in the Account settings.");return new ge({apiKey:t,dangerouslyAllowBrowser:!0})};async function RZ(t){try{const n=await j2().chat.completions.create({model:"gpt-4o",messages:[{role:"user",content:[{type:"text",text:"Analyze this clothing item. Return a JSON object with the following fields: 'type' (e.g., shirt, pants, dress), 'color' (primary color), 'style' (e.g., casual, formal, sporty), 'tags' (array of 3-5 descriptive keywords), and 'refreshCycle' (suggested number of days before re-wearing, e.g., 1 for underwear, 7 for shirts, 14 for pants)."},{type:"image_url",image_url:{url:t}}]}],response_format:{type:"json_object"}});return JSON.parse(n.choices[0].message.content)}catch(e){return console.error("Error analyzing image:",e),{type:"unknown",color:"unknown",style:"unknown",tags:["manual-entry"],refreshCycle:7}}}async function $2(t,e){try{const n=t.map(a=>({id:a.id,type:a.type,color:a.color,tags:a.tags,style:a.style,rating:a.rating||3,wearCount:a.wearCount||0})),r=`
      I need 3 outfit suggestions from the following wardrobe items:
      ${JSON.stringify(n)}

      Criteria:
      - Destination: ${e.destination}
      - Temperature: ${e.temperature}
      - Style Preference: ${e.style}

      Rules:
      1. Prioritize items with higher 'rating'.
      2. Consider 'wearCount' - if an item has a high rating but low wear count, suggest it more.
      3. Ensure the outfits are appropriate for the temperature and destination.

      Please select 3 distinct outfits. For each outfit, provide:
      1. A short summary explaining why it fits the criteria.
      2. The list of item IDs used in the outfit.
      
      Return the result as a JSON object with a key "outfits" containing an array of the 3 suggestions.
    `,s=await j2().chat.completions.create({model:"gpt-4o",messages:[{role:"system",content:"You are a helpful fashion stylist assistant."},{role:"user",content:r}],response_format:{type:"json_object"}});return JSON.parse(s.choices[0].message.content).outfits}catch(n){return console.error("Error generating outfits:",n),[]}}const dA=(t,e=800,n=800)=>new Promise(r=>{let i=new Image;i.src=t,i.onload=()=>{let s=document.createElement("canvas"),o=i.width,a=i.height;o>a?o>e&&(a*=e/o,o=e):a>n&&(o*=n/a,a=n),s.width=o,s.height=a,s.getContext("2d").drawImage(i,0,0,o,a),r(s.toDataURL("image/jpeg",.7))}});function IZ(){const[t,e]=C.useState(null),[n,r]=C.useState(!1),[i,s]=C.useState(null),o=C.useRef(null),{addItem:a}=cg(),l=Wl(),u=oi();C.useEffect(()=>{var g;(g=u.state)!=null&&g.image&&(async()=>{const T=await dA(u.state.image);e(T),d(T)})()},[]);const h=g=>{const S=g.target.files[0];if(S){const T=new FileReader;T.onloadend=async()=>{const _=await dA(T.result);e(_),d(_)},T.readAsDataURL(S)}},d=async g=>{r(!0);try{const S=await RZ(g);s(S)}catch(S){console.error("Analysis failed",S),alert("Failed to analyze image. Please try again.")}finally{r(!1)}},f=async()=>{if(t&&i)try{await a({imageUri:t,...i,lastWorn:null}),l("/closet")}catch(g){console.error("Failed to save item:",g),alert("Failed to save item. Please try again.")}},p=()=>{e(null),s(null)};return O.jsxs(wr,{contentContainerStyle:qe.container,children:[O.jsx(H,{style:qe.title,children:"Add New Item"}),t?O.jsxs(X,{style:qe.previewContainer,children:[O.jsx(Cr,{source:{uri:t},style:qe.previewImage}),n?O.jsxs(X,{style:qe.loadingContainer,children:[O.jsx(Th,{size:"large",color:"#007AFF"}),O.jsx(H,{style:qe.loadingText,children:"Analyzing your item..."})]}):i?O.jsxs(X,{style:qe.formContainer,children:[O.jsx(H,{style:qe.label,children:"Type:"}),O.jsx(Nn,{style:qe.input,value:i.type,onChangeText:g=>s({...i,type:g})}),O.jsx(H,{style:qe.label,children:"Color:"}),O.jsx(Nn,{style:qe.input,value:i.color,onChangeText:g=>s({...i,color:g})}),O.jsx(H,{style:qe.label,children:"Style:"}),O.jsx(Nn,{style:qe.input,value:i.style,onChangeText:g=>s({...i,style:g})}),O.jsx(H,{style:qe.label,children:"Tags:"}),O.jsx(H,{style:qe.tags,children:i.tags.join(", ")}),O.jsxs(X,{style:qe.buttonGroup,children:[O.jsx(Ce,{style:[qe.button,qe.secondaryButton],onPress:p,children:O.jsx(H,{style:qe.secondaryButtonText,children:"Retake"})}),O.jsx(Ce,{style:qe.button,onPress:f,children:O.jsx(H,{style:qe.buttonText,children:"Save to Closet"})})]})]}):null]}):O.jsxs(X,{style:qe.uploadContainer,children:[O.jsx(Ce,{style:qe.button,onPress:()=>o.current.click(),children:O.jsx(H,{style:qe.buttonText,children:"Take Photo / Upload"})}),O.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:o,style:{display:"none"},onChange:h})]})]})}const qe=Ae.create({container:{flexGrow:1,padding:20,alignItems:"center"},title:{fontSize:24,fontWeight:"bold",marginBottom:20},uploadContainer:{flex:1,justifyContent:"center",alignItems:"center",width:"100%"},previewContainer:{width:"100%",alignItems:"center"},previewImage:{width:300,height:300,borderRadius:10,marginBottom:20},loadingContainer:{alignItems:"center"},loadingText:{marginTop:10,color:"#666"},formContainer:{width:"100%"},label:{fontWeight:"bold",marginTop:10,marginBottom:5},input:{borderWidth:1,borderColor:"#ddd",padding:10,borderRadius:5,backgroundColor:"#fff"},tags:{fontStyle:"italic",color:"#666",marginBottom:20},buttonGroup:{flexDirection:"row",justifyContent:"space-between",marginTop:20},button:{backgroundColor:"#007AFF",padding:15,borderRadius:10,alignItems:"center",flex:1,marginHorizontal:5},buttonText:{color:"#fff",fontWeight:"bold"},secondaryButton:{backgroundColor:"#fff",borderWidth:1,borderColor:"#007AFF"},secondaryButtonText:{color:"#007AFF",fontWeight:"bold"}});function xZ(){const{items:t,isItemAvailable:e,addToSchedule:n}=cg(),r=Wl(),[i,s]=C.useState(""),[o,a]=C.useState(""),[l,u]=C.useState(""),[h,d]=C.useState(!1),[f,p]=C.useState([]),[g,S]=C.useState(null),[T,_]=C.useState(!1),[y,E]=C.useState(new Date().toISOString().split("T")[0]),P=async()=>{if(!i||!o||!l){alert("Please fill in all fields");return}d(!0);const w=t.filter(e);try{const R=await $2(w,{destination:i,temperature:o,style:l});p(R)}catch(R){console.error("Failed to generate outfits",R),alert("Failed to generate suggestions. Please try again.")}finally{d(!1)}},M=w=>{S(w),_(!0)},D=()=>{g&&y&&(n(y,g.items),_(!1),S(null),alert("Outfit scheduled!"),r("/schedule"))},b=w=>t.find(R=>R.id===w);return O.jsxs(wr,{contentContainerStyle:xe.container,children:[O.jsx(H,{style:xe.title,children:"Virtual Dressing Room"}),O.jsxs(X,{style:xe.form,children:[O.jsx(H,{style:xe.label,children:"Destination / Occasion"}),O.jsx(Nn,{style:xe.input,placeholder:"e.g. Work, Date Night, Gym",value:i,onChangeText:s}),O.jsx(H,{style:xe.label,children:"Temperature"}),O.jsx(Nn,{style:xe.input,placeholder:"e.g. 75F, Cold, Rainy",value:o,onChangeText:a}),O.jsx(H,{style:xe.label,children:"Style Preference"}),O.jsx(Nn,{style:xe.input,placeholder:"e.g. Casual, Chic, Edgy",value:l,onChangeText:u}),O.jsx(Ce,{style:[xe.button,h&&xe.disabledButton],onPress:P,disabled:h,children:h?O.jsx(Th,{color:"#fff"}):O.jsx(H,{style:xe.buttonText,children:"Generate Outfits"})})]}),f.length>0&&O.jsxs(X,{style:xe.results,children:[O.jsx(H,{style:xe.subtitle,children:"Suggestions"}),f.map((w,R)=>O.jsxs(X,{style:xe.outfitCard,children:[O.jsx(H,{style:xe.outfitSummary,children:w.summary}),O.jsx(wr,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:xe.itemsRow,children:w.items.map(I=>{const A=b(I);return A?O.jsxs(X,{style:xe.itemPreview,children:[O.jsx(Cr,{source:{uri:A.imageUri},style:xe.itemImage}),O.jsx(H,{style:xe.itemType,children:A.type})]},I):null})}),O.jsx(Ce,{style:xe.scheduleButton,onPress:()=>M(w),children:O.jsx(H,{style:xe.scheduleButtonText,children:"Schedule This Outfit"})})]},R))]}),O.jsx(eh,{visible:T,transparent:!0,animationType:"slide",children:O.jsx(X,{style:xe.modalContainer,children:O.jsxs(X,{style:xe.modalContent,children:[O.jsx(H,{style:xe.modalTitle,children:"Select Date"}),O.jsx("input",{type:"date",value:y,onChange:w=>E(w.target.value),style:xe.dateInput}),O.jsxs(X,{style:xe.modalButtons,children:[O.jsx(Ce,{style:[xe.button,xe.cancelButton],onPress:()=>_(!1),children:O.jsx(H,{style:xe.cancelButtonText,children:"Cancel"})}),O.jsx(Ce,{style:xe.button,onPress:D,children:O.jsx(H,{style:xe.buttonText,children:"Confirm"})})]})]})})})]})}const xe=Ae.create({container:{flexGrow:1,padding:20},title:{fontSize:24,fontWeight:"bold",marginBottom:20,textAlign:"center"},form:{backgroundColor:"#fff",padding:20,borderRadius:10,marginBottom:20,elevation:2},label:{fontWeight:"bold",marginBottom:5,color:"#333"},input:{borderWidth:1,borderColor:"#ddd",padding:10,borderRadius:5,marginBottom:15,backgroundColor:"#f9f9f9"},button:{backgroundColor:"#007AFF",padding:15,borderRadius:10,alignItems:"center"},disabledButton:{backgroundColor:"#99c9ff"},buttonText:{color:"#fff",fontWeight:"bold",fontSize:16},results:{marginTop:10,paddingBottom:40},subtitle:{fontSize:20,fontWeight:"bold",marginBottom:15},outfitCard:{backgroundColor:"#fff",padding:15,borderRadius:10,marginBottom:15,elevation:2},outfitSummary:{fontSize:16,marginBottom:10,lineHeight:22},itemsRow:{flexDirection:"row",marginTop:10,marginBottom:15},itemPreview:{marginRight:15,alignItems:"center"},itemImage:{width:80,height:80,borderRadius:5,marginBottom:5},itemType:{fontSize:12,color:"#666",textTransform:"capitalize"},scheduleButton:{backgroundColor:"#34C759",padding:10,borderRadius:5,alignItems:"center"},scheduleButtonText:{color:"#fff",fontWeight:"bold"},modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.5)"},modalContent:{backgroundColor:"#fff",padding:20,borderRadius:10,width:"80%",alignItems:"center"},modalTitle:{fontSize:18,fontWeight:"bold",marginBottom:20},dateInput:{padding:10,fontSize:16,marginBottom:20,width:"100%",border:"1px solid #ddd",borderRadius:5},modalButtons:{flexDirection:"row",justifyContent:"space-between",width:"100%"},cancelButton:{backgroundColor:"#fff",borderWidth:1,borderColor:"#ddd",marginRight:10},cancelButtonText:{color:"#333"}}),av=async(t,e)=>{try{const r=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${e}&daily=temperature_2m_max,temperature_2m_min,weathercode&temperature_unit=fahrenheit&timezone=auto`)).json(),i={};return r.daily.time.forEach((s,o)=>{i[s]={max:Math.round(r.daily.temperature_2m_max[o]),min:Math.round(r.daily.temperature_2m_min[o]),code:r.daily.weathercode[o]}}),i}catch(n){return console.error("Error fetching weather:",n),null}},AZ=t=>({0:"Clear sky",1:"Mainly clear",2:"Partly cloudy",3:"Overcast",45:"Fog",48:"Depositing rime fog",51:"Light drizzle",53:"Moderate drizzle",55:"Dense drizzle",61:"Slight rain",63:"Moderate rain",65:"Heavy rain",71:"Slight snow",73:"Moderate snow",75:"Heavy snow",95:"Thunderstorm"})[t]||"Variable";function PZ(){const{schedule:t,items:e,markAsWorn:n,addToSchedule:r,isItemAvailable:i}=cg(),[s,o]=C.useState({}),[a,l]=C.useState(!1),[u,h]=C.useState(null),[d,f]=C.useState(!1),[p,g]=C.useState([]),[S,T]=C.useState({destination:"",style:"",temperature:""});C.useEffect(()=>{(async()=>{if(navigator.geolocation)navigator.geolocation.getCurrentPosition(async A=>{const L=await av(A.coords.latitude,A.coords.longitude);L&&o(L)},async()=>{const A=await av(40.7128,-74.006);A&&o(A)});else{const A=await av(40.7128,-74.006);A&&o(A)}})()},[]);const _=()=>{const w=[];for(let R=0;R<7;R++){const I=new Date;I.setDate(I.getDate()+R),w.push(I.toISOString().split("T")[0])}return w},y=w=>e.find(R=>R.id===w),E=(w,R)=>{confirm("Mark this outfit as worn? Items will be unavailable for their refresh cycle.")&&n(R,w)},P=w=>{h(w),g([]),T({destination:"",style:"",temperature:""}),l(!0)},M=async()=>{f(!0);try{const w=s[u],R=w?`${w.max}F / ${w.min}F`:"Unknown",I=e.filter(i),A=await $2(I,{destination:S.destination,temperature:S.temperature||R,style:S.style});A&&A.outfits&&g(A.outfits)}catch(w){console.error("Generation failed",w),alert("Failed to generate outfits. Check your API key.")}finally{f(!1)}},D=w=>{r(u,w.itemIds),l(!1)},b=_();return O.jsxs(wr,{contentContainerStyle:Te.container,children:[O.jsx(H,{style:Te.title,children:"Outfit Schedule"}),b.map(w=>{const R=t[w],I=new Date(w),A=I.toLocaleDateString("en-US",{weekday:"long"}),L=I.toLocaleDateString("en-US",{month:"short",day:"numeric"}),k=s[w];return O.jsxs(X,{style:Te.dayCard,children:[O.jsxs(X,{style:Te.dateHeader,children:[O.jsxs(X,{children:[O.jsx(H,{style:Te.dayName,children:A}),O.jsx(H,{style:Te.dateText,children:L})]}),k&&O.jsxs(X,{style:Te.weatherContainer,children:[O.jsxs(H,{style:Te.weatherTemp,children:[k.max," / ",k.min,""]}),O.jsx(H,{style:Te.weatherDesc,children:AZ(k.code)})]})]}),R?O.jsxs(X,{children:[O.jsx(wr,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:Te.itemsRow,children:R.map(le=>{const he=y(le);return he?O.jsxs(X,{style:Te.itemPreview,children:[O.jsx(Cr,{source:{uri:he.imageUri||he.image},style:Te.itemImage}),O.jsx(H,{style:Te.itemType,children:he.type})]},le):null})}),O.jsx(Ce,{style:Te.wearButton,onPress:()=>E(w,R),children:O.jsx(H,{style:Te.wearButtonText,children:"Wear This Outfit"})})]}):O.jsx(Ce,{style:Te.generateButton,onPress:()=>P(w),children:O.jsx(H,{style:Te.generateButtonText,children:"+ Generate Outfit"})})]},w)}),O.jsx(eh,{visible:a,animationType:"slide",onRequestClose:()=>l(!1),children:O.jsxs(X,{style:Te.modalContainer,children:[O.jsxs(H,{style:Te.modalTitle,children:["Plan for ",u]}),O.jsxs(wr,{style:{flex:1},children:[O.jsxs(X,{style:{marginBottom:20},children:[O.jsx(H,{style:Te.label,children:"Destination / Occasion"}),O.jsx(Nn,{style:Te.input,placeholder:"e.g. Work, Date Night, Gym",value:S.destination,onChangeText:w=>T(R=>({...R,destination:w}))}),O.jsx(H,{style:Te.label,children:"Temperature"}),O.jsx(Nn,{style:Te.input,placeholder:"e.g. 75F, Cold, Rainy (Leave blank to use forecast)",value:S.temperature,onChangeText:w=>T(R=>({...R,temperature:w}))}),O.jsx(H,{style:Te.label,children:"Style Preference"}),O.jsx(Nn,{style:Te.input,placeholder:"e.g. Casual, Chic, Edgy",value:S.style,onChangeText:w=>T(R=>({...R,style:w}))})]}),O.jsx(Ce,{style:[Te.genButton,d&&{opacity:.7}],onPress:M,disabled:d,children:d?O.jsx(Th,{color:"#fff"}):O.jsx(H,{style:Te.genButtonText,children:"Generate Suggestions"})}),p.map((w,R)=>O.jsxs(Ce,{style:Te.suggestionCard,onPress:()=>D(w),children:[O.jsx(H,{style:Te.suggestionSummary,children:w.reason||w.summary}),O.jsx(wr,{horizontal:!0,children:w.itemIds.map(I=>{const A=y(I);return A?O.jsx(Cr,{source:{uri:A.imageUri||A.image},style:Te.smallImage},I):null})}),O.jsx(X,{style:Te.selectButton,children:O.jsx(H,{style:Te.selectButtonText,children:"Select This Outfit"})})]},R))]}),O.jsx(Ce,{style:Te.closeButton,onPress:()=>l(!1),children:O.jsx(H,{style:Te.closeButtonText,children:"Close"})})]})})]})}const Te=Ae.create({container:{flexGrow:1,padding:20,paddingBottom:80},title:{fontSize:24,fontWeight:"bold",marginBottom:20,textAlign:"center"},dayCard:{backgroundColor:"#fff",borderRadius:10,padding:15,marginBottom:15,elevation:2},dateHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},weatherContainer:{alignItems:"flex-end"},weatherTemp:{fontSize:16,fontWeight:"bold"},weatherDesc:{fontSize:12,color:"#666"},generateButton:{backgroundColor:"#f0f0f0",padding:15,borderRadius:8,alignItems:"center",borderWidth:1,borderColor:"#ddd",borderStyle:"dashed"},generateButtonText:{color:"#007AFF",fontSize:16},modalContainer:{flex:1,padding:20,backgroundColor:"#fff"},modalTitle:{fontSize:22,fontWeight:"bold",marginBottom:10,textAlign:"center"},modalWeather:{textAlign:"center",marginBottom:20,color:"#666"},genButton:{backgroundColor:"#007AFF",padding:15,borderRadius:10,alignItems:"center",marginBottom:10},genButtonText:{color:"#fff",fontWeight:"bold",fontSize:16},suggestionCard:{borderWidth:1,borderColor:"#ddd",borderRadius:10,padding:15,marginBottom:20},suggestionSummary:{marginBottom:10,fontStyle:"italic"},smallImage:{width:60,height:60,borderRadius:5,marginRight:5},selectButton:{backgroundColor:"#34C759",padding:10,borderRadius:5,alignItems:"center",marginTop:10},selectButtonText:{color:"#fff",fontWeight:"bold"},closeButton:{padding:15,alignItems:"center"},closeButtonText:{color:"red"},dayName:{fontSize:18,fontWeight:"bold"},dateText:{color:"#666"},itemsRow:{flexDirection:"row",marginBottom:10},itemPreview:{marginRight:10,alignItems:"center"},itemImage:{width:80,height:80,borderRadius:8,marginBottom:5},itemType:{fontSize:12},wearButton:{backgroundColor:"#007AFF",padding:10,borderRadius:5,alignItems:"center"},wearButtonText:{color:"#fff",fontWeight:"bold"},emptyText:{textAlign:"center",color:"#999",fontStyle:"italic",padding:10}});function kZ(){const[t,e]=C.useState(""),[n,r]=C.useState(""),[i,s]=C.useState(!0),[o,a]=C.useState(!1),[l,u]=C.useState(""),[h,d]=C.useState(!1),[f,p]=C.useState(""),g=async()=>{u(""),p(""),a(!0);try{h?(await sK(t),p("Check your email for password reset instructions."),d(!1)):i?await nK(t,n):await rK(t,n)}catch(S){u(S.message.replace("Firebase: ",""))}finally{a(!1)}};return O.jsxs(X,{style:dn.container,children:[O.jsx(Cr,{source:{uri:"/pwa-192x192.png"},style:{width:100,height:100,marginBottom:20,alignSelf:"center"}}),O.jsxs(X,{style:dn.card,children:[O.jsx(H,{style:dn.title,children:h?"Reset Password":i?"Pocket Stylist Login":"Create Account"}),l?O.jsx(H,{style:dn.error,children:l}):null,f?O.jsx(H,{style:dn.success,children:f}):null,O.jsx(Nn,{style:dn.input,placeholder:"Email",value:t,onChangeText:e,autoCapitalize:"none",keyboardType:"email-address"}),!h&&O.jsx(Nn,{style:dn.input,placeholder:"Password",value:n,onChangeText:r,secureTextEntry:!0}),O.jsx(Ce,{style:dn.button,onPress:g,disabled:o,children:o?O.jsx(Th,{color:"#fff"}):O.jsx(H,{style:dn.buttonText,children:h?"Send Reset Email":i?"Log In":"Sign Up"})}),O.jsx(X,{style:dn.footer,children:h?O.jsx(Ce,{onPress:()=>d(!1),children:O.jsx(H,{style:dn.link,children:"Back to Login"})}):O.jsxs(O.Fragment,{children:[O.jsx(Ce,{onPress:()=>s(!i),children:O.jsx(H,{style:dn.link,children:i?"Need an account? Sign Up":"Have an account? Log In"})}),O.jsx(Ce,{onPress:()=>d(!0),children:O.jsx(H,{style:[dn.link,dn.forgotLink],children:"Forgot Password?"})})]})})]})]})}const dn=Ae.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5",padding:20,height:"100vh"},card:{backgroundColor:"#fff",padding:30,borderRadius:15,width:"100%",maxWidth:400,elevation:5,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4},title:{fontSize:24,fontWeight:"bold",marginBottom:20,textAlign:"center",color:"#333"},input:{backgroundColor:"#f9f9f9",padding:15,borderRadius:8,marginBottom:15,borderWidth:1,borderColor:"#eee"},button:{backgroundColor:"#007AFF",padding:15,borderRadius:8,alignItems:"center",marginTop:10},buttonText:{color:"#fff",fontWeight:"bold",fontSize:16},error:{color:"red",marginBottom:15,textAlign:"center"},success:{color:"green",marginBottom:15,textAlign:"center"},footer:{marginTop:20,alignItems:"center"},link:{color:"#007AFF",marginTop:10},forgotLink:{color:"#666",fontSize:12}});function OZ(){const t=Wl(),e=oi(),n=[{name:"Home",path:"/"},{name:"Closet",path:"/closet"},{name:"Style",path:"/outfits"},{name:"Plan",path:"/schedule"}];return O.jsx(X,{style:Bu.navBar,children:n.map(r=>{const i=e.pathname===r.path;return O.jsx(Ce,{style:[Bu.tab,i&&Bu.activeTab],onPress:()=>t(r.path),children:O.jsx(H,{style:[Bu.tabText,i&&Bu.activeTabText],children:r.name})},r.name)})})}const Bu=Ae.create({navBar:{flexDirection:"row",justifyContent:"space-around",backgroundColor:Hr.colors.background,borderTopWidth:1,borderTopColor:Hr.colors.border,paddingBottom:20,paddingTop:10,position:"absolute",bottom:0,left:0,right:0},tab:{alignItems:"center",padding:10},activeTab:{borderBottomWidth:2,borderBottomColor:Hr.colors.highlight},tabText:{fontSize:16,color:Hr.colors.secondaryText},activeTabText:{color:Hr.colors.highlight,fontWeight:"bold"}});function DZ({visible:t,onClose:e}){const n=eu.currentUser,[r,i]=C.useState("");C.useEffect(()=>{n&&cJ(n.uid).then(a=>{if(a!=null&&a.openai_api_key)i(a.openai_api_key),localStorage.setItem("openai_api_key",a.openai_api_key);else{const l=localStorage.getItem("openai_api_key");l&&i(l)}})},[n,t]);const s=async()=>{n&&(await uJ(n.uid,{openai_api_key:r}),localStorage.setItem("openai_api_key",r),alert("API Key saved to account!"))},o=async()=>{try{await iK(),e()}catch(a){console.error("Failed to log out",a)}};return O.jsx(eh,{visible:t,transparent:!0,animationType:"fade",onRequestClose:e,children:O.jsxs(X,{style:Gt.overlay,children:[O.jsx(Ce,{style:Ae.absoluteFill,activeOpacity:1,onPress:e}),O.jsxs(X,{style:Gt.modalContent,children:[O.jsx(H,{style:Gt.title,children:"Account"}),O.jsxs(X,{style:Gt.info,children:[O.jsx(H,{style:Gt.label,children:"Email"}),O.jsx(H,{style:Gt.value,children:n==null?void 0:n.email})]}),O.jsxs(X,{style:Gt.section,children:[O.jsx(H,{style:Gt.label,children:"OpenAI API Key"}),O.jsx("input",{type:"password",style:{width:"100%",padding:10,marginBottom:10,border:"1px solid #ddd",borderRadius:8,fontSize:16,boxSizing:"border-box"},placeholder:"sk-...",value:r,onChange:a=>i(a.target.value)}),O.jsx(Ce,{style:Gt.saveButton,onPress:s,children:O.jsx(H,{style:Gt.saveButtonText,children:"Save Key"})})]}),O.jsx(Ce,{style:Gt.refreshButton,onPress:()=>window.location.reload(),children:O.jsx(H,{style:Gt.refreshButtonText,children:"Refresh App"})}),O.jsx(Ce,{style:Gt.logoutButton,onPress:o,children:O.jsx(H,{style:Gt.logoutText,children:"Log Out"})}),O.jsx(Ce,{style:Gt.closeButton,onPress:e,children:O.jsx(H,{style:Gt.closeText,children:"Close"})})]})]})})}const Gt=Ae.create({overlay:{flex:1,backgroundColor:"rgba(0,0,0,0.5)",justifyContent:"center",alignItems:"center"},modalContent:{backgroundColor:"#fff",width:"80%",maxWidth:300,borderRadius:15,padding:20,alignItems:"center",elevation:5},title:{fontSize:20,fontWeight:"bold",marginBottom:20},info:{marginBottom:20,alignItems:"center"},section:{width:"100%",marginBottom:20},label:{color:"#666",fontSize:12,marginBottom:5},value:{fontSize:16,fontWeight:"500"},input:{borderWidth:1,borderColor:"#ddd",borderRadius:8,padding:10,marginBottom:10,width:"100%"},saveButton:{backgroundColor:"#007AFF",padding:10,borderRadius:8,alignItems:"center"},saveButtonText:{color:"#fff",fontWeight:"bold"},refreshButton:{backgroundColor:"#34C759",paddingVertical:12,paddingHorizontal:30,borderRadius:25,marginBottom:10,width:"100%",alignItems:"center"},refreshButtonText:{color:"#fff",fontWeight:"bold"},logoutButton:{backgroundColor:"#FF3B30",paddingVertical:12,paddingHorizontal:30,borderRadius:25,marginBottom:10,width:"100%",alignItems:"center"},logoutText:{color:"#fff",fontWeight:"bold"},closeButton:{padding:10},closeText:{color:"#007AFF"}}),ju=({children:t})=>O.jsx(oJ.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"-100%"},transition:{type:"tween",ease:"easeInOut",duration:.3},style:{height:"100%",width:"100%",backgroundColor:"#ffffff"},children:t});function MZ(){const{currentUser:t}=bM(),[e,n]=C.useState(!1),r=Wl(),i=oi(),s=["/","/closet","/outfits","/schedule"],o=yK({onSwipedLeft:()=>{const a=s.indexOf(i.pathname);a<s.length-1&&r(s[a+1])},onSwipedRight:()=>{const a=s.indexOf(i.pathname);a>0&&r(s[a-1])},preventScrollOnSwipe:!1,trackMouse:!0,delta:50});return t?O.jsxs(X,{style:lv.container,children:[O.jsxs(X,{style:lv.header,children:[O.jsx(X,{style:{flexDirection:"row",alignItems:"center",flex:1},children:O.jsx(Cr,{source:{uri:aJ},style:{width:260,height:52,resizeMode:"contain",marginLeft:-8}})}),O.jsx(Ce,{onPress:()=>n(!0),children:O.jsx(RK,{size:28,color:Hr.colors.highlight})})]}),O.jsx(X,{style:lv.content,...o,children:O.jsx(AX,{mode:"wait",children:O.jsxs(i5,{location:i,children:[O.jsx(Da,{path:"/",element:O.jsx(ju,{children:O.jsx(lJ,{})})}),O.jsx(Da,{path:"/closet",element:O.jsx(ju,{children:O.jsx(_J,{})})}),O.jsx(Da,{path:"/camera",element:O.jsx(ju,{children:O.jsx(IZ,{})})}),O.jsx(Da,{path:"/outfits",element:O.jsx(ju,{children:O.jsx(xZ,{})})}),O.jsx(Da,{path:"/schedule",element:O.jsx(ju,{children:O.jsx(PZ,{})})})]},i.pathname)})}),O.jsx(OZ,{}),O.jsx(DZ,{visible:e,onClose:()=>n(!1)})]}):O.jsx(kZ,{})}function LZ(){return O.jsx(I5,{children:O.jsx(MZ,{})})}const lv=Ae.create({container:{flex:1,height:"100vh",maxHeight:"100dvh",backgroundColor:"#ffffff",overflow:"hidden",position:"fixed",top:0,left:0,right:0,bottom:0},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:15,backgroundColor:Hr.colors.background,borderBottomWidth:1,borderBottomColor:Hr.colors.border,paddingTop:15,zIndex:10,height:70},headerTitle:{fontSize:18,fontWeight:"bold",color:Hr.colors.text},accountButton:{color:Hr.colors.highlight,fontWeight:"500"},content:{flex:1,paddingBottom:60,overflow:"hidden"}});uv.createRoot(document.getElementById("root")).render(O.jsx(dt.StrictMode,{children:O.jsx(oK,{children:O.jsx(gJ,{children:O.jsx(LZ,{})})})}));
