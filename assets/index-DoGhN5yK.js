(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function el(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var vR={exports:{}},Yf={},_R={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vc=Symbol.for("react.element"),mO=Symbol.for("react.portal"),gO=Symbol.for("react.fragment"),yO=Symbol.for("react.strict_mode"),vO=Symbol.for("react.profiler"),_O=Symbol.for("react.provider"),wO=Symbol.for("react.context"),SO=Symbol.for("react.forward_ref"),EO=Symbol.for("react.suspense"),TO=Symbol.for("react.memo"),bO=Symbol.for("react.lazy"),FS=Symbol.iterator;function RO(t){return t===null||typeof t!="object"?null:(t=FS&&t[FS]||t["@@iterator"],typeof t=="function"?t:null)}var wR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SR=Object.assign,ER={};function tl(t,e,n){this.props=t,this.context=e,this.refs=ER,this.updater=n||wR}tl.prototype.isReactComponent={};tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TR(){}TR.prototype=tl.prototype;function Vv(t,e,n){this.props=t,this.context=e,this.refs=ER,this.updater=n||wR}var Fv=Vv.prototype=new TR;Fv.constructor=Vv;SR(Fv,tl.prototype);Fv.isPureReactComponent=!0;var BS=Array.isArray,bR=Object.prototype.hasOwnProperty,Bv={current:null},RR={key:!0,ref:!0,__self:!0,__source:!0};function CR(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)bR.call(e,r)&&!RR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:vc,type:t,key:s,ref:o,props:i,_owner:Bv.current}}function CO(t,e){return{$$typeof:vc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $v(t){return typeof t=="object"&&t!==null&&t.$$typeof===vc}function IO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $S=/\/+/g;function om(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IO(""+t.key):e.toString(36)}function Jh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vc:case mO:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+om(o,0):r,BS(i)?(n="",t!=null&&(n=t.replace($S,"$&/")+"/"),Jh(i,e,n,"",function(c){return c})):i!=null&&($v(i)&&(i=CO(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($S,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",BS(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+om(s,a);o+=Jh(s,e,n,l,i)}else if(l=RO(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+om(s,a++),o+=Jh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fh(t,e,n){if(t==null)return t;var r=[],i=0;return Jh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function AO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var en={current:null},Zh={transition:null},xO={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:Zh,ReactCurrentOwner:Bv};function IR(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:fh,forEach:function(t,e,n){fh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fh(t,function(){e++}),e},toArray:function(t){return fh(t,function(e){return e})||[]},only:function(t){if(!$v(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=tl;me.Fragment=gO;me.Profiler=vO;me.PureComponent=Vv;me.StrictMode=yO;me.Suspense=EO;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xO;me.act=IR;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=SR({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)bR.call(e,l)&&!RR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:vc,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:wO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_O,_context:t},t.Consumer=t};me.createElement=CR;me.createFactory=function(t){var e=CR.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:SO,render:t}};me.isValidElement=$v;me.lazy=function(t){return{$$typeof:bO,_payload:{_status:-1,_result:t},_init:AO}};me.memo=function(t,e){return{$$typeof:TO,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Zh.transition;Zh.transition={};try{t()}finally{Zh.transition=e}};me.unstable_act=IR;me.useCallback=function(t,e){return en.current.useCallback(t,e)};me.useContext=function(t){return en.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return en.current.useDeferredValue(t)};me.useEffect=function(t,e){return en.current.useEffect(t,e)};me.useId=function(){return en.current.useId()};me.useImperativeHandle=function(t,e,n){return en.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return en.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return en.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return en.current.useMemo(t,e)};me.useReducer=function(t,e,n){return en.current.useReducer(t,e,n)};me.useRef=function(t){return en.current.useRef(t)};me.useState=function(t){return en.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return en.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return en.current.useTransition()};me.version="18.3.1";_R.exports=me;var C=_R.exports;const ot=el(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PO=C,kO=Symbol.for("react.element"),OO=Symbol.for("react.fragment"),DO=Object.prototype.hasOwnProperty,LO=PO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NO={key:!0,ref:!0,__self:!0,__source:!0};function AR(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)DO.call(e,r)&&!NO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:kO,type:t,key:s,ref:o,props:i,_owner:LO.current}}Yf.Fragment=OO;Yf.jsx=AR;Yf.jsxs=AR;vR.exports=Yf;var D=vR.exports,Ig={},xR={exports:{}},In={},PR={exports:{}},kR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,Z){var re=z.length;z.push(Z);e:for(;0<re;){var we=re-1>>>1,Re=z[we];if(0<i(Re,Z))z[we]=Z,z[re]=Re,re=we;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Z=z[0],re=z.pop();if(re!==Z){z[0]=re;e:for(var we=0,Re=z.length,Gt=Re>>>1;we<Gt;){var Je=2*(we+1)-1,It=z[Je],tt=Je+1,Fe=z[tt];if(0>i(It,re))tt<Re&&0>i(Fe,It)?(z[we]=Fe,z[tt]=re,we=tt):(z[we]=It,z[Je]=re,we=Je);else if(tt<Re&&0>i(Fe,re))z[we]=Fe,z[tt]=re,we=tt;else break e}}return Z}function i(z,Z){var re=z.sortIndex-Z.sortIndex;return re!==0?re:z.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,m=!1,v=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=z)r(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(c)}}function k(z){if(E=!1,S(z),!v)if(n(l)!==null)v=!0,Ne(N);else{var Z=n(c);Z!==null&&Kt(k,Z.startTime-z)}}function N(z,Z){v=!1,E&&(E=!1,w(_),_=-1),m=!0;var re=f;try{for(S(Z),d=n(l);d!==null&&(!(d.expirationTime>Z)||z&&!x());){var we=d.callback;if(typeof we=="function"){d.callback=null,f=d.priorityLevel;var Re=we(d.expirationTime<=Z);Z=t.unstable_now(),typeof Re=="function"?d.callback=Re:d===n(l)&&r(l),S(Z)}else r(l);d=n(l)}if(d!==null)var Gt=!0;else{var Je=n(c);Je!==null&&Kt(k,Je.startTime-Z),Gt=!1}return Gt}finally{d=null,f=re,m=!1}}var L=!1,T=null,_=-1,b=5,A=-1;function x(){return!(t.unstable_now()-A<b)}function O(){if(T!==null){var z=t.unstable_now();A=z;var Z=!0;try{Z=T(!0,z)}finally{Z?P():(L=!1,T=null)}}else L=!1}var P;if(typeof y=="function")P=function(){y(O)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ge=ue.port2;ue.port1.onmessage=O,P=function(){ge.postMessage(null)}}else P=function(){R(O,0)};function Ne(z){T=z,L||(L=!0,P())}function Kt(z,Z){_=R(function(){z(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,Ne(N))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(f){case 1:case 2:case 3:var Z=3;break;default:Z=f}var re=f;f=Z;try{return z()}finally{f=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Z){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var re=f;f=z;try{return Z()}finally{f=re}},t.unstable_scheduleCallback=function(z,Z,re){var we=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?we+re:we):re=we,z){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=re+Re,z={id:h++,callback:Z,priorityLevel:z,startTime:re,expirationTime:Re,sortIndex:-1},re>we?(z.sortIndex=re,e(c,z),n(l)===null&&z===n(c)&&(E?(w(_),_=-1):E=!0,Kt(k,re-we))):(z.sortIndex=Re,e(l,z),v||m||(v=!0,Ne(N))),z},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(z){var Z=f;return function(){var re=f;f=Z;try{return z.apply(this,arguments)}finally{f=re}}}})(kR);PR.exports=kR;var MO=PR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VO=C,Cn=MO;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OR=new Set,Bu={};function Ao(t,e){Ba(t,e),Ba(t+"Capture",e)}function Ba(t,e){for(Bu[t]=e,t=0;t<e.length;t++)OR.add(e[t])}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ag=Object.prototype.hasOwnProperty,FO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jS={},US={};function BO(t){return Ag.call(US,t)?!0:Ag.call(jS,t)?!1:FO.test(t)?US[t]=!0:(jS[t]=!0,!1)}function $O(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jO(t,e,n,r){if(e===null||typeof e>"u"||$O(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var jv=/[\-:]([a-z])/g;function Uv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jv,Uv);Lt[e]=new tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jv,Uv);Lt[e]=new tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jv,Uv);Lt[e]=new tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new tn(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function zv(t,e,n,r){var i=Lt.hasOwnProperty(e)?Lt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jO(e,n,i,r)&&(n=null),r||i===null?BO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wi=VO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ph=Symbol.for("react.element"),ha=Symbol.for("react.portal"),da=Symbol.for("react.fragment"),Wv=Symbol.for("react.strict_mode"),xg=Symbol.for("react.profiler"),DR=Symbol.for("react.provider"),LR=Symbol.for("react.context"),Hv=Symbol.for("react.forward_ref"),Pg=Symbol.for("react.suspense"),kg=Symbol.for("react.suspense_list"),qv=Symbol.for("react.memo"),Xi=Symbol.for("react.lazy"),NR=Symbol.for("react.offscreen"),zS=Symbol.iterator;function $l(t){return t===null||typeof t!="object"?null:(t=zS&&t[zS]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,am;function Jl(t){if(am===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);am=e&&e[1]||""}return`
`+am+t}var lm=!1;function um(t,e){if(!t||lm)return"";lm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{lm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jl(t):""}function UO(t){switch(t.tag){case 5:return Jl(t.type);case 16:return Jl("Lazy");case 13:return Jl("Suspense");case 19:return Jl("SuspenseList");case 0:case 2:case 15:return t=um(t.type,!1),t;case 11:return t=um(t.type.render,!1),t;case 1:return t=um(t.type,!0),t;default:return""}}function Og(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case da:return"Fragment";case ha:return"Portal";case xg:return"Profiler";case Wv:return"StrictMode";case Pg:return"Suspense";case kg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LR:return(t.displayName||"Context")+".Consumer";case DR:return(t._context.displayName||"Context")+".Provider";case Hv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qv:return e=t.displayName||null,e!==null?e:Og(t.type)||"Memo";case Xi:e=t._payload,t=t._init;try{return Og(t(e))}catch{}}return null}function zO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Og(e);case 8:return e===Wv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ss(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function MR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WO(t){var e=MR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mh(t){t._valueTracker||(t._valueTracker=WO(t))}function VR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=MR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dg(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function WS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ss(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FR(t,e){e=e.checked,e!=null&&zv(t,"checked",e,!1)}function Lg(t,e){FR(t,e);var n=Ss(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ng(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ng(t,e.type,Ss(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function HS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ng(t,e,n){(e!=="number"||Vd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zl=Array.isArray;function Ca(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ss(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Mg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Zl(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ss(n)}}function BR(t,e){var n=Ss(e.value),r=Ss(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function KS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $R(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$R(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gh,jR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gh=gh||document.createElement("div"),gh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $u(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HO=["Webkit","ms","Moz","O"];Object.keys(yu).forEach(function(t){HO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yu[e]=yu[t]})});function UR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yu.hasOwnProperty(t)&&yu[t]?(""+e).trim():e+"px"}function zR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=UR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var qO=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fg(t,e){if(e){if(qO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Bg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $g=null;function Kv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jg=null,Ia=null,Aa=null;function GS(t){if(t=Sc(t)){if(typeof jg!="function")throw Error(U(280));var e=t.stateNode;e&&(e=np(e),jg(t.stateNode,t.type,e))}}function WR(t){Ia?Aa?Aa.push(t):Aa=[t]:Ia=t}function HR(){if(Ia){var t=Ia,e=Aa;if(Aa=Ia=null,GS(t),e)for(t=0;t<e.length;t++)GS(e[t])}}function qR(t,e){return t(e)}function KR(){}var cm=!1;function GR(t,e,n){if(cm)return t(e,n);cm=!0;try{return qR(t,e,n)}finally{cm=!1,(Ia!==null||Aa!==null)&&(KR(),HR())}}function ju(t,e){var n=t.stateNode;if(n===null)return null;var r=np(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Ug=!1;if(hi)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){Ug=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{Ug=!1}function KO(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var vu=!1,Fd=null,Bd=!1,zg=null,GO={onError:function(t){vu=!0,Fd=t}};function QO(t,e,n,r,i,s,o,a,l){vu=!1,Fd=null,KO.apply(GO,arguments)}function XO(t,e,n,r,i,s,o,a,l){if(QO.apply(this,arguments),vu){if(vu){var c=Fd;vu=!1,Fd=null}else throw Error(U(198));Bd||(Bd=!0,zg=c)}}function xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function QR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function QS(t){if(xo(t)!==t)throw Error(U(188))}function YO(t){var e=t.alternate;if(!e){if(e=xo(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return QS(i),t;if(s===r)return QS(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function XR(t){return t=YO(t),t!==null?YR(t):null}function YR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=YR(t);if(e!==null)return e;t=t.sibling}return null}var JR=Cn.unstable_scheduleCallback,XS=Cn.unstable_cancelCallback,JO=Cn.unstable_shouldYield,ZO=Cn.unstable_requestPaint,rt=Cn.unstable_now,eD=Cn.unstable_getCurrentPriorityLevel,Gv=Cn.unstable_ImmediatePriority,ZR=Cn.unstable_UserBlockingPriority,$d=Cn.unstable_NormalPriority,tD=Cn.unstable_LowPriority,eC=Cn.unstable_IdlePriority,Jf=null,Or=null;function nD(t){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(Jf,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:sD,rD=Math.log,iD=Math.LN2;function sD(t){return t>>>=0,t===0?32:31-(rD(t)/iD|0)|0}var yh=64,vh=4194304;function eu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=eu(a):(s&=o,s!==0&&(r=eu(s)))}else o=n&~i,o!==0?r=eu(o):s!==0&&(r=eu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-or(e),i=1<<n,r|=t[n],e&=~i;return r}function oD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-or(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=oD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Wg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tC(){var t=yh;return yh<<=1,!(yh&4194240)&&(yh=64),t}function hm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _c(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-or(e),t[e]=n}function lD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-or(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Qv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-or(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pe=0;function nC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rC,Xv,iC,sC,oC,Hg=!1,_h=[],ls=null,us=null,cs=null,Uu=new Map,zu=new Map,Zi=[],uD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function YS(t,e){switch(t){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Uu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(e.pointerId)}}function Ul(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Sc(e),e!==null&&Xv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function cD(t,e,n,r,i){switch(e){case"focusin":return ls=Ul(ls,t,e,n,r,i),!0;case"dragenter":return us=Ul(us,t,e,n,r,i),!0;case"mouseover":return cs=Ul(cs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Uu.set(s,Ul(Uu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zu.set(s,Ul(zu.get(s)||null,t,e,n,r,i)),!0}return!1}function aC(t){var e=ro(t.target);if(e!==null){var n=xo(e);if(n!==null){if(e=n.tag,e===13){if(e=QR(n),e!==null){t.blockedOn=e,oC(t.priority,function(){iC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ed(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$g=r,n.target.dispatchEvent(r),$g=null}else return e=Sc(n),e!==null&&Xv(e),t.blockedOn=n,!1;e.shift()}return!0}function JS(t,e,n){ed(t)&&n.delete(e)}function hD(){Hg=!1,ls!==null&&ed(ls)&&(ls=null),us!==null&&ed(us)&&(us=null),cs!==null&&ed(cs)&&(cs=null),Uu.forEach(JS),zu.forEach(JS)}function zl(t,e){t.blockedOn===e&&(t.blockedOn=null,Hg||(Hg=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,hD)))}function Wu(t){function e(i){return zl(i,t)}if(0<_h.length){zl(_h[0],t);for(var n=1;n<_h.length;n++){var r=_h[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ls!==null&&zl(ls,t),us!==null&&zl(us,t),cs!==null&&zl(cs,t),Uu.forEach(e),zu.forEach(e),n=0;n<Zi.length;n++)r=Zi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zi.length&&(n=Zi[0],n.blockedOn===null);)aC(n),n.blockedOn===null&&Zi.shift()}var xa=wi.ReactCurrentBatchConfig,Ud=!0;function dD(t,e,n,r){var i=Pe,s=xa.transition;xa.transition=null;try{Pe=1,Yv(t,e,n,r)}finally{Pe=i,xa.transition=s}}function fD(t,e,n,r){var i=Pe,s=xa.transition;xa.transition=null;try{Pe=4,Yv(t,e,n,r)}finally{Pe=i,xa.transition=s}}function Yv(t,e,n,r){if(Ud){var i=qg(t,e,n,r);if(i===null)Sm(t,e,r,zd,n),YS(t,r);else if(cD(i,t,e,n,r))r.stopPropagation();else if(YS(t,r),e&4&&-1<uD.indexOf(t)){for(;i!==null;){var s=Sc(i);if(s!==null&&rC(s),s=qg(t,e,n,r),s===null&&Sm(t,e,r,zd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Sm(t,e,r,null,n)}}var zd=null;function qg(t,e,n,r){if(zd=null,t=Kv(r),t=ro(t),t!==null)if(e=xo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=QR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zd=t,null}function lC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eD()){case Gv:return 1;case ZR:return 4;case $d:case tD:return 16;case eC:return 536870912;default:return 16}default:return 16}}var ss=null,Jv=null,td=null;function uC(){if(td)return td;var t,e=Jv,n=e.length,r,i="value"in ss?ss.value:ss.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return td=i.slice(t,1<r?1-r:void 0)}function nd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wh(){return!0}function ZS(){return!1}function An(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wh:ZS,this.isPropagationStopped=ZS,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wh)},persist:function(){},isPersistent:wh}),e}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zv=An(nl),wc=Xe({},nl,{view:0,detail:0}),pD=An(wc),dm,fm,Wl,Zf=Xe({},wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:e_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wl&&(Wl&&t.type==="mousemove"?(dm=t.screenX-Wl.screenX,fm=t.screenY-Wl.screenY):fm=dm=0,Wl=t),dm)},movementY:function(t){return"movementY"in t?t.movementY:fm}}),e0=An(Zf),mD=Xe({},Zf,{dataTransfer:0}),gD=An(mD),yD=Xe({},wc,{relatedTarget:0}),pm=An(yD),vD=Xe({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),_D=An(vD),wD=Xe({},nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SD=An(wD),ED=Xe({},nl,{data:0}),t0=An(ED),TD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RD[t])?!!e[t]:!1}function e_(){return CD}var ID=Xe({},wc,{key:function(t){if(t.key){var e=TD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:e_,charCode:function(t){return t.type==="keypress"?nd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AD=An(ID),xD=Xe({},Zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n0=An(xD),PD=Xe({},wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:e_}),kD=An(PD),OD=Xe({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),DD=An(OD),LD=Xe({},Zf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ND=An(LD),MD=[9,13,27,32],t_=hi&&"CompositionEvent"in window,_u=null;hi&&"documentMode"in document&&(_u=document.documentMode);var VD=hi&&"TextEvent"in window&&!_u,cC=hi&&(!t_||_u&&8<_u&&11>=_u),r0=" ",i0=!1;function hC(t,e){switch(t){case"keyup":return MD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fa=!1;function FD(t,e){switch(t){case"compositionend":return dC(e);case"keypress":return e.which!==32?null:(i0=!0,r0);case"textInput":return t=e.data,t===r0&&i0?null:t;default:return null}}function BD(t,e){if(fa)return t==="compositionend"||!t_&&hC(t,e)?(t=uC(),td=Jv=ss=null,fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cC&&e.locale!=="ko"?null:e.data;default:return null}}var $D={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$D[t.type]:e==="textarea"}function fC(t,e,n,r){WR(r),e=Wd(e,"onChange"),0<e.length&&(n=new Zv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wu=null,Hu=null;function jD(t){bC(t,0)}function ep(t){var e=ga(t);if(VR(e))return t}function UD(t,e){if(t==="change")return e}var pC=!1;if(hi){var mm;if(hi){var gm="oninput"in document;if(!gm){var o0=document.createElement("div");o0.setAttribute("oninput","return;"),gm=typeof o0.oninput=="function"}mm=gm}else mm=!1;pC=mm&&(!document.documentMode||9<document.documentMode)}function a0(){wu&&(wu.detachEvent("onpropertychange",mC),Hu=wu=null)}function mC(t){if(t.propertyName==="value"&&ep(Hu)){var e=[];fC(e,Hu,t,Kv(t)),GR(jD,e)}}function zD(t,e,n){t==="focusin"?(a0(),wu=e,Hu=n,wu.attachEvent("onpropertychange",mC)):t==="focusout"&&a0()}function WD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ep(Hu)}function HD(t,e){if(t==="click")return ep(e)}function qD(t,e){if(t==="input"||t==="change")return ep(e)}function KD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lr=typeof Object.is=="function"?Object.is:KD;function qu(t,e){if(lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ag.call(e,i)||!lr(t[i],e[i]))return!1}return!0}function l0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function u0(t,e){var n=l0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=l0(n)}}function gC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yC(){for(var t=window,e=Vd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vd(t.document)}return e}function n_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function GD(t){var e=yC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gC(n.ownerDocument.documentElement,n)){if(r!==null&&n_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=u0(n,s);var o=u0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QD=hi&&"documentMode"in document&&11>=document.documentMode,pa=null,Kg=null,Su=null,Gg=!1;function c0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gg||pa==null||pa!==Vd(r)||(r=pa,"selectionStart"in r&&n_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Su&&qu(Su,r)||(Su=r,r=Wd(Kg,"onSelect"),0<r.length&&(e=new Zv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pa)))}function Sh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ma={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},ym={},vC={};hi&&(vC=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function tp(t){if(ym[t])return ym[t];if(!ma[t])return t;var e=ma[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vC)return ym[t]=e[n];return t}var _C=tp("animationend"),wC=tp("animationiteration"),SC=tp("animationstart"),EC=tp("transitionend"),TC=new Map,h0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(t,e){TC.set(t,e),Ao(e,[t])}for(var vm=0;vm<h0.length;vm++){var _m=h0[vm],XD=_m.toLowerCase(),YD=_m[0].toUpperCase()+_m.slice(1);xs(XD,"on"+YD)}xs(_C,"onAnimationEnd");xs(wC,"onAnimationIteration");xs(SC,"onAnimationStart");xs("dblclick","onDoubleClick");xs("focusin","onFocus");xs("focusout","onBlur");xs(EC,"onTransitionEnd");Ba("onMouseEnter",["mouseout","mouseover"]);Ba("onMouseLeave",["mouseout","mouseover"]);Ba("onPointerEnter",["pointerout","pointerover"]);Ba("onPointerLeave",["pointerout","pointerover"]);Ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JD=new Set("cancel close invalid load scroll toggle".split(" ").concat(tu));function d0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XO(r,e,void 0,t),t.currentTarget=null}function bC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;d0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;d0(i,a,c),s=l}}}if(Bd)throw t=zg,Bd=!1,zg=null,t}function $e(t,e){var n=e[Zg];n===void 0&&(n=e[Zg]=new Set);var r=t+"__bubble";n.has(r)||(RC(e,t,2,!1),n.add(r))}function wm(t,e,n){var r=0;e&&(r|=4),RC(n,t,r,e)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function Ku(t){if(!t[Eh]){t[Eh]=!0,OR.forEach(function(n){n!=="selectionchange"&&(JD.has(n)||wm(n,!1,t),wm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eh]||(e[Eh]=!0,wm("selectionchange",!1,e))}}function RC(t,e,n,r){switch(lC(e)){case 1:var i=dD;break;case 4:i=fD;break;default:i=Yv}n=i.bind(null,e,n,t),i=void 0,!Ug||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ro(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}GR(function(){var c=s,h=Kv(n),d=[];e:{var f=TC.get(t);if(f!==void 0){var m=Zv,v=t;switch(t){case"keypress":if(nd(n)===0)break e;case"keydown":case"keyup":m=AD;break;case"focusin":v="focus",m=pm;break;case"focusout":v="blur",m=pm;break;case"beforeblur":case"afterblur":m=pm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=e0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=gD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kD;break;case _C:case wC:case SC:m=_D;break;case EC:m=DD;break;case"scroll":m=pD;break;case"wheel":m=ND;break;case"copy":case"cut":case"paste":m=SD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=n0}var E=(e&4)!==0,R=!E&&t==="scroll",w=E?f!==null?f+"Capture":null:f;E=[];for(var y=c,S;y!==null;){S=y;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,w!==null&&(k=ju(y,w),k!=null&&E.push(Gu(y,k,S)))),R)break;y=y.return}0<E.length&&(f=new m(f,v,null,n,h),d.push({event:f,listeners:E}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==$g&&(v=n.relatedTarget||n.fromElement)&&(ro(v)||v[di]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?ro(v):null,v!==null&&(R=xo(v),v!==R||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(E=e0,k="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(E=n0,k="onPointerLeave",w="onPointerEnter",y="pointer"),R=m==null?f:ga(m),S=v==null?f:ga(v),f=new E(k,y+"leave",m,n,h),f.target=R,f.relatedTarget=S,k=null,ro(h)===c&&(E=new E(w,y+"enter",v,n,h),E.target=S,E.relatedTarget=R,k=E),R=k,m&&v)t:{for(E=m,w=v,y=0,S=E;S;S=Jo(S))y++;for(S=0,k=w;k;k=Jo(k))S++;for(;0<y-S;)E=Jo(E),y--;for(;0<S-y;)w=Jo(w),S--;for(;y--;){if(E===w||w!==null&&E===w.alternate)break t;E=Jo(E),w=Jo(w)}E=null}else E=null;m!==null&&f0(d,f,m,E,!1),v!==null&&R!==null&&f0(d,R,v,E,!0)}}e:{if(f=c?ga(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=UD;else if(s0(f))if(pC)N=qD;else{N=WD;var L=zD}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=HD);if(N&&(N=N(t,c))){fC(d,N,n,h);break e}L&&L(t,f,c),t==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&Ng(f,"number",f.value)}switch(L=c?ga(c):window,t){case"focusin":(s0(L)||L.contentEditable==="true")&&(pa=L,Kg=c,Su=null);break;case"focusout":Su=Kg=pa=null;break;case"mousedown":Gg=!0;break;case"contextmenu":case"mouseup":case"dragend":Gg=!1,c0(d,n,h);break;case"selectionchange":if(QD)break;case"keydown":case"keyup":c0(d,n,h)}var T;if(t_)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else fa?hC(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(cC&&n.locale!=="ko"&&(fa||_!=="onCompositionStart"?_==="onCompositionEnd"&&fa&&(T=uC()):(ss=h,Jv="value"in ss?ss.value:ss.textContent,fa=!0)),L=Wd(c,_),0<L.length&&(_=new t0(_,t,null,n,h),d.push({event:_,listeners:L}),T?_.data=T:(T=dC(n),T!==null&&(_.data=T)))),(T=VD?FD(t,n):BD(t,n))&&(c=Wd(c,"onBeforeInput"),0<c.length&&(h=new t0("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=T))}bC(d,e)})}function Gu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ju(t,n),s!=null&&r.unshift(Gu(t,s,i)),s=ju(t,e),s!=null&&r.push(Gu(t,s,i))),t=t.return}return r}function Jo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function f0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ju(n,s),l!=null&&o.unshift(Gu(n,l,a))):i||(l=ju(n,s),l!=null&&o.push(Gu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ZD=/\r\n?/g,eL=/\u0000|\uFFFD/g;function p0(t){return(typeof t=="string"?t:""+t).replace(ZD,`
`).replace(eL,"")}function Th(t,e,n){if(e=p0(e),p0(t)!==e&&n)throw Error(U(425))}function Hd(){}var Qg=null,Xg=null;function Yg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jg=typeof setTimeout=="function"?setTimeout:void 0,tL=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,nL=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(t){return m0.resolve(null).then(t).catch(rL)}:Jg;function rL(t){setTimeout(function(){throw t})}function Em(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wu(e)}function hs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function g0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rl=Math.random().toString(36).slice(2),Ir="__reactFiber$"+rl,Qu="__reactProps$"+rl,di="__reactContainer$"+rl,Zg="__reactEvents$"+rl,iL="__reactListeners$"+rl,sL="__reactHandles$"+rl;function ro(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[di]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=g0(t);t!==null;){if(n=t[Ir])return n;t=g0(t)}return e}t=n,n=t.parentNode}return null}function Sc(t){return t=t[Ir]||t[di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ga(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function np(t){return t[Qu]||null}var ey=[],ya=-1;function Ps(t){return{current:t}}function Ue(t){0>ya||(t.current=ey[ya],ey[ya]=null,ya--)}function Ve(t,e){ya++,ey[ya]=t.current,t.current=e}var Es={},Wt=Ps(Es),un=Ps(!1),go=Es;function $a(t,e){var n=t.type.contextTypes;if(!n)return Es;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cn(t){return t=t.childContextTypes,t!=null}function qd(){Ue(un),Ue(Wt)}function y0(t,e,n){if(Wt.current!==Es)throw Error(U(168));Ve(Wt,e),Ve(un,n)}function CC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,zO(t)||"Unknown",i));return Xe({},n,r)}function Kd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Es,go=Wt.current,Ve(Wt,t),Ve(un,un.current),!0}function v0(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=CC(t,e,go),r.__reactInternalMemoizedMergedChildContext=t,Ue(un),Ue(Wt),Ve(Wt,t)):Ue(un),Ve(un,n)}var ei=null,rp=!1,Tm=!1;function IC(t){ei===null?ei=[t]:ei.push(t)}function oL(t){rp=!0,IC(t)}function ks(){if(!Tm&&ei!==null){Tm=!0;var t=0,e=Pe;try{var n=ei;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ei=null,rp=!1}catch(i){throw ei!==null&&(ei=ei.slice(t+1)),JR(Gv,ks),i}finally{Pe=e,Tm=!1}}return null}var va=[],_a=0,Gd=null,Qd=0,Dn=[],Ln=0,yo=null,ti=1,ni="";function Js(t,e){va[_a++]=Qd,va[_a++]=Gd,Gd=t,Qd=e}function AC(t,e,n){Dn[Ln++]=ti,Dn[Ln++]=ni,Dn[Ln++]=yo,yo=t;var r=ti;t=ni;var i=32-or(r)-1;r&=~(1<<i),n+=1;var s=32-or(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ti=1<<32-or(e)+i|n<<i|r,ni=s+t}else ti=1<<s|n<<i|r,ni=t}function r_(t){t.return!==null&&(Js(t,1),AC(t,1,0))}function i_(t){for(;t===Gd;)Gd=va[--_a],va[_a]=null,Qd=va[--_a],va[_a]=null;for(;t===yo;)yo=Dn[--Ln],Dn[Ln]=null,ni=Dn[--Ln],Dn[Ln]=null,ti=Dn[--Ln],Dn[Ln]=null}var Rn=null,Tn=null,He=!1,rr=null;function xC(t,e){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rn=t,Tn=hs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rn=t,Tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yo!==null?{id:ti,overflow:ni}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rn=t,Tn=null,!0):!1;default:return!1}}function ty(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ny(t){if(He){var e=Tn;if(e){var n=e;if(!_0(t,e)){if(ty(t))throw Error(U(418));e=hs(n.nextSibling);var r=Rn;e&&_0(t,e)?xC(r,n):(t.flags=t.flags&-4097|2,He=!1,Rn=t)}}else{if(ty(t))throw Error(U(418));t.flags=t.flags&-4097|2,He=!1,Rn=t}}}function w0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rn=t}function bh(t){if(t!==Rn)return!1;if(!He)return w0(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yg(t.type,t.memoizedProps)),e&&(e=Tn)){if(ty(t))throw PC(),Error(U(418));for(;e;)xC(t,e),e=hs(e.nextSibling)}if(w0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tn=hs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tn=null}}else Tn=Rn?hs(t.stateNode.nextSibling):null;return!0}function PC(){for(var t=Tn;t;)t=hs(t.nextSibling)}function ja(){Tn=Rn=null,He=!1}function s_(t){rr===null?rr=[t]:rr.push(t)}var aL=wi.ReactCurrentBatchConfig;function Hl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Rh(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function S0(t){var e=t._init;return e(t._payload)}function kC(t){function e(w,y){if(t){var S=w.deletions;S===null?(w.deletions=[y],w.flags|=16):S.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=ms(w,y),w.index=0,w.sibling=null,w}function s(w,y,S){return w.index=S,t?(S=w.alternate,S!==null?(S=S.index,S<y?(w.flags|=2,y):S):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,S,k){return y===null||y.tag!==6?(y=Pm(S,w.mode,k),y.return=w,y):(y=i(y,S),y.return=w,y)}function l(w,y,S,k){var N=S.type;return N===da?h(w,y,S.props.children,k,S.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xi&&S0(N)===y.type)?(k=i(y,S.props),k.ref=Hl(w,y,S),k.return=w,k):(k=ud(S.type,S.key,S.props,null,w.mode,k),k.ref=Hl(w,y,S),k.return=w,k)}function c(w,y,S,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=km(S,w.mode,k),y.return=w,y):(y=i(y,S.children||[]),y.return=w,y)}function h(w,y,S,k,N){return y===null||y.tag!==7?(y=po(S,w.mode,k,N),y.return=w,y):(y=i(y,S),y.return=w,y)}function d(w,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Pm(""+y,w.mode,S),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ph:return S=ud(y.type,y.key,y.props,null,w.mode,S),S.ref=Hl(w,null,y),S.return=w,S;case ha:return y=km(y,w.mode,S),y.return=w,y;case Xi:var k=y._init;return d(w,k(y._payload),S)}if(Zl(y)||$l(y))return y=po(y,w.mode,S,null),y.return=w,y;Rh(w,y)}return null}function f(w,y,S,k){var N=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return N!==null?null:a(w,y,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ph:return S.key===N?l(w,y,S,k):null;case ha:return S.key===N?c(w,y,S,k):null;case Xi:return N=S._init,f(w,y,N(S._payload),k)}if(Zl(S)||$l(S))return N!==null?null:h(w,y,S,k,null);Rh(w,S)}return null}function m(w,y,S,k,N){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(S)||null,a(y,w,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ph:return w=w.get(k.key===null?S:k.key)||null,l(y,w,k,N);case ha:return w=w.get(k.key===null?S:k.key)||null,c(y,w,k,N);case Xi:var L=k._init;return m(w,y,S,L(k._payload),N)}if(Zl(k)||$l(k))return w=w.get(S)||null,h(y,w,k,N,null);Rh(y,k)}return null}function v(w,y,S,k){for(var N=null,L=null,T=y,_=y=0,b=null;T!==null&&_<S.length;_++){T.index>_?(b=T,T=null):b=T.sibling;var A=f(w,T,S[_],k);if(A===null){T===null&&(T=b);break}t&&T&&A.alternate===null&&e(w,T),y=s(A,y,_),L===null?N=A:L.sibling=A,L=A,T=b}if(_===S.length)return n(w,T),He&&Js(w,_),N;if(T===null){for(;_<S.length;_++)T=d(w,S[_],k),T!==null&&(y=s(T,y,_),L===null?N=T:L.sibling=T,L=T);return He&&Js(w,_),N}for(T=r(w,T);_<S.length;_++)b=m(T,w,_,S[_],k),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?_:b.key),y=s(b,y,_),L===null?N=b:L.sibling=b,L=b);return t&&T.forEach(function(x){return e(w,x)}),He&&Js(w,_),N}function E(w,y,S,k){var N=$l(S);if(typeof N!="function")throw Error(U(150));if(S=N.call(S),S==null)throw Error(U(151));for(var L=N=null,T=y,_=y=0,b=null,A=S.next();T!==null&&!A.done;_++,A=S.next()){T.index>_?(b=T,T=null):b=T.sibling;var x=f(w,T,A.value,k);if(x===null){T===null&&(T=b);break}t&&T&&x.alternate===null&&e(w,T),y=s(x,y,_),L===null?N=x:L.sibling=x,L=x,T=b}if(A.done)return n(w,T),He&&Js(w,_),N;if(T===null){for(;!A.done;_++,A=S.next())A=d(w,A.value,k),A!==null&&(y=s(A,y,_),L===null?N=A:L.sibling=A,L=A);return He&&Js(w,_),N}for(T=r(w,T);!A.done;_++,A=S.next())A=m(T,w,_,A.value,k),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?_:A.key),y=s(A,y,_),L===null?N=A:L.sibling=A,L=A);return t&&T.forEach(function(O){return e(w,O)}),He&&Js(w,_),N}function R(w,y,S,k){if(typeof S=="object"&&S!==null&&S.type===da&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ph:e:{for(var N=S.key,L=y;L!==null;){if(L.key===N){if(N=S.type,N===da){if(L.tag===7){n(w,L.sibling),y=i(L,S.props.children),y.return=w,w=y;break e}}else if(L.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xi&&S0(N)===L.type){n(w,L.sibling),y=i(L,S.props),y.ref=Hl(w,L,S),y.return=w,w=y;break e}n(w,L);break}else e(w,L);L=L.sibling}S.type===da?(y=po(S.props.children,w.mode,k,S.key),y.return=w,w=y):(k=ud(S.type,S.key,S.props,null,w.mode,k),k.ref=Hl(w,y,S),k.return=w,w=k)}return o(w);case ha:e:{for(L=S.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(w,y.sibling),y=i(y,S.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=km(S,w.mode,k),y.return=w,w=y}return o(w);case Xi:return L=S._init,R(w,y,L(S._payload),k)}if(Zl(S))return v(w,y,S,k);if($l(S))return E(w,y,S,k);Rh(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,S),y.return=w,w=y):(n(w,y),y=Pm(S,w.mode,k),y.return=w,w=y),o(w)):n(w,y)}return R}var Ua=kC(!0),OC=kC(!1),Xd=Ps(null),Yd=null,wa=null,o_=null;function a_(){o_=wa=Yd=null}function l_(t){var e=Xd.current;Ue(Xd),t._currentValue=e}function ry(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pa(t,e){Yd=t,o_=wa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function Un(t){var e=t._currentValue;if(o_!==t)if(t={context:t,memoizedValue:e,next:null},wa===null){if(Yd===null)throw Error(U(308));wa=t,Yd.dependencies={lanes:0,firstContext:t}}else wa=wa.next=t;return e}var io=null;function u_(t){io===null?io=[t]:io.push(t)}function DC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,u_(e)):(n.next=i.next,i.next=n),e.interleaved=n,fi(t,r)}function fi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yi=!1;function c_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ds(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,fi(t,n)}return i=r.interleaved,i===null?(e.next=e,u_(r)):(e.next=i.next,i.next=e),r.interleaved=e,fi(t,n)}function rd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qv(t,n)}}function E0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jd(t,e,n,r){var i=t.updateQueue;Yi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,E=a;switch(f=e,m=n,E.tag){case 1:if(v=E.payload,typeof v=="function"){d=v.call(m,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=E.payload,f=typeof v=="function"?v.call(m,d,f):v,f==null)break e;d=Xe({},d,f);break e;case 2:Yi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=d):h=h.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_o|=o,t.lanes=o,t.memoizedState=d}}function T0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Ec={},Dr=Ps(Ec),Xu=Ps(Ec),Yu=Ps(Ec);function so(t){if(t===Ec)throw Error(U(174));return t}function h_(t,e){switch(Ve(Yu,e),Ve(Xu,t),Ve(Dr,Ec),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vg(e,t)}Ue(Dr),Ve(Dr,e)}function za(){Ue(Dr),Ue(Xu),Ue(Yu)}function NC(t){so(Yu.current);var e=so(Dr.current),n=Vg(e,t.type);e!==n&&(Ve(Xu,t),Ve(Dr,n))}function d_(t){Xu.current===t&&(Ue(Dr),Ue(Xu))}var Ke=Ps(0);function Zd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bm=[];function f_(){for(var t=0;t<bm.length;t++)bm[t]._workInProgressVersionPrimary=null;bm.length=0}var id=wi.ReactCurrentDispatcher,Rm=wi.ReactCurrentBatchConfig,vo=0,Ge=null,pt=null,bt=null,ef=!1,Eu=!1,Ju=0,lL=0;function Vt(){throw Error(U(321))}function p_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lr(t[n],e[n]))return!1;return!0}function m_(t,e,n,r,i,s){if(vo=s,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,id.current=t===null||t.memoizedState===null?dL:fL,t=n(r,i),Eu){s=0;do{if(Eu=!1,Ju=0,25<=s)throw Error(U(301));s+=1,bt=pt=null,e.updateQueue=null,id.current=pL,t=n(r,i)}while(Eu)}if(id.current=tf,e=pt!==null&&pt.next!==null,vo=0,bt=pt=Ge=null,ef=!1,e)throw Error(U(300));return t}function g_(){var t=Ju!==0;return Ju=0,t}function br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ge.memoizedState=bt=t:bt=bt.next=t,bt}function zn(){if(pt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=bt===null?Ge.memoizedState:bt.next;if(e!==null)bt=e,pt=t;else{if(t===null)throw Error(U(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},bt===null?Ge.memoizedState=bt=t:bt=bt.next=t}return bt}function Zu(t,e){return typeof e=="function"?e(t):e}function Cm(t){var e=zn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((vo&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ge.lanes|=h,_o|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,lr(r,e.memoizedState)||(ln=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ge.lanes|=s,_o|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Im(t){var e=zn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);lr(s,e.memoizedState)||(ln=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function MC(){}function VC(t,e){var n=Ge,r=zn(),i=e(),s=!lr(r.memoizedState,i);if(s&&(r.memoizedState=i,ln=!0),r=r.queue,y_($C.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,ec(9,BC.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(U(349));vo&30||FC(n,e,i)}return i}function FC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BC(t,e,n,r){e.value=n,e.getSnapshot=r,jC(e)&&UC(t)}function $C(t,e,n){return n(function(){jC(e)&&UC(t)})}function jC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lr(t,n)}catch{return!0}}function UC(t){var e=fi(t,1);e!==null&&ar(e,t,1,-1)}function b0(t){var e=br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zu,lastRenderedState:t},e.queue=t,t=t.dispatch=hL.bind(null,Ge,t),[e.memoizedState,t]}function ec(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zC(){return zn().memoizedState}function sd(t,e,n,r){var i=br();Ge.flags|=t,i.memoizedState=ec(1|e,n,void 0,r===void 0?null:r)}function ip(t,e,n,r){var i=zn();r=r===void 0?null:r;var s=void 0;if(pt!==null){var o=pt.memoizedState;if(s=o.destroy,r!==null&&p_(r,o.deps)){i.memoizedState=ec(e,n,s,r);return}}Ge.flags|=t,i.memoizedState=ec(1|e,n,s,r)}function R0(t,e){return sd(8390656,8,t,e)}function y_(t,e){return ip(2048,8,t,e)}function WC(t,e){return ip(4,2,t,e)}function HC(t,e){return ip(4,4,t,e)}function qC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KC(t,e,n){return n=n!=null?n.concat([t]):null,ip(4,4,qC.bind(null,e,t),n)}function v_(){}function GC(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&p_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function QC(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&p_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function XC(t,e,n){return vo&21?(lr(n,e)||(n=tC(),Ge.lanes|=n,_o|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=n)}function uL(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=Rm.transition;Rm.transition={};try{t(!1),e()}finally{Pe=n,Rm.transition=r}}function YC(){return zn().memoizedState}function cL(t,e,n){var r=ps(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JC(t))ZC(e,n);else if(n=DC(t,e,n,r),n!==null){var i=Jt();ar(n,t,r,i),eI(n,e,r)}}function hL(t,e,n){var r=ps(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JC(t))ZC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,lr(a,o)){var l=e.interleaved;l===null?(i.next=i,u_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=DC(t,e,i,r),n!==null&&(i=Jt(),ar(n,t,r,i),eI(n,e,r))}}function JC(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function ZC(t,e){Eu=ef=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function eI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qv(t,n)}}var tf={readContext:Un,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},dL={readContext:Un,useCallback:function(t,e){return br().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:R0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sd(4194308,4,qC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sd(4194308,4,t,e)},useInsertionEffect:function(t,e){return sd(4,2,t,e)},useMemo:function(t,e){var n=br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=cL.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=br();return t={current:t},e.memoizedState=t},useState:b0,useDebugValue:v_,useDeferredValue:function(t){return br().memoizedState=t},useTransition:function(){var t=b0(!1),e=t[0];return t=uL.bind(null,t[1]),br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,i=br();if(He){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Rt===null)throw Error(U(349));vo&30||FC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,R0($C.bind(null,r,s,t),[t]),r.flags|=2048,ec(9,BC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=br(),e=Rt.identifierPrefix;if(He){var n=ni,r=ti;n=(r&~(1<<32-or(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ju++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=lL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},fL={readContext:Un,useCallback:GC,useContext:Un,useEffect:y_,useImperativeHandle:KC,useInsertionEffect:WC,useLayoutEffect:HC,useMemo:QC,useReducer:Cm,useRef:zC,useState:function(){return Cm(Zu)},useDebugValue:v_,useDeferredValue:function(t){var e=zn();return XC(e,pt.memoizedState,t)},useTransition:function(){var t=Cm(Zu)[0],e=zn().memoizedState;return[t,e]},useMutableSource:MC,useSyncExternalStore:VC,useId:YC,unstable_isNewReconciler:!1},pL={readContext:Un,useCallback:GC,useContext:Un,useEffect:y_,useImperativeHandle:KC,useInsertionEffect:WC,useLayoutEffect:HC,useMemo:QC,useReducer:Im,useRef:zC,useState:function(){return Im(Zu)},useDebugValue:v_,useDeferredValue:function(t){var e=zn();return pt===null?e.memoizedState=t:XC(e,pt.memoizedState,t)},useTransition:function(){var t=Im(Zu)[0],e=zn().memoizedState;return[t,e]},useMutableSource:MC,useSyncExternalStore:VC,useId:YC,unstable_isNewReconciler:!1};function er(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function iy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sp={isMounted:function(t){return(t=t._reactInternals)?xo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jt(),i=ps(t),s=oi(r,i);s.payload=e,n!=null&&(s.callback=n),e=ds(t,s,i),e!==null&&(ar(e,t,i,r),rd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jt(),i=ps(t),s=oi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ds(t,s,i),e!==null&&(ar(e,t,i,r),rd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),r=ps(t),i=oi(n,r);i.tag=2,e!=null&&(i.callback=e),e=ds(t,i,r),e!==null&&(ar(e,t,r,n),rd(e,t,r))}};function C0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!qu(n,r)||!qu(i,s):!0}function tI(t,e,n){var r=!1,i=Es,s=e.contextType;return typeof s=="object"&&s!==null?s=Un(s):(i=cn(e)?go:Wt.current,r=e.contextTypes,s=(r=r!=null)?$a(t,i):Es),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function I0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sp.enqueueReplaceState(e,e.state,null)}function sy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},c_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Un(s):(s=cn(e)?go:Wt.current,i.context=$a(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(iy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sp.enqueueReplaceState(i,i.state,null),Jd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wa(t,e){try{var n="",r=e;do n+=UO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Am(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function oy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var mL=typeof WeakMap=="function"?WeakMap:Map;function nI(t,e,n){n=oi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rf||(rf=!0,gy=r),oy(t,e)},n}function rI(t,e,n){n=oi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){oy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){oy(t,e),typeof r!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function A0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new mL;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=xL.bind(null,t,e,n),e.then(t,t))}function x0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function P0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oi(-1,1),e.tag=2,ds(n,e,1))),n.lanes|=1),t)}var gL=wi.ReactCurrentOwner,ln=!1;function Yt(t,e,n,r){e.child=t===null?OC(e,null,n,r):Ua(e,t.child,n,r)}function k0(t,e,n,r,i){n=n.render;var s=e.ref;return Pa(e,i),r=m_(t,e,n,r,s,i),n=g_(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(He&&n&&r_(e),e.flags|=1,Yt(t,e,r,i),e.child)}function O0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!C_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,iI(t,e,s,r,i)):(t=ud(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:qu,n(o,r)&&t.ref===e.ref)return pi(t,e,i)}return e.flags|=1,t=ms(s,r),t.ref=e.ref,t.return=e,e.child=t}function iI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(qu(s,r)&&t.ref===e.ref)if(ln=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,pi(t,e,i)}return ay(t,e,n,r,i)}function sI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Ea,Sn),Sn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(Ea,Sn),Sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ve(Ea,Sn),Sn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ve(Ea,Sn),Sn|=r;return Yt(t,e,i,n),e.child}function oI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ay(t,e,n,r,i){var s=cn(n)?go:Wt.current;return s=$a(e,s),Pa(e,i),n=m_(t,e,n,r,s,i),r=g_(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(He&&r&&r_(e),e.flags|=1,Yt(t,e,n,i),e.child)}function D0(t,e,n,r,i){if(cn(n)){var s=!0;Kd(e)}else s=!1;if(Pa(e,i),e.stateNode===null)od(t,e),tI(e,n,r),sy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Un(c):(c=cn(n)?go:Wt.current,c=$a(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&I0(e,o,r,c),Yi=!1;var f=e.memoizedState;o.state=f,Jd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||un.current||Yi?(typeof h=="function"&&(iy(e,n,h,r),l=e.memoizedState),(a=Yi||C0(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,LC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:er(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Un(l):(l=cn(n)?go:Wt.current,l=$a(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&I0(e,o,r,l),Yi=!1,f=e.memoizedState,o.state=f,Jd(e,r,o,i);var v=e.memoizedState;a!==d||f!==v||un.current||Yi?(typeof m=="function"&&(iy(e,n,m,r),v=e.memoizedState),(c=Yi||C0(e,n,c,r,f,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ly(t,e,n,r,s,i)}function ly(t,e,n,r,i,s){oI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&v0(e,n,!1),pi(t,e,s);r=e.stateNode,gL.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ua(e,t.child,null,s),e.child=Ua(e,null,a,s)):Yt(t,e,a,s),e.memoizedState=r.state,i&&v0(e,n,!0),e.child}function aI(t){var e=t.stateNode;e.pendingContext?y0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&y0(t,e.context,!1),h_(t,e.containerInfo)}function L0(t,e,n,r,i){return ja(),s_(i),e.flags|=256,Yt(t,e,n,r),e.child}var uy={dehydrated:null,treeContext:null,retryLane:0};function cy(t){return{baseLanes:t,cachePool:null,transitions:null}}function lI(t,e,n){var r=e.pendingProps,i=Ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ve(Ke,i&1),t===null)return ny(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=lp(o,r,0,null),t=po(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cy(n),e.memoizedState=uy,t):__(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yL(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ms(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ms(a,s):(s=po(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?cy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=uy,r}return s=t.child,t=s.sibling,r=ms(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function __(t,e){return e=lp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ch(t,e,n,r){return r!==null&&s_(r),Ua(e,t.child,null,n),t=__(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yL(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Am(Error(U(422))),Ch(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=lp({mode:"visible",children:r.children},i,0,null),s=po(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ua(e,t.child,null,o),e.child.memoizedState=cy(o),e.memoizedState=uy,s);if(!(e.mode&1))return Ch(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=Am(s,r,void 0),Ch(t,e,o,r)}if(a=(o&t.childLanes)!==0,ln||a){if(r=Rt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,fi(t,i),ar(r,t,i,-1))}return R_(),r=Am(Error(U(421))),Ch(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=PL.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Tn=hs(i.nextSibling),Rn=e,He=!0,rr=null,t!==null&&(Dn[Ln++]=ti,Dn[Ln++]=ni,Dn[Ln++]=yo,ti=t.id,ni=t.overflow,yo=e),e=__(e,r.children),e.flags|=4096,e)}function N0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ry(t.return,e,n)}function xm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function uI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Yt(t,e,r.children,n),r=Ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N0(t,n,e);else if(t.tag===19)N0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ve(Ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xm(e,!0,n,null,s);break;case"together":xm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function od(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_o|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=ms(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ms(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vL(t,e,n){switch(e.tag){case 3:aI(e),ja();break;case 5:NC(e);break;case 1:cn(e.type)&&Kd(e);break;case 4:h_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ve(Xd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ve(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?lI(t,e,n):(Ve(Ke,Ke.current&1),t=pi(t,e,n),t!==null?t.sibling:null);Ve(Ke,Ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(Ke,Ke.current),r)break;return null;case 22:case 23:return e.lanes=0,sI(t,e,n)}return pi(t,e,n)}var cI,hy,hI,dI;cI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hy=function(){};hI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,so(Dr.current);var s=null;switch(n){case"input":i=Dg(t,i),r=Dg(t,r),s=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),s=[];break;case"textarea":i=Mg(t,i),r=Mg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hd)}Fg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&$e("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};dI=function(t,e,n,r){n!==r&&(e.flags|=4)};function ql(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _L(t,e,n){var r=e.pendingProps;switch(i_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return cn(e.type)&&qd(),Ft(e),null;case 3:return r=e.stateNode,za(),Ue(un),Ue(Wt),f_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rr!==null&&(_y(rr),rr=null))),hy(t,e),Ft(e),null;case 5:d_(e);var i=so(Yu.current);if(n=e.type,t!==null&&e.stateNode!=null)hI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Ft(e),null}if(t=so(Dr.current),bh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ir]=e,r[Qu]=s,t=(e.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(i=0;i<tu.length;i++)$e(tu[i],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":WS(r,s),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$e("invalid",r);break;case"textarea":qS(r,s),$e("invalid",r)}Fg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Th(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Th(r.textContent,a,t),i=["children",""+a]):Bu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$e("scroll",r)}switch(n){case"input":mh(r),HS(r,s,!0);break;case"textarea":mh(r),KS(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Hd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$R(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ir]=e,t[Qu]=r,cI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bg(n,r),n){case"dialog":$e("cancel",t),$e("close",t),i=r;break;case"iframe":case"object":case"embed":$e("load",t),i=r;break;case"video":case"audio":for(i=0;i<tu.length;i++)$e(tu[i],t);i=r;break;case"source":$e("error",t),i=r;break;case"img":case"image":case"link":$e("error",t),$e("load",t),i=r;break;case"details":$e("toggle",t),i=r;break;case"input":WS(t,r),i=Dg(t,r),$e("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),$e("invalid",t);break;case"textarea":qS(t,r),i=Mg(t,r),$e("invalid",t);break;default:i=r}Fg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?zR(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jR(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$u(t,l):typeof l=="number"&&$u(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&$e("scroll",t):l!=null&&zv(t,s,l,o))}switch(n){case"input":mh(t),HS(t,r,!1);break;case"textarea":mh(t),KS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ss(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ca(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ca(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)dI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=so(Yu.current),so(Dr.current),bh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(s=r.nodeValue!==n)&&(t=Rn,t!==null))switch(t.tag){case 3:Th(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Th(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return Ft(e),null;case 13:if(Ue(Ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&Tn!==null&&e.mode&1&&!(e.flags&128))PC(),ja(),e.flags|=98560,s=!1;else if(s=bh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Ir]=e}else ja(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),s=!1}else rr!==null&&(_y(rr),rr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?mt===0&&(mt=3):R_())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return za(),hy(t,e),t===null&&Ku(e.stateNode.containerInfo),Ft(e),null;case 10:return l_(e.type._context),Ft(e),null;case 17:return cn(e.type)&&qd(),Ft(e),null;case 19:if(Ue(Ke),s=e.memoizedState,s===null)return Ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ql(s,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zd(t),o!==null){for(e.flags|=128,ql(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ve(Ke,Ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&rt()>Ha&&(e.flags|=128,r=!0,ql(s,!1),e.lanes=4194304)}else{if(!r)if(t=Zd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ql(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!He)return Ft(e),null}else 2*rt()-s.renderingStartTime>Ha&&n!==1073741824&&(e.flags|=128,r=!0,ql(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rt(),e.sibling=null,n=Ke.current,Ve(Ke,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return b_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function wL(t,e){switch(i_(e),e.tag){case 1:return cn(e.type)&&qd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return za(),Ue(un),Ue(Wt),f_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return d_(e),null;case 13:if(Ue(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));ja()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(Ke),null;case 4:return za(),null;case 10:return l_(e.type._context),null;case 22:case 23:return b_(),null;case 24:return null;default:return null}}var Ih=!1,Ut=!1,SL=typeof WeakSet=="function"?WeakSet:Set,X=null;function Sa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function dy(t,e,n){try{n()}catch(r){et(t,e,r)}}var M0=!1;function EL(t,e){if(Qg=Ud,t=yC(),n_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++h===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xg={focusedElem:t,selectionRange:n},Ud=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var E=v.memoizedProps,R=v.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?E:er(e.type,E),R);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(k){et(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return v=M0,M0=!1,v}function Tu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&dy(e,n,s)}i=i.next}while(i!==r)}}function op(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fI(t){var e=t.alternate;e!==null&&(t.alternate=null,fI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[Qu],delete e[Zg],delete e[iL],delete e[sL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pI(t){return t.tag===5||t.tag===3||t.tag===4}function V0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function py(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hd));else if(r!==4&&(t=t.child,t!==null))for(py(t,e,n),t=t.sibling;t!==null;)py(t,e,n),t=t.sibling}function my(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(my(t,e,n),t=t.sibling;t!==null;)my(t,e,n),t=t.sibling}var At=null,nr=!1;function Ui(t,e,n){for(n=n.child;n!==null;)mI(t,e,n),n=n.sibling}function mI(t,e,n){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(Jf,n)}catch{}switch(n.tag){case 5:Ut||Sa(n,e);case 6:var r=At,i=nr;At=null,Ui(t,e,n),At=r,nr=i,At!==null&&(nr?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(nr?(t=At,n=n.stateNode,t.nodeType===8?Em(t.parentNode,n):t.nodeType===1&&Em(t,n),Wu(t)):Em(At,n.stateNode));break;case 4:r=At,i=nr,At=n.stateNode.containerInfo,nr=!0,Ui(t,e,n),At=r,nr=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&dy(n,e,o),i=i.next}while(i!==r)}Ui(t,e,n);break;case 1:if(!Ut&&(Sa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){et(n,e,a)}Ui(t,e,n);break;case 21:Ui(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,Ui(t,e,n),Ut=r):Ui(t,e,n);break;default:Ui(t,e,n)}}function F0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SL),e.forEach(function(r){var i=kL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:At=a.stateNode,nr=!1;break e;case 3:At=a.stateNode.containerInfo,nr=!0;break e;case 4:At=a.stateNode.containerInfo,nr=!0;break e}a=a.return}if(At===null)throw Error(U(160));mI(s,o,i),At=null,nr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){et(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gI(e,t),e=e.sibling}function gI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),Sr(t),r&4){try{Tu(3,t,t.return),op(3,t)}catch(E){et(t,t.return,E)}try{Tu(5,t,t.return)}catch(E){et(t,t.return,E)}}break;case 1:Xn(e,t),Sr(t),r&512&&n!==null&&Sa(n,n.return);break;case 5:if(Xn(e,t),Sr(t),r&512&&n!==null&&Sa(n,n.return),t.flags&32){var i=t.stateNode;try{$u(i,"")}catch(E){et(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&FR(i,s),Bg(a,o);var c=Bg(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?zR(i,d):h==="dangerouslySetInnerHTML"?jR(i,d):h==="children"?$u(i,d):zv(i,h,d,c)}switch(a){case"input":Lg(i,s);break;case"textarea":BR(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ca(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ca(i,!!s.multiple,s.defaultValue,!0):Ca(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qu]=s}catch(E){et(t,t.return,E)}}break;case 6:if(Xn(e,t),Sr(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){et(t,t.return,E)}}break;case 3:if(Xn(e,t),Sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wu(e.containerInfo)}catch(E){et(t,t.return,E)}break;case 4:Xn(e,t),Sr(t);break;case 13:Xn(e,t),Sr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(E_=rt())),r&4&&F0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(c=Ut)||h,Xn(e,t),Ut=c):Xn(e,t),Sr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(X=t,h=t.child;h!==null;){for(d=X=h;X!==null;){switch(f=X,m=f.child,f.tag){case 0:case 11:case 14:case 15:Tu(4,f,f.return);break;case 1:Sa(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(E){et(r,n,E)}}break;case 5:Sa(f,f.return);break;case 22:if(f.memoizedState!==null){$0(d);continue}}m!==null?(m.return=f,X=m):$0(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=UR("display",o))}catch(E){et(t,t.return,E)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(E){et(t,t.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xn(e,t),Sr(t),r&4&&F0(t);break;case 21:break;default:Xn(e,t),Sr(t)}}function Sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pI(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($u(i,""),r.flags&=-33);var s=V0(t);my(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=V0(t);py(t,a,o);break;default:throw Error(U(161))}}catch(l){et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TL(t,e,n){X=t,yI(t)}function yI(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ih;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ut;a=Ih;var c=Ut;if(Ih=o,(Ut=l)&&!c)for(X=i;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?j0(i):l!==null?(l.return=o,X=l):j0(i);for(;s!==null;)X=s,yI(s),s=s.sibling;X=i,Ih=a,Ut=c}B0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,X=s):B0(t)}}function B0(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||op(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:er(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&T0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}T0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Wu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ut||e.flags&512&&fy(e)}catch(f){et(e,e.return,f)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function $0(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function j0(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{op(4,e)}catch(l){et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){et(e,i,l)}}var s=e.return;try{fy(e)}catch(l){et(e,s,l)}break;case 5:var o=e.return;try{fy(e)}catch(l){et(e,o,l)}}}catch(l){et(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var bL=Math.ceil,nf=wi.ReactCurrentDispatcher,w_=wi.ReactCurrentOwner,Bn=wi.ReactCurrentBatchConfig,be=0,Rt=null,at=null,Dt=0,Sn=0,Ea=Ps(0),mt=0,tc=null,_o=0,ap=0,S_=0,bu=null,on=null,E_=0,Ha=1/0,Jr=null,rf=!1,gy=null,fs=null,Ah=!1,os=null,sf=0,Ru=0,yy=null,ad=-1,ld=0;function Jt(){return be&6?rt():ad!==-1?ad:ad=rt()}function ps(t){return t.mode&1?be&2&&Dt!==0?Dt&-Dt:aL.transition!==null?(ld===0&&(ld=tC()),ld):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:lC(t.type)),t):1}function ar(t,e,n,r){if(50<Ru)throw Ru=0,yy=null,Error(U(185));_c(t,n,r),(!(be&2)||t!==Rt)&&(t===Rt&&(!(be&2)&&(ap|=n),mt===4&&es(t,Dt)),hn(t,r),n===1&&be===0&&!(e.mode&1)&&(Ha=rt()+500,rp&&ks()))}function hn(t,e){var n=t.callbackNode;aD(t,e);var r=jd(t,t===Rt?Dt:0);if(r===0)n!==null&&XS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&XS(n),e===1)t.tag===0?oL(U0.bind(null,t)):IC(U0.bind(null,t)),nL(function(){!(be&6)&&ks()}),n=null;else{switch(nC(r)){case 1:n=Gv;break;case 4:n=ZR;break;case 16:n=$d;break;case 536870912:n=eC;break;default:n=$d}n=RI(n,vI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vI(t,e){if(ad=-1,ld=0,be&6)throw Error(U(327));var n=t.callbackNode;if(ka()&&t.callbackNode!==n)return null;var r=jd(t,t===Rt?Dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=of(t,r);else{e=r;var i=be;be|=2;var s=wI();(Rt!==t||Dt!==e)&&(Jr=null,Ha=rt()+500,fo(t,e));do try{IL();break}catch(a){_I(t,a)}while(!0);a_(),nf.current=s,be=i,at!==null?e=0:(Rt=null,Dt=0,e=mt)}if(e!==0){if(e===2&&(i=Wg(t),i!==0&&(r=i,e=vy(t,i))),e===1)throw n=tc,fo(t,0),es(t,r),hn(t,rt()),n;if(e===6)es(t,r);else{if(i=t.current.alternate,!(r&30)&&!RL(i)&&(e=of(t,r),e===2&&(s=Wg(t),s!==0&&(r=s,e=vy(t,s))),e===1))throw n=tc,fo(t,0),es(t,r),hn(t,rt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Zs(t,on,Jr);break;case 3:if(es(t,r),(r&130023424)===r&&(e=E_+500-rt(),10<e)){if(jd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Jt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jg(Zs.bind(null,t,on,Jr),e);break}Zs(t,on,Jr);break;case 4:if(es(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-or(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bL(r/1960))-r,10<r){t.timeoutHandle=Jg(Zs.bind(null,t,on,Jr),r);break}Zs(t,on,Jr);break;case 5:Zs(t,on,Jr);break;default:throw Error(U(329))}}}return hn(t,rt()),t.callbackNode===n?vI.bind(null,t):null}function vy(t,e){var n=bu;return t.current.memoizedState.isDehydrated&&(fo(t,e).flags|=256),t=of(t,e),t!==2&&(e=on,on=n,e!==null&&_y(e)),t}function _y(t){on===null?on=t:on.push.apply(on,t)}function RL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!lr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function es(t,e){for(e&=~S_,e&=~ap,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-or(e),r=1<<n;t[n]=-1,e&=~r}}function U0(t){if(be&6)throw Error(U(327));ka();var e=jd(t,0);if(!(e&1))return hn(t,rt()),null;var n=of(t,e);if(t.tag!==0&&n===2){var r=Wg(t);r!==0&&(e=r,n=vy(t,r))}if(n===1)throw n=tc,fo(t,0),es(t,e),hn(t,rt()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zs(t,on,Jr),hn(t,rt()),null}function T_(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(Ha=rt()+500,rp&&ks())}}function wo(t){os!==null&&os.tag===0&&!(be&6)&&ka();var e=be;be|=1;var n=Bn.transition,r=Pe;try{if(Bn.transition=null,Pe=1,t)return t()}finally{Pe=r,Bn.transition=n,be=e,!(be&6)&&ks()}}function b_(){Sn=Ea.current,Ue(Ea)}function fo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,tL(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(i_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qd();break;case 3:za(),Ue(un),Ue(Wt),f_();break;case 5:d_(r);break;case 4:za();break;case 13:Ue(Ke);break;case 19:Ue(Ke);break;case 10:l_(r.type._context);break;case 22:case 23:b_()}n=n.return}if(Rt=t,at=t=ms(t.current,null),Dt=Sn=e,mt=0,tc=null,S_=ap=_o=0,on=bu=null,io!==null){for(e=0;e<io.length;e++)if(n=io[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}io=null}return t}function _I(t,e){do{var n=at;try{if(a_(),id.current=tf,ef){for(var r=Ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ef=!1}if(vo=0,bt=pt=Ge=null,Eu=!1,Ju=0,w_.current=null,n===null||n.return===null){mt=1,tc=e,at=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Dt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=x0(o);if(m!==null){m.flags&=-257,P0(m,o,a,s,e),m.mode&1&&A0(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var E=new Set;E.add(l),e.updateQueue=E}else v.add(l);break e}else{if(!(e&1)){A0(s,c,e),R_();break e}l=Error(U(426))}}else if(He&&a.mode&1){var R=x0(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),P0(R,o,a,s,e),s_(Wa(l,a));break e}}s=l=Wa(l,a),mt!==4&&(mt=2),bu===null?bu=[s]:bu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=nI(s,l,e);E0(s,w);break e;case 1:a=l;var y=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(fs===null||!fs.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=rI(s,a,e);E0(s,k);break e}}s=s.return}while(s!==null)}EI(n)}catch(N){e=N,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function wI(){var t=nf.current;return nf.current=tf,t===null?tf:t}function R_(){(mt===0||mt===3||mt===2)&&(mt=4),Rt===null||!(_o&268435455)&&!(ap&268435455)||es(Rt,Dt)}function of(t,e){var n=be;be|=2;var r=wI();(Rt!==t||Dt!==e)&&(Jr=null,fo(t,e));do try{CL();break}catch(i){_I(t,i)}while(!0);if(a_(),be=n,nf.current=r,at!==null)throw Error(U(261));return Rt=null,Dt=0,mt}function CL(){for(;at!==null;)SI(at)}function IL(){for(;at!==null&&!JO();)SI(at)}function SI(t){var e=bI(t.alternate,t,Sn);t.memoizedProps=t.pendingProps,e===null?EI(t):at=e,w_.current=null}function EI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wL(n,e),n!==null){n.flags&=32767,at=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,at=null;return}}else if(n=_L(n,e,Sn),n!==null){at=n;return}if(e=e.sibling,e!==null){at=e;return}at=e=t}while(e!==null);mt===0&&(mt=5)}function Zs(t,e,n){var r=Pe,i=Bn.transition;try{Bn.transition=null,Pe=1,AL(t,e,n,r)}finally{Bn.transition=i,Pe=r}return null}function AL(t,e,n,r){do ka();while(os!==null);if(be&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(lD(t,s),t===Rt&&(at=Rt=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ah||(Ah=!0,RI($d,function(){return ka(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Bn.transition,Bn.transition=null;var o=Pe;Pe=1;var a=be;be|=4,w_.current=null,EL(t,n),gI(n,t),GD(Xg),Ud=!!Qg,Xg=Qg=null,t.current=n,TL(n),ZO(),be=a,Pe=o,Bn.transition=s}else t.current=n;if(Ah&&(Ah=!1,os=t,sf=i),s=t.pendingLanes,s===0&&(fs=null),nD(n.stateNode),hn(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rf)throw rf=!1,t=gy,gy=null,t;return sf&1&&t.tag!==0&&ka(),s=t.pendingLanes,s&1?t===yy?Ru++:(Ru=0,yy=t):Ru=0,ks(),null}function ka(){if(os!==null){var t=nC(sf),e=Bn.transition,n=Pe;try{if(Bn.transition=null,Pe=16>t?16:t,os===null)var r=!1;else{if(t=os,os=null,sf=0,be&6)throw Error(U(331));var i=be;for(be|=4,X=t.current;X!==null;){var s=X,o=s.child;if(X.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:Tu(8,h,s)}var d=h.child;if(d!==null)d.return=h,X=d;else for(;X!==null;){h=X;var f=h.sibling,m=h.return;if(fI(h),h===c){X=null;break}if(f!==null){f.return=m,X=f;break}X=m}}}var v=s.alternate;if(v!==null){var E=v.child;if(E!==null){v.child=null;do{var R=E.sibling;E.sibling=null,E=R}while(E!==null)}}X=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,X=o;else e:for(;X!==null;){if(s=X,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tu(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,X=w;break e}X=s.return}}var y=t.current;for(X=y;X!==null;){o=X;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,X=S;else e:for(o=y;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:op(9,a)}}catch(N){et(a,a.return,N)}if(a===o){X=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,X=k;break e}X=a.return}}if(be=i,ks(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(Jf,t)}catch{}r=!0}return r}finally{Pe=n,Bn.transition=e}}return!1}function z0(t,e,n){e=Wa(n,e),e=nI(t,e,1),t=ds(t,e,1),e=Jt(),t!==null&&(_c(t,1,e),hn(t,e))}function et(t,e,n){if(t.tag===3)z0(t,t,n);else for(;e!==null;){if(e.tag===3){z0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fs===null||!fs.has(r))){t=Wa(n,t),t=rI(e,t,1),e=ds(e,t,1),t=Jt(),e!==null&&(_c(e,1,t),hn(e,t));break}}e=e.return}}function xL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Dt&n)===n&&(mt===4||mt===3&&(Dt&130023424)===Dt&&500>rt()-E_?fo(t,0):S_|=n),hn(t,e)}function TI(t,e){e===0&&(t.mode&1?(e=vh,vh<<=1,!(vh&130023424)&&(vh=4194304)):e=1);var n=Jt();t=fi(t,e),t!==null&&(_c(t,e,n),hn(t,n))}function PL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TI(t,n)}function kL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),TI(t,n)}var bI;bI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ln=!1,vL(t,e,n);ln=!!(t.flags&131072)}else ln=!1,He&&e.flags&1048576&&AC(e,Qd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;od(t,e),t=e.pendingProps;var i=$a(e,Wt.current);Pa(e,n),i=m_(null,e,r,t,i,n);var s=g_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(s=!0,Kd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,c_(e),i.updater=sp,e.stateNode=i,i._reactInternals=e,sy(e,r,t,n),e=ly(null,e,r,!0,s,n)):(e.tag=0,He&&s&&r_(e),Yt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(od(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=DL(r),t=er(r,t),i){case 0:e=ay(null,e,r,t,n);break e;case 1:e=D0(null,e,r,t,n);break e;case 11:e=k0(null,e,r,t,n);break e;case 14:e=O0(null,e,r,er(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),ay(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),D0(t,e,r,i,n);case 3:e:{if(aI(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,LC(t,e),Jd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Wa(Error(U(423)),e),e=L0(t,e,r,n,i);break e}else if(r!==i){i=Wa(Error(U(424)),e),e=L0(t,e,r,n,i);break e}else for(Tn=hs(e.stateNode.containerInfo.firstChild),Rn=e,He=!0,rr=null,n=OC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ja(),r===i){e=pi(t,e,n);break e}Yt(t,e,r,n)}e=e.child}return e;case 5:return NC(e),t===null&&ny(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Yg(r,i)?o=null:s!==null&&Yg(r,s)&&(e.flags|=32),oI(t,e),Yt(t,e,o,n),e.child;case 6:return t===null&&ny(e),null;case 13:return lI(t,e,n);case 4:return h_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ua(e,null,r,n):Yt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),k0(t,e,r,i,n);case 7:return Yt(t,e,e.pendingProps,n),e.child;case 8:return Yt(t,e,e.pendingProps.children,n),e.child;case 12:return Yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ve(Xd,r._currentValue),r._currentValue=o,s!==null)if(lr(s.value,o)){if(s.children===i.children&&!un.current){e=pi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=oi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ry(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ry(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Yt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Pa(e,n),i=Un(i),r=r(i),e.flags|=1,Yt(t,e,r,n),e.child;case 14:return r=e.type,i=er(r,e.pendingProps),i=er(r.type,i),O0(t,e,r,i,n);case 15:return iI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:er(r,i),od(t,e),e.tag=1,cn(r)?(t=!0,Kd(e)):t=!1,Pa(e,n),tI(e,r,i),sy(e,r,i,n),ly(null,e,r,!0,t,n);case 19:return uI(t,e,n);case 22:return sI(t,e,n)}throw Error(U(156,e.tag))};function RI(t,e){return JR(t,e)}function OL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,n,r){return new OL(t,e,n,r)}function C_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DL(t){if(typeof t=="function")return C_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hv)return 11;if(t===qv)return 14}return 2}function ms(t,e){var n=t.alternate;return n===null?(n=Vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ud(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")C_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case da:return po(n.children,i,s,e);case Wv:o=8,i|=8;break;case xg:return t=Vn(12,n,e,i|2),t.elementType=xg,t.lanes=s,t;case Pg:return t=Vn(13,n,e,i),t.elementType=Pg,t.lanes=s,t;case kg:return t=Vn(19,n,e,i),t.elementType=kg,t.lanes=s,t;case NR:return lp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DR:o=10;break e;case LR:o=9;break e;case Hv:o=11;break e;case qv:o=14;break e;case Xi:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Vn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function po(t,e,n,r){return t=Vn(7,t,r,e),t.lanes=n,t}function lp(t,e,n,r){return t=Vn(22,t,r,e),t.elementType=NR,t.lanes=n,t.stateNode={isHidden:!1},t}function Pm(t,e,n){return t=Vn(6,t,null,e),t.lanes=n,t}function km(t,e,n){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hm(0),this.expirationTimes=hm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function I_(t,e,n,r,i,s,o,a,l){return t=new LL(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},c_(s),t}function NL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ha,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function CI(t){if(!t)return Es;t=t._reactInternals;e:{if(xo(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(cn(n))return CC(t,n,e)}return e}function II(t,e,n,r,i,s,o,a,l){return t=I_(n,r,!0,t,i,s,o,a,l),t.context=CI(null),n=t.current,r=Jt(),i=ps(n),s=oi(r,i),s.callback=e??null,ds(n,s,i),t.current.lanes=i,_c(t,i,r),hn(t,r),t}function up(t,e,n,r){var i=e.current,s=Jt(),o=ps(i);return n=CI(n),e.context===null?e.context=n:e.pendingContext=n,e=oi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ds(i,e,o),t!==null&&(ar(t,i,o,s),rd(t,i,o)),o}function af(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function W0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function A_(t,e){W0(t,e),(t=t.alternate)&&W0(t,e)}function ML(){return null}var AI=typeof reportError=="function"?reportError:function(t){console.error(t)};function x_(t){this._internalRoot=t}cp.prototype.render=x_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));up(t,e,null,null)};cp.prototype.unmount=x_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wo(function(){up(null,t,null,null)}),e[di]=null}};function cp(t){this._internalRoot=t}cp.prototype.unstable_scheduleHydration=function(t){if(t){var e=sC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zi.length&&e!==0&&e<Zi[n].priority;n++);Zi.splice(n,0,t),n===0&&aC(t)}};function P_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function H0(){}function VL(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=af(o);s.call(c)}}var o=II(e,r,t,0,null,!1,!1,"",H0);return t._reactRootContainer=o,t[di]=o.current,Ku(t.nodeType===8?t.parentNode:t),wo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=af(l);a.call(c)}}var l=I_(t,0,!1,null,null,!1,!1,"",H0);return t._reactRootContainer=l,t[di]=l.current,Ku(t.nodeType===8?t.parentNode:t),wo(function(){up(e,l,n,r)}),l}function dp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=af(o);a.call(l)}}up(e,o,t,i)}else o=VL(n,e,t,i,r);return af(o)}rC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eu(e.pendingLanes);n!==0&&(Qv(e,n|1),hn(e,rt()),!(be&6)&&(Ha=rt()+500,ks()))}break;case 13:wo(function(){var r=fi(t,1);if(r!==null){var i=Jt();ar(r,t,1,i)}}),A_(t,1)}};Xv=function(t){if(t.tag===13){var e=fi(t,134217728);if(e!==null){var n=Jt();ar(e,t,134217728,n)}A_(t,134217728)}};iC=function(t){if(t.tag===13){var e=ps(t),n=fi(t,e);if(n!==null){var r=Jt();ar(n,t,e,r)}A_(t,e)}};sC=function(){return Pe};oC=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};jg=function(t,e,n){switch(e){case"input":if(Lg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=np(r);if(!i)throw Error(U(90));VR(r),Lg(r,i)}}}break;case"textarea":BR(t,n);break;case"select":e=n.value,e!=null&&Ca(t,!!n.multiple,e,!1)}};qR=T_;KR=wo;var FL={usingClientEntryPoint:!1,Events:[Sc,ga,np,WR,HR,T_]},Kl={findFiberByHostInstance:ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BL={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XR(t),t===null?null:t.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||ML,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{Jf=xh.inject(BL),Or=xh}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FL;In.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P_(e))throw Error(U(200));return NL(t,e,null,n)};In.createRoot=function(t,e){if(!P_(t))throw Error(U(299));var n=!1,r="",i=AI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=I_(t,1,!1,null,null,n,!1,r,i),t[di]=e.current,Ku(t.nodeType===8?t.parentNode:t),new x_(e)};In.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=XR(e),t=t===null?null:t.stateNode,t};In.flushSync=function(t){return wo(t)};In.hydrate=function(t,e,n){if(!hp(e))throw Error(U(200));return dp(null,t,e,!0,n)};In.hydrateRoot=function(t,e,n){if(!P_(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=AI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=II(e,null,t,1,n??null,i,!1,s,o),t[di]=e.current,Ku(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new cp(e)};In.render=function(t,e,n){if(!hp(e))throw Error(U(200));return dp(null,t,e,!1,n)};In.unmountComponentAtNode=function(t){if(!hp(t))throw Error(U(40));return t._reactRootContainer?(wo(function(){dp(null,null,t,!1,function(){t._reactRootContainer=null,t[di]=null})}),!0):!1};In.unstable_batchedUpdates=T_;In.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hp(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return dp(t,e,n,!1,r)};In.version="18.3.1-next-f1338f8080-20240426";function xI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xI)}catch(t){console.error(t)}}xI(),xR.exports=In;var PI=xR.exports;const $L=el(PI);var q0=PI;Ig.createRoot=q0.createRoot,Ig.hydrateRoot=q0.hydrateRoot;var jL=t=>t.disabled||Array.isArray(t.accessibilityStates)&&t.accessibilityStates.indexOf("disabled")>-1,UL={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null},kI=t=>{var e=t.accessibilityRole,n=t.role,r=n||e;if(r){var i=UL[r];if(i!==null)return i||r}},zL={article:"article",banner:"header",blockquote:"blockquote",button:"button",code:"code",complementary:"aside",contentinfo:"footer",deletion:"del",emphasis:"em",figure:"figure",insertion:"ins",form:"form",list:"ul",listitem:"li",main:"main",navigation:"nav",paragraph:"p",region:"section",strong:"strong"},WL={},HL=function(e){e===void 0&&(e=WL);var n=e.role||e.accessibilityRole;if(n==="label")return"label";var r=kI(e);if(r){if(r==="heading"){var i=e.accessibilityLevel||e["aria-level"];return i!=null?"h"+i:"h1"}return zL[r]}},OI={isDisabled:jL,propsToAccessibilityComponent:HL,propsToAriaRole:kI};function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function qL(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KL(t){var e=qL(t,"string");return nc(e)=="symbol"?e:e+""}function GL(t,e,n){return(e=KL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function de(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K0(Object(n),!0).forEach(function(r){GL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dn(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},QL=["ms","Moz","O","Webkit"],XL=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1);Object.keys(cd).forEach(t=>{QL.forEach(e=>{cd[XL(e,t)]=cd[t]})});var YL=t=>t==="currentcolor"||t==="currentColor"||t==="inherit"||t.indexOf("var(")===0;function JL(t){if(typeof t=="number")return t>>>0===t&&t>=0&&t<=4294967295?t:null;if(typeof t!="string")return null;const e=eN();let n;if(n=e.hex6.exec(t))return parseInt(n[1]+"ff",16)>>>0;const r=tN(t);return r??((n=e.rgb.exec(t))?(Qr(n[1])<<24|Qr(n[2])<<16|Qr(n[3])<<8|255)>>>0:(n=e.rgba.exec(t))?n[6]!==void 0?(Qr(n[6])<<24|Qr(n[7])<<16|Qr(n[8])<<8|kh(n[9]))>>>0:(Qr(n[2])<<24|Qr(n[3])<<16|Qr(n[4])<<8|kh(n[5]))>>>0:(n=e.hex3.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0:(n=e.hex8.exec(t))?parseInt(n[1],16)>>>0:(n=e.hex4.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0:(n=e.hsl.exec(t))?(Om(Ph(n[1]),Wi(n[2]),Wi(n[3]))|255)>>>0:(n=e.hsla.exec(t))?n[6]!==void 0?(Om(Ph(n[6]),Wi(n[7]),Wi(n[8]))|kh(n[9]))>>>0:(Om(Ph(n[2]),Wi(n[3]),Wi(n[4]))|kh(n[5]))>>>0:(n=e.hwb.exec(t))?(ZL(Ph(n[1]),Wi(n[2]),Wi(n[3]))|255)>>>0:null)}function Oa(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Om(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=Oa(i,r,t+1/3),o=Oa(i,r,t),a=Oa(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function ZL(t,e,n){if(e+n>=1){const o=Math.round(e*255/(e+n));return o<<24|o<<16|o<<8}const r=Oa(0,1,t+1/3)*(1-e-n)+e,i=Oa(0,1,t)*(1-e-n)+e,s=Oa(0,1,t-1/3)*(1-e-n)+e;return Math.round(r*255)<<24|Math.round(i*255)<<16|Math.round(s*255)<<8}const St="[-+]?\\d*\\.?\\d+",zi=St+"%";function Dm(...t){return"\\(\\s*("+t.join(")\\s*,?\\s*(")+")\\s*\\)"}function G0(...t){return"\\(\\s*("+t.slice(0,t.length-1).join(")\\s*,?\\s*(")+")\\s*/\\s*("+t[t.length-1]+")\\s*\\)"}function Q0(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}let Lm;function eN(){return Lm===void 0&&(Lm={rgb:new RegExp("rgb"+Dm(St,St,St)),rgba:new RegExp("rgba("+Q0(St,St,St,St)+"|"+G0(St,St,St,St)+")"),hsl:new RegExp("hsl"+Dm(St,zi,zi)),hsla:new RegExp("hsla("+Q0(St,zi,zi,St)+"|"+G0(St,zi,zi,St)+")"),hwb:new RegExp("hwb"+Dm(St,zi,zi)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/}),Lm}function Qr(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function Ph(t){return(parseFloat(t)%360+360)%360/360}function kh(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Wi(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function tN(t){switch(t){case"transparent":return 0;case"aliceblue":return 4042850303;case"antiquewhite":return 4209760255;case"aqua":return 16777215;case"aquamarine":return 2147472639;case"azure":return 4043309055;case"beige":return 4126530815;case"bisque":return 4293182719;case"black":return 255;case"blanchedalmond":return 4293643775;case"blue":return 65535;case"blueviolet":return 2318131967;case"brown":return 2771004159;case"burlywood":return 3736635391;case"burntsienna":return 3934150143;case"cadetblue":return 1604231423;case"chartreuse":return 2147418367;case"chocolate":return 3530104575;case"coral":return 4286533887;case"cornflowerblue":return 1687547391;case"cornsilk":return 4294499583;case"crimson":return 3692313855;case"cyan":return 16777215;case"darkblue":return 35839;case"darkcyan":return 9145343;case"darkgoldenrod":return 3095792639;case"darkgray":return 2846468607;case"darkgreen":return 6553855;case"darkgrey":return 2846468607;case"darkkhaki":return 3182914559;case"darkmagenta":return 2332068863;case"darkolivegreen":return 1433087999;case"darkorange":return 4287365375;case"darkorchid":return 2570243327;case"darkred":return 2332033279;case"darksalmon":return 3918953215;case"darkseagreen":return 2411499519;case"darkslateblue":return 1211993087;case"darkslategray":return 793726975;case"darkslategrey":return 793726975;case"darkturquoise":return 13554175;case"darkviolet":return 2483082239;case"deeppink":return 4279538687;case"deepskyblue":return 12582911;case"dimgray":return 1768516095;case"dimgrey":return 1768516095;case"dodgerblue":return 512819199;case"firebrick":return 2988581631;case"floralwhite":return 4294635775;case"forestgreen":return 579543807;case"fuchsia":return 4278255615;case"gainsboro":return 3705462015;case"ghostwhite":return 4177068031;case"gold":return 4292280575;case"goldenrod":return 3668254975;case"gray":return 2155905279;case"green":return 8388863;case"greenyellow":return 2919182335;case"grey":return 2155905279;case"honeydew":return 4043305215;case"hotpink":return 4285117695;case"indianred":return 3445382399;case"indigo":return 1258324735;case"ivory":return 4294963455;case"khaki":return 4041641215;case"lavender":return 3873897215;case"lavenderblush":return 4293981695;case"lawngreen":return 2096890111;case"lemonchiffon":return 4294626815;case"lightblue":return 2916673279;case"lightcoral":return 4034953471;case"lightcyan":return 3774873599;case"lightgoldenrodyellow":return 4210742015;case"lightgray":return 3553874943;case"lightgreen":return 2431553791;case"lightgrey":return 3553874943;case"lightpink":return 4290167295;case"lightsalmon":return 4288707327;case"lightseagreen":return 548580095;case"lightskyblue":return 2278488831;case"lightslategray":return 2005441023;case"lightslategrey":return 2005441023;case"lightsteelblue":return 2965692159;case"lightyellow":return 4294959359;case"lime":return 16711935;case"limegreen":return 852308735;case"linen":return 4210091775;case"magenta":return 4278255615;case"maroon":return 2147483903;case"mediumaquamarine":return 1724754687;case"mediumblue":return 52735;case"mediumorchid":return 3126187007;case"mediumpurple":return 2473647103;case"mediumseagreen":return 1018393087;case"mediumslateblue":return 2070474495;case"mediumspringgreen":return 16423679;case"mediumturquoise":return 1221709055;case"mediumvioletred":return 3340076543;case"midnightblue":return 421097727;case"mintcream":return 4127193855;case"mistyrose":return 4293190143;case"moccasin":return 4293178879;case"navajowhite":return 4292783615;case"navy":return 33023;case"oldlace":return 4260751103;case"olive":return 2155872511;case"olivedrab":return 1804477439;case"orange":return 4289003775;case"orangered":return 4282712319;case"orchid":return 3664828159;case"palegoldenrod":return 4008225535;case"palegreen":return 2566625535;case"paleturquoise":return 2951671551;case"palevioletred":return 3681588223;case"papayawhip":return 4293907967;case"peachpuff":return 4292524543;case"peru":return 3448061951;case"pink":return 4290825215;case"plum":return 3718307327;case"powderblue":return 2967529215;case"purple":return 2147516671;case"rebeccapurple":return 1714657791;case"red":return 4278190335;case"rosybrown":return 3163525119;case"royalblue":return 1097458175;case"saddlebrown":return 2336560127;case"salmon":return 4202722047;case"sandybrown":return 4104413439;case"seagreen":return 780883967;case"seashell":return 4294307583;case"sienna":return 2689740287;case"silver":return 3233857791;case"skyblue":return 2278484991;case"slateblue":return 1784335871;case"slategray":return 1887473919;case"slategrey":return 1887473919;case"snow":return 4294638335;case"springgreen":return 16744447;case"steelblue":return 1182971135;case"tan":return 3535047935;case"teal":return 8421631;case"thistle":return 3636451583;case"tomato":return 4284696575;case"turquoise":return 1088475391;case"violet":return 4001558271;case"wheat":return 4125012991;case"white":return 4294967295;case"whitesmoke":return 4126537215;case"yellow":return 4294902015;case"yellowgreen":return 2597139199}return null}var nN=JL;const rN=el(nN);var iN=t=>{if(t==null)return t;var e=rN(t);if(e!=null)return e=(e<<24|e>>>8)>>>0,e},DI=function(e,n){if(n===void 0&&(n=1),e!=null){if(typeof e=="string"&&YL(e))return e;var r=iN(e);if(r!=null){var i=r>>16&255,s=r>>8&255,o=r&255,a=(r>>24&255)/255,l=(a*n).toFixed(2);return"rgba("+i+","+s+","+o+","+l+")"}}},sN={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function xr(t,e){var n=t;return(e==null||!cd[e])&&typeof t=="number"?n=t+"px":e!=null&&sN[e]&&(n=DI(t)),n}var gt=!!(typeof window<"u"&&window.document&&window.document.createElement),oN={},aN=!gt||window.CSS!=null&&window.CSS.supports!=null&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),lN="monospace,monospace",X0='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',uN={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderBlockColor:["borderTopColor","borderBottomColor"],borderInlineColor:["borderRightColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderInlineStyle:["borderRightStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderInlineWidth:["borderRightWidth","borderLeftWidth"],insetBlock:["top","bottom"],insetInline:["left","right"],marginBlock:["marginTop","marginBottom"],marginInline:["marginRight","marginLeft"],paddingBlock:["paddingTop","paddingBottom"],paddingInline:["paddingRight","paddingLeft"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],borderBlockStartColor:["borderTopColor"],borderBlockStartStyle:["borderTopStyle"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndColor:["borderBottomColor"],borderBlockEndStyle:["borderBottomStyle"],borderBlockEndWidth:["borderBottomWidth"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],insetBlockEnd:["bottom"],insetBlockStart:["top"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"]},LI=(t,e)=>{if(!t)return oN;var n={},r=function(){var a=t[i];if(a==null)return"continue";if(i==="backgroundClip")a==="text"&&(n.backgroundClip=a,n.WebkitBackgroundClip=a);else if(i==="flex")a===-1?(n.flexGrow=0,n.flexShrink=1,n.flexBasis="auto"):n.flex=a;else if(i==="font")n[i]=a.replace("System",X0);else if(i==="fontFamily")if(a.indexOf("System")>-1){var l=a.split(/,\s*/);l[l.indexOf("System")]=X0,n[i]=l.join(",")}else a==="monospace"?n[i]=lN:n[i]=a;else if(i==="textDecorationLine")aN?n.textDecorationLine=a:n.textDecoration=a;else if(i==="writingDirection")n.direction=a;else{var c=xr(t[i],i),h=uN[i];e&&i==="inset"?(t.insetInline==null&&(n.left=c,n.right=c),t.insetBlock==null&&(n.top=c,n.bottom=c)):e&&i==="margin"?(t.marginInline==null&&(n.marginLeft=c,n.marginRight=c),t.marginBlock==null&&(n.marginTop=c,n.marginBottom=c)):e&&i==="padding"?(t.paddingInline==null&&(n.paddingLeft=c,n.paddingRight=c),t.paddingBlock==null&&(n.paddingTop=c,n.paddingBottom=c)):h?h.forEach((d,f)=>{t[d]==null&&(n[d]=c)}):n[i]=c}};for(var i in t)var s=r();return n};function cN(t,e){for(var n=t.length,r=e^n,i=0,s;n>=4;)s=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,s=(s&65535)*1540483477+(((s>>>16)*1540483477&65535)<<16),s^=s>>>24,s=(s&65535)*1540483477+(((s>>>16)*1540483477&65535)<<16),r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16)^s,n-=4,++i;switch(n){case 3:r^=(t.charCodeAt(i+2)&255)<<16;case 2:r^=(t.charCodeAt(i+1)&255)<<8;case 1:r^=t.charCodeAt(i)&255,r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16)}return r^=r>>>13,r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16),r^=r>>>15,r>>>0}var hN=t=>cN(t,1).toString(36),dN=/[A-Z]/g,fN=/^ms-/,Nm={};function pN(t){return"-"+t.toLowerCase()}function mN(t){if(t in Nm)return Nm[t];var e=t.replace(dN,pN);return Nm[t]=fN.test(e)?"-"+e:e}var NI={},k_={},fp={};Object.defineProperty(fp,"__esModule",{value:!0});fp.default=gN;function gN(t){return t.charAt(0).toUpperCase()+t.slice(1)}Object.defineProperty(k_,"__esModule",{value:!0});k_.default=wN;var yN=fp,vN=_N(yN);function _N(t){return t&&t.__esModule?t:{default:t}}function wN(t,e,n){var r=t[e];if(r&&n.hasOwnProperty(e))for(var i=(0,vN.default)(e),s=0;s<r.length;++s){var o=r[s]+i;n[o]||(n[o]=n[e])}return n}var O_={};Object.defineProperty(O_,"__esModule",{value:!0});O_.default=SN;function SN(t,e,n,r,i){for(var s=0,o=t.length;s<o;++s){var a=t[s](e,n,r,i);if(a)return a}}var D_={};Object.defineProperty(D_,"__esModule",{value:!0});D_.default=EN;function Y0(t,e){t.indexOf(e)===-1&&t.push(e)}function EN(t,e){if(Array.isArray(e))for(var n=0,r=e.length;n<r;++n)Y0(t,e[n]);else Y0(t,e)}var L_={};Object.defineProperty(L_,"__esModule",{value:!0});L_.default=TN;function TN(t){return t instanceof Object&&!Array.isArray(t)}Object.defineProperty(NI,"__esModule",{value:!0});var bN=NI.default=ON,RN=k_,CN=pp(RN),IN=O_,J0=pp(IN),AN=D_,xN=pp(AN),PN=L_,kN=pp(PN);function pp(t){return t&&t.__esModule?t:{default:t}}function ON(t){var e=t.prefixMap,n=t.plugins;return function r(i){for(var s in i){var o=i[s];if((0,kN.default)(o))i[s]=r(o);else if(Array.isArray(o)){for(var a=[],l=0,c=o.length;l<c;++l){var h=(0,J0.default)(n,s,o[l],i,e);(0,xN.default)(a,h||o[l])}a.length>0&&(i[s]=a)}else{var d=(0,J0.default)(n,s,o,i,e);d&&(i[s]=d),i=(0,CN.default)(e,s,i)}}return i}}var MI={};Object.defineProperty(MI,"__esModule",{value:!0});var DN=MI.default=LN;function LN(){return null}var VI={};function hd(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hd=function(n){return typeof n}:hd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hd(t)}function NN(t){return BN(t)||FN(t)||VN(t)||MN()}function MN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VN(t,e){if(t){if(typeof t=="string")return wy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wy(t,e)}}function FN(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function BN(t){if(Array.isArray(t))return wy(t)}function wy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z0(t){return t.filter(function(e,n){return t.lastIndexOf(e)===n})}function FI(t){for(var e=0,n=arguments.length<=1?0:arguments.length-1;e<n;++e){var r=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];for(var i in r){var s=r[i],o=t[i];if(o&&s){if(Array.isArray(o)){t[i]=Z0(o.concat(s));continue}if(Array.isArray(s)){t[i]=Z0([o].concat(NN(s)));continue}if(hd(s)==="object"){t[i]=FI({},o,s);continue}}t[i]=s}}return t}var $N=/-([a-z])/g,jN=/^Ms/g,Mm={};function UN(t){return t[1].toUpperCase()}function BI(t){if(Mm.hasOwnProperty(t))return Mm[t];var e=t.replace($N,UN).replace(jN,"ms");return Mm[t]=e,e}var zN=/[A-Z]/g,WN=/^ms-/,Vm={};function HN(t){return"-"+t.toLowerCase()}function $I(t){if(Vm.hasOwnProperty(t))return Vm[t];var e=t.replace(zN,HN);return Vm[t]=WN.test(e)?"-"+e:e}const qN=Object.freeze(Object.defineProperty({__proto__:null,default:$I},Symbol.toStringTag,{value:"Module"}));function mp(t){return $I(t)}function jI(t,e){return mp(t)+":"+e}function KN(t){var e="";for(var n in t){var r=t[n];typeof r!="string"&&typeof r!="number"||(e&&(e+=";"),e+=jI(n,r))}return e}var GN=/^(Webkit|Moz|O|ms)/;function QN(t){return GN.test(t)}var XN=/-webkit-|-moz-|-ms-/;function YN(t){return typeof t=="string"&&XN.test(t)}var rc={borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eE=["animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineClamp","order"],tE=["Webkit","ms","Moz","O"];function JN(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)}for(var Fm=0,ZN=eE.length;Fm<ZN;++Fm){var nE=eE[Fm];rc[nE]=!0;for(var Bm=0,eM=tE.length;Bm<eM;++Bm)rc[JN(tE[Bm],nE)]=!0}for(var tM in rc)rc[mp(tM)]=!0;function nM(t){return rc.hasOwnProperty(t)}var rM=/^(ms|Webkit|Moz|O)/;function UI(t){var e=t.replace(rM,"");return e.charAt(0).toLowerCase()+e.slice(1)}function iM(t){return UI(BI(t))}function sM(t,e){return e.join(";"+mp(t)+":")}var oM=/(-ms-|-webkit-|-moz-|-o-)/g;function aM(t){return typeof t=="string"?t.replace(oM,""):t}const lM=Object.freeze(Object.defineProperty({__proto__:null,assignStyle:FI,camelCaseProperty:BI,cssifyDeclaration:jI,cssifyObject:KN,hyphenateProperty:mp,isPrefixedProperty:QN,isPrefixedValue:YN,isUnitlessProperty:nM,normalizeProperty:iM,resolveArrayValue:sM,unprefixProperty:UI,unprefixValue:aM},Symbol.toStringTag,{value:"Module"})),zI=yR(lM);Object.defineProperty(VI,"__esModule",{value:!0});var uM=VI.default=fM,cM=zI,hM=/cross-fade\(/g,dM=["-webkit-",""];function fM(t,e){if(typeof e=="string"&&!(0,cM.isPrefixedValue)(e)&&e.indexOf("cross-fade(")!==-1)return dM.map(function(n){return e.replace(hM,n+"cross-fade(")})}var WI={};Object.defineProperty(WI,"__esModule",{value:!0});var pM=WI.default=yM,mM=["-webkit-","-moz-",""],gM={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};function yM(t,e){if(t==="cursor"&&gM.hasOwnProperty(e))return mM.map(function(n){return n+e})}var HI={};Object.defineProperty(HI,"__esModule",{value:!0});var vM=HI.default=EM,_M=zI,wM=/filter\(/g,SM=["-webkit-",""];function EM(t,e){if(typeof e=="string"&&!(0,_M.isPrefixedValue)(e)&&e.indexOf("filter(")!==-1)return SM.map(function(n){return e.replace(wM,n+"filter(")})}var qI={},N_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var e=/-webkit-|-moz-|-ms-/;function n(r){return typeof r=="string"&&e.test(r)}})(N_);Object.defineProperty(qI,"__esModule",{value:!0});var TM=qI.default=AM,bM=N_,RM=CM(bM);function CM(t){return t&&t.__esModule?t:{default:t}}var IM=["-webkit-",""];function AM(t,e){if(typeof e=="string"&&!(0,RM.default)(e)&&e.indexOf("image-set(")>-1)return IM.map(function(n){return e.replace(/image-set\(/g,n+"image-set(")})}var KI={};Object.defineProperty(KI,"__esModule",{value:!0});var xM=KI.default=PM,rE={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]};function PM(t,e,n){if(Object.prototype.hasOwnProperty.call(rE,t))for(var r=rE[t],i=0,s=r.length;i<s;++i)n[r[i]]=e}var GI={};Object.defineProperty(GI,"__esModule",{value:!0});var kM=GI.default=OM;function OM(t,e){if(t==="position"&&e==="sticky")return["-webkit-sticky","sticky"]}var QI={};Object.defineProperty(QI,"__esModule",{value:!0});var DM=QI.default=VM,LM=["-webkit-","-moz-",""],NM={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},MM={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};function VM(t,e){if(NM.hasOwnProperty(t)&&MM.hasOwnProperty(e))return LM.map(function(n){return n+e})}var XI={},YI={};const FM=yR(qN);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var e=FM,n=r(e);function r(s){return s&&s.__esModule?s:{default:s}}function i(s){return(0,n.default)(s)}})(YI);Object.defineProperty(XI,"__esModule",{value:!0});var BM=XI.default=GM,$M=YI,jM=M_($M),UM=N_,zM=M_(UM),WM=fp,iE=M_(WM);function M_(t){return t&&t.__esModule?t:{default:t}}var HM={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},qM={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};function KM(t,e){if((0,zM.default)(t))return t;for(var n=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g),r=0,i=n.length;r<i;++r){var s=n[r],o=[s];for(var a in e){var l=(0,jM.default)(a);if(s.indexOf(l)>-1&&l!=="order")for(var c=e[a],h=0,d=c.length;h<d;++h)o.unshift(s.replace(l,qM[c[h]]+l))}n[r]=o.join(",")}return n.join(",")}function GM(t,e,n,r){if(typeof e=="string"&&HM.hasOwnProperty(t)){var i=KM(e,r),s=i.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(a){return!/-moz-|-ms-/.test(a)}).join(",");if(t.indexOf("Webkit")>-1)return s;var o=i.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(a){return!/-webkit-|-ms-/.test(a)}).join(",");return t.indexOf("Moz")>-1?o:(n["Webkit"+(0,iE.default)(t)]=s,n["Moz"+(0,iE.default)(t)]=o,i)}}var Le=["Webkit"],QM=["Moz"],XM=["Webkit","Moz"],Ze=["Webkit","ms"],YM=["Webkit","Moz","ms"];const JM={plugins:[DN,uM,pM,vM,TM,xM,kM,DM,BM],prefixMap:{appearance:YM,userSelect:XM,textEmphasisPosition:Ze,textEmphasis:Ze,textEmphasisStyle:Ze,textEmphasisColor:Ze,boxDecorationBreak:Ze,clipPath:Le,maskImage:Ze,maskMode:Ze,maskRepeat:Ze,maskPosition:Ze,maskClip:Ze,maskOrigin:Ze,maskSize:Ze,maskComposite:Ze,mask:Ze,maskBorderSource:Ze,maskBorderMode:Ze,maskBorderSlice:Ze,maskBorderWidth:Ze,maskBorderOutset:Ze,maskBorderRepeat:Ze,maskBorder:Ze,maskType:Ze,textDecorationStyle:Le,textDecorationSkip:Le,textDecorationLine:Le,textDecorationColor:Le,filter:Le,breakAfter:Le,breakBefore:Le,breakInside:Le,columnCount:Le,columnFill:Le,columnGap:Le,columnRule:Le,columnRuleColor:Le,columnRuleStyle:Le,columnRuleWidth:Le,columns:Le,columnSpan:Le,columnWidth:Le,backdropFilter:Le,hyphens:Le,flowInto:Le,flowFrom:Le,regionFragment:Le,textOrientation:Le,tabSize:QM,fontKerning:Le,textSizeAdjust:Le}};var ZM=bN(JM),e2=["animationKeyframes"],sE=new Map,t2={},n2=1,r2=3,i2={borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,inset:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,insetBlock:2.1,insetInline:2.1,marginInline:2.1,marginBlock:2.1,paddingInline:2.1,paddingBlock:2.1,borderBlockStartColor:2.2,borderBlockStartStyle:2.2,borderBlockStartWidth:2.2,borderBlockEndColor:2.2,borderBlockEndStyle:2.2,borderBlockEndWidth:2.2,borderInlineStartColor:2.2,borderInlineStartStyle:2.2,borderInlineStartWidth:2.2,borderInlineEndColor:2.2,borderInlineEndStyle:2.2,borderInlineEndWidth:2.2,borderEndStartRadius:2.2,borderEndEndRadius:2.2,borderStartStartRadius:2.2,borderStartEndRadius:2.2,insetBlockEnd:2.2,insetBlockStart:2.2,insetInlineEnd:2.2,insetInlineStart:2.2,marginBlockStart:2.2,marginBlockEnd:2.2,marginInlineStart:2.2,marginInlineEnd:2.2,paddingBlockStart:2.2,paddingBlockEnd:2.2,paddingInlineStart:2.2,paddingInlineEnd:2.2},Sy="borderTopLeftRadius",Ey="borderTopRightRadius",Ty="borderBottomLeftRadius",by="borderBottomRightRadius",Ry="borderLeftColor",Cy="borderLeftStyle",Iy="borderLeftWidth",Ay="borderRightColor",xy="borderRightStyle",Py="borderRightWidth",ky="right",Oy="marginLeft",Dy="marginRight",Ly="paddingLeft",Ny="paddingRight",My="left",lf={[Sy]:Ey,[Ey]:Sy,[Ty]:by,[by]:Ty,[Ry]:Ay,[Cy]:xy,[Iy]:Py,[Ay]:Ry,[xy]:Cy,[Py]:Iy,[My]:ky,[Oy]:Dy,[Dy]:Oy,[Ly]:Ny,[Ny]:Ly,[ky]:My},Cu={borderStartStartRadius:Sy,borderStartEndRadius:Ey,borderEndStartRadius:Ty,borderEndEndRadius:by,borderInlineStartColor:Ry,borderInlineStartStyle:Cy,borderInlineStartWidth:Iy,borderInlineEndColor:Ay,borderInlineEndStyle:xy,borderInlineEndWidth:Py,insetInlineEnd:ky,insetInlineStart:My,marginInlineStart:Oy,marginInlineEnd:Dy,paddingInlineStart:Ly,paddingInlineEnd:Ny},JI=["clear","float","textAlign"];function s2(t){var e={$$css:!0},n=[];function r(i,s,o){var a=l2(o,s),l=s+a,c=sE.get(l),h;if(c!=null)h=c[0],n.push(c[1]);else{var d=i!==s?l:a;h=V_("r",i,d);var f=i2[i]||r2,m=u2(h,s,o),v=[m,f];n.push(v),sE.set(l,[h,v])}return h}return Object.keys(t).sort().forEach(i=>{var s=t[i];if(s!=null){var o;if(JI.indexOf(i)>-1){var a=r(i,i,"left"),l=r(i,i,"right");s==="start"?o=[a,l]:s==="end"&&(o=[l,a])}var c=Cu[i];if(c!=null){var h=r(i,c,s),d=r(i,lf[c],s);o=[h,d]}if(i==="transitionProperty"){for(var f=Array.isArray(s)?s:[s],m=[],v=0;v<f.length;v++){var E=f[v];typeof E=="string"&&Cu[E]!=null&&m.push(v)}if(m.length>0){var R=[...f],w=[...f];m.forEach(y=>{var S=R[y];if(typeof S=="string"){var k=Cu[S],N=lf[k];R[y]=k,w[y]=N;var L=r(i,i,R),T=r(i,i,w);o=[L,T]}})}}o==null?o=r(i,i,s):e.$$css$localize=!0,e[i]=o}}),[e,n]}function o2(t,e){var n={$$css:!0},r=[],i=t.animationKeyframes,s=dn(t,e2),o=V_("css",e,JSON.stringify(t)),a="."+o,l;if(i!=null){var c=ZI(i),h=c[0],d=c[1];l=h.join(","),r.push(...d)}var f=Zr(de(de({},s),{},{animationName:l}));return r.push(""+a+f),n[o]=o,[n,[[r,n2]]]}function a2(t,e){var n=t||t2,r={},i={},s=function(){var c=n[o],h=o,d=c;if(!Object.prototype.hasOwnProperty.call(n,o)||c==null)return"continue";JI.indexOf(o)>-1&&(c==="start"?d=e?"right":"left":c==="end"&&(d=e?"left":"right"));var f=Cu[o];if(f!=null&&(h=e?lf[f]:f),o==="transitionProperty"){var m=Array.isArray(c)?c:[c];m.forEach((v,E)=>{if(typeof v=="string"){var R=Cu[v];R!=null&&(m[E]=e?lf[R]:R,d=m.join(" "))}})}r[h]||(i[h]=d),h===o&&(r[h]=!0)};for(var o in n)var a=s();return LI(i,!0)}function l2(t,e){var n=xr(t,e);return typeof n!="string"?JSON.stringify(n||""):n}function u2(t,e,n){var r=[],i="."+t;switch(e){case"animationKeyframes":{var s=ZI(n),o=s[0],a=s[1],l=Zr({animationName:o.join(",")});r.push(""+i+l,...a);break}case"placeholderTextColor":{var c=Zr({color:n,opacity:1});r.push(i+"::-webkit-input-placeholder"+c,i+"::-moz-placeholder"+c,i+":-ms-input-placeholder"+c,i+"::placeholder"+c);break}case"pointerEvents":{var h=n;if(n==="auto"||n==="box-only"){if(h="auto!important",n==="box-only"){var d=Zr({pointerEvents:"none"});r.push(i+">*"+d)}}else if((n==="none"||n==="box-none")&&(h="none!important",n==="box-none")){var f=Zr({pointerEvents:"auto"});r.push(i+">*"+f)}var m=Zr({pointerEvents:h});r.push(""+i+m);break}case"scrollbarWidth":{n==="none"&&r.push(i+"::-webkit-scrollbar{display:none}");var v=Zr({scrollbarWidth:n});r.push(""+i+v);break}default:{var E=Zr({[e]:n});r.push(""+i+E);break}}return r}function Zr(t){var e=ZM(LI(t)),n=Object.keys(e).map(r=>{var i=e[r],s=mN(r);return Array.isArray(i)?i.map(o=>s+":"+o).join(";"):s+":"+i}).sort().join(";");return"{"+n+";}"}function V_(t,e,n){var r=hN(e+n);return t+"-"+r}function c2(t){var e=["-webkit-",""],n=V_("r","animation",JSON.stringify(t)),r="{"+Object.keys(t).map(s=>{var o=t[s],a=Zr(o);return""+s+a}).join("")+"}",i=e.map(s=>"@"+s+"keyframes "+n+r);return[n,i]}function ZI(t){if(typeof t=="number")throw new Error("Invalid CSS keyframes type: "+typeof t);var e=[],n=[],r=Array.isArray(t)?t:[t];return r.forEach(i=>{if(typeof i=="string")e.push(i);else{var s=c2(i),o=s[0],a=s[1];e.push(o),n.push(...a)}}),[e,n]}function $m(t,e,n){if(gt){var r=e??document,i=r.getElementById(t);if(i==null)if(i=document.createElement("style"),i.setAttribute("id",t),typeof n=="string"&&i.appendChild(document.createTextNode(n)),r instanceof ShadowRoot)r.insertBefore(i,r.firstChild);else{var s=r.head;s&&s.insertBefore(i,s.firstChild)}return i.sheet}else return null}var h2=Array.prototype.slice;function jm(t){var e={},n={};if(t!=null){var r;h2.call(t.cssRules).forEach((o,a)=>{var l=o.cssText;if(l.indexOf("stylesheet-group")>-1)r=p2(o),e[r]={start:a,rules:[l]};else{var c=aE(l);c!=null&&(n[c]=!0,e[r].rules.push(l))}})}function i(o,a,l){var c=oE(e),h=c.indexOf(a),d=h+1,f=c[d],m=f!=null&&e[f].start!=null?e[f].start:o.cssRules.length,v=g2(o,l,m);if(v){e[a].start==null&&(e[a].start=m);for(var E=d;E<c.length;E+=1){var R=c[E],w=e[R].start||0;e[R].start=w+1}}return v}var s={getTextContent(){return oE(e).map(o=>{var a=e[o].rules,l=a.shift();return a.sort(),a.unshift(l),a.join(`
`)}).join(`
`)},insert(o,a){var l=Number(a);if(e[l]==null){var c=d2(l);e[l]={start:null,rules:[c]},t!=null&&i(t,l,c)}var h=aE(o);if(h!=null&&n[h]==null&&(n[h]=!0,e[l].rules.push(o),t!=null)){var d=i(t,l,o);d||e[l].rules.pop()}}};return s}function d2(t){return'[stylesheet-group="'+t+'"]{}'}var f2=/["']/g;function p2(t){return Number(t.selectorText.split(f2)[1])}function oE(t){return Object.keys(t).map(Number).sort((e,n)=>e>n?1:-1)}var m2=/\s*([,])\s*/g;function aE(t){var e=t.split("{")[0].trim();return e!==""?e.replace(m2,"$1"):null}function g2(t,e,n){try{return t.insertRule(e,n),!0}catch{return!1}}var y2="react-native-stylesheet",Um=new WeakMap,Yn=[],lE=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"];function v2(t,e){e===void 0&&(e=y2);var n;if(gt){var r=document;if(Yn.length===0)n=jm($m(e)),lE.forEach(a=>{n.insert(a,0)}),Um.set(r,Yn.length),Yn.push(n);else{var i=Um.get(r);if(i==null){var s=Yn[0],o=s!=null?s.getTextContent():"";n=jm($m(e,r,o)),Um.set(r,Yn.length),Yn.push(n)}else n=Yn[i]}}else Yn.length===0?(n=jm($m(e)),lE.forEach(a=>{n.insert(a,0)}),Yn.push(n)):n=Yn[0];return{getTextContent(){return n.getTextContent()},id:e,insert(a,l){Yn.forEach(c=>{c.insert(a,l)})}}}var F_={};Object.defineProperty(F_,"__esModule",{value:!0});F_.localizeStyle=_2;var Oh=new WeakMap,eA="$$css$localize";function uE(t,e){var n={};for(var r in t)if(r!==eA){var i=t[r];Array.isArray(i)?n[r]=e?i[1]:i[0]:n[r]=i}return n}function _2(t,e){if(t[eA]!=null){var n=e?1:0;if(Oh.has(t)){var r=Oh.get(t),i=r[n];return i==null&&(i=uE(t,e),r[n]=i,Oh.set(t,r)),i}var s=uE(t,e),o=new Array(2);return o[n]=s,Oh.set(t,o),s}return t}var w2=F_,S2={},tA={height:0,width:0},nA=t=>{var e=t.shadowColor,n=t.shadowOffset,r=t.shadowOpacity,i=t.shadowRadius,s=n||tA,o=s.height,a=s.width,l=xr(a),c=xr(o),h=xr(i||0),d=DI(e||"black",r);if(d!=null&&l!=null&&c!=null&&h!=null)return l+" "+c+" "+h+" "+d},E2=t=>{var e=t.textShadowColor,n=t.textShadowOffset,r=t.textShadowRadius,i=n||tA,s=i.height,o=i.width,a=r||0,l=xr(o),c=xr(s),h=xr(a),d=xr(e,"textShadowColor");if(d&&(s!==0||o!==0||a!==0)&&l!=null&&c!=null&&h!=null)return l+" "+c+" "+h+" "+d},T2=t=>{var e=Object.keys(t)[0],n=t[e];if(e==="matrix"||e==="matrix3d")return e+"("+n.join(",")+")";var r=xr(n,e);return e+"("+r+")"},b2=t=>t.map(T2).join(" "),R2={borderBottomEndRadius:"borderEndEndRadius",borderBottomStartRadius:"borderEndStartRadius",borderTopEndRadius:"borderStartEndRadius",borderTopStartRadius:"borderStartStartRadius",borderEndColor:"borderInlineEndColor",borderEndStyle:"borderInlineEndStyle",borderEndWidth:"borderInlineEndWidth",borderStartColor:"borderInlineStartColor",borderStartStyle:"borderInlineStartStyle",borderStartWidth:"borderInlineStartWidth",end:"insetInlineEnd",marginEnd:"marginInlineEnd",marginHorizontal:"marginInline",marginStart:"marginInlineStart",marginVertical:"marginBlock",paddingEnd:"paddingInlineEnd",paddingHorizontal:"paddingInline",paddingStart:"paddingInlineStart",paddingVertical:"paddingBlock",start:"insetInlineStart"},C2={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},rA=function(e,n){n===void 0&&(n={});var r=e||S2,i={};if(n.shadow,r.shadowColor!=null||r.shadowOffset!=null||r.shadowOpacity!=null||r.shadowRadius!=null){var s=nA(r);if(s!=null&&i.boxShadow==null){var o=r.boxShadow,a=o?o+", "+s:s;i.boxShadow=a}}if(n.textShadow,r.textShadowColor!=null||r.textShadowOffset!=null||r.textShadowRadius!=null){var l=E2(r);if(l!=null&&i.textShadow==null){var c=r.textShadow,h=c?c+", "+l:l;i.textShadow=h}}for(var d in r)if(!(C2[d]!=null||d==="shadowColor"||d==="shadowOffset"||d==="shadowOpacity"||d==="shadowRadius"||d==="textShadowColor"||d==="textShadowOffset"||d==="textShadowRadius")){var f=r[d],m=R2[d]||d,v=f;!Object.prototype.hasOwnProperty.call(r,d)||m!==d&&r[m]!=null||(m==="aspectRatio"&&typeof v=="number"?i[m]=v.toString():m==="fontVariant"?(Array.isArray(v)&&v.length>0&&(v=v.join(" ")),i[m]=v):m==="textAlignVertical"?r.verticalAlign==null&&(i.verticalAlign=v==="center"?"middle":v):m==="transform"?(Array.isArray(v)&&(v=b2(v)),i.transform=v):i[m]=v)}return i},B_={};Object.defineProperty(B_,"__esModule",{value:!0});var iA=B_.styleq=void 0,I2=new WeakMap,A2="$$css";function sA(t){var e,n,r;return t!=null&&(e=t.disableCache===!0,n=t.disableMix===!0,r=t.transform),function(){for(var s=[],o="",a=null,l=e?null:I2,c=new Array(arguments.length),h=0;h<arguments.length;h++)c[h]=arguments[h];for(;c.length>0;){var d=c.pop();if(!(d==null||d===!1)){if(Array.isArray(d)){for(var f=0;f<d.length;f++)c.push(d[f]);continue}var m=r!=null?r(d):d;if(m.$$css){var v="";if(l!=null&&l.has(m)){var E=l.get(m);E!=null&&(v=E[0],s.push.apply(s,E[1]),l=E[2])}else{var R=[];for(var w in m){var y=m[w];w!==A2&&(typeof y=="string"||y===null?s.includes(w)||(s.push(w),l!=null&&R.push(w),typeof y=="string"&&(v+=v?" "+y:y)):console.error("styleq: ".concat(w," typeof ").concat(String(y),' is not "string" or "null".')))}if(l!=null){var S=new WeakMap;l.set(m,[v,R,S]),l=S}}v&&(o=o?v+" "+o:v)}else if(n)a==null&&(a={}),a=Object.assign({},m,a);else{var k=null;for(var N in m){var L=m[N];L!==void 0&&(s.includes(N)||(L!=null&&(a==null&&(a={}),k==null&&(k={}),k[N]=L),s.push(N),l=null))}k!=null&&(a=Object.assign(k,a))}}}var T=[o,a];return T}}var oA=sA();iA=B_.styleq=oA;oA.factory=sA;var x2=["writingDirection"],aA=new WeakMap,uf=v2(),lA={shadow:!0,textShadow:!0};function P2(t,e){e===void 0&&(e={});var n=e,r=n.writingDirection,i=dn(n,x2),s=r==="rtl";return iA.factory({transform(o){var a=aA.get(o);return a!=null?w2.localizeStyle(a,s):rA(o,de(de({},lA),i))}})(t)}function uA(t){t.forEach(e=>{var n=e[0],r=e[1];uf!=null&&n.forEach(i=>{uf.insert(i,r)})})}function k2(t){var e=s2(rA(t,lA)),n=e[0],r=e[1];return uA(r),n}function O2(t,e){var n=o2(t,e),r=n[0],i=n[1];return uA(i),r}var cA={position:"absolute",left:0,right:0,top:0,bottom:0},D2=hA({x:de({},cA)}).x;function hA(t){return Object.keys(t).forEach(e=>{var n=t[e];if(n!=null&&n.$$css!==!0){var r;e.indexOf("$raw")>-1?r=O2(n,e.split("$raw")[0]):r=k2(n),aA.set(n,r)}}),t}function L2(t,e){return[t,e]}function N2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.flat(1/0),i={},s=0;s<r.length;s++){var o=r[s];o!=null&&typeof o=="object"&&Object.assign(i,o)}return i}function M2(){return{id:uf.id,textContent:uf.getTextContent()}}function Si(t,e){e===void 0&&(e={});var n=e.writingDirection==="rtl",r=P2(t,e);return Array.isArray(r)&&r[1]!=null&&(r[1]=a2(r[1],n)),r}Si.absoluteFill=D2;Si.absoluteFillObject=cA;Si.create=hA;Si.compose=L2;Si.flatten=N2;Si.getSheet=M2;Si.hairlineWidth=1;gt&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=Si.flatten);var Ie=Si,V2=["aria-activedescendant","accessibilityActiveDescendant","aria-atomic","accessibilityAtomic","aria-autocomplete","accessibilityAutoComplete","aria-busy","accessibilityBusy","aria-checked","accessibilityChecked","aria-colcount","accessibilityColumnCount","aria-colindex","accessibilityColumnIndex","aria-colspan","accessibilityColumnSpan","aria-controls","accessibilityControls","aria-current","accessibilityCurrent","aria-describedby","accessibilityDescribedBy","aria-details","accessibilityDetails","aria-disabled","accessibilityDisabled","aria-errormessage","accessibilityErrorMessage","aria-expanded","accessibilityExpanded","aria-flowto","accessibilityFlowTo","aria-haspopup","accessibilityHasPopup","aria-hidden","accessibilityHidden","aria-invalid","accessibilityInvalid","aria-keyshortcuts","accessibilityKeyShortcuts","aria-label","accessibilityLabel","aria-labelledby","accessibilityLabelledBy","aria-level","accessibilityLevel","aria-live","accessibilityLiveRegion","aria-modal","accessibilityModal","aria-multiline","accessibilityMultiline","aria-multiselectable","accessibilityMultiSelectable","aria-orientation","accessibilityOrientation","aria-owns","accessibilityOwns","aria-placeholder","accessibilityPlaceholder","aria-posinset","accessibilityPosInSet","aria-pressed","accessibilityPressed","aria-readonly","accessibilityReadOnly","aria-required","accessibilityRequired","role","accessibilityRole","aria-roledescription","accessibilityRoleDescription","aria-rowcount","accessibilityRowCount","aria-rowindex","accessibilityRowIndex","aria-rowspan","accessibilityRowSpan","aria-selected","accessibilitySelected","aria-setsize","accessibilitySetSize","aria-sort","accessibilitySort","aria-valuemax","accessibilityValueMax","aria-valuemin","accessibilityValueMin","aria-valuenow","accessibilityValueNow","aria-valuetext","accessibilityValueText","dataSet","focusable","id","nativeID","pointerEvents","style","tabIndex","testID"],F2={},B2=Object.prototype.hasOwnProperty,$2=Array.isArray,j2=/[A-Z]/g;function U2(t){return"-"+t.toLowerCase()}function z2(t){return t.replace(j2,U2)}function Zo(t){return $2(t)?t.join(" "):t}var W2=Ie.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}}),H2=(t,e,n)=>{e||(e=F2);var r=e,i=r["aria-activedescendant"],s=r.accessibilityActiveDescendant,o=r["aria-atomic"],a=r.accessibilityAtomic,l=r["aria-autocomplete"],c=r.accessibilityAutoComplete,h=r["aria-busy"],d=r.accessibilityBusy,f=r["aria-checked"],m=r.accessibilityChecked,v=r["aria-colcount"],E=r.accessibilityColumnCount,R=r["aria-colindex"],w=r.accessibilityColumnIndex,y=r["aria-colspan"],S=r.accessibilityColumnSpan,k=r["aria-controls"],N=r.accessibilityControls,L=r["aria-current"],T=r.accessibilityCurrent,_=r["aria-describedby"],b=r.accessibilityDescribedBy,A=r["aria-details"],x=r.accessibilityDetails,O=r["aria-disabled"],P=r.accessibilityDisabled,ue=r["aria-errormessage"],ge=r.accessibilityErrorMessage,Ne=r["aria-expanded"],Kt=r.accessibilityExpanded,z=r["aria-flowto"],Z=r.accessibilityFlowTo,re=r["aria-haspopup"],we=r.accessibilityHasPopup,Re=r["aria-hidden"],Gt=r.accessibilityHidden,Je=r["aria-invalid"],It=r.accessibilityInvalid,tt=r["aria-keyshortcuts"],Fe=r.accessibilityKeyShortcuts,vt=r["aria-label"],fn=r.accessibilityLabel,zr=r["aria-labelledby"],Ci=r.accessibilityLabelledBy,Hn=r["aria-level"],pr=r.accessibilityLevel,xn=r["aria-live"],Ms=r.accessibilityLiveRegion,Ii=r["aria-modal"],Vs=r.accessibilityModal,Ai=r["aria-multiline"],Ae=r.accessibilityMultiline,qe=r["aria-multiselectable"],pn=r.accessibilityMultiSelectable,Pn=r["aria-orientation"],xi=r.accessibilityOrientation,Fs=r["aria-owns"],qn=r.accessibilityOwns,Bs=r["aria-placeholder"],No=r.accessibilityPlaceholder,Pi=r["aria-posinset"],_l=r.accessibilityPosInSet,Mo=r["aria-pressed"],Vo=r.accessibilityPressed,$s=r["aria-readonly"],Wr=r.accessibilityReadOnly,ki=r["aria-required"],Oe=r.accessibilityRequired;r.role,r.accessibilityRole;var kn=r["aria-roledescription"],Fo=r.accessibilityRoleDescription,Hr=r["aria-rowcount"],Bo=r.accessibilityRowCount,mr=r["aria-rowindex"],$o=r.accessibilityRowIndex,Y=r["aria-rowspan"],ze=r.accessibilityRowSpan,_t=r["aria-selected"],Kn=r.accessibilitySelected,gr=r["aria-setsize"],jo=r.accessibilitySetSize,qr=r["aria-sort"],em=r.accessibilitySort,Wc=r["aria-valuemax"],Uo=r.accessibilityValueMax,wl=r["aria-valuemin"],Hc=r.accessibilityValueMin,zo=r["aria-valuenow"],js=r.accessibilityValueNow,qc=r["aria-valuetext"],yr=r.accessibilityValueText,Us=r.dataSet,zs=r.focusable,Wo=r.id,Sl=r.nativeID,El=r.pointerEvents,tm=r.style,Oi=r.tabIndex,Kc=r.testID,G=dn(r,V2),Gc=O||P,mn=OI.propsToAriaRole(e),Di=i??s;Di!=null&&(G["aria-activedescendant"]=Di);var vr=o!=null?i:a;vr!=null&&(G["aria-atomic"]=vr);var Ho=l??c;Ho!=null&&(G["aria-autocomplete"]=Ho);var Qc=h??d;Qc!=null&&(G["aria-busy"]=Qc);var Tl=f??m;Tl!=null&&(G["aria-checked"]=Tl);var bl=v??E;bl!=null&&(G["aria-colcount"]=bl);var Rl=R??w;Rl!=null&&(G["aria-colindex"]=Rl);var qo=y??S;qo!=null&&(G["aria-colspan"]=qo);var Ko=k??N;Ko!=null&&(G["aria-controls"]=Zo(Ko));var Cl=L??T;Cl!=null&&(G["aria-current"]=Cl);var Il=_??b;Il!=null&&(G["aria-describedby"]=Zo(Il));var Al=A??x;Al!=null&&(G["aria-details"]=Al),Gc===!0&&(G["aria-disabled"]=!0,(t==="button"||t==="form"||t==="input"||t==="select"||t==="textarea")&&(G.disabled=!0));var Xc=ue??ge;Xc!=null&&(G["aria-errormessage"]=Xc);var Gn=Ne??Kt;Gn!=null&&(G["aria-expanded"]=Gn);var gn=z??Z;gn!=null&&(G["aria-flowto"]=Zo(gn));var Li=re??we;Li!=null&&(G["aria-haspopup"]=Li);var Ni=Re??Gt;Ni===!0&&(G["aria-hidden"]=Ni);var Go=Je??It;Go!=null&&(G["aria-invalid"]=Go);var ke=tt??Fe;ke!=null&&(G["aria-keyshortcuts"]=Zo(ke));var Ws=vt??fn;Ws!=null&&(G["aria-label"]=Ws);var Mi=zr??Ci;Mi!=null&&(G["aria-labelledby"]=Zo(Mi));var Vi=Hn??pr;Vi!=null&&(G["aria-level"]=Vi);var xl=xn??Ms;xl!=null&&(G["aria-live"]=xl==="none"?"off":xl);var Pl=Ii??Vs;Pl!=null&&(G["aria-modal"]=Pl);var Yc=Ai??Ae;Yc!=null&&(G["aria-multiline"]=Yc);var Jc=qe??pn;Jc!=null&&(G["aria-multiselectable"]=Jc);var Zc=Pn??xi;Zc!=null&&(G["aria-orientation"]=Zc);var eh=Fs??qn;eh!=null&&(G["aria-owns"]=Zo(eh));var Fi=Bs??No;Fi!=null&&(G["aria-placeholder"]=Fi);var _r=Pi??_l;_r!=null&&(G["aria-posinset"]=_r);var kl=Mo??Vo;kl!=null&&(G["aria-pressed"]=kl);var Ol=$s??Wr;Ol!=null&&(G["aria-readonly"]=Ol,(t==="input"||t==="select"||t==="textarea")&&(G.readOnly=!0));var Dl=ki??Oe;Dl!=null&&(G["aria-required"]=Dl,(t==="input"||t==="select"||t==="textarea")&&(G.required=Oe)),mn!=null&&(G.role=mn==="none"?"presentation":mn);var Ll=kn??Fo;Ll!=null&&(G["aria-roledescription"]=Ll);var Nl=Hr??Bo;Nl!=null&&(G["aria-rowcount"]=Nl);var Kr=mr??$o;Kr!=null&&(G["aria-rowindex"]=Kr);var th=Y??ze;th!=null&&(G["aria-rowspan"]=th);var nh=_t??Kn;nh!=null&&(G["aria-selected"]=nh);var rh=gr??jo;rh!=null&&(G["aria-setsize"]=rh);var Qn=qr??em;Qn!=null&&(G["aria-sort"]=Qn);var ih=Wc??Uo;ih!=null&&(G["aria-valuemax"]=ih);var Qo=wl??Hc;Qo!=null&&(G["aria-valuemin"]=Qo);var Hs=zo??js;Hs!=null&&(G["aria-valuenow"]=Hs);var Ml=qc??yr;if(Ml!=null&&(G["aria-valuetext"]=Ml),Us!=null){for(var Gr in Us)if(B2.call(Us,Gr)){var qs=z2(Gr),Vl=Us[Gr];Vl!=null&&(G["data-"+qs]=Vl)}}Oi===0||Oi==="0"||Oi===-1||Oi==="-1"?G.tabIndex=Oi:(zs===!1&&(G.tabIndex="-1"),t==="a"||t==="button"||t==="input"||t==="select"||t==="textarea"?(zs===!1||P===!0)&&(G.tabIndex="-1"):mn==="button"||mn==="checkbox"||mn==="link"||mn==="radio"||mn==="textbox"||mn==="switch"?zs!==!1&&(G.tabIndex="0"):zs===!0&&(G.tabIndex="0"));var Xo=Ie([tm,El&&W2[El]],de({writingDirection:"ltr"},n)),Be=Xo[0],sh=Xo[1];Be&&(G.className=Be),sh&&(G.style=sh);var oh=Wo??Sl;return oh!=null&&(G.id=oh),Kc!=null&&(G["data-testid"]=Kc),G.type==null&&t==="button"&&(G.type="button"),G},q2=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),cE=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","far","glk","he","iw","khw","ks","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),hE=new Map;function K2(t){var e=hE.get(t);if(e)return e;var n=!1;if(Intl.Locale)try{var r=new Intl.Locale(t).maximize().script;n=q2.has(r)}catch{var i=t.split("-")[0];n=cE.has(i)}else{var s=t.split("-")[0];n=cE.has(s)}return hE.set(t,n),n}var G2={direction:"ltr",locale:"en-US"},dA=C.createContext(G2);function gp(t){return K2(t)?"rtl":"ltr"}function Q2(t){var e=t.direction,n=t.locale,r=t.children,i=e||n;return i?ot.createElement(dA.Provider,{children:r,value:{direction:n?gp(n):e,locale:n}}):r}function $_(){return C.useContext(dA)}var il=(t,e,n)=>{var r;t&&t.constructor===String&&(r=OI.propsToAccessibilityComponent(e));var i=r||t,s=H2(i,e,n),o=ot.createElement(i,s),a=s.dir?ot.createElement(Q2,{children:o,direction:s.dir,locale:s.lang}):o;return a},Vy=t=>{if(t!=null){var e=t.nodeType===1;if(e&&typeof t.getBoundingClientRect=="function")return t.getBoundingClientRect()}},Iu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},X2=["ms","Moz","O","Webkit"],Y2=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1);Object.keys(Iu).forEach(t=>{X2.forEach(e=>{Iu[Y2(e,t)]=Iu[t]})});function J2(t,e,n){var r=e==null||typeof e=="boolean"||e==="";return r?"":!n&&typeof e=="number"&&e!==0&&!(Iu.hasOwnProperty(t)&&Iu[t])?e+"px":(""+e).trim()}function Z2(t,e){var n=t.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=J2(r,e[r],i);r==="float"&&(r="cssFloat"),i?n.setProperty(r,s):n[r]=s}}var dE=t=>{var e=t.offsetHeight,n=t.offsetWidth,r=t.offsetLeft,i=t.offsetTop;for(t=t.offsetParent;t&&t.nodeType===1;)r+=t.offsetLeft+t.clientLeft-t.scrollLeft,i+=t.offsetTop+t.clientTop-t.scrollTop,t=t.offsetParent;return i-=window.scrollY,r-=window.scrollX,{width:n,height:e,top:i,left:r}},fE=(t,e,n)=>{var r=e||t&&t.parentNode;t&&r&&setTimeout(()=>{if(t.isConnected&&r.isConnected){var i=dE(r),s=dE(t),o=s.height,a=s.left,l=s.top,c=s.width,h=a-i.left,d=l-i.top;n(h,d,c,o,a,l)}},0)},eV={A:!0,BODY:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0},ai={blur(t){try{t.blur()}catch{}},focus(t){try{var e=t.nodeName;t.getAttribute("tabIndex")==null&&t.isContentEditable!==!0&&eV[e]==null&&t.setAttribute("tabIndex","-1"),t.focus()}catch{}},measure(t,e){fE(t,null,e)},measureInWindow(t,e){t&&setTimeout(()=>{var n=Vy(t),r=n.height,i=n.left,s=n.top,o=n.width;e(i,s,o,r)},0)},measureLayout(t,e,n,r){fE(t,e,r)},updateView(t,e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];switch(n){case"style":{Z2(t,r);break}case"class":case"className":{t.setAttribute("class",r);break}case"text":case"value":t.value=r;break;default:t.setAttribute(n,r)}}},configureNextLayoutAnimation(t,e){e()},setLayoutAnimationEnabledExperimental(){}},tV={OS:"web"};function Ht(){return Ht=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ht.apply(null,arguments)}var j_={children:!0,dataSet:!0,dir:!0,id:!0,ref:!0,suppressHydrationWarning:!0,tabIndex:!0,testID:!0,focusable:!0,nativeID:!0},U_={"aria-activedescendant":!0,"aria-atomic":!0,"aria-autocomplete":!0,"aria-busy":!0,"aria-checked":!0,"aria-colcount":!0,"aria-colindex":!0,"aria-colspan":!0,"aria-controls":!0,"aria-current":!0,"aria-describedby":!0,"aria-details":!0,"aria-disabled":!0,"aria-errormessage":!0,"aria-expanded":!0,"aria-flowto":!0,"aria-haspopup":!0,"aria-hidden":!0,"aria-invalid":!0,"aria-keyshortcuts":!0,"aria-label":!0,"aria-labelledby":!0,"aria-level":!0,"aria-live":!0,"aria-modal":!0,"aria-multiline":!0,"aria-multiselectable":!0,"aria-orientation":!0,"aria-owns":!0,"aria-placeholder":!0,"aria-posinset":!0,"aria-pressed":!0,"aria-readonly":!0,"aria-required":!0,role:!0,"aria-roledescription":!0,"aria-rowcount":!0,"aria-rowindex":!0,"aria-rowspan":!0,"aria-selected":!0,"aria-setsize":!0,"aria-sort":!0,"aria-valuemax":!0,"aria-valuemin":!0,"aria-valuenow":!0,"aria-valuetext":!0,accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0},z_={onClick:!0,onAuxClick:!0,onContextMenu:!0,onGotPointerCapture:!0,onLostPointerCapture:!0,onPointerCancel:!0,onPointerDown:!0,onPointerEnter:!0,onPointerMove:!0,onPointerLeave:!0,onPointerOut:!0,onPointerOver:!0,onPointerUp:!0},W_={onBlur:!0,onFocus:!0},H_={onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0},q_={onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},K_={onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},G_={style:!0};function Q_(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&e[r]===!0&&(n[r]=t[r]);return n}var Fy=gt?C.useLayoutEffect:C.useEffect,By="__reactLayoutHandler",zm=null;function nV(){return gt&&typeof window.ResizeObserver<"u"&&zm==null&&(zm=new window.ResizeObserver(function(t){t.forEach(e=>{var n=e.target,r=n[By];typeof r=="function"&&ai.measure(n,(i,s,o,a,l,c)=>{var h={nativeEvent:{layout:{x:i,y:s,width:o,height:a,left:l,top:c}},timeStamp:Date.now()};Object.defineProperty(h.nativeEvent,"target",{enumerable:!0,get:()=>e.target}),r(h)})})})),zm}function X_(t,e){var n=nV();Fy(()=>{var r=t.current;r!=null&&(r[By]=e)},[t,e]),Fy(()=>{var r=t.current;return r!=null&&n!=null&&(typeof r[By]=="function"?n.observe(r):n.unobserve(r)),()=>{r!=null&&n!=null&&n.unobserve(r)}},[t,n])}function fA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){e.forEach(s=>{if(s!=null){if(typeof s=="function"){s(i);return}if(typeof s=="object"){s.current=i;return}console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(s))}})}}function Tc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return C.useMemo(()=>fA(...e),[...e])}var pE=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():Object.freeze({});function rV(t){var e=C.useRef(pE);return e.current===pE&&(e.current=t()),e.current}function Y_(t){t.pointerEvents,t.style;var e=rV(()=>n=>{n!=null&&(n.measure=r=>ai.measure(n,r),n.measureLayout=(r,i,s)=>ai.measureLayout(n,r,s,i),n.measureInWindow=r=>ai.measureInWindow(n,r))});return e}var mE=()=>{},iV={},sV=[];function gE(t){return t>20?t%20:t}function pA(t,e){var n,r=!1,i,s,o=t.changedTouches,a=t.type,l=t.metaKey===!0,c=t.shiftKey===!0,h=o&&o[0].force||0,d=gE(o&&o[0].identifier||0),f=o&&o[0].clientX||t.clientX,m=o&&o[0].clientY||t.clientY,v=o&&o[0].pageX||t.pageX,E=o&&o[0].pageY||t.pageY,R=typeof t.preventDefault=="function"?t.preventDefault.bind(t):mE,w=t.timeStamp;function y(T){return Array.prototype.slice.call(T).map(_=>({force:_.force,identifier:gE(_.identifier),get locationX(){return N(_.clientX)},get locationY(){return L(_.clientY)},pageX:_.pageX,pageY:_.pageY,target:_.target,timestamp:w}))}if(o!=null)i=y(o),s=y(t.touches);else{var S=[{force:h,identifier:d,get locationX(){return N(f)},get locationY(){return L(m)},pageX:v,pageY:E,target:t.target,timestamp:w}];i=S,s=a==="mouseup"||a==="dragstart"?sV:S}var k={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:t.defaultPrevented,dispatchConfig:iV,eventPhase:t.eventPhase,isDefaultPrevented(){return t.defaultPrevented},isPropagationStopped(){return r},isTrusted:t.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:l,shiftKey:c,changedTouches:i,force:h,identifier:d,get locationX(){return N(f)},get locationY(){return L(m)},pageX:v,pageY:E,target:t.target,timestamp:w,touches:s,type:a},persist:mE,preventDefault:R,stopPropagation(){r=!0},target:t.target,timeStamp:w,touchHistory:e.touchHistory};function N(T){if(n=n||Vy(k.currentTarget),n)return T-n.left}function L(T){if(n=n||Vy(k.currentTarget),n)return T-n.top}return k}var oV="mousedown",aV="mousemove",lV="mouseup",uV="dragstart",cV="touchstart",hV="touchmove",dV="touchend",fV="touchcancel",pV="scroll",mV="select",gV="selectionchange";function mA(t){return t===cV||t===oV}function gA(t){return t===hV||t===aV}function yA(t){return t===dV||t===lV||vA(t)}function vA(t){return t===fV||t===uV}function yV(t){return t===pV}function vV(t){return t===mV||t===gV}function _V(){var t=window.getSelection(),e=t.toString(),n=t.anchorNode,r=t.focusNode,i=n&&n.nodeType===window.Node.TEXT_NODE||r&&r.nodeType===window.Node.TEXT_NODE;return e.length>=1&&e!==`
`&&i}var _A="__reactResponderId";function wV(t){if(t.type==="selectionchange"){var e=window.getSelection().anchorNode;return yE(e)}else{var n=t.composedPath!=null?t.composedPath():yE(t.target);return n}}function yE(t){for(var e=[];t!=null&&t!==document.body;)e.push(t),t=t.parentNode;return e}function SV(t){return t!=null?t[_A]:null}function EV(t,e){t!=null&&(t[_A]=e)}function TV(t){for(var e=[],n=[],r=wV(t),i=0;i<r.length;i++){var s=r[i],o=SV(s);o!=null&&(e.push(o),n.push(s))}return{idPath:e,nodePath:n}}function bV(t,e){var n=t.length,r=e.length;if(n===0||r===0||t[n-1]!==e[r-1])return null;var i=t[0],s=0,o=e[0],a=0;n-r>0&&(s=n-r,i=t[s],n=r),r-n>0&&(a=r-n,o=e[a],r=n);for(var l=n;l--;){if(i===o)return i;i=t[s++],o=e[a++]}return null}function RV(t,e){if(!e||e.length===0)return!1;for(var n=0;n<e.length;n++){var r=e[n].target;if(r!=null&&t.contains(r))return!0}return!1}function CV(t){return t.type==="selectionchange"?_V():t.type==="select"}function IV(t){var e=t.altKey,n=t.button,r=t.buttons,i=t.ctrlKey,s=t.type,o=s==="touchstart"||s==="touchmove",a=s==="mousedown"&&(n===0||r===1),l=s==="mousemove"&&r===1,c=e===!1&&i===!1;return!!(o||a&&c||l&&c)}var vE=20;function $n(t){return t.timeStamp||t.timestamp}function AV(t){return{touchActive:!0,startPageX:t.pageX,startPageY:t.pageY,startTimeStamp:$n(t),currentPageX:t.pageX,currentPageY:t.pageY,currentTimeStamp:$n(t),previousPageX:t.pageX,previousPageY:t.pageY,previousTimeStamp:$n(t)}}function xV(t,e){t.touchActive=!0,t.startPageX=e.pageX,t.startPageY=e.pageY,t.startTimeStamp=$n(e),t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=$n(e),t.previousPageX=e.pageX,t.previousPageY=e.pageY,t.previousTimeStamp=$n(e)}function J_(t){var e=t.identifier;return e==null&&console.error("Touch object is missing identifier."),e}function PV(t,e){var n=J_(t),r=e.touchBank[n];r?xV(r,t):e.touchBank[n]=AV(t),e.mostRecentTimeStamp=$n(t)}function kV(t,e){var n=e.touchBank[J_(t)];n?(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=t.pageX,n.currentPageY=t.pageY,n.currentTimeStamp=$n(t),e.mostRecentTimeStamp=$n(t)):console.warn(`Cannot record touch move without a touch start.
`,"Touch Move: "+wA(t)+`
`,"Touch Bank: "+SA(e))}function OV(t,e){var n=e.touchBank[J_(t)];n?(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=t.pageX,n.currentPageY=t.pageY,n.currentTimeStamp=$n(t),e.mostRecentTimeStamp=$n(t)):console.warn(`Cannot record touch end without a touch start.
`,"Touch End: "+wA(t)+`
`,"Touch Bank: "+SA(e))}function wA(t){return JSON.stringify({identifier:t.identifier,pageX:t.pageX,pageY:t.pageY,timestamp:$n(t)})}function SA(t){var e=t.touchBank,n=JSON.stringify(e.slice(0,vE));return e.length>vE&&(n+=" (original size: "+e.length+")"),n}class DV{constructor(){this._touchHistory={touchBank:[],numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0}}recordTouchTrack(e,n){var r=this._touchHistory;if(gA(e))n.changedTouches.forEach(a=>kV(a,r));else if(mA(e))n.changedTouches.forEach(a=>PV(a,r)),r.numberActiveTouches=n.touches.length,r.numberActiveTouches===1&&(r.indexOfSingleActiveTouch=n.touches[0].identifier);else if(yA(e)&&(n.changedTouches.forEach(a=>OV(a,r)),r.numberActiveTouches=n.touches.length,r.numberActiveTouches===1))for(var i=r.touchBank,s=0;s<i.length;s++){var o=i[s];if(o!=null&&o.touchActive){r.indexOfSingleActiveTouch=s;break}}}get touchHistory(){return this._touchHistory}}var LV={},_E=["onStartShouldSetResponderCapture","onStartShouldSetResponder",{bubbles:!0}],wE=["onMoveShouldSetResponderCapture","onMoveShouldSetResponder",{bubbles:!0}],NV=["onScrollShouldSetResponderCapture","onScrollShouldSetResponder",{bubbles:!1}],MV={touchstart:_E,mousedown:_E,touchmove:wE,mousemove:wE,scroll:NV},$y={id:null,idPath:null,node:null},cf=new Map,Qi=!1,Tr=0,Ar={id:null,node:null,idPath:null},jy=new DV;function ic(t){Ar=t}function sc(t){var e=cf.get(t);return e??LV}function Wm(t){var e=t.type,n=t.target;if(e==="touchstart"&&(Qi=!0),(e==="touchmove"||Tr>1)&&(Qi=!1),!(e==="mousedown"&&Qi||e==="mousemove"&&Qi||e==="mousemove"&&Tr<1)){if(Qi&&e==="mouseup"){Tr===0&&(Qi=!1);return}var r=mA(e)&&IV(t),i=gA(e),s=yA(e),o=yV(e),a=vV(e),l=pA(t,jy);(r||i||s)&&(t.touches?Tr=t.touches.length:r?Tr=1:s&&(Tr=0),jy.recordTouchTrack(e,l.nativeEvent));var c=TV(t),h=!1,d;if(r||i||o&&Tr>0){var f=Ar.idPath,m=c.idPath;if(f!=null&&m!=null){var v=bV(f,m);if(v!=null){var E=m.indexOf(v),R=E+(v===Ar.id?1:0);c={idPath:m.slice(R),nodePath:c.nodePath.slice(R)}}else c=null}c!=null&&(d=VV(c,t,l),d!=null&&(FV(l,d),h=!0))}if(Ar.id!=null&&Ar.node!=null){var w=Ar,y=w.id,S=w.node,k=sc(y),N=k.onResponderStart,L=k.onResponderMove,T=k.onResponderEnd,_=k.onResponderRelease,b=k.onResponderTerminate,A=k.onResponderTerminationRequest;if(l.bubbles=!1,l.cancelable=!1,l.currentTarget=S,r)N!=null&&(l.dispatchConfig.registrationName="onResponderStart",N(l));else if(i)L!=null&&(l.dispatchConfig.registrationName="onResponderMove",L(l));else{var x=vA(e)||e==="contextmenu"||e==="blur"&&n===window||e==="blur"&&n.contains(S)&&t.relatedTarget!==S||o&&Tr===0||o&&n.contains(S)&&n!==S||a&&CV(t),O=s&&!x&&!RV(S,t.touches);if(s&&T!=null&&(l.dispatchConfig.registrationName="onResponderEnd",T(l)),O&&(_!=null&&(l.dispatchConfig.registrationName="onResponderRelease",_(l)),ic($y)),x){var P=!0;(e==="contextmenu"||e==="scroll"||e==="selectionchange")&&(h?P=!1:A!=null&&(l.dispatchConfig.registrationName="onResponderTerminationRequest",A(l)===!1&&(P=!1))),P&&(b!=null&&(l.dispatchConfig.registrationName="onResponderTerminate",b(l)),ic($y),Qi=!1,Tr=0)}}}}}function VV(t,e,n){var r=MV[e.type];if(r!=null){for(var i=t.idPath,s=t.nodePath,o=r[0],a=r[1],l=r[2].bubbles,c=function(L,T,_){var b=sc(L),A=b[_];if(A!=null&&(n.currentTarget=T,A(n)===!0)){var x=i.slice(i.indexOf(L));return{id:L,node:T,idPath:x}}},h=i.length-1;h>=0;h--){var d=i[h],f=s[h],m=c(d,f,o);if(m!=null)return m;if(n.isPropagationStopped()===!0)return}if(l)for(var v=0;v<i.length;v++){var E=i[v],R=s[v],w=c(E,R,a);if(w!=null)return w;if(n.isPropagationStopped()===!0)return}else{var y=i[0],S=s[0],k=e.target;if(k===S)return c(y,S,a)}}}function FV(t,e){var n=Ar,r=n.id,i=n.node,s=e.id,o=e.node,a=sc(s),l=a.onResponderGrant,c=a.onResponderReject;if(t.bubbles=!1,t.cancelable=!1,t.currentTarget=o,r==null)l!=null&&(t.currentTarget=o,t.dispatchConfig.registrationName="onResponderGrant",l(t)),ic(e);else{var h=sc(r),d=h.onResponderTerminate,f=h.onResponderTerminationRequest,m=!0;f!=null&&(t.currentTarget=i,t.dispatchConfig.registrationName="onResponderTerminationRequest",f(t)===!1&&(m=!1)),m?(d!=null&&(t.currentTarget=i,t.dispatchConfig.registrationName="onResponderTerminate",d(t)),l!=null&&(t.currentTarget=o,t.dispatchConfig.registrationName="onResponderGrant",l(t)),ic(e)):c!=null&&(t.currentTarget=o,t.dispatchConfig.registrationName="onResponderReject",c(t))}}var BV=["blur","scroll"],$V=["mousedown","mousemove","mouseup","dragstart","touchstart","touchmove","touchend","touchcancel","contextmenu","select","selectionchange"];function jV(){gt&&window.__reactResponderSystemActive==null&&(window.addEventListener("blur",Wm),$V.forEach(t=>{document.addEventListener(t,Wm)}),BV.forEach(t=>{document.addEventListener(t,Wm,!0)}),window.__reactResponderSystemActive=!0)}function UV(t,e,n){EV(e,t),cf.set(t,n)}function SE(t){Ar.id===t&&zV(),cf.has(t)&&cf.delete(t)}function zV(){var t=Ar,e=t.id,n=t.node;if(e!=null&&n!=null){var r=sc(e),i=r.onResponderTerminate;if(i!=null){var s=pA({},jy);s.currentTarget=n,i(s)}ic($y)}Qi=!1,Tr=0}function WV(){return Ar.node}var HV={},qV=0;function KV(t){var e=C.useRef(null);return e.current==null&&(e.current=t()),e.current}function Z_(t,e){e===void 0&&(e=HV);var n=KV(()=>qV++),r=C.useRef(!1);C.useEffect(()=>(jV(),()=>{SE(n)}),[n]),C.useEffect(()=>{var i=e,s=i.onMoveShouldSetResponder,o=i.onMoveShouldSetResponderCapture,a=i.onScrollShouldSetResponder,l=i.onScrollShouldSetResponderCapture,c=i.onSelectionChangeShouldSetResponder,h=i.onSelectionChangeShouldSetResponderCapture,d=i.onStartShouldSetResponder,f=i.onStartShouldSetResponderCapture,m=s!=null||o!=null||a!=null||l!=null||c!=null||h!=null||d!=null||f!=null,v=t.current;m?(UV(n,v,e),r.current=!0):r.current&&(SE(n),r.current=!1)},[e,t,n]),C.useDebugValue({isResponder:t.current===WV()}),C.useDebugValue(e)}var hf=C.createContext(!1),GV=["hrefAttrs","onLayout","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture"],QV=Object.assign({},j_,U_,z_,W_,H_,q_,K_,G_,{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),XV=t=>Q_(t,QV),Q=C.forwardRef((t,e)=>{var n=t.hrefAttrs,r=t.onLayout,i=t.onMoveShouldSetResponder,s=t.onMoveShouldSetResponderCapture,o=t.onResponderEnd,a=t.onResponderGrant,l=t.onResponderMove,c=t.onResponderReject,h=t.onResponderRelease,d=t.onResponderStart,f=t.onResponderTerminate,m=t.onResponderTerminationRequest,v=t.onScrollShouldSetResponder,E=t.onScrollShouldSetResponderCapture,R=t.onSelectionChangeShouldSetResponder,w=t.onSelectionChangeShouldSetResponderCapture,y=t.onStartShouldSetResponder,S=t.onStartShouldSetResponderCapture,k=dn(t,GV),N=C.useContext(hf),L=C.useRef(null),T=$_(),_=T.direction;X_(L,r),Z_(L,{onMoveShouldSetResponder:i,onMoveShouldSetResponderCapture:s,onResponderEnd:o,onResponderGrant:a,onResponderMove:l,onResponderReject:c,onResponderRelease:h,onResponderStart:d,onResponderTerminate:f,onResponderTerminationRequest:m,onScrollShouldSetResponder:v,onScrollShouldSetResponderCapture:E,onSelectionChangeShouldSetResponder:R,onSelectionChangeShouldSetResponderCapture:w,onStartShouldSetResponder:y,onStartShouldSetResponderCapture:S});var b="div",A=t.lang!=null?gp(t.lang):null,x=t.dir||A,O=x||_,P=XV(k);if(P.dir=x,P.style=[EE.view$raw,N&&EE.inline,t.style],t.href!=null&&(b="a",n!=null)){var ue=n.download,ge=n.rel,Ne=n.target;ue!=null&&(P.download=ue),ge!=null&&(P.rel=ge),typeof Ne=="string"&&(P.target=Ne.charAt(0)!=="_"?"_"+Ne:Ne)}var Kt=Y_(P),z=Tc(L,Kt,e);return P.ref=z,il(b,P,{writingDirection:O})});Q.displayName="View";var EE=Ie.create({view$raw:{alignItems:"stretch",backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,listStyle:"none",margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",textDecoration:"none",zIndex:0},inline:{display:"inline-flex"}}),YV=function t(e,n,r){if(r===void 0&&(r=-1),r===0)return!0;if(e===n||typeof e=="function"&&typeof n=="function")return!1;if(typeof e!="object"||e===null)return e!==n;if(typeof n!="object"||n===null||e.constructor!==n.constructor)return!0;if(Array.isArray(e)){var i=e.length;if(n.length!==i)return!0;for(var s=0;s<i;s++)if(t(e[s],n[s],r-1))return!0}else{for(var o in e)if(t(e[o],n[o],r-1))return!0;for(var a in n)if(e[a]===void 0&&n[a]!==void 0)return!0}return!1};function JV(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!t){var s;if(e===void 0)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;s=new Error(e.replace(/%s/g,function(){return String(r[o++])})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}var ZV=JV;const he=el(ZV);function TE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function eF(t,e){if(t){if(typeof t=="string")return TE(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TE(t,e):void 0}}function oo(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=eF(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var tF=["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"];function nF(t){t.colors,t.enabled,t.onRefresh,t.progressBackgroundColor,t.progressViewOffset,t.refreshing,t.size,t.tintColor,t.title,t.titleColor;var e=dn(t,tF);return ot.createElement(Q,e)}var ao={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},Ji={},bE=gt;function EA(){if(gt){var t=window,e,n;if(t.visualViewport){var r=t.visualViewport;e=Math.round(r.height*r.scale),n=Math.round(r.width*r.scale)}else{var i=t.document.documentElement;e=i.clientHeight,n=i.clientWidth}ao.window={fontScale:1,height:e,scale:t.devicePixelRatio||1,width:n},ao.screen={fontScale:1,height:t.screen.height,scale:t.devicePixelRatio||1,width:t.screen.width}}}function RE(){EA(),Array.isArray(Ji.change)&&Ji.change.forEach(t=>t(ao))}class df{static get(e){return bE&&(bE=!1,EA()),he(ao[e],"No dimension set for key "+e),ao[e]}static set(e){e&&(gt?he(!1,"Dimensions cannot be set in the browser"):(e.screen!=null&&(ao.screen=e.screen),e.window!=null&&(ao.window=e.window)))}static addEventListener(e,n){return Ji[e]=Ji[e]||[],Ji[e].push(n),{remove:()=>{this.removeEventListener(e,n)}}}static removeEventListener(e,n){Array.isArray(Ji[e])&&(Ji[e]=Ji[e].filter(r=>r!==n))}}gt&&(window.visualViewport?window.visualViewport.addEventListener("resize",RE,!1):window.addEventListener("resize",RE,!1));var ri={_currentlyFocusedNode:null,currentlyFocusedField(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput(t){t!==null&&(this._currentlyFocusedNode=t,document.activeElement!==t&&ai.focus(t))},blurTextInput(t){t!==null&&(this._currentlyFocusedNode=null,document.activeElement===t&&ai.blur(t))}},rF=()=>{ri.blurTextInput(ri.currentlyFocusedField())},iF=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function CE(t){return{nativeEvent:{contentOffset:{get x(){return t.target.scrollLeft},get y(){return t.target.scrollTop}},contentSize:{get height(){return t.target.scrollHeight},get width(){return t.target.scrollWidth}},layoutMeasurement:{get height(){return t.target.offsetHeight},get width(){return t.target.offsetWidth}}},timeStamp:Date.now()}}function sF(t,e){var n=Date.now()-t;return e>0&&n>=e}var oF=C.forwardRef((t,e)=>{var n=t.onScroll,r=t.onTouchMove,i=t.onWheel,s=t.scrollEnabled,o=s===void 0?!0:s,a=t.scrollEventThrottle,l=a===void 0?0:a,c=t.showsHorizontalScrollIndicator,h=t.showsVerticalScrollIndicator,d=t.style,f=dn(t,iF),m=C.useRef({isScrolling:!1,scrollLastTick:0}),v=C.useRef(null),E=C.useRef(null);function R(L){return T=>{o&&L&&L(T)}}function w(L){L.stopPropagation(),L.target===E.current&&(L.persist(),v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{k(L)},100),m.current.isScrolling?sF(m.current.scrollLastTick,l)&&S(L):y(L))}function y(L){m.current.isScrolling=!0,S(L)}function S(L){m.current.scrollLastTick=Date.now(),n&&n(CE(L))}function k(L){m.current.isScrolling=!1,n&&n(CE(L))}var N=c===!1||h===!1;return C.createElement(Q,Ht({},f,{onScroll:w,onTouchMove:R(r),onWheel:R(i),ref:Tc(E,e),style:[d,!o&&IE.scrollDisabled,N&&IE.hideScrollbar]}))}),IE=Ie.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}});function yp(t){return function(){return t}}var Po=function(){};Po.thatReturns=yp;Po.thatReturnsFalse=yp(!1);Po.thatReturnsTrue=yp(!0);Po.thatReturnsNull=yp(null);Po.thatReturnsThis=function(){return this};Po.thatReturnsArgument=function(t){return t};var aF=Po,lF=aF,uF=lF,cF=uF;const hF=el(cF);var dF=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],AE={},fF=16;class pF extends ot.Component{constructor(){super(...arguments),this._scrollNodeRef=null,this._innerViewRef=null,this.isTouching=!1,this.lastMomentumScrollBeginTime=0,this.lastMomentumScrollEndTime=0,this.observedScrollSinceBecomingResponder=!1,this.becameResponderWhileAnimating=!1,this.scrollResponderHandleScrollShouldSetResponder=()=>this.isTouching,this.scrollResponderHandleStartShouldSetResponderCapture=e=>this.scrollResponderIsAnimating(),this.scrollResponderHandleTerminationRequest=()=>!this.observedScrollSinceBecomingResponder,this.scrollResponderHandleTouchEnd=e=>{var n=e.nativeEvent;this.isTouching=n.touches.length!==0,this.props.onTouchEnd&&this.props.onTouchEnd(e)},this.scrollResponderHandleResponderRelease=e=>{this.props.onResponderRelease&&this.props.onResponderRelease(e);var n=ri.currentlyFocusedField();!this.props.keyboardShouldPersistTaps&&n!=null&&e.target!==n&&!this.observedScrollSinceBecomingResponder&&!this.becameResponderWhileAnimating&&(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),ri.blurTextInput(n))},this.scrollResponderHandleScroll=e=>{this.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},this.scrollResponderHandleResponderGrant=e=>{this.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},this.scrollResponderHandleScrollBeginDrag=e=>{this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this.scrollResponderHandleScrollEndDrag=e=>{this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this.scrollResponderHandleMomentumScrollBegin=e=>{this.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this.scrollResponderHandleMomentumScrollEnd=e=>{this.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this.scrollResponderHandleTouchStart=e=>{this.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},this.scrollResponderHandleTouchMove=e=>{this.props.onTouchMove&&this.props.onTouchMove(e)},this.scrollResponderIsAnimating=()=>{var e=Date.now(),n=e-this.lastMomentumScrollEndTime,r=n<fF||this.lastMomentumScrollEndTime<this.lastMomentumScrollBeginTime;return r},this.scrollResponderScrollTo=(e,n,r)=>{if(typeof e=="number")console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var i=e||AE;e=i.x,n=i.y,r=i.animated}var s=this.getScrollableNode(),o=e||0,a=n||0;s!=null&&(typeof s.scroll=="function"?s.scroll({top:a,left:o,behavior:r?"smooth":"auto"}):(s.scrollLeft=o,s.scrollTop=a))},this.scrollResponderZoomTo=(e,n)=>{he("zoomToRect is not implemented")},this.scrollResponderScrollNativeHandleToKeyboard=(e,n,r)=>{this.additionalScrollOffset=n||0,this.preventNegativeScrollOffset=!!r,ai.measureLayout(e,this.getInnerViewNode(),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},this.scrollResponderInputMeasureAndScrollToKeyboard=(e,n,r,i)=>{var s=df.get("window").height;this.keyboardWillOpenTo&&(s=this.keyboardWillOpenTo.endCoordinates.screenY);var o=n-s+i+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(o=Math.max(0,o)),this.scrollResponderScrollTo({x:0,y:o,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},this.scrollResponderKeyboardWillShow=e=>{this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},this.scrollResponderKeyboardWillHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},this.scrollResponderKeyboardDidShow=e=>{e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},this.scrollResponderKeyboardDidHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)},this.flashScrollIndicators=()=>{this.scrollResponderFlashScrollIndicators()},this.getScrollResponder=()=>this,this.getScrollableNode=()=>this._scrollNodeRef,this.getInnerViewRef=()=>this._innerViewRef,this.getInnerViewNode=()=>this._innerViewRef,this.getNativeScrollRef=()=>this._scrollNodeRef,this.scrollTo=(e,n,r)=>{if(typeof e=="number")console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var i=e||AE;n=i.x,e=i.y,r=i.animated}this.scrollResponderScrollTo({x:n||0,y:e||0,animated:r!==!1})},this.scrollToEnd=e=>{var n=(e&&e.animated)!==!1,r=this.props.horizontal,i=this.getScrollableNode(),s=r?i.scrollWidth:0,o=r?0:i.scrollHeight;this.scrollResponderScrollTo({x:s,y:o,animated:n})},this._handleContentOnLayout=e=>{var n=e.nativeEvent.layout,r=n.width,i=n.height;this.props.onContentSizeChange(r,i)},this._handleScroll=e=>{this.props.keyboardDismissMode==="on-drag"&&rF(),this.scrollResponderHandleScroll(e)},this._setInnerViewRef=e=>{this._innerViewRef=e},this._setScrollNodeRef=e=>{this._scrollNodeRef=e,e!=null&&(e.getScrollResponder=this.getScrollResponder,e.getInnerViewNode=this.getInnerViewNode,e.getInnerViewRef=this.getInnerViewRef,e.getNativeScrollRef=this.getNativeScrollRef,e.getScrollableNode=this.getScrollableNode,e.scrollTo=this.scrollTo,e.scrollToEnd=this.scrollToEnd,e.flashScrollIndicators=this.flashScrollIndicators,e.scrollResponderZoomTo=this.scrollResponderZoomTo,e.scrollResponderScrollNativeHandleToKeyboard=this.scrollResponderScrollNativeHandleToKeyboard);var n=fA(this.props.forwardedRef);n(e)}}scrollResponderHandleStartShouldSetResponder(){return!1}scrollResponderHandleResponderReject(){hF(!1,"ScrollView doesn't take rejection well - scrolls anyway")}scrollResponderFlashScrollIndicators(){}scrollResponderTextInputFocusError(e){console.error("Error measuring text field: ",e)}render(){var e=this.props,n=e.contentContainerStyle,r=e.horizontal,i=e.onContentSizeChange,s=e.refreshControl,o=e.stickyHeaderIndices,a=e.pagingEnabled;e.forwardedRef,e.keyboardDismissMode,e.onScroll;var l=e.centerContent,c=dn(e,dF),h={};i&&(h={onLayout:this._handleContentOnLayout});var d=!r&&Array.isArray(o),f=d||a?ot.Children.map(this.props.children,(S,k)=>{var N=d&&o.indexOf(k)>-1;return S!=null&&(N||a)?ot.createElement(Q,{style:[N&&Hi.stickyHeader,a&&Hi.pagingEnabledChild]},S):S}):this.props.children,m=ot.createElement(Q,Ht({},h,{children:f,collapsable:!1,ref:this._setInnerViewRef,style:[r&&Hi.contentContainerHorizontal,l&&Hi.contentContainerCenterContent,n]})),v=r?Hi.baseHorizontal:Hi.baseVertical,E=r?Hi.pagingEnabledHorizontal:Hi.pagingEnabledVertical,R=de(de({},c),{},{style:[v,a&&E,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),w=oF;he(w!==void 0,"ScrollViewClass must not be undefined");var y=ot.createElement(w,Ht({},R,{ref:this._setScrollNodeRef}),m);return s?ot.cloneElement(s,{style:R.style},y):y}}var xE={flexGrow:1,flexShrink:1,transform:"translateZ(0)",WebkitOverflowScrolling:"touch"},Hi=Ie.create({baseVertical:de(de({},xE),{},{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:de(de({},xE),{},{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},contentContainerCenterContent:{justifyContent:"center",flexGrow:1},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),ir=ot.forwardRef((t,e)=>ot.createElement(pF,Ht({},t,{forwardedRef:e})));ir.displayName="ScrollView";class mF{constructor(e){var n=e.onMoreTasks;this._onMoreTasks=n,this._queueStack=[{tasks:[],popable:!0}]}enqueue(e){this._getCurrentQueue().push(e)}enqueueTasks(e){e.forEach(n=>this.enqueue(n))}cancelTasks(e){this._queueStack=this._queueStack.map(n=>de(de({},n),{},{tasks:n.tasks.filter(r=>e.indexOf(r)===-1)})).filter((n,r)=>n.tasks.length>0||r===0)}hasTasksToProcess(){return this._getCurrentQueue().length>0}processNext(){var e=this._getCurrentQueue();if(e.length){var n=e.shift();try{typeof n=="object"&&n.gen?this._genPromise(n):typeof n=="object"&&n.run?n.run():(he(typeof n=="function",`Expected Function, SimpleTask, or PromiseTask, but got:
`+JSON.stringify(n,null,2)),n())}catch(r){throw r.message="TaskQueue: Error with task "+(n.name||"")+": "+r.message,r}}}_getCurrentQueue(){var e=this._queueStack.length-1,n=this._queueStack[e];return n.popable&&n.tasks.length===0&&e>0?(this._queueStack.pop(),this._getCurrentQueue()):n.tasks}_genPromise(e){var n=this._queueStack.push({tasks:[],popable:!1}),r=n-1,i=this._queueStack[r];e.gen().then(()=>{i.popable=!0,this.hasTasksToProcess()&&this._onMoreTasks()}).catch(s=>{setTimeout(()=>{throw s.message="TaskQueue: Error resolving Promise in task "+e.name+": "+s.message,s},0)})}}class gF{constructor(){this._registry={}}addListener(e,n,r){var i=yF(this._registry,e),s={context:r,listener:n,remove(){i.delete(s)}};return i.add(s),s}emit(e){var n=this._registry[e];if(n!=null){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];for(var o=0,a=[...n];o<a.length;o++){var l=a[o];l.listener.apply(l.context,i)}}}removeAllListeners(e){e==null?this._registry={}:delete this._registry[e]}listenerCount(e){var n=this._registry[e];return n==null?0:n.size}}function yF(t,e){var n=t[e];return n==null&&(n=new Set,t[e]=n),n}var vF=function(e,n){return setTimeout(()=>{var r=Date.now();e({didTimeout:!1,timeRemaining(){return Math.max(0,50-(Date.now()-r))}})},1)},_F=gt&&typeof window.requestIdleCallback<"u",wF=_F?window.requestIdleCallback:vF,ff=new gF,Uy={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions(t){var e=[],n=new Promise(r=>{Au(),t&&e.push(t),e.push({run:r,name:"resolve "+(t&&t.name||"?")}),mf.enqueueTasks(e)});return{then:n.then.bind(n),done:n.then.bind(n),cancel:()=>{mf.cancelTasks(e)}}},createInteractionHandle(){Au();var t=++SF;return pf.add(t),t},clearInteractionHandle(t){he(!!t,"Must provide a handle to clear."),Au(),pf.delete(t),zy.add(t)},addListener:ff.addListener.bind(ff),setDeadline(t){gf=t}},Dh=new Set,pf=new Set,zy=new Set,mf=new mF({onMoreTasks:Au}),dd=0,SF=0,gf=-1;function Au(){dd||(gf>0?dd=setTimeout(PE):dd=wF(PE))}function PE(){dd=0;var t=Dh.size;pf.forEach(r=>Dh.add(r)),zy.forEach(r=>Dh.delete(r));var e=Dh.size;if(t!==0&&e===0?ff.emit(Uy.Events.interactionComplete):t===0&&e!==0&&ff.emit(Uy.Events.interactionStart),e===0){for(var n=Date.now();mf.hasTasksToProcess();)if(mf.processNext(),gf>0&&Date.now()-n>=gf){Au();break}}pf.clear(),zy.clear()}class EF{constructor(e,n){this._delay=n,this._callback=e}dispose(e){e===void 0&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)}schedule(){if(!this._taskHandle){var e=setTimeout(()=>{this._taskHandle=Uy.runAfterInteractions(()=>{this._taskHandle=null,this._callback()})},this._delay);this._taskHandle={cancel:()=>clearTimeout(e)}}}}function kE(t,e,n){return e<t?t:e>n?n:e}function TF(){return console.log(...arguments)}class bF{constructor(e){he(e>=0,"CellRenderMask must contain a non-negative number os cells"),this._numCells=e,e===0?this._regions=[]:this._regions=[{first:0,last:e-1,isSpacer:!0}]}enumerateRegions(){return this._regions}addCells(e){if(he(e.first>=0&&e.first<this._numCells&&e.last>=-1&&e.last<this._numCells&&e.last>=e.first-1,"CellRenderMask.addCells called with invalid cell range"),!(e.last<e.first)){var n=this._findRegion(e.first),r=n[0],i=n[1],s=this._findRegion(e.last),o=s[0],a=s[1];if(!(i===a&&!r.isSpacer)){var l=[],c=[],h=de(de({},e),{},{isSpacer:!1});r.first<h.first&&(r.isSpacer?l.push({first:r.first,last:h.first-1,isSpacer:!0}):h.first=r.first),o.last>h.last&&(o.isSpacer?c.push({first:h.last+1,last:o.last,isSpacer:!0}):h.last=o.last);var d=[...l,h,...c],f=a-i+1;this._regions.splice(i,f,...d)}}}numCells(){return this._numCells}equals(e){return this._numCells===e._numCells&&this._regions.length===e._regions.length&&this._regions.every((n,r)=>n.first===e._regions[r].first&&n.last===e._regions[r].last&&n.isSpacer===e._regions[r].isSpacer)}_findRegion(e){for(var n=0,r=this._regions.length-1;n<=r;){var i=Math.floor((n+r)/2),s=this._regions[i];if(e>=s.first&&e<=s.last)return[s,i];e<s.first?r=i-1:e>s.last&&(n=i+1)}he(!1,"A region was not found containing cellIdx "+e)}}class RF{constructor(){this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map}add(e,n){var r;he(!this._childrenToCellKey.has(e),"Trying to add already present child list");var i=(r=this._cellKeyToChildren.get(n))!==null&&r!==void 0?r:new Set;i.add(e),this._cellKeyToChildren.set(n,i),this._childrenToCellKey.set(e,n)}remove(e){var n=this._childrenToCellKey.get(e);he(n!=null,"Trying to remove non-present child list"),this._childrenToCellKey.delete(e);var r=this._cellKeyToChildren.get(n);he(r,"_cellKeyToChildren should contain cellKey"),r.delete(e),r.size===0&&this._cellKeyToChildren.delete(n)}forEach(e){for(var n=oo(this._cellKeyToChildren.values()),r;!(r=n()).done;)for(var i=r.value,s=oo(i),o;!(o=s()).done;){var a=o.value;e(a)}}forEachInCell(e,n){for(var r,i=(r=this._cellKeyToChildren.get(e))!==null&&r!==void 0?r:[],s=oo(i),o;!(o=s()).done;){var a=o.value;n(a)}}anyInCell(e,n){for(var r,i=(r=this._cellKeyToChildren.get(e))!==null&&r!==void 0?r:[],s=oo(i),o;!(o=s()).done;){var a=o.value;if(n(a))return!0}return!1}size(){return this._childrenToCellKey.size}}class OE{constructor(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}}var Lh=[],DE=10,Hm=null;class CF{static addListener(e){return Hm===null&&console.warn("Call `FillRateHelper.setSampleRate` before `addListener`."),Lh.push(e),{remove:()=>{Lh=Lh.filter(n=>e!==n)}}}static setSampleRate(e){Hm=e}static setMinSampleCount(e){DE=e}constructor(e){this._anyBlankStartTime=null,this._enabled=!1,this._info=new OE,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=e,this._enabled=(Hm||0)>Math.random(),this._resetData()}activate(){this._enabled&&this._samplesStartTime==null&&(this._samplesStartTime=global.performance.now())}deactivateAndFlush(){if(this._enabled){var e=this._samplesStartTime;if(e!=null){if(this._info.sample_count<DE){this._resetData();return}var n=global.performance.now()-e,r=de(de({},this._info),{},{total_time_spent:n});Lh.forEach(i=>i(r)),this._resetData()}}}computeBlankness(e,n,r){if(!this._enabled||e.getItemCount(e.data)===0||n.last<n.first||this._samplesStartTime==null)return 0;var i=r.dOffset,s=r.offset,o=r.velocity,a=r.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(a),this._info.pixels_scrolled+=Math.round(Math.abs(i));var l=Math.round(Math.abs(o)*1e3),c=global.performance.now();this._anyBlankStartTime!=null&&(this._info.any_blank_ms+=c-this._anyBlankStartTime),this._anyBlankStartTime=null,this._mostlyBlankStartTime!=null&&(this._info.mostly_blank_ms+=c-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var h=0,d=n.first,f=this._getFrameMetrics(d,e);d<=n.last&&(!f||!f.inLayout);)f=this._getFrameMetrics(d,e),d++;f&&d>0&&(h=Math.min(a,Math.max(0,f.offset-s)));for(var m=0,v=n.last,E=this._getFrameMetrics(v,e);v>=n.first&&(!E||!E.inLayout);)E=this._getFrameMetrics(v,e),v--;if(E&&v<e.getItemCount(e.data)-1){var R=E.offset+E.length;m=Math.min(a,Math.max(0,s+a-R))}var w=Math.round(h+m),y=w/a;return y>0?(this._anyBlankStartTime=c,this._info.any_blank_speed_sum+=l,this._info.any_blank_count++,this._info.pixels_blank+=w,y>.5&&(this._mostlyBlankStartTime=c,this._info.mostly_blank_count++)):(l<.01||Math.abs(i)<1)&&this.deactivateAndFlush(),y}enabled(){return this._enabled}_resetData(){this._anyBlankStartTime=null,this._info=new OE,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}class IF extends C.PureComponent{constructor(e){super(e),this._inAsyncStateUpdate=!1,this._installSetStateHooks()}setState(e,n){typeof e=="function"?super.setState((r,i)=>{this._inAsyncStateUpdate=!0;var s;try{s=e(r,i)}catch(o){throw o}finally{this._inAsyncStateUpdate=!1}return s},n):super.setState(e,n)}_installSetStateHooks(){var e=this,n=this.props,r=this.state;Object.defineProperty(this,"props",{get(){return he(!e._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),n},set(i){n=i}}),Object.defineProperty(this,"state",{get(){return he(!e._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),r},set(i){r=i}})}}class LE{constructor(e){e===void 0&&(e={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=e}dispose(){this._timers.forEach(clearTimeout)}computeViewableItems(e,n,r,i,s){var o=e.getItemCount(e.data),a=this._config,l=a.itemVisiblePercentThreshold,c=a.viewAreaCoveragePercentThreshold,h=c!=null,d=h?c:l;he(d!=null&&l!=null!=(c!=null),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var f=[];if(o===0)return f;var m=-1,v=s||{first:0,last:o-1},E=v.first,R=v.last;if(R>=o)return console.warn("Invalid render range computing viewability "+JSON.stringify({renderRange:s,itemCount:o})),[];for(var w=E;w<=R;w++){var y=i(w,e);if(y){var S=y.offset-n,k=S+y.length;if(S<r&&k>0)m=w,AF(h,d,S,k,r,y.length)&&f.push(w);else if(m>=0)break}}return f}onUpdate(e,n,r,i,s,o,a){var l=e.getItemCount(e.data);if(!(this._config.waitForInteraction&&!this._hasInteracted||l===0||!i(0,e))){var c=[];if(l&&(c=this.computeViewableItems(e,n,r,i,a)),!(this._viewableIndices.length===c.length&&this._viewableIndices.every((d,f)=>d===c[f])))if(this._viewableIndices=c,this._config.minimumViewTime){var h=setTimeout(()=>{this._timers.delete(h),this._onUpdateSync(e,c,o,s)},this._config.minimumViewTime);this._timers.add(h)}else this._onUpdateSync(e,c,o,s)}}resetViewableIndices(){this._viewableIndices=[]}recordInteraction(){this._hasInteracted=!0}_onUpdateSync(e,n,r,i){n=n.filter(y=>this._viewableIndices.includes(y));for(var s=this._viewableItems,o=new Map(n.map(y=>{var S=i(y,!0,e);return[S.key,S]})),a=[],l=oo(o),c;!(c=l()).done;){var h=c.value,d=h[0],f=h[1];s.has(d)||a.push(f)}for(var m=oo(s),v;!(v=m()).done;){var E=v.value,R=E[0],w=E[1];o.has(R)||a.push(de(de({},w),{},{isViewable:!1}))}a.length>0&&(this._viewableItems=o,r({viewableItems:Array.from(o.values()),changed:a,viewabilityConfig:this._config}))}}function AF(t,e,n,r,i,s){if(PF(n,r,i))return!0;var o=xF(n,r,i),a=100*(t?o/i:o/s);return a>=e}function xF(t,e,n){var r=Math.min(e,n)-Math.max(t,0);return Math.max(0,r)}function PF(t,e,n){return t>=0&&e<=n&&e>t}var yf=C.createContext(null);function kF(t){var e=t.children,n=t.value,r=C.useMemo(()=>({cellKey:null,getScrollMetrics:n.getScrollMetrics,horizontal:n.horizontal,getOutermostParentListRef:n.getOutermostParentListRef,registerAsNestedChild:n.registerAsNestedChild,unregisterAsNestedChild:n.unregisterAsNestedChild}),[n.getScrollMetrics,n.horizontal,n.getOutermostParentListRef,n.registerAsNestedChild,n.unregisterAsNestedChild]);return C.createElement(yf.Provider,{value:r},e)}function fd(t){var e=t.cellKey,n=t.children,r=C.useContext(yf),i=C.useMemo(()=>r==null?null:de(de({},r),{},{cellKey:e}),[r,e]);return C.createElement(yf.Provider,{value:i},n)}class OF extends C.Component{constructor(){super(...arguments),this.state={separatorProps:{highlighted:!1,leadingItem:this.props.item}},this._separators={highlight:()=>{var e=this.props,n=e.cellKey,r=e.prevCellKey;this.props.onUpdateSeparators([n,r],{highlighted:!0})},unhighlight:()=>{var e=this.props,n=e.cellKey,r=e.prevCellKey;this.props.onUpdateSeparators([n,r],{highlighted:!1})},updateProps:(e,n)=>{var r=this.props,i=r.cellKey,s=r.prevCellKey;this.props.onUpdateSeparators([e==="leading"?s:i],n)}},this._onLayout=e=>{this.props.onCellLayout&&this.props.onCellLayout(e,this.props.cellKey,this.props.index)}}static getDerivedStateFromProps(e,n){return{separatorProps:de(de({},n.separatorProps),{},{leadingItem:e.item})}}updateSeparatorProps(e){this.setState(n=>({separatorProps:de(de({},n.separatorProps),e)}))}componentWillUnmount(){this.props.onUnmount(this.props.cellKey)}_renderElement(e,n,r,i){if(e&&n&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),n)return C.createElement(n,{item:r,index:i,separators:this._separators});if(e)return e({item:r,index:i,separators:this._separators});he(!1,"VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.")}render(){var e=this.props,n=e.CellRendererComponent,r=e.ItemSeparatorComponent,i=e.ListItemComponent,s=e.cellKey,o=e.horizontal,a=e.item,l=e.index,c=e.inversionStyle,h=e.onCellFocusCapture,d=e.onCellLayout,f=e.renderItem,m=this._renderElement(f,i,a,l),v=C.isValidElement(r)?r:r&&C.createElement(r,this.state.separatorProps),E=c?o?[qm.rowReverse,c]:[qm.columnReverse,c]:o?[qm.row,c]:c,R=n?C.createElement(n,Ht({cellKey:s,index:l,item:a,style:E,onFocusCapture:h},d&&{onLayout:this._onLayout}),m,v):C.createElement(Q,Ht({style:E,onFocusCapture:h},d&&{onLayout:this._onLayout}),m,v);return C.createElement(fd,{cellKey:this.props.cellKey},R)}}var qm=Ie.create({row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"}});function DF(t,e,n,r){r===void 0&&(r=1);for(var i=e.getItemCount(e.data),s=[],o=0;o<t.length;o++)for(var a=t[o],l=0,c=i-1;l<=c;){var h=l+(c-l>>>1),d=n(h,e),f=d.offset*r,m=(d.offset+d.length)*r;if(h===0&&a<f||h!==0&&a<=f)c=h-1;else if(a>m)l=h+1;else{s[o]=h;break}}return s}function LF(t,e){return e.last-e.first+1-Math.max(0,1+Math.min(e.last,t.last)-Math.max(e.first,t.first))}function NF(t,e,n,r,i,s){var o=t.getItemCount(t.data);if(o===0)return{first:0,last:-1};var a=s.offset,l=s.velocity,c=s.visibleLength,h=s.zoomScale,d=h===void 0?1:h,f=Math.max(0,a),m=f+c,v=(n-1)*c,E=.5,R=l>1?"after":l<-1?"before":"none",w=Math.max(0,f-(1-E)*v),y=Math.max(0,m+E*v),S=i(o-1,t).offset*d;if(S<w)return{first:Math.max(0,o-1-e),last:o-1};var k=DF([w,f,m,y],t,i,d),N=k[0],L=k[1],T=k[2],_=k[3];N=N??0,L=L??Math.max(0,N),_=_??o-1,T=T??Math.min(_,L+e-1);for(var b={first:L,last:T},A=LF(r,b);!(L<=N&&T>=_);){var x=A>=e,O=L<=r.first||L>r.last,P=L>N&&(!x||!O),ue=T>=r.last||T<r.first,ge=T<_&&(!x||!ue);if(x&&!P&&!ge)break;P&&!(R==="after"&&ge&&ue)&&(O&&A++,L--),ge&&!(R==="before"&&P&&O)&&(ue&&A++,T++)}if(!(T>=L&&L>=0&&T<o&&L>=N&&T<=_&&L<=b.first&&T>=b.last))throw new Error("Bad window calculation "+JSON.stringify({first:L,last:T,itemCount:o,overscanFirst:N,overscanLast:_,visible:b}));return{first:L,last:T}}function Wy(t,e){return typeof t=="object"&&(t==null?void 0:t.key)!=null?t.key:typeof t=="object"&&(t==null?void 0:t.id)!=null?t.id:String(e)}var vp={exports:{}};function TA(t,e){if(t!=null)return t;var n=new Error(e!==void 0?e:"Got unexpected "+t);throw n.framesToPop=1,n}vp.exports=TA;vp.exports.default=TA;Object.defineProperty(vp.exports,"__esModule",{value:!0});var MF=vp.exports;const VF=el(MF);var NE=.001,Km=!1,Gm="";function Qs(t){return t??!1}function FF(t){return t??10}function Qm(t){return t??10}function BF(t){return t??2}function ME(t){return t??2}function VE(t,e){return t*e/2}function $F(t){return t??50}function FE(t){return t??21}function jF(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null}class On extends IF{scrollToEnd(e){var n=e?e.animated:!0,r=this.props.getItemCount(this.props.data)-1;if(!(r<0)){var i=this.__getFrameMetricsApprox(r,this.props),s=Math.max(0,i.offset+i.length+this._footerLength-this._scrollMetrics.visibleLength);if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(Qs(this.props.horizontal)?{x:s,animated:n}:{y:s,animated:n})}}}scrollToIndex(e){var n=this.props,r=n.data,i=n.horizontal,s=n.getItemCount,o=n.getItemLayout,a=n.onScrollToIndexFailed,l=e.animated,c=e.index,h=e.viewOffset,d=e.viewPosition;if(he(c>=0,"scrollToIndex out of range: requested index "+c+" but minimum is 0"),he(s(r)>=1,"scrollToIndex out of range: item length "+s(r)+" but minimum is 1"),he(c<s(r),"scrollToIndex out of range: requested index "+c+" is out of 0 to "+(s(r)-1)),!o&&c>this._highestMeasuredFrameIndex){he(!!a,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),a({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:c});return}var f=this.__getFrameMetricsApprox(Math.floor(c),this.props),m=Math.max(0,this._getOffsetApprox(c,this.props)-(d||0)*(this._scrollMetrics.visibleLength-f.length))-(h||0);if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(i?{x:m,animated:l}:{y:m,animated:l})}}scrollToItem(e){for(var n=e.item,r=this.props,i=r.data,s=r.getItem,o=r.getItemCount,a=o(i),l=0;l<a;l++)if(s(i,l)===n){this.scrollToIndex(de(de({},e),{},{index:l}));break}}scrollToOffset(e){var n=e.animated,r=e.offset;if(this._scrollRef!=null){if(this._scrollRef.scrollTo==null){console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo.");return}this._scrollRef.scrollTo(Qs(this.props.horizontal)?{x:r,animated:n}:{y:r,animated:n})}}recordInteraction(){this._nestedChildLists.forEach(e=>{e.recordInteraction()}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}flashScrollIndicators(){this._scrollRef!=null&&this._scrollRef.flashScrollIndicators()}getScrollResponder(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}getScrollableNode(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():this._scrollRef}getScrollRef(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}_getCellKey(){var e;return((e=this.context)==null?void 0:e.cellKey)||"rootList"}hasMore(){return this._hasMore}constructor(e){var n;if(super(e),this._getScrollMetrics=()=>this._scrollMetrics,this._getOutermostParentListRef=()=>this._isNestedWithSameOrientation()?this.context.getOutermostParentListRef():this,this._registerAsNestedChild=a=>{this._nestedChildLists.add(a.ref,a.cellKey),this._hasInteracted&&a.ref.recordInteraction()},this._unregisterAsNestedChild=a=>{this._nestedChildLists.remove(a.ref)},this._onUpdateSeparators=(a,l)=>{a.forEach(c=>{var h=c!=null&&this._cellRefs[c];h&&h.updateSeparatorProps(l)})},this._getSpacerKey=a=>a?"height":"width",this._averageCellLength=0,this._cellRefs={},this._frames={},this._footerLength=0,this._hasTriggeredInitialScrollToIndex=!1,this._hasInteracted=!1,this._hasMore=!1,this._hasWarned={},this._headerLength=0,this._hiPriInProgress=!1,this._highestMeasuredFrameIndex=0,this._indicesToKeys=new Map,this._lastFocusedCellKey=null,this._nestedChildLists=new RF,this._offsetFromParentVirtualizedList=0,this._prevParentOffset=0,this._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},this._scrollRef=null,this._sentStartForContentLength=0,this._sentEndForContentLength=0,this._totalCellLength=0,this._totalCellsMeasured=0,this._viewabilityTuples=[],this._captureScrollRef=a=>{this._scrollRef=a},this._defaultRenderScrollComponent=a=>{var l=a.onRefresh;if(this._isNestedWithSameOrientation())return C.createElement(Q,a);if(l){var c;return he(typeof a.refreshing=="boolean","`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify((c=a.refreshing)!==null&&c!==void 0?c:"undefined")+"`"),C.createElement(ir,Ht({},a,{refreshControl:a.refreshControl==null?C.createElement(nF,{refreshing:a.refreshing,onRefresh:l,progressViewOffset:a.progressViewOffset}):a.refreshControl}))}else return C.createElement(ir,a)},this._onCellLayout=(a,l,c)=>{var h=a.nativeEvent.layout,d={offset:this._selectOffset(h),length:this._selectLength(h),index:c,inLayout:!0},f=this._frames[l];!f||d.offset!==f.offset||d.length!==f.length||c!==f.index?(this._totalCellLength+=d.length-(f?f.length:0),this._totalCellsMeasured+=f?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[l]=d,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,c),this._scheduleCellsToRenderUpdate()):this._frames[l].inLayout=!0,this._triggerRemeasureForChildListsInCell(l),this._computeBlankness(),this._updateViewableItems(this.props,this.state.cellsAroundViewport)},this._onCellUnmount=a=>{delete this._cellRefs[a];var l=this._frames[a];l&&(this._frames[a]=de(de({},l),{},{inLayout:!1}))},this._onLayout=a=>{this._isNestedWithSameOrientation()?this.measureLayoutRelativeToContainingList():this._scrollMetrics.visibleLength=this._selectLength(a.nativeEvent.layout),this.props.onLayout&&this.props.onLayout(a),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._onLayoutEmpty=a=>{this.props.onLayout&&this.props.onLayout(a)},this._onLayoutFooter=a=>{this._triggerRemeasureForChildListsInCell(this._getFooterCellKey()),this._footerLength=this._selectLength(a.nativeEvent.layout)},this._onLayoutHeader=a=>{this._headerLength=this._selectLength(a.nativeEvent.layout)},this._onContentSizeChange=(a,l)=>{a>0&&l>0&&this.props.initialScrollIndex!=null&&this.props.initialScrollIndex>0&&!this._hasTriggeredInitialScrollToIndex&&(this.props.contentOffset==null&&(this.props.initialScrollIndex<this.props.getItemCount(this.props.data)?this.scrollToIndex({animated:!1,index:VF(this.props.initialScrollIndex)}):this.scrollToEnd({animated:!1})),this._hasTriggeredInitialScrollToIndex=!0),this.props.onContentSizeChange&&this.props.onContentSizeChange(a,l),this._scrollMetrics.contentLength=this._selectLength({height:l,width:a}),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._convertParentScrollMetrics=a=>{var l=a.offset-this._offsetFromParentVirtualizedList,c=a.visibleLength,h=l-this._scrollMetrics.offset,d=this._scrollMetrics.contentLength;return{visibleLength:c,contentLength:d,offset:l,dOffset:h}},this._onScroll=a=>{this._nestedChildLists.forEach(w=>{w._onScroll(a)}),this.props.onScroll&&this.props.onScroll(a);var l=a.timeStamp,c=this._selectLength(a.nativeEvent.layoutMeasurement),h=this._selectLength(a.nativeEvent.contentSize),d=this._selectOffset(a.nativeEvent.contentOffset),f=d-this._scrollMetrics.offset;if(this._isNestedWithSameOrientation()){if(this._scrollMetrics.contentLength===0)return;var m=this._convertParentScrollMetrics({visibleLength:c,offset:d});c=m.visibleLength,h=m.contentLength,d=m.offset,f=m.dOffset}var v=this._scrollMetrics.timestamp?Math.max(1,l-this._scrollMetrics.timestamp):1,E=f/v;v>500&&this._scrollMetrics.dt>500&&h>5*c&&!this._hasWarned.perf&&(TF("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:v,prevDt:this._scrollMetrics.dt,contentLength:h}),this._hasWarned.perf=!0);var R=a.nativeEvent.zoomScale<0?1:a.nativeEvent.zoomScale;this._scrollMetrics={contentLength:h,dt:v,dOffset:f,offset:d,timestamp:l,velocity:E,visibleLength:c,zoomScale:R},this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.props&&(this._maybeCallOnEdgeReached(),E!==0&&this._fillRateHelper.activate(),this._computeBlankness(),this._scheduleCellsToRenderUpdate())},this._onScrollBeginDrag=a=>{this._nestedChildLists.forEach(l=>{l._onScrollBeginDrag(a)}),this._viewabilityTuples.forEach(l=>{l.viewabilityHelper.recordInteraction()}),this._hasInteracted=!0,this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(a)},this._onScrollEndDrag=a=>{this._nestedChildLists.forEach(c=>{c._onScrollEndDrag(a)});var l=a.nativeEvent.velocity;l&&(this._scrollMetrics.velocity=this._selectOffset(l)),this._computeBlankness(),this.props.onScrollEndDrag&&this.props.onScrollEndDrag(a)},this._onMomentumScrollBegin=a=>{this._nestedChildLists.forEach(l=>{l._onMomentumScrollBegin(a)}),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(a)},this._onMomentumScrollEnd=a=>{this._nestedChildLists.forEach(l=>{l._onMomentumScrollEnd(a)}),this._scrollMetrics.velocity=0,this._computeBlankness(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(a)},this._updateCellsToRender=()=>{this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.setState((a,l)=>{var c=this._adjustCellsAroundViewport(l,a.cellsAroundViewport),h=On._createRenderMask(l,c,this._getNonViewportRenderRegions(l));return c.first===a.cellsAroundViewport.first&&c.last===a.cellsAroundViewport.last&&h.equals(a.renderMask)?null:{cellsAroundViewport:c,renderMask:h}})},this._createViewToken=(a,l,c)=>{var h=c.data,d=c.getItem,f=d(h,a);return{index:a,item:f,key:this._keyExtractor(f,a,c),isViewable:l}},this._getOffsetApprox=(a,l)=>{if(Number.isInteger(a))return this.__getFrameMetricsApprox(a,l).offset;var c=this.__getFrameMetricsApprox(Math.floor(a),l),h=a-Math.floor(a);return c.offset+h*c.length},this.__getFrameMetricsApprox=(a,l)=>{var c=this._getFrameMetrics(a,l);if(c&&c.index===a)return c;var h=l.data,d=l.getItemCount,f=l.getItemLayout;return he(a>=0&&a<d(h),"Tried to get frame for out of range index "+a),he(!f,"Should not have to estimate frames when a measurement metrics function is provided"),{length:this._averageCellLength,offset:this._averageCellLength*a}},this._getFrameMetrics=(a,l)=>{var c=l.data,h=l.getItem,d=l.getItemCount,f=l.getItemLayout;he(a>=0&&a<d(c),"Tried to get frame for out of range index "+a);var m=h(c,a),v=this._frames[this._keyExtractor(m,a,l)];return(!v||v.index!==a)&&f?f(c,a):v},this._getNonViewportRenderRegions=a=>{if(!(this._lastFocusedCellKey&&this._cellRefs[this._lastFocusedCellKey]))return[];var l=this._cellRefs[this._lastFocusedCellKey],c=l.props.index,h=a.getItemCount(a.data);if(c>=h||this._keyExtractor(a.getItem(a.data,c),c,a)!==this._lastFocusedCellKey)return[];for(var d=c,f=0,m=d-1;m>=0&&f<this._scrollMetrics.visibleLength;m--)d--,f+=this.__getFrameMetricsApprox(m,a).length;for(var v=c,E=0,R=v+1;R<h&&E<this._scrollMetrics.visibleLength;R++)v++,E+=this.__getFrameMetricsApprox(R,a).length;return[{first:d,last:v}]},this._checkProps(e),this._fillRateHelper=new CF(this._getFrameMetrics),this._updateCellsToRenderBatcher=new EF(this._updateCellsToRender,(n=this.props.updateCellsBatchingPeriod)!==null&&n!==void 0?n:50),this.props.viewabilityConfigCallbackPairs)this._viewabilityTuples=this.props.viewabilityConfigCallbackPairs.map(a=>({viewabilityHelper:new LE(a.viewabilityConfig),onViewableItemsChanged:a.onViewableItemsChanged}));else{var r=this.props,i=r.onViewableItemsChanged,s=r.viewabilityConfig;i&&this._viewabilityTuples.push({viewabilityHelper:new LE(s),onViewableItemsChanged:i})}var o=On._initialRenderRegion(e);this.state={cellsAroundViewport:o,renderMask:On._createRenderMask(e,o)},this.invertedWheelEventHandler=a=>{var l=this.props.horizontal?a.target.scrollLeft:a.target.scrollTop,c=this.props.horizontal?a.target.scrollWidth:a.target.scrollHeight,h=this.props.horizontal?a.target.clientWidth:a.target.clientHeight,d=c>h,f=this.props.horizontal?a.deltaX||a.wheelDeltaX:a.deltaY||a.wheelDeltaY,m=f;d&&(m=f<0?Math.min(f+l,0):Math.max(f-(c-h-l),0));var v=f-m;if(this.props.inverted&&this._scrollRef&&this._scrollRef.getScrollableNode){var E=this._scrollRef.getScrollableNode();if(this.props.horizontal){a.target.scrollLeft+=v;var R=E.scrollLeft-m;E.scrollLeft=this.props.getItemLayout?R:Math.min(R,this._totalCellLength)}else{a.target.scrollTop+=v;var w=E.scrollTop-m;E.scrollTop=this.props.getItemLayout?w:Math.min(w,this._totalCellLength)}a.preventDefault()}}}_checkProps(e){var n=e.onScroll,r=e.windowSize,i=e.getItemCount,s=e.data,o=e.initialScrollIndex;he(!n||!n.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),he(FE(r)>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),he(i,'VirtualizedList: The "getItemCount" prop must be provided');var a=i(s);o!=null&&!this._hasTriggeredInitialScrollToIndex&&(o<0||a>0&&o>=a)&&!this._hasWarned.initialScrollIndex&&(console.warn('initialScrollIndex "'+o+'" is not valid (list has '+a+" items)"),this._hasWarned.initialScrollIndex=!0)}static _createRenderMask(e,n,r){var i=e.getItemCount(e.data);he(n.first>=0&&n.last>=n.first-1&&n.last<i,'Invalid cells around viewport "['+n.first+", "+n.last+']" was passed to VirtualizedList._createRenderMask');var s=new bF(i);if(i>0){for(var o=[n,...r??[]],a=0,l=o;a<l.length;a++){var c=l[a];s.addCells(c)}if(e.initialScrollIndex==null||e.initialScrollIndex<=0){var h=On._initialRenderRegion(e);s.addCells(h)}var d=new Set(e.stickyHeaderIndices);On._ensureClosestStickyHeader(e,d,s,n.first)}return s}static _initialRenderRegion(e){var n,r=e.getItemCount(e.data),i=Math.max(0,Math.min(r-1,Math.floor((n=e.initialScrollIndex)!==null&&n!==void 0?n:0))),s=Math.min(r,i+FF(e.initialNumToRender))-1;return{first:i,last:s}}static _ensureClosestStickyHeader(e,n,r,i){for(var s=e.ListHeaderComponent?1:0,o=i-1;o>=0;o--)if(n.has(o+s)){r.addCells({first:o,last:o});break}}_adjustCellsAroundViewport(e,n){var r=e.data,i=e.getItemCount,s=ME(e.onEndReachedThreshold),o=this._scrollMetrics,a=o.contentLength,l=o.offset,c=o.visibleLength,h=a-c-l;if(c<=0||a<=0)return n.last>=i(r)?On._constrainToItemCount(n,e):n;var d;if(e.disableVirtualization){var f=h<s*c?Qm(e.maxToRenderPerBatch):0;d={first:0,last:Math.min(n.last+f,i(r)-1)}}else{if(e.initialScrollIndex&&!this._scrollMetrics.offset&&Math.abs(h)>=Number.EPSILON)return n.last>=i(r)?On._constrainToItemCount(n,e):n;d=NF(e,Qm(e.maxToRenderPerBatch),FE(e.windowSize),n,this.__getFrameMetricsApprox,this._scrollMetrics),he(d.last<i(r),"computeWindowedRenderLimits() should return range in-bounds")}if(this._nestedChildLists.size()>0){var m=this._findFirstChildWithMore(d.first,d.last);d.last=m??d.last}return d}_findFirstChildWithMore(e,n){for(var r=e;r<=n;r++){var i=this._indicesToKeys.get(r);if(i!=null&&this._nestedChildLists.anyInCell(i,s=>s.hasMore()))return r}return null}componentDidMount(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey}),this.setupWebWheelHandler()}componentWillUnmount(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}setupWebWheelHandler(){if(this._scrollRef&&this._scrollRef.getScrollableNode)this._scrollRef.getScrollableNode().addEventListener("wheel",this.invertedWheelEventHandler);else{setTimeout(()=>this.setupWebWheelHandler(),50);return}}teardownWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener("wheel",this.invertedWheelEventHandler)}static getDerivedStateFromProps(e,n){var r=e.getItemCount(e.data);if(r===n.renderMask.numCells())return n;var i=On._constrainToItemCount(n.cellsAroundViewport,e);return{cellsAroundViewport:i,renderMask:On._createRenderMask(e,i)}}_pushCells(e,n,r,i,s,o){var a=this,l=this.props,c=l.CellRendererComponent,h=l.ItemSeparatorComponent,d=l.ListHeaderComponent,f=l.ListItemComponent,m=l.data,v=l.debug,E=l.getItem,R=l.getItemCount,w=l.getItemLayout,y=l.horizontal,S=l.renderItem,k=d?1:0,N=R(m)-1,L;s=Math.min(N,s);for(var T=function(){var A=E(m,_),x=a._keyExtractor(A,_,a.props);a._indicesToKeys.set(_,x),r.has(_+k)&&n.push(e.length);var O=w==null||v||a._fillRateHelper.enabled();e.push(C.createElement(OF,Ht({CellRendererComponent:c,ItemSeparatorComponent:_<N?h:void 0,ListItemComponent:f,cellKey:x,horizontal:y,index:_,inversionStyle:o,item:A,key:x,prevCellKey:L,onUpdateSeparators:a._onUpdateSeparators,onCellFocusCapture:P=>a._onCellFocusCapture(x),onUnmount:a._onCellUnmount,ref:P=>{a._cellRefs[x]=P},renderItem:S},O&&{onCellLayout:a._onCellLayout}))),L=x},_=i;_<=s;_++)T()}static _constrainToItemCount(e,n){var r=n.getItemCount(n.data),i=Math.min(r-1,e.last),s=Qm(n.maxToRenderPerBatch);return{first:kE(0,r-1-s,e.first),last:i}}_isNestedWithSameOrientation(){var e=this.context;return!!(e&&!!e.horizontal===Qs(this.props.horizontal))}_keyExtractor(e,n,r){if(r.keyExtractor!=null)return r.keyExtractor(e,n);var i=Wy(e,n);return i===String(n)&&(Km=!0,e.type&&e.type.displayName&&(Gm=e.type.displayName)),i}render(){this._checkProps(this.props);var e=this.props,n=e.ListEmptyComponent,r=e.ListFooterComponent,i=e.ListHeaderComponent,s=this.props,o=s.data,a=s.horizontal,l=this.props.inverted?Qs(this.props.horizontal)?Jn.horizontallyInverted:Jn.verticallyInverted:null,c=[],h=new Set(this.props.stickyHeaderIndices),d=[];if(i){h.has(0)&&d.push(0);var f=C.isValidElement(i)?i:C.createElement(i,null);c.push(C.createElement(fd,{cellKey:this._getCellKey()+"-header",key:"$header"},C.createElement(Q,{onLayout:this._onLayoutHeader,style:[l,this.props.ListHeaderComponentStyle]},f)))}var m=this.props.getItemCount(o);if(m===0&&n){var v=C.isValidElement(n)?n:C.createElement(n,null);c.push(C.createElement(fd,{cellKey:this._getCellKey()+"-empty",key:"$empty"},C.cloneElement(v,{onLayout:ge=>{this._onLayoutEmpty(ge),v.props.onLayout&&v.props.onLayout(ge)},style:[l,v.props.style]})))}if(m>0){Km=!1,Gm="";for(var E=this._getSpacerKey(!a),R=this.state.renderMask.enumerateRegions(),w=jF(R,ge=>ge.isSpacer),y=oo(R),S;!(S=y()).done;){var k=S.value;if(k.isSpacer){if(this.props.disableVirtualization)continue;var N=k===w,L=N&&!this.props.getItemLayout,T=L?kE(k.first-1,k.last,this._highestMeasuredFrameIndex):k.last,_=this.__getFrameMetricsApprox(k.first,this.props),b=this.__getFrameMetricsApprox(T,this.props),A=b.offset+b.length-_.offset;c.push(C.createElement(Q,{key:"$spacer-"+k.first,style:{[E]:A}}))}else this._pushCells(c,d,h,k.first,k.last,l)}!this._hasWarned.keys&&Km&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",Gm),this._hasWarned.keys=!0)}if(r){var x=C.isValidElement(r)?r:C.createElement(r,null);c.push(C.createElement(fd,{cellKey:this._getFooterCellKey(),key:"$footer"},C.createElement(Q,{onLayout:this._onLayoutFooter,style:[l,this.props.ListFooterComponentStyle]},x)))}var O=de(de({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:$F(this.props.scrollEventThrottle),invertStickyHeaders:this.props.invertStickyHeaders!==void 0?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:d,style:l?[l,this.props.style]:this.props.style});this._hasMore=this.state.cellsAroundViewport.last<m-1;var P=C.createElement(kF,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:Qs(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}},C.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(O),{ref:this._captureScrollRef},c)),ue=P;return this.props.debug?C.createElement(Q,{style:Jn.debug},ue,this._renderDebugOverlay()):ue}componentDidUpdate(e){var n=this.props,r=n.data,i=n.extraData;(r!==e.data||i!==e.extraData)&&this._viewabilityTuples.forEach(o=>{o.viewabilityHelper.resetViewableIndices()});var s=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),s&&(this._hiPriInProgress=!1)}_computeBlankness(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}_onCellFocusCapture(e){this._lastFocusedCellKey=e,this._updateCellsToRender()}_triggerRemeasureForChildListsInCell(e){this._nestedChildLists.forEachInCell(e,n=>{n.measureLayoutRelativeToContainingList()})}measureLayoutRelativeToContainingList(){try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),(e,n,r,i)=>{this._offsetFromParentVirtualizedList=this._selectOffset({x:e,y:n}),this._scrollMetrics.contentLength=this._selectLength({width:r,height:i});var s=this._convertParentScrollMetrics(this.context.getScrollMetrics()),o=this._scrollMetrics.visibleLength!==s.visibleLength||this._scrollMetrics.offset!==s.offset;o&&(this._scrollMetrics.visibleLength=s.visibleLength,this._scrollMetrics.offset=s.offset,this._nestedChildLists.forEach(a=>{a.measureLayoutRelativeToContainingList()}))},e=>{console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(e){console.warn("measureLayoutRelativeToContainingList threw an error",e.stack)}}_getFooterCellKey(){return this._getCellKey()+"-footer"}_renderDebugOverlay(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),n=[],r=this.props.getItemCount(this.props.data),i=0;i<r;i++){var s=this.__getFrameMetricsApprox(i,this.props);s.inLayout&&n.push(s)}var o=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,a=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last,this.props),l=a.offset+a.length-o,c=this._scrollMetrics.offset,h=this._scrollMetrics.visibleLength;return C.createElement(Q,{style:[Jn.debugOverlayBase,Jn.debugOverlay]},n.map((d,f)=>C.createElement(Q,{key:"f"+f,style:[Jn.debugOverlayBase,Jn.debugOverlayFrame,{top:d.offset*e,height:d.length*e}]})),C.createElement(Q,{style:[Jn.debugOverlayBase,Jn.debugOverlayFrameLast,{top:o*e,height:l*e}]}),C.createElement(Q,{style:[Jn.debugOverlayBase,Jn.debugOverlayFrameVis,{top:c*e,height:h*e}]}))}_selectLength(e){return Qs(this.props.horizontal)?e.width:e.height}_selectOffset(e){return Qs(this.props.horizontal)?e.x:e.y}_maybeCallOnEdgeReached(){var e=this.props,n=e.data,r=e.getItemCount,i=e.onStartReached,s=e.onStartReachedThreshold,o=e.onEndReached,a=e.onEndReachedThreshold,l=e.initialScrollIndex,c=this._scrollMetrics,h=c.contentLength,d=c.visibleLength,f=c.offset,m=f,v=h-d-f;m<NE&&(m=0),v<NE&&(v=0);var E=2,R=s!=null?s*d:E,w=a!=null?a*d:E,y=m<=R,S=v<=w;o&&this.state.cellsAroundViewport.last===r(n)-1&&S&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,o({distanceFromEnd:v})):i!=null&&this.state.cellsAroundViewport.first===0&&y&&this._scrollMetrics.contentLength!==this._sentStartForContentLength?(!l||this._scrollMetrics.timestamp!==0)&&(this._sentStartForContentLength=this._scrollMetrics.contentLength,i({distanceFromStart:m})):(this._sentStartForContentLength=y?this._sentStartForContentLength:0,this._sentEndForContentLength=S?this._sentEndForContentLength:0)}_scheduleCellsToRenderUpdate(){var e=this.state.cellsAroundViewport,n=e.first,r=e.last,i=this._scrollMetrics,s=i.offset,o=i.visibleLength,a=i.velocity,l=this.props.getItemCount(this.props.data),c=!1,h=BF(this.props.onStartReachedThreshold),d=ME(this.props.onEndReachedThreshold);if(n>0){var f=s-this.__getFrameMetricsApprox(n,this.props).offset;c=f<0||a<-2&&f<VE(h,o)}if(!c&&r>=0&&r<l-1){var m=this.__getFrameMetricsApprox(r,this.props).offset-(s+o);c=m<0||a>2&&m<VE(d,o)}if(c&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress){this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),this._updateCellsToRender();return}else this._updateCellsToRenderBatcher.schedule()}_updateViewableItems(e,n){this._viewabilityTuples.forEach(r=>{r.viewabilityHelper.onUpdate(e,this._scrollMetrics.offset,this._scrollMetrics.visibleLength,this._getFrameMetrics,this._createViewToken,r.onViewableItemsChanged,n)})}}On.contextType=yf;var Jn=Ie.create({verticallyInverted:{transform:"scaleY(-1)"},horizontallyInverted:{transform:"scaleX(-1)"},debug:{flex:1},debugOverlayBase:{position:"absolute",top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:"blue",borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:"orange"},debugOverlayFrameLast:{left:0,borderColor:"green",borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:"red",borderWidth:2}}),BE=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function UF(t,e){return!!(t===e||BE(t)&&BE(e))}function zF(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!UF(t[n],e[n]))return!1;return!0}function WF(t,e){e===void 0&&(e=zF);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var HF=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function qF(t){return t??tV.OS==="android"}function Xs(t){return t??1}function KF(t){return typeof Object(t).length=="number"}class GF extends C.PureComponent{scrollToEnd(e){this._listRef&&this._listRef.scrollToEnd(e)}scrollToIndex(e){this._listRef&&this._listRef.scrollToIndex(e)}scrollToItem(e){this._listRef&&this._listRef.scrollToItem(e)}scrollToOffset(e){this._listRef&&this._listRef.scrollToOffset(e)}recordInteraction(){this._listRef&&this._listRef.recordInteraction()}flashScrollIndicators(){this._listRef&&this._listRef.flashScrollIndicators()}getScrollResponder(){if(this._listRef)return this._listRef.getScrollResponder()}getNativeScrollRef(){if(this._listRef)return this._listRef.getScrollRef()}getScrollableNode(){if(this._listRef)return this._listRef.getScrollableNode()}constructor(e){super(e),this._virtualizedListPairs=[],this._captureRef=n=>{this._listRef=n},this._getItem=(n,r)=>{var i=Xs(this.props.numColumns);if(i>1){for(var s=[],o=0;o<i;o++){var a=r*i+o;if(a<n.length){var l=n[a];s.push(l)}}return s}else return n[r]},this._getItemCount=n=>{if(n!=null&&KF(n)){var r=Xs(this.props.numColumns);return r>1?Math.ceil(n.length/r):n.length}else return 0},this._keyExtractor=(n,r)=>{var i,s=Xs(this.props.numColumns),o=(i=this.props.keyExtractor)!==null&&i!==void 0?i:Wy;return s>1?(he(Array.isArray(n),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",s),n.map((a,l)=>o(a,r*s+l)).join(":")):o(n,r)},this._renderer=(n,r,i,s,o)=>{var a=Xs(s),l=h=>n?C.createElement(n,h):r?r(h):null,c=h=>{if(a>1){var d=h.item,f=h.index;return he(Array.isArray(d),"Expected array of items with numColumns > 1"),C.createElement(Q,{style:[QF.row,i]},d.map((m,v)=>{var E=l({item:m,index:f*a+v,separators:h.separators});return E!=null?C.createElement(C.Fragment,{key:v},E):null}))}else return l(h)};return n?{ListItemComponent:c}:{renderItem:c}},this._memoizedRenderer=WF(this._renderer),this._checkProps(this.props),this.props.viewabilityConfigCallbackPairs?this._virtualizedListPairs=this.props.viewabilityConfigCallbackPairs.map(n=>({viewabilityConfig:n.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(n.onViewableItemsChanged)})):this.props.onViewableItemsChanged&&this._virtualizedListPairs.push({viewabilityConfig:this.props.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(this.props.onViewableItemsChanged)})}componentDidUpdate(e){he(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),he(e.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),he(!YV(e.viewabilityConfig,this.props.viewabilityConfig),"Changing viewabilityConfig on the fly is not supported"),he(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(this.props)}_checkProps(e){var n=e.getItem,r=e.getItemCount,i=e.horizontal,s=e.columnWrapperStyle,o=e.onViewableItemsChanged,a=e.viewabilityConfigCallbackPairs,l=Xs(this.props.numColumns);he(!n&&!r,"FlatList does not support custom data formats."),l>1?he(!i,"numColumns does not support horizontal."):he(!s,"columnWrapperStyle not supported for single column lists"),he(!(o&&a),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}_pushMultiColumnViewable(e,n){var r,i=Xs(this.props.numColumns),s=(r=this.props.keyExtractor)!==null&&r!==void 0?r:Wy;n.item.forEach((o,a)=>{he(n.index!=null,"Missing index!");var l=n.index*i+a;e.push(de(de({},n),{},{item:o,key:s(o,l),index:l}))})}_createOnViewableItemsChanged(e){return n=>{var r=Xs(this.props.numColumns);if(e)if(r>1){var i=[],s=[];n.viewableItems.forEach(o=>this._pushMultiColumnViewable(s,o)),n.changed.forEach(o=>this._pushMultiColumnViewable(i,o)),e({viewableItems:s,changed:i})}else e(n)}}render(){var e=this.props,n=e.numColumns,r=e.columnWrapperStyle,i=e.removeClippedSubviews,s=e.strictMode,o=s===void 0?!1:s,a=dn(e,HF),l=o?this._memoizedRenderer:this._renderer;return C.createElement(On,Ht({},a,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:qF(i)},l(this.props.ListItemComponent,this.props.renderItem,r,n,this.props.extraData)))}}var QF=Ie.create({row:{flexDirection:"row"}}),XF=[];function bA(t){return XF[t-1]}var YF=/^data:/;class En{static has(e){var n=En._entries,r=YF.test(e);return r||!!n[e]}static add(e){var n=En._entries,r=Date.now();n[e]?(n[e].lastUsedTimestamp=r,n[e].refCount+=1):n[e]={lastUsedTimestamp:r,refCount:1}}static remove(e){var n=En._entries;n[e]&&(n[e].refCount-=1),En._cleanUpIfNeeded()}static _cleanUpIfNeeded(){var e=En._entries,n=Object.keys(e);if(n.length+1>En._maximumEntries){var r,i;n.forEach(s=>{var o=e[s];(!i||o.lastUsedTimestamp<i.lastUsedTimestamp)&&o.refCount===0&&(r=s,i=o)}),r&&delete e[r]}}}En._maximumEntries=256;En._entries={};var Xm=0,Nh={},Pr={abort(t){var e=Nh[""+t];e&&(e.onerror=null,e.onload=null,e=null,delete Nh[""+t])},getSize(t,e,n){var r=!1,i=setInterval(o,16),s=Pr.load(t,o,a);function o(){var l=Nh[""+s];if(l){var c=l.naturalHeight,h=l.naturalWidth;c&&h&&(e(h,c),r=!0)}r&&(Pr.abort(s),clearInterval(i))}function a(){typeof n=="function"&&n(),Pr.abort(s),clearInterval(i)}},has(t){return En.has(t)},load(t,e,n){Xm+=1;var r=new window.Image;return r.onerror=n,r.onload=i=>{var s=()=>e({nativeEvent:i});typeof r.decode=="function"?r.decode().then(s,s):setTimeout(s,0)},r.src=t,Nh[""+Xm]=r,Xm},prefetch(t){return new Promise((e,n)=>{Pr.load(t,()=>{En.add(t),En.remove(t),e()},n)})},queryCache(t){var e={};return t.forEach(n=>{En.has(n)&&(e[n]="disk/memory")}),Promise.resolve(e)}};class xu{static get(){return df.get("window").scale}static getFontScale(){return df.get("window").fontScale||xu.get()}static getPixelSizeForLayoutSize(e){return Math.round(e*xu.get())}static roundToNearestPixel(e){var n=xu.get();return Math.round(e*n)/n}}var JF=["aria-label","accessibilityLabel","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"],ZF="ERRORED",Ym="LOADED",$E="LOADING",e4="IDLE",t4=0,n4=/^(data:image\/svg\+xml;utf8,)(.*)/;function r4(t,e){return t&&e!=null?C.createElement("svg",{style:{position:"absolute",height:0,visibility:"hidden",width:0}},C.createElement("defs",null,C.createElement("filter",{id:"tint-"+e,suppressHydrationWarning:!0},C.createElement("feFlood",{floodColor:""+t,key:t}),C.createElement("feComposite",{in2:"SourceAlpha",operator:"in"})))):null}function i4(t,e,n,r){var i=Ie.flatten(t),s=i.filter,o=i.resizeMode,a=i.shadowOffset,l=i.tintColor;i.resizeMode,i.tintColor;var c=[],h=null;if(s&&c.push(s),e&&c.push("blur("+e+"px)"),a){var d=nA(i);d&&c.push("drop-shadow("+d+")")}return(r||l)&&n!=null&&c.push("url(#tint-"+n+")"),c.length>0&&(h=c.join(" ")),[o,h,l]}function s4(t){if(typeof t=="number"){var e=bA(t),n=e.height,r=e.width;return{height:n,width:r}}else if(t!=null&&!Array.isArray(t)&&typeof t=="object"){var i=t.height,s=t.width;return{height:i,width:s}}}function Jm(t){var e=null;if(typeof t=="number"){var n=bA(t);if(n==null)throw new Error('Image: asset with ID "'+t+'" could not be found. Please check the image source or packager.');var r=n.scales[0];if(n.scales.length>1){var i=xu.get();r=n.scales.reduce((h,d)=>Math.abs(d-i)<Math.abs(h-i)?d:h)}var s=r!==1?"@"+r+"x":"";e=n?n.httpServerLocation+"/"+n.name+s+"."+n.type:""}else typeof t=="string"?e=t:t&&typeof t.uri=="string"&&(e=t.uri);if(e){var o=e.match(n4);if(o){var a=o[1],l=o[2],c=encodeURIComponent(l);return""+a+c}}return e}var RA=C.forwardRef((t,e)=>{var n=t["aria-label"],r=t.accessibilityLabel,i=t.blurRadius,s=t.defaultSource,o=t.draggable,a=t.onError,l=t.onLayout,c=t.onLoad,h=t.onLoadEnd,d=t.onLoadStart,f=t.pointerEvents,m=t.source,v=t.style,E=dn(t,JF),R=n||r,w=C.useState(()=>{var Fe=Jm(m);if(Fe!=null){var vt=Pr.has(Fe);if(vt)return Ym}return e4}),y=w[0],S=w[1],k=C.useState({}),N=k[0],L=k[1],T=C.useContext(hf),_=C.useRef(null),b=C.useRef(t4++),A=C.useRef(null),x=y===Ym||y===$E&&s==null,O=i4(v,i,b.current,t.tintColor),P=O[0],ue=O[1],ge=O[2],Ne=t.resizeMode||P||"cover",Kt=t.tintColor||ge,z=x?m:s,Z=Jm(z),re=s4(z),we=Z?'url("'+Z+'")':null,Re=Je(),Gt=Z?il("img",{alt:R||"",style:Gl.accessibilityImage$raw,draggable:o||!1,ref:_,src:Z}):null;function Je(){if(_.current!=null&&(Ne==="center"||Ne==="repeat")){var Fe=_.current,vt=Fe.naturalHeight,fn=Fe.naturalWidth,zr=N.height,Ci=N.width;if(vt&&fn&&zr&&Ci){var Hn=Math.min(1,Ci/fn,zr/vt),pr=Math.ceil(Hn*fn),xn=Math.ceil(Hn*vt);return pr+"px "+xn+"px"}}}function It(Fe){if(Ne==="center"||Ne==="repeat"||l){var vt=Fe.nativeEvent.layout;l&&l(Fe),L(vt)}}var tt=Jm(m);return C.useEffect(()=>{Fe(),tt!=null&&(S($E),d&&d(),A.current=Pr.load(tt,function(fn){S(Ym),c&&c(fn),h&&h()},function(){S(ZF),a&&a({nativeEvent:{error:"Failed to load resource "+tt}}),h&&h()}));function Fe(){A.current!=null&&(Pr.abort(A.current),A.current=null)}return Fe},[tt,A,S,a,c,h,d]),C.createElement(Q,Ht({},E,{"aria-label":R,onLayout:It,pointerEvents:f,ref:e,style:[Gl.root,T&&Gl.inline,re,v,Gl.undo,{boxShadow:null}]}),C.createElement(Q,{style:[Gl.image,o4[Ne],{backgroundImage:we,filter:ue},Re!=null&&{backgroundSize:Re}],suppressHydrationWarning:!0}),Gt,r4(Kt,b.current))});RA.displayName="Image";var ur=RA;ur.getSize=function(t,e,n){Pr.getSize(t,e,n)};ur.prefetch=function(t){return Pr.prefetch(t)};ur.queryCache=function(t){return Pr.queryCache(t)};var Gl=Ie.create({root:{flexBasis:"auto",overflow:"hidden",zIndex:0},inline:{display:"inline-flex"},undo:{blurRadius:null,shadowColor:null,shadowOpacity:null,shadowOffset:null,shadowRadius:null,tintColor:null,overlayColor:null,resizeMode:null},image:de(de({},Ie.absoluteFillObject),{},{backgroundColor:"transparent",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",width:"100%",zIndex:-1}),accessibilityImage$raw:de(de({},Ie.absoluteFillObject),{},{height:"100%",opacity:0,width:"100%",zIndex:-1})}),o4=Ie.create({center:{backgroundSize:"auto"},contain:{backgroundSize:"contain"},cover:{backgroundSize:"cover"},none:{backgroundPosition:"0",backgroundSize:"auto"},repeat:{backgroundPosition:"0",backgroundRepeat:"repeat",backgroundSize:"auto"},stretch:{backgroundSize:"100% 100%"}}),a4=["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"],l4=Object.assign({},j_,U_,z_,W_,H_,q_,K_,G_,{href:!0,lang:!0,pointerEvents:!0}),u4=t=>Q_(t,l4),H=C.forwardRef((t,e)=>{var n=t.hrefAttrs,r=t.numberOfLines,i=t.onClick,s=t.onLayout,o=t.onPress,a=t.onMoveShouldSetResponder,l=t.onMoveShouldSetResponderCapture,c=t.onResponderEnd,h=t.onResponderGrant,d=t.onResponderMove,f=t.onResponderReject,m=t.onResponderRelease,v=t.onResponderStart,E=t.onResponderTerminate,R=t.onResponderTerminationRequest,w=t.onScrollShouldSetResponder,y=t.onScrollShouldSetResponderCapture,S=t.onSelectionChangeShouldSetResponder,k=t.onSelectionChangeShouldSetResponderCapture,N=t.onStartShouldSetResponder,L=t.onStartShouldSetResponderCapture,T=t.selectable,_=dn(t,a4),b=C.useContext(hf),A=C.useRef(null),x=$_(),O=x.direction;X_(A,s),Z_(A,{onMoveShouldSetResponder:a,onMoveShouldSetResponderCapture:l,onResponderEnd:c,onResponderGrant:h,onResponderMove:d,onResponderReject:f,onResponderRelease:m,onResponderStart:v,onResponderTerminate:E,onResponderTerminationRequest:R,onScrollShouldSetResponder:w,onScrollShouldSetResponderCapture:y,onSelectionChangeShouldSetResponder:S,onSelectionChangeShouldSetResponderCapture:k,onStartShouldSetResponder:N,onStartShouldSetResponderCapture:L});var P=C.useCallback(It=>{i!=null?i(It):o!=null&&(It.stopPropagation(),o(It))},[i,o]),ue=b?"span":"div",ge=t.lang!=null?gp(t.lang):null,Ne=t.dir||ge,Kt=Ne||O,z=u4(_);if(z.dir=Ne,b||(z.dir=Ne??"auto"),(i||o)&&(z.onClick=P),z.style=[r!=null&&r>1&&{WebkitLineClamp:r},b===!0?Ys.textHasAncestor$raw:Ys.text$raw,r===1&&Ys.textOneLine,r!=null&&r>1&&Ys.textMultiLine,t.style,T===!0&&Ys.selectable,T===!1&&Ys.notSelectable,o&&Ys.pressable],t.href!=null&&(ue="a",n!=null)){var Z=n.download,re=n.rel,we=n.target;Z!=null&&(z.download=Z),re!=null&&(z.rel=re),typeof we=="string"&&(z.target=we.charAt(0)!=="_"?"_"+we:we)}var Re=Y_(z),Gt=Tc(A,Re,e);z.ref=Gt;var Je=il(ue,z,{writingDirection:Kt});return b?Je:C.createElement(hf.Provider,{value:!0},Je)});H.displayName="Text";var jE={backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",listStyle:"none",margin:0,padding:0,position:"relative",textAlign:"start",textDecoration:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},Ys=Ie.create({text$raw:jE,textHasAncestor$raw:de(de({},jE),{},{color:"inherit",font:"inherit",textAlign:"inherit",whiteSpace:"inherit"}),textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}}),c4=["animating","color","hidesWhenStopped","size","style"],UE=t=>C.createElement("circle",{cx:"16",cy:"16",fill:"none",r:"14",strokeWidth:"4",style:t}),bc=C.forwardRef((t,e)=>{var n=t.animating,r=n===void 0?!0:n,i=t.color,s=i===void 0?"#1976D2":i,o=t.hidesWhenStopped,a=o===void 0?!0:o,l=t.size,c=l===void 0?"small":l,h=t.style,d=dn(t,c4),f=C.createElement("svg",{height:"100%",viewBox:"0 0 32 32",width:"100%"},UE({stroke:s,opacity:.2}),UE({stroke:s,strokeDasharray:80,strokeDashoffset:60}));return C.createElement(Q,Ht({},d,{"aria-valuemax":1,"aria-valuemin":0,ref:e,role:"progressbar",style:[Mh.container,h]}),C.createElement(Q,{children:f,style:[typeof c=="number"?{height:c,width:c}:h4[c],Mh.animation,!r&&Mh.animationPause,!r&&a&&Mh.hidesWhenStopped]}))});bc.displayName="ActivityIndicator";var Mh=Ie.create({container:{alignItems:"center",justifyContent:"center"},hidesWhenStopped:{visibility:"hidden"},animation:{animationDuration:"0.75s",animationKeyframes:[{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}],animationTimingFunction:"linear",animationIterationCount:"infinite"},animationPause:{animationPlayState:"paused"}}),h4=Ie.create({small:{width:20,height:20},large:{width:36,height:36}}),zE="DELAY",Zn="ERROR",WE="LONG_PRESS_DETECTED",Xt="NOT_RESPONDER",qa="RESPONDER_ACTIVE_LONG_PRESS_START",_p="RESPONDER_ACTIVE_PRESS_START",Hy="RESPONDER_INACTIVE_PRESS_START",d4="RESPONDER_GRANT",pd="RESPONDER_RELEASE",CA="RESPONDER_TERMINATED",HE=Object.freeze({NOT_RESPONDER:{DELAY:Zn,RESPONDER_GRANT:Hy,RESPONDER_RELEASE:Zn,RESPONDER_TERMINATED:Zn,LONG_PRESS_DETECTED:Zn},RESPONDER_INACTIVE_PRESS_START:{DELAY:_p,RESPONDER_GRANT:Zn,RESPONDER_RELEASE:Xt,RESPONDER_TERMINATED:Xt,LONG_PRESS_DETECTED:Zn},RESPONDER_ACTIVE_PRESS_START:{DELAY:Zn,RESPONDER_GRANT:Zn,RESPONDER_RELEASE:Xt,RESPONDER_TERMINATED:Xt,LONG_PRESS_DETECTED:qa},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:Zn,RESPONDER_GRANT:Zn,RESPONDER_RELEASE:Xt,RESPONDER_TERMINATED:Xt,LONG_PRESS_DETECTED:qa},ERROR:{DELAY:Xt,RESPONDER_GRANT:Hy,RESPONDER_RELEASE:Xt,RESPONDER_TERMINATED:Xt,LONG_PRESS_DETECTED:Xt}}),IA=t=>t.getAttribute("role"),qy=t=>t.tagName.toLowerCase(),qE=t=>t===_p||t===qa,md=t=>IA(t)==="button",KE=t=>t===Hy||t===_p||t===qa,f4=t=>t===CA||t===pd,GE=t=>{var e=t.key,n=t.target,r=e===" "||e==="Spacebar",i=qy(n)==="button"||md(n);return e==="Enter"||r&&i},p4=450,m4=50;class g4{constructor(e){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=Xt,this._responderElement=null,this.configure(e)}configure(e){this._config=e}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return this._eventHandlers==null&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var e=(i,s)=>{i.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=Xt,this._isPointerTouch=i.nativeEvent.type==="touchstart",this._receiveSignal(d4,i);var o=Zm(this._config.delayPressStart,0,m4);s!==!1&&o>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(zE,i)},o):this._receiveSignal(zE,i);var a=Zm(this._config.delayLongPress,10,p4);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(i)},a+o)},n=i=>{this._receiveSignal(pd,i)},r=i=>{var s=this._config.onPress,o=i.target;if(this._touchState!==Xt&&GE(i)){n(i),document.removeEventListener("keyup",r);var a=o.getAttribute("role"),l=qy(o),c=a==="link"||l==="a"||l==="button"||l==="input"||l==="select"||l==="textarea",h=this._responderElement===o;s!=null&&!c&&h&&s(i),this._responderElement=null}};return{onStartShouldSetResponder:i=>{var s=this._config.disabled;return s&&md(i.currentTarget)&&i.stopPropagation(),s==null?!0:!s},onKeyDown:i=>{var s=this._config.disabled,o=i.key,a=i.target;if(!s&&GE(i)){this._touchState===Xt&&(e(i,!1),this._responderElement=a,document.addEventListener("keyup",r));var l=o===" "||o==="Spacebar",c=IA(a),h=c==="button"||c==="menuitem";l&&h&&qy(a)!=="button"&&i.preventDefault(),i.stopPropagation()}},onResponderGrant:i=>e(i),onResponderMove:i=>{this._config.onPressMove!=null&&this._config.onPressMove(i);var s=QE(i);if(this._touchActivatePosition!=null){var o=this._touchActivatePosition.pageX-s.pageX,a=this._touchActivatePosition.pageY-s.pageY;Math.hypot(o,a)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:i=>n(i),onResponderTerminate:i=>{i.nativeEvent.type==="selectionchange"&&(this._selectionTerminated=!0),this._receiveSignal(CA,i)},onResponderTerminationRequest:i=>{var s=this._config,o=s.cancelable,a=s.disabled,l=s.onLongPress;return!a&&l!=null&&this._isPointerTouch&&i.nativeEvent.type==="contextmenu"?!1:o??!0},onClick:i=>{var s=this._config,o=s.disabled,a=s.onPress;o?md(i.currentTarget)&&i.stopPropagation():(i.stopPropagation(),this._longPressDispatched||this._selectionTerminated?i.preventDefault():a!=null&&i.altKey===!1&&a(i))},onContextMenu:i=>{var s=this._config,o=s.disabled,a=s.onLongPress;o?md(i.currentTarget)&&i.stopPropagation():a!=null&&this._isPointerTouch&&!i.defaultPrevented&&(i.preventDefault(),i.stopPropagation())}}}_receiveSignal(e,n){var r=this._touchState,i=null;HE[r]!=null&&(i=HE[r][e]),!(this._touchState===Xt&&e===pd)&&(i==null||i===Zn?console.error("PressResponder: Invalid signal "+e+" for state "+r+" on responder"):r!==i&&(this._performTransitionSideEffects(r,i,e,n),this._touchState=i))}_performTransitionSideEffects(e,n,r,i){if(f4(r)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),KE(e)&&r===WE){var s=this._config.onLongPress;s!=null&&i.nativeEvent.key==null&&(s(i),this._longPressDispatched=!0)}var o=qE(e),a=qE(n);if(!o&&a?this._activate(i):o&&!a&&this._deactivate(i),KE(e)&&r===pd){var l=this._config,c=l.onLongPress,h=l.onPress;if(h!=null){var d=c!=null&&e===qa;d||!a&&!o&&(this._activate(i),this._deactivate(i))}}this._cancelPressDelayTimeout()}_activate(e){var n=this._config,r=n.onPressChange,i=n.onPressStart,s=QE(e);this._touchActivatePosition={pageX:s.pageX,pageY:s.pageY},i!=null&&i(e),r!=null&&r(!0)}_deactivate(e){var n=this._config,r=n.onPressChange,i=n.onPressEnd;function s(){i!=null&&i(e),r!=null&&r(!1)}var o=Zm(this._config.delayPressEnd);o>0?this._pressOutDelayTimeout=setTimeout(()=>{s()},o):s()}_handleLongPress(e){(this._touchState===_p||this._touchState===qa)&&this._receiveSignal(WE,e)}_cancelLongPressDelayTimeout(){this._longPressDelayTimeout!=null&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){this._pressDelayTimeout!=null&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){this._pressOutDelayTimeout!=null&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}function Zm(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=0),Math.max(e,t??n)}function QE(t){var e=t.nativeEvent,n=e.changedTouches,r=e.touches;return r!=null&&r.length>0?r[0]:n!=null&&n.length>0?n[0]:t.nativeEvent}function y4(t,e){var n=C.useRef(null);n.current==null&&(n.current=new g4(e));var r=n.current;return C.useEffect(()=>{r.configure(e)},[e,r]),C.useEffect(()=>()=>{r.reset()},[r]),C.useDebugValue(e),r.getEventHandlers()}var v4=["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"];function _4(t,e){var n=t.activeOpacity,r=t.delayPressIn,i=t.delayPressOut,s=t.delayLongPress,o=t.disabled,a=t.focusable,l=t.onLongPress,c=t.onPress,h=t.onPressIn,d=t.onPressOut,f=t.rejectResponderTermination,m=t.style,v=dn(t,v4),E=C.useRef(null),R=Tc(e,E),w=C.useState("0s"),y=w[0],S=w[1],k=C.useState(null),N=k[0],L=k[1],T=C.useCallback((O,P)=>{L(O),S(P?P/1e3+"s":"0s")},[L,S]),_=C.useCallback(O=>{T(n??.2,O)},[n,T]),b=C.useCallback(O=>{T(null,O)},[T]),A=C.useMemo(()=>({cancelable:!f,disabled:o,delayLongPress:s,delayPressStart:r,delayPressEnd:i,onLongPress:l,onPress:c,onPressStart(O){var P=O.dispatchConfig!=null?O.dispatchConfig.registrationName==="onResponderGrant":O.type==="keydown";_(P?0:150),h!=null&&h(O)},onPressEnd(O){b(250),d!=null&&d(O)}}),[s,r,i,o,l,c,h,d,f,_,b]),x=y4(E,A);return C.createElement(Q,Ht({},v,x,{accessibilityDisabled:o,focusable:!o&&a!==!1,pointerEvents:o?"box-none":void 0,ref:R,style:[XE.root,!o&&XE.actionable,m,N!=null&&{opacity:N},{transitionDuration:y}]}))}var XE=Ie.create({root:{transitionProperty:"opacity",transitionDuration:"0.15s",userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),Ee=C.memo(C.forwardRef(_4));Ee.displayName="TouchableOpacity";function w4(t){var e=t.children,n=C.useRef(null);if(gt&&!n.current){var r=document.createElement("div");r&&document.body&&(document.body.appendChild(r),n.current=r)}return C.useEffect(()=>{if(gt)return()=>{document.body&&n.current&&(document.body.removeChild(n.current),n.current=null)}},[]),n.current&&gt?$L.createPortal(e,n.current):null}var YE=300;function S4(t,e){return t==="slide"?e?T4:b4:t==="fade"?e?R4:C4:e?Zt.container:Zt.hidden}function E4(t){var e=t.animationType,n=t.children,r=t.onDismiss,i=t.onShow,s=t.visible,o=C.useState(!1),a=o[0],l=o[1],c=C.useRef(!1),h=C.useRef(!1),d=e&&e!=="none",f=C.useCallback(m=>{m&&m.currentTarget!==m.target||(s?i&&i():l(!1))},[i,s]);return C.useEffect(()=>{h.current&&!a&&r&&r(),h.current=a},[a,r]),C.useEffect(()=>{s&&l(!0),s!==c.current&&!d&&f(),c.current=s},[d,s,f]),a||s?il("div",{style:a?S4(e,s):Zt.hidden,onAnimationEnd:f,children:n}):null}var Zt=Ie.create({container:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:9999},animatedIn:{animationDuration:YE+"ms",animationTimingFunction:"ease-in"},animatedOut:{pointerEvents:"none",animationDuration:YE+"ms",animationTimingFunction:"ease-out"},fadeIn:{opacity:1,animationKeyframes:{"0%":{opacity:0},"100%":{opacity:1}}},fadeOut:{opacity:0,animationKeyframes:{"0%":{opacity:1},"100%":{opacity:0}}},slideIn:{transform:"translateY(0%)",animationKeyframes:{"0%":{transform:"translateY(100%)"},"100%":{transform:"translateY(0%)"}}},slideOut:{transform:"translateY(100%)",animationKeyframes:{"0%":{transform:"translateY(0%)"},"100%":{transform:"translateY(100%)"}}},hidden:{opacity:0}}),T4=[Zt.container,Zt.animatedIn,Zt.slideIn],b4=[Zt.container,Zt.animatedOut,Zt.slideOut],R4=[Zt.container,Zt.animatedIn,Zt.fadeIn],C4=[Zt.container,Zt.animatedOut,Zt.fadeOut],I4=["active","children","onRequestClose","transparent"],A4=C.forwardRef((t,e)=>{var n=t.active,r=t.children,i=t.onRequestClose,s=t.transparent,o=dn(t,I4);C.useEffect(()=>{if(gt){var l=c=>{n&&c.key==="Escape"&&(c.stopPropagation(),i&&i())};return document.addEventListener("keyup",l,!1),()=>document.removeEventListener("keyup",l,!1)}},[n,i]);var a=C.useMemo(()=>[Vh.modal,s?Vh.modalTransparent:Vh.modalOpaque],[s]);return C.createElement(Q,Ht({},o,{"aria-modal":!0,ref:e,role:n?"dialog":null,style:a}),C.createElement(Q,{style:Vh.container},r))}),Vh=Ie.create({modal:{position:"fixed",top:0,right:0,bottom:0,left:0},modalTransparent:{backgroundColor:"transparent"},modalOpaque:{backgroundColor:"white"},container:{top:0,flex:1}}),JE=()=>il("div",{role:"none",tabIndex:0,style:P4.focusBracket});function AA(t){if(!gt)return!1;try{t.focus()}catch{}return document.activeElement===t}function xA(t){for(var e=0;e<t.childNodes.length;e++){var n=t.childNodes[e];if(AA(n)||xA(n))return!0}return!1}function PA(t){for(var e=t.childNodes.length-1;e>=0;e--){var n=t.childNodes[e];if(AA(n)||PA(n))return!0}return!1}var x4=t=>{var e=t.active,n=t.children,r=C.useRef(),i=C.useRef({trapFocusInProgress:!1,lastFocusedElement:null});return C.useEffect(()=>{if(gt){var s=()=>{if(!(r.current==null||i.current.trapFocusInProgress||!e)){try{if(i.current.trapFocusInProgress=!0,document.activeElement instanceof Node&&!r.current.contains(document.activeElement)){var o=xA(r.current);i.current.lastFocusedElement===document.activeElement&&(o=PA(r.current)),!o&&r.current!=null&&document.activeElement&&ai.focus(r.current)}}finally{i.current.trapFocusInProgress=!1}i.current.lastFocusedElement=document.activeElement}};return s(),document.addEventListener("focus",s,!0),()=>document.removeEventListener("focus",s,!0)}},[e]),C.useEffect(function(){if(gt){var s=document.activeElement;return function(){s&&document.contains(s)&&ai.focus(s)}}},[]),C.createElement(C.Fragment,null,C.createElement(JE,null),C.createElement(Q,{ref:r},n),C.createElement(JE,null))},P4=Ie.create({focusBracket:{outlineStyle:"none"}}),k4=["animationType","children","onDismiss","onRequestClose","onShow","transparent","visible"],O4=0,lo=[],Da={};function kA(){if(lo.length!==0){var t=lo[lo.length-1];lo.forEach(e=>{e in Da&&Da[e](e===t)})}}function Ky(t){t in Da&&(Da[t](!1),delete Da[t]);var e=lo.indexOf(t);e!==-1&&(lo.splice(e,1),kA())}function D4(t,e){Ky(t),lo.push(t),Da[t]=e,kA()}var oc=C.forwardRef((t,e)=>{var n=t.animationType,r=t.children,i=t.onDismiss,s=t.onRequestClose,o=t.onShow,a=t.transparent,l=t.visible,c=l===void 0?!0:l,h=dn(t,k4),d=C.useMemo(()=>O4++,[]),f=C.useState(!1),m=f[0],v=f[1],E=C.useCallback(()=>{Ky(d),i&&i()},[d,i]),R=C.useCallback(()=>{D4(d,v),o&&o()},[d,o]);return C.useEffect(()=>()=>Ky(d),[d]),C.createElement(w4,null,C.createElement(E4,{animationType:n,onDismiss:E,onShow:R,visible:c},C.createElement(x4,{active:m},C.createElement(A4,Ht({},h,{active:m,onRequestClose:s,ref:e,transparent:a}),r))))}),L4=(t,e)=>{var n=t.selectionEnd,r=t.selectionStart,i=e.start,s=e.end;return i!==r||s!==n},ZE=(t,e)=>{if(L4(t,e)){var n=e.start,r=e.end;try{t.setSelectionRange(n,r||n)}catch{}}},N4=Object.assign({},j_,U_,z_,W_,H_,q_,K_,G_,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0}),M4=t=>Q_(t,N4);function V4(t){return t.isComposing||t.keyCode===229}var eg=null,Lr=C.forwardRef((t,e)=>{var n=t.autoCapitalize,r=n===void 0?"sentences":n,i=t.autoComplete,s=t.autoCompleteType,o=t.autoCorrect,a=o===void 0?!0:o,l=t.blurOnSubmit,c=t.caretHidden,h=t.clearTextOnFocus,d=t.dir,f=t.editable,m=t.enterKeyHint,v=t.inputMode,E=t.keyboardType,R=t.multiline,w=R===void 0?!1:R,y=t.numberOfLines,S=t.onBlur,k=t.onChange,N=t.onChangeText,L=t.onContentSizeChange,T=t.onFocus,_=t.onKeyPress,b=t.onLayout,A=t.onMoveShouldSetResponder,x=t.onMoveShouldSetResponderCapture,O=t.onResponderEnd,P=t.onResponderGrant,ue=t.onResponderMove,ge=t.onResponderReject,Ne=t.onResponderRelease,Kt=t.onResponderStart,z=t.onResponderTerminate,Z=t.onResponderTerminationRequest,re=t.onScrollShouldSetResponder,we=t.onScrollShouldSetResponderCapture,Re=t.onSelectionChange,Gt=t.onSelectionChangeShouldSetResponder,Je=t.onSelectionChangeShouldSetResponderCapture,It=t.onStartShouldSetResponder,tt=t.onStartShouldSetResponderCapture,Fe=t.onSubmitEditing,vt=t.placeholderTextColor,fn=t.readOnly,zr=fn===void 0?!1:fn,Ci=t.returnKeyType,Hn=t.rows,pr=t.secureTextEntry,xn=pr===void 0?!1:pr,Ms=t.selection,Ii=t.selectTextOnFocus,Vs=t.showSoftInputOnFocus,Ai=t.spellCheck,Ae,qe;if(v!=null)qe=v,v==="email"?Ae="email":v==="tel"?Ae="tel":v==="search"?Ae="search":v==="url"?Ae="url":Ae="text";else if(E!=null)switch(E){case"email-address":Ae="email";break;case"number-pad":case"numeric":qe="numeric";break;case"decimal-pad":qe="decimal";break;case"phone-pad":Ae="tel";break;case"search":case"web-search":Ae="search";break;case"url":Ae="url";break;default:Ae="text"}xn&&(Ae="password");var pn=C.useRef({height:null,width:null}),Pn=C.useRef(null),xi=C.useRef(null),Fs=C.useRef(!1);C.useEffect(()=>{Pn.current&&xi.current&&ZE(Pn.current,xi.current),Fs.current=xn},[xn]);var qn=C.useCallback(Y=>{if(w&&L&&Y!=null){var ze=Y.scrollHeight,_t=Y.scrollWidth;(ze!==pn.current.height||_t!==pn.current.width)&&(pn.current.height=ze,pn.current.width=_t,L({nativeEvent:{contentSize:{height:pn.current.height,width:pn.current.width}}}))}},[w,L]),Bs=C.useMemo(()=>Y=>{Y!=null&&(Y.clear=function(){Y!=null&&(Y.value="")},Y.isFocused=function(){return Y!=null&&ri.currentlyFocusedField()===Y},qn(Y))},[qn]);function No(Y){ri._currentlyFocusedNode=null,S&&(Y.nativeEvent.text=Y.target.value,S(Y))}function Pi(Y){var ze=Y.target,_t=ze.value;Y.nativeEvent.text=_t,qn(ze),k&&k(Y),N&&N(_t)}function _l(Y){var ze=Y.target;T&&(Y.nativeEvent.text=ze.value,T(Y)),ze!=null&&(ri._currentlyFocusedNode=ze,h&&(ze.value=""),Ii&&(eg!=null&&clearTimeout(eg),eg=setTimeout(()=>{ze!=null&&document.activeElement===ze&&ze.select()},0)))}function Mo(Y){var ze=Y.target;Y.stopPropagation();var _t=!w,Kn=l??_t,gr=Y.nativeEvent,jo=V4(gr);_&&_(Y),Y.key==="Enter"&&!Y.shiftKey&&!jo&&!Y.isDefaultPrevented()&&((l||!w)&&Fe&&(Y.preventDefault(),gr.text=Y.target.value,Fe(Y)),Kn&&ze!=null&&setTimeout(()=>ze.blur(),0))}function Vo(Y){try{var ze=Y.target,_t=ze.selectionStart,Kn=ze.selectionEnd,gr={start:_t,end:Kn};Re&&(Y.nativeEvent.selection=gr,Y.nativeEvent.text=Y.target.value,Re(Y)),Fs.current===xn&&(xi.current=gr)}catch{}}Fy(()=>{var Y=Pn.current;Y!=null&&Ms!=null&&ZE(Y,Ms),document.activeElement===Y&&(ri._currentlyFocusedNode=Y)},[Pn,Ms]);var $s=w?"textarea":"input";X_(Pn,b),Z_(Pn,{onMoveShouldSetResponder:A,onMoveShouldSetResponderCapture:x,onResponderEnd:O,onResponderGrant:P,onResponderMove:ue,onResponderReject:ge,onResponderRelease:Ne,onResponderStart:Kt,onResponderTerminate:z,onResponderTerminationRequest:Z,onScrollShouldSetResponder:re,onScrollShouldSetResponderCapture:we,onSelectionChangeShouldSetResponder:Gt,onSelectionChangeShouldSetResponderCapture:Je,onStartShouldSetResponder:It,onStartShouldSetResponderCapture:tt});var Wr=$_(),ki=Wr.direction,Oe=M4(t);Oe.autoCapitalize=r,Oe.autoComplete=i||s||"on",Oe.autoCorrect=a?"on":"off",Oe.dir=d!==void 0?d:"auto",Oe.enterKeyHint=m||Ci,Oe.inputMode=qe,Oe.onBlur=No,Oe.onChange=Pi,Oe.onFocus=_l,Oe.onKeyDown=Mo,Oe.onSelect=Vo,Oe.readOnly=zr===!0||f===!1,Oe.rows=w?Hn??y:1,Oe.spellCheck=Ai??a,Oe.style=[{"--placeholderTextColor":vt},tg.textinput$raw,tg.placeholder,t.style,c&&tg.caretHidden],Oe.type=w?void 0:Ae,Oe.virtualkeyboardpolicy=Vs===!1?"manual":"auto";var kn=Y_(Oe),Fo=Tc(Pn,kn,Bs,e);Oe.ref=Fo;var Hr=t.lang!=null?gp(t.lang):null,Bo=t.dir||Hr,mr=Bo||ki,$o=il($s,Oe,{writingDirection:mr});return $o});Lr.displayName="TextInput";Lr.State=ri;var tg=Ie.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eT="popstate";function F4(t={}){function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=ko(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Gy("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:ac(s))}function r(i,s){Wn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return $4(e,n,r,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function B4(){return Math.random().toString(36).substring(2,10)}function tT(t,e){return{usr:t.state,key:t.key,idx:e}}function Gy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ko(e):e,state:n,key:e&&e.key||r||B4()}}function ac({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ko(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function $4(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function d(){a="POP";let R=h(),w=R==null?null:R-c;c=R,l&&l({action:a,location:E.location,delta:w})}function f(R,w){a="PUSH";let y=Gy(E.location,R,w);n&&n(y,R),c=h()+1;let S=tT(y,c),k=E.createHref(y);try{o.pushState(S,"",k)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(k)}s&&l&&l({action:a,location:E.location,delta:1})}function m(R,w){a="REPLACE";let y=Gy(E.location,R,w);n&&n(y,R),c=h();let S=tT(y,c),k=E.createHref(y);o.replaceState(S,"",k),s&&l&&l({action:a,location:E.location,delta:0})}function v(R){return j4(R)}let E={get action(){return a},get location(){return t(i,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(eT,d),l=R,()=>{i.removeEventListener(eT,d),l=null}},createHref(R){return e(i,R)},createURL:v,encodeLocation(R){let w=v(R);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:m,go(R){return o.go(R)}};return E}function j4(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ac(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function OA(t,e,n="/"){return U4(t,e,n,!1)}function U4(t,e,n,r){let i=typeof e=="string"?ko(e):e,s=mi(i.pathname||"/",n);if(s==null)return null;let o=DA(t);z4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=eB(s);a=J4(o[l],c,r)}return a}function DA(t,e=[],n=[],r="",i=!1){let s=(o,a,l=i,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&l)return;Qe(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let d=li([r,h.relativePath]),f=n.concat(h);o.children&&o.children.length>0&&(Qe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),DA(o.children,e,f,d,l)),!(o.path==null&&!o.index)&&e.push({path:d,score:X4(d,o.index),routesMeta:f})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of LA(o.path))s(o,a,!0,c)}),e}function LA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=LA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function z4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Y4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var W4=/^:[\w-]+$/,H4=3,q4=2,K4=1,G4=10,Q4=-2,nT=t=>t==="*";function X4(t,e){let n=t.split("/"),r=n.length;return n.some(nT)&&(r+=Q4),e&&(r+=q4),n.filter(i=>!nT(i)).reduce((i,s)=>i+(W4.test(s)?H4:s===""?K4:G4),r)}function Y4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function J4(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=vf({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=vf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:li([s,d.pathname]),pathnameBase:sB(li([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=li([s,d.pathnameBase]))}return o}function vf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Z4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:d},f)=>{if(h==="*"){let v=a[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[f];return d&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Z4(t,e=!1,n=!0){Wn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function eB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function mi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var tB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nB=t=>tB.test(t);function rB(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ko(t):t,s;if(n)if(nB(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Wn(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?s=rT(n.substring(1),"/"):s=rT(n,e)}else s=e;return{pathname:s,search:oB(r),hash:aB(i)}}function rT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ng(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function NA(t){let e=iB(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function MA(t,e,n,r=!1){let i;typeof t=="string"?i=ko(t):(i={...t},Qe(!i.pathname||!i.pathname.includes("?"),ng("?","pathname","search",i)),Qe(!i.pathname||!i.pathname.includes("#"),ng("#","pathname","hash",i)),Qe(!i.search||!i.search.includes("#"),ng("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=rB(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var li=t=>t.join("/").replace(/\/\/+/g,"/"),sB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function uB(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VA=["POST","PUT","PATCH","DELETE"];new Set(VA);var cB=["GET",...VA];new Set(cB);var sl=C.createContext(null);sl.displayName="DataRouter";var wp=C.createContext(null);wp.displayName="DataRouterState";C.createContext(!1);var FA=C.createContext({isTransitioning:!1});FA.displayName="ViewTransition";var hB=C.createContext(new Map);hB.displayName="Fetchers";var dB=C.createContext(null);dB.displayName="Await";var fr=C.createContext(null);fr.displayName="Navigation";var Rc=C.createContext(null);Rc.displayName="Location";var Ei=C.createContext({outlet:null,matches:[],isDataRoute:!1});Ei.displayName="Route";var ew=C.createContext(null);ew.displayName="RouteError";function fB(t,{relative:e}={}){Qe(Cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=C.useContext(fr),{hash:i,pathname:s,search:o}=Ic(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:li([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Cc(){return C.useContext(Rc)!=null}function Ur(){return Qe(Cc(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Rc).location}var BA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $A(t){C.useContext(fr).static||C.useLayoutEffect(t)}function ol(){let{isDataRoute:t}=C.useContext(Ei);return t?CB():pB()}function pB(){Qe(Cc(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(sl),{basename:e,navigator:n}=C.useContext(fr),{matches:r}=C.useContext(Ei),{pathname:i}=Ur(),s=JSON.stringify(NA(r)),o=C.useRef(!1);return $A(()=>{o.current=!0}),C.useCallback((l,c={})=>{if(Wn(o.current,BA),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=MA(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:li([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,s,i,t])}C.createContext(null);function Ic(t,{relative:e}={}){let{matches:n}=C.useContext(Ei),{pathname:r}=Ur(),i=JSON.stringify(NA(n));return C.useMemo(()=>MA(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function mB(t,e){return jA(t,e)}function jA(t,e,n,r,i){var y;Qe(Cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=C.useContext(fr),{matches:o}=C.useContext(Ei),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",h=a?a.pathnameBase:"/",d=a&&a.route;{let S=d&&d.path||"";UA(c,!d||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let f=Ur(),m;if(e){let S=typeof e=="string"?ko(e):e;Qe(h==="/"||((y=S.pathname)==null?void 0:y.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${S.pathname}" was given in the \`location\` prop.`),m=S}else m=f;let v=m.pathname||"/",E=v;if(h!=="/"){let S=h.replace(/^\//,"").split("/");E="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let R=OA(t,{pathname:E});Wn(d||R!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Wn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=wB(R&&R.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:li([h,s.encodeLocation?s.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:li([h,s.encodeLocation?s.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,n,r,i);return e&&w?C.createElement(Rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},w):w}function gB(){let t=RB(),e=lB(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:s},"ErrorBoundary")," or"," ",C.createElement("code",{style:s},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,o)}var yB=C.createElement(gB,null),vB=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?C.createElement(Ei.Provider,{value:this.props.routeContext},C.createElement(ew.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _B({routeContext:t,match:e,children:n}){let r=C.useContext(sl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Ei.Provider,{value:t},n)}function wB(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let h=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Qe(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let a=!1,l=-1;if(n)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=h),d.route.id){let{loaderData:f,errors:m}=n,v=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let c=n&&r?(h,d)=>{var f,m;r(h,{location:n.location,params:((m=(f=n.matches)==null?void 0:f[0])==null?void 0:m.params)??{},unstable_pattern:uB(n.matches),errorInfo:d})}:void 0;return s.reduceRight((h,d,f)=>{let m,v=!1,E=null,R=null;n&&(m=o&&d.route.id?o[d.route.id]:void 0,E=d.route.errorElement||yB,a&&(l<0&&f===0?(UA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,R=null):l===f&&(v=!0,R=d.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,f+1)),y=()=>{let S;return m?S=E:v?S=R:d.route.Component?S=C.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=h,C.createElement(_B,{match:d,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?C.createElement(vB,{location:n.location,revalidation:n.revalidation,component:E,error:m,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:c}):y()},null)}function tw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SB(t){let e=C.useContext(sl);return Qe(e,tw(t)),e}function EB(t){let e=C.useContext(wp);return Qe(e,tw(t)),e}function TB(t){let e=C.useContext(Ei);return Qe(e,tw(t)),e}function nw(t){let e=TB(t),n=e.matches[e.matches.length-1];return Qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function bB(){return nw("useRouteId")}function RB(){var r;let t=C.useContext(ew),e=EB("useRouteError"),n=nw("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function CB(){let{router:t}=SB("useNavigate"),e=nw("useNavigate"),n=C.useRef(!1);return $A(()=>{n.current=!0}),C.useCallback(async(i,s={})=>{Wn(n.current,BA),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var iT={};function UA(t,e,n){!e&&!iT[t]&&(iT[t]=!0,Wn(!1,n))}C.memo(IB);function IB({routes:t,future:e,state:n,unstable_onError:r}){return jA(t,void 0,n,r,e)}function ra(t){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AB({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:o}){Qe(!Cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:a,navigator:i,static:s,unstable_useTransitions:o,future:{}}),[a,i,s,o]);typeof n=="string"&&(n=ko(n));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:m="default"}=n,v=C.useMemo(()=>{let E=mi(c,a);return E==null?null:{location:{pathname:E,search:h,hash:d,state:f,key:m},navigationType:r}},[a,c,h,d,f,m,r]);return Wn(v!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:C.createElement(fr.Provider,{value:l},C.createElement(Rc.Provider,{children:e,value:v}))}function xB({children:t,location:e}){return mB(Qy(t),e)}function Qy(t,e=[]){let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){n.push.apply(n,Qy(r.props.children,s));return}Qe(r.type===ra,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Qy(r.props.children,s)),n.push(o)}),n}var gd="get",yd="application/x-www-form-urlencoded";function Sp(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function PB(t){return Sp(t)&&t.tagName.toLowerCase()==="button"}function kB(t){return Sp(t)&&t.tagName.toLowerCase()==="form"}function OB(t){return Sp(t)&&t.tagName.toLowerCase()==="input"}function DB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LB(t,e){return t.button===0&&(!e||e==="_self")&&!DB(t)}var Fh=null;function NB(){if(Fh===null)try{new FormData(document.createElement("form"),0),Fh=!1}catch{Fh=!0}return Fh}var MB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rg(t){return t!=null&&!MB.has(t)?(Wn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yd}"`),null):t}function VB(t,e){let n,r,i,s,o;if(kB(t)){let a=t.getAttribute("action");r=a?mi(a,e):null,n=t.getAttribute("method")||gd,i=rg(t.getAttribute("enctype"))||yd,s=new FormData(t)}else if(PB(t)||OB(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?mi(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||gd,i=rg(t.getAttribute("formenctype"))||rg(a.getAttribute("enctype"))||yd,s=new FormData(a,t),!NB()){let{name:c,type:h,value:d}=t;if(h==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,d)}}else{if(Sp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gd,r=null,i=yd,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FB(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&mi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function BB(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $B(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function jB(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await BB(s,n);return o.links?o.links():[]}return[]}));return HB(r.flat(1).filter($B).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function sT(t,e,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var h;return n[c].pathname!==l.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var d;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function UB(t,e,{includeHydrateFallback:n}={}){return zB(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function zB(t){return[...new Set(t)]}function WB(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function HB(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(WB(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function zA(){let t=C.useContext(sl);return rw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function qB(){let t=C.useContext(wp);return rw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var iw=C.createContext(void 0);iw.displayName="FrameworkContext";function WA(){let t=C.useContext(iw);return rw(t,"You must render this element inside a <HydratedRouter> element"),t}function KB(t,e){let n=C.useContext(iw),[r,i]=C.useState(!1),[s,o]=C.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:d}=e,f=C.useRef(null);C.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let E=w=>{w.forEach(y=>{o(y.isIntersecting)})},R=new IntersectionObserver(E,{threshold:.5});return f.current&&R.observe(f.current),()=>{R.disconnect()}}},[t]),C.useEffect(()=>{if(r){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[r]);let m=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Ql(a,m),onBlur:Ql(l,v),onMouseEnter:Ql(c,m),onMouseLeave:Ql(h,v),onTouchStart:Ql(d,m)}]:[!1,f,{}]}function Ql(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function GB({page:t,...e}){let{router:n}=zA(),r=C.useMemo(()=>OA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?C.createElement(XB,{page:t,matches:r,...e}):null}function QB(t){let{manifest:e,routeModules:n}=WA(),[r,i]=C.useState([]);return C.useEffect(()=>{let s=!1;return jB(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function XB({page:t,matches:e,...n}){let r=Ur(),{manifest:i,routeModules:s}=WA(),{basename:o}=zA(),{loaderData:a,matches:l}=qB(),c=C.useMemo(()=>sT(t,e,l,i,r,"data"),[t,e,l,i,r]),h=C.useMemo(()=>sT(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=C.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,E=!1;if(e.forEach(w=>{var S;let y=i.routes[w.route.id];!y||!y.hasLoader||(!c.some(k=>k.route.id===w.route.id)&&w.route.id in a&&((S=s[w.route.id])!=null&&S.shouldRevalidate)||y.hasClientLoader?E=!0:v.add(w.route.id))}),v.size===0)return[];let R=FB(t,o,"data");return E&&v.size>0&&R.searchParams.set("_routes",e.filter(w=>v.has(w.route.id)).map(w=>w.route.id).join(",")),[R.pathname+R.search]},[o,a,r,i,c,e,t,s]),f=C.useMemo(()=>UB(h,i),[h,i]),m=QB(h);return C.createElement(C.Fragment,null,d.map(v=>C.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),f.map(v=>C.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),m.map(({key:v,link:E})=>C.createElement("link",{key:v,nonce:n.nonce,...E})))}function YB(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var HA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HA&&(window.__reactRouterVersion="7.10.1")}catch{}function JB({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=C.useRef();i.current==null&&(i.current=F4({window:r,v5Compat:!0}));let s=i.current,[o,a]=C.useState({action:s.action,location:s.location}),l=C.useCallback(c=>{n===!1?a(c):C.startTransition(()=>a(c))},[n]);return C.useLayoutEffect(()=>s.listen(l),[s,l]),C.createElement(AB,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:n===!0})}var qA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KA=C.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:d,...f},m){let{basename:v,unstable_useTransitions:E}=C.useContext(fr),R=typeof c=="string"&&qA.test(c),w,y=!1;if(typeof c=="string"&&R&&(w=c,HA))try{let A=new URL(window.location.href),x=c.startsWith("//")?new URL(A.protocol+c):new URL(c),O=mi(x.pathname,v);x.origin===A.origin&&O!=null?c=O+x.search+x.hash:y=!0}catch{Wn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=fB(c,{relative:i}),[k,N,L]=KB(r,f),T=n$(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:d,unstable_useTransitions:E});function _(A){e&&e(A),A.defaultPrevented||T(A)}let b=C.createElement("a",{...f,...L,href:w||S,onClick:y||s?e:_,ref:YB(m,N),target:l,"data-discover":!R&&n==="render"?"true":void 0});return k&&!R?C.createElement(C.Fragment,null,b,C.createElement(GB,{page:S})):b});KA.displayName="Link";var ZB=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},h){let d=Ic(o,{relative:c.relative}),f=Ur(),m=C.useContext(wp),{navigator:v,basename:E}=C.useContext(fr),R=m!=null&&a$(d)&&a===!0,w=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,y=f.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(y=y.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&E&&(S=mi(S,E)||S);const k=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let N=y===w||!i&&y.startsWith(w)&&y.charAt(k)==="/",L=S!=null&&(S===w||!i&&S.startsWith(w)&&S.charAt(w.length)==="/"),T={isActive:N,isPending:L,isTransitioning:R},_=N?e:void 0,b;typeof r=="function"?b=r(T):b=[r,N?"active":null,L?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let A=typeof s=="function"?s(T):s;return C.createElement(KA,{...c,"aria-current":_,className:b,ref:h,style:A,to:o,viewTransition:a},typeof l=="function"?l(T):l)});ZB.displayName="NavLink";var e$=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=gd,action:a,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:d,...f},m)=>{let{unstable_useTransitions:v}=C.useContext(fr),E=s$(),R=o$(a,{relative:c}),w=o.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&qA.test(a),S=k=>{if(l&&l(k),k.defaultPrevented)return;k.preventDefault();let N=k.nativeEvent.submitter,L=(N==null?void 0:N.getAttribute("formmethod"))||o,T=()=>E(N||k.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:d});v&&n!==!1?C.startTransition(()=>T()):T()};return C.createElement("form",{ref:m,method:w,action:R,onSubmit:r?l:S,...f,"data-discover":!y&&t==="render"?"true":void 0})});e$.displayName="Form";function t$(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GA(t){let e=C.useContext(sl);return Qe(e,t$(t)),e}function n$(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_useTransitions:a}={}){let l=ol(),c=Ur(),h=Ic(t,{relative:s});return C.useCallback(d=>{if(LB(d,e)){d.preventDefault();let f=n!==void 0?n:ac(c)===ac(h),m=()=>l(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o});a?C.startTransition(()=>m()):m()}},[c,l,h,n,r,e,t,i,s,o,a])}var r$=0,i$=()=>`__${String(++r$)}__`;function s$(){let{router:t}=GA("useSubmit"),{basename:e}=C.useContext(fr),n=bB(),r=t.fetch,i=t.navigate;return C.useCallback(async(s,o={})=>{let{action:a,method:l,encType:c,formData:h,body:d}=VB(s,e);if(o.navigate===!1){let f=o.fetcherKey||i$();await r(f,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||l,formEncType:o.encType||c,flushSync:o.flushSync})}else await i(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||l,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,e,n])}function o$(t,{relative:e}={}){let{basename:n}=C.useContext(fr),r=C.useContext(Ei);Qe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Ic(t||".",{relative:e})},o=Ur();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:li([n,s.pathname])),ac(s)}function a$(t,{relative:e}={}){let n=C.useContext(FA);Qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=GA("useViewTransitionState"),i=Ic(t,{relative:e});if(!n.isTransitioning)return!1;let s=mi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=mi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return vf(i.pathname,o)!=null||vf(i.pathname,s)!=null}const l$=()=>{};var oT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},u$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},XA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[h],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new c$;const f=s<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class c$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h$=function(t){const e=QA(t);return XA.encodeByteArray(e,!0)},_f=function(t){return h$(t).replace(/\./g,"")},YA=function(t){try{return XA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=()=>d$().__FIREBASE_DEFAULTS__,p$=()=>{if(typeof process>"u"||typeof oT>"u")return;const t=oT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},m$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YA(t[1]);return e&&JSON.parse(e)},Ep=()=>{try{return l$()||f$()||p$()||m$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JA=t=>{var e,n;return(n=(e=Ep())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},g$=t=>{const e=JA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZA=()=>{var t;return(t=Ep())==null?void 0:t.config},e1=t=>{var e;return(e=Ep())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function t1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[_f(JSON.stringify(n)),_f(JSON.stringify(o)),""].join(".")}const Pu={};function _$(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pu))Pu[e]?t.emulator.push(e):t.prod.push(e);return t}function w$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let aT=!1;function n1(t,e){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||Pu[t]===e||Pu[t]||aT)return;Pu[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=_$().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{aT=!0,o()},f}function h(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=w$(r),m=n("text"),v=document.getElementById(m)||document.createElement("span"),E=n("learnmore"),R=document.getElementById(E)||document.createElement("a"),w=n("preprendIcon"),y=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const S=f.element;a(S),h(R,E);const k=c();l(y,w),S.append(y,v,R,k),document.body.appendChild(S)}s?(v.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function E$(){var e;const t=(e=Ep())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function b$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function R$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C$(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function I$(){return!E$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A$(){try{return typeof indexedDB=="object"}catch{return!1}}function x$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$="FirebaseError";class Ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=P$,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ac.prototype.create)}}class Ac{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?k$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ti(i,a,r)}}function k$(t,e){return t.replace(O$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const O$=/\{\$([^}]+)}/g;function D$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function So(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(lT(s)&&lT(o)){if(!So(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ru(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function L$(t,e){const n=new N$(t,e);return n.subscribe.bind(n)}class N${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");M$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ig),i.error===void 0&&(i.error=ig),i.complete===void 0&&(i.complete=ig);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ig(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class Eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new y$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B$(e))try{this.getOrInitializeService({instanceIdentifier:eo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=eo){return this.instances.has(e)}getOptions(e=eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=eo){return this.component?this.component.multipleInstances?e:eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F$(t){return t===eo?void 0:t}function B$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new V$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const j$={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},U$=ye.INFO,z$={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},W$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=z$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sw{constructor(e){this.name=e,this._logLevel=U$,this._logHandler=W$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const H$=(t,e)=>e.some(n=>t instanceof n);let uT,cT;function q$(){return uT||(uT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K$(){return cT||(cT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r1=new WeakMap,Xy=new WeakMap,i1=new WeakMap,sg=new WeakMap,ow=new WeakMap;function G$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(gs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&r1.set(n,t)}).catch(()=>{}),ow.set(e,t),e}function Q$(t){if(Xy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Xy.set(t,e)}let Yy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||i1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function X$(t){Yy=t(Yy)}function Y$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(og(this),e,...n);return i1.set(r,e.sort?e.sort():[e]),gs(r)}:K$().includes(t)?function(...e){return t.apply(og(this),e),gs(r1.get(this))}:function(...e){return gs(t.apply(og(this),e))}}function J$(t){return typeof t=="function"?Y$(t):(t instanceof IDBTransaction&&Q$(t),H$(t,q$())?new Proxy(t,Yy):t)}function gs(t){if(t instanceof IDBRequest)return G$(t);if(sg.has(t))return sg.get(t);const e=J$(t);return e!==t&&(sg.set(t,e),ow.set(e,t)),e}const og=t=>ow.get(t);function Z$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=gs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(gs(o.result),l.oldVersion,l.newVersion,gs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const ej=["get","getKey","getAll","getAllKeys","count"],tj=["put","add","delete","clear"],ag=new Map;function hT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ag.get(e))return ag.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ej.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return ag.set(e,s),s}X$(t=>({...t,get:(e,n,r)=>hT(e,n)||t.get(e,n,r),has:(e,n)=>!!hT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jy="@firebase/app",dT="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new sw("@firebase/app"),ij="@firebase/app-compat",sj="@firebase/analytics-compat",oj="@firebase/analytics",aj="@firebase/app-check-compat",lj="@firebase/app-check",uj="@firebase/auth",cj="@firebase/auth-compat",hj="@firebase/database",dj="@firebase/data-connect",fj="@firebase/database-compat",pj="@firebase/functions",mj="@firebase/functions-compat",gj="@firebase/installations",yj="@firebase/installations-compat",vj="@firebase/messaging",_j="@firebase/messaging-compat",wj="@firebase/performance",Sj="@firebase/performance-compat",Ej="@firebase/remote-config",Tj="@firebase/remote-config-compat",bj="@firebase/storage",Rj="@firebase/storage-compat",Cj="@firebase/firestore",Ij="@firebase/ai",Aj="@firebase/firestore-compat",xj="firebase",Pj="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="[DEFAULT]",kj={[Jy]:"fire-core",[ij]:"fire-core-compat",[oj]:"fire-analytics",[sj]:"fire-analytics-compat",[lj]:"fire-app-check",[aj]:"fire-app-check-compat",[uj]:"fire-auth",[cj]:"fire-auth-compat",[hj]:"fire-rtdb",[dj]:"fire-data-connect",[fj]:"fire-rtdb-compat",[pj]:"fire-fn",[mj]:"fire-fn-compat",[gj]:"fire-iid",[yj]:"fire-iid-compat",[vj]:"fire-fcm",[_j]:"fire-fcm-compat",[wj]:"fire-perf",[Sj]:"fire-perf-compat",[Ej]:"fire-rc",[Tj]:"fire-rc-compat",[bj]:"fire-gcs",[Rj]:"fire-gcs-compat",[Cj]:"fire-fst",[Aj]:"fire-fst-compat",[Ij]:"fire-vertex","fire-js":"fire-js",[xj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new Map,Oj=new Map,ev=new Map;function fT(t,e){try{t.container.addComponent(e)}catch(n){gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ka(t){const e=t.name;if(ev.has(e))return gi.debug(`There were multiple attempts to register component ${e}.`),!1;ev.set(e,t);for(const n of wf.values())fT(n,t);for(const n of Oj.values())fT(n,t);return!0}function aw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new Ac("app","Firebase",Dj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=Pj;function s1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Zy,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ys.create("bad-app-name",{appName:String(i)});if(n||(n=ZA()),!n)throw ys.create("no-options");const s=wf.get(i);if(s){if(So(n,s.options)&&So(r,s.config))return s;throw ys.create("duplicate-app",{appName:i})}const o=new $$(i);for(const l of ev.values())o.addComponent(l);const a=new Lj(n,r,o);return wf.set(i,a),a}function o1(t=Zy){const e=wf.get(t);if(!e&&t===Zy&&ZA())return s1();if(!e)throw ys.create("no-app",{appName:t});return e}function vs(t,e,n){let r=kj[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gi.warn(o.join(" "));return}Ka(new Eo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="firebase-heartbeat-database",Mj=1,lc="firebase-heartbeat-store";let lg=null;function a1(){return lg||(lg=Z$(Nj,Mj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ys.create("idb-open",{originalErrorMessage:t.message})})),lg}async function Vj(t){try{const n=(await a1()).transaction(lc),r=await n.objectStore(lc).get(l1(t));return await n.done,r}catch(e){if(e instanceof Ti)gi.warn(e.message);else{const n=ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gi.warn(n.message)}}}async function pT(t,e){try{const r=(await a1()).transaction(lc,"readwrite");await r.objectStore(lc).put(e,l1(t)),await r.done}catch(n){if(n instanceof Ti)gi.warn(n.message);else{const r=ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gi.warn(r.message)}}}function l1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=1024,Bj=30;class $j{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Uj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Bj){const o=zj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){gi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mT(),{heartbeatsToSend:r,unsentEntries:i}=jj(this._heartbeatsCache.heartbeats),s=_f(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return gi.warn(n),""}}}function mT(){return new Date().toISOString().substring(0,10)}function jj(t,e=Fj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Uj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A$()?x$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Vj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function gT(t){return _f(JSON.stringify({version:2,heartbeats:t})).length}function zj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){Ka(new Eo("platform-logger",e=>new nj(e),"PRIVATE")),Ka(new Eo("heartbeat",e=>new $j(e),"PRIVATE")),vs(Jy,dT,t),vs(Jy,dT,"esm2020"),vs("fire-js","")}Wj("");var Hj="firebase",qj="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(Hj,qj,"app");var yT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,u1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,_){function b(){}b.prototype=_.prototype,T.F=_.prototype,T.prototype=new b,T.prototype.constructor=T,T.D=function(A,x,O){for(var P=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)P[ue-2]=arguments[ue];return _.prototype[x].apply(A,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,b){b||(b=0);const A=Array(16);if(typeof _=="string")for(var x=0;x<16;++x)A[x]=_.charCodeAt(b++)|_.charCodeAt(b++)<<8|_.charCodeAt(b++)<<16|_.charCodeAt(b++)<<24;else for(x=0;x<16;++x)A[x]=_[b++]|_[b++]<<8|_[b++]<<16|_[b++]<<24;_=T.g[0],b=T.g[1],x=T.g[2];let O=T.g[3],P;P=_+(O^b&(x^O))+A[0]+3614090360&4294967295,_=b+(P<<7&4294967295|P>>>25),P=O+(x^_&(b^x))+A[1]+3905402710&4294967295,O=_+(P<<12&4294967295|P>>>20),P=x+(b^O&(_^b))+A[2]+606105819&4294967295,x=O+(P<<17&4294967295|P>>>15),P=b+(_^x&(O^_))+A[3]+3250441966&4294967295,b=x+(P<<22&4294967295|P>>>10),P=_+(O^b&(x^O))+A[4]+4118548399&4294967295,_=b+(P<<7&4294967295|P>>>25),P=O+(x^_&(b^x))+A[5]+1200080426&4294967295,O=_+(P<<12&4294967295|P>>>20),P=x+(b^O&(_^b))+A[6]+2821735955&4294967295,x=O+(P<<17&4294967295|P>>>15),P=b+(_^x&(O^_))+A[7]+4249261313&4294967295,b=x+(P<<22&4294967295|P>>>10),P=_+(O^b&(x^O))+A[8]+1770035416&4294967295,_=b+(P<<7&4294967295|P>>>25),P=O+(x^_&(b^x))+A[9]+2336552879&4294967295,O=_+(P<<12&4294967295|P>>>20),P=x+(b^O&(_^b))+A[10]+4294925233&4294967295,x=O+(P<<17&4294967295|P>>>15),P=b+(_^x&(O^_))+A[11]+2304563134&4294967295,b=x+(P<<22&4294967295|P>>>10),P=_+(O^b&(x^O))+A[12]+1804603682&4294967295,_=b+(P<<7&4294967295|P>>>25),P=O+(x^_&(b^x))+A[13]+4254626195&4294967295,O=_+(P<<12&4294967295|P>>>20),P=x+(b^O&(_^b))+A[14]+2792965006&4294967295,x=O+(P<<17&4294967295|P>>>15),P=b+(_^x&(O^_))+A[15]+1236535329&4294967295,b=x+(P<<22&4294967295|P>>>10),P=_+(x^O&(b^x))+A[1]+4129170786&4294967295,_=b+(P<<5&4294967295|P>>>27),P=O+(b^x&(_^b))+A[6]+3225465664&4294967295,O=_+(P<<9&4294967295|P>>>23),P=x+(_^b&(O^_))+A[11]+643717713&4294967295,x=O+(P<<14&4294967295|P>>>18),P=b+(O^_&(x^O))+A[0]+3921069994&4294967295,b=x+(P<<20&4294967295|P>>>12),P=_+(x^O&(b^x))+A[5]+3593408605&4294967295,_=b+(P<<5&4294967295|P>>>27),P=O+(b^x&(_^b))+A[10]+38016083&4294967295,O=_+(P<<9&4294967295|P>>>23),P=x+(_^b&(O^_))+A[15]+3634488961&4294967295,x=O+(P<<14&4294967295|P>>>18),P=b+(O^_&(x^O))+A[4]+3889429448&4294967295,b=x+(P<<20&4294967295|P>>>12),P=_+(x^O&(b^x))+A[9]+568446438&4294967295,_=b+(P<<5&4294967295|P>>>27),P=O+(b^x&(_^b))+A[14]+3275163606&4294967295,O=_+(P<<9&4294967295|P>>>23),P=x+(_^b&(O^_))+A[3]+4107603335&4294967295,x=O+(P<<14&4294967295|P>>>18),P=b+(O^_&(x^O))+A[8]+1163531501&4294967295,b=x+(P<<20&4294967295|P>>>12),P=_+(x^O&(b^x))+A[13]+2850285829&4294967295,_=b+(P<<5&4294967295|P>>>27),P=O+(b^x&(_^b))+A[2]+4243563512&4294967295,O=_+(P<<9&4294967295|P>>>23),P=x+(_^b&(O^_))+A[7]+1735328473&4294967295,x=O+(P<<14&4294967295|P>>>18),P=b+(O^_&(x^O))+A[12]+2368359562&4294967295,b=x+(P<<20&4294967295|P>>>12),P=_+(b^x^O)+A[5]+4294588738&4294967295,_=b+(P<<4&4294967295|P>>>28),P=O+(_^b^x)+A[8]+2272392833&4294967295,O=_+(P<<11&4294967295|P>>>21),P=x+(O^_^b)+A[11]+1839030562&4294967295,x=O+(P<<16&4294967295|P>>>16),P=b+(x^O^_)+A[14]+4259657740&4294967295,b=x+(P<<23&4294967295|P>>>9),P=_+(b^x^O)+A[1]+2763975236&4294967295,_=b+(P<<4&4294967295|P>>>28),P=O+(_^b^x)+A[4]+1272893353&4294967295,O=_+(P<<11&4294967295|P>>>21),P=x+(O^_^b)+A[7]+4139469664&4294967295,x=O+(P<<16&4294967295|P>>>16),P=b+(x^O^_)+A[10]+3200236656&4294967295,b=x+(P<<23&4294967295|P>>>9),P=_+(b^x^O)+A[13]+681279174&4294967295,_=b+(P<<4&4294967295|P>>>28),P=O+(_^b^x)+A[0]+3936430074&4294967295,O=_+(P<<11&4294967295|P>>>21),P=x+(O^_^b)+A[3]+3572445317&4294967295,x=O+(P<<16&4294967295|P>>>16),P=b+(x^O^_)+A[6]+76029189&4294967295,b=x+(P<<23&4294967295|P>>>9),P=_+(b^x^O)+A[9]+3654602809&4294967295,_=b+(P<<4&4294967295|P>>>28),P=O+(_^b^x)+A[12]+3873151461&4294967295,O=_+(P<<11&4294967295|P>>>21),P=x+(O^_^b)+A[15]+530742520&4294967295,x=O+(P<<16&4294967295|P>>>16),P=b+(x^O^_)+A[2]+3299628645&4294967295,b=x+(P<<23&4294967295|P>>>9),P=_+(x^(b|~O))+A[0]+4096336452&4294967295,_=b+(P<<6&4294967295|P>>>26),P=O+(b^(_|~x))+A[7]+1126891415&4294967295,O=_+(P<<10&4294967295|P>>>22),P=x+(_^(O|~b))+A[14]+2878612391&4294967295,x=O+(P<<15&4294967295|P>>>17),P=b+(O^(x|~_))+A[5]+4237533241&4294967295,b=x+(P<<21&4294967295|P>>>11),P=_+(x^(b|~O))+A[12]+1700485571&4294967295,_=b+(P<<6&4294967295|P>>>26),P=O+(b^(_|~x))+A[3]+2399980690&4294967295,O=_+(P<<10&4294967295|P>>>22),P=x+(_^(O|~b))+A[10]+4293915773&4294967295,x=O+(P<<15&4294967295|P>>>17),P=b+(O^(x|~_))+A[1]+2240044497&4294967295,b=x+(P<<21&4294967295|P>>>11),P=_+(x^(b|~O))+A[8]+1873313359&4294967295,_=b+(P<<6&4294967295|P>>>26),P=O+(b^(_|~x))+A[15]+4264355552&4294967295,O=_+(P<<10&4294967295|P>>>22),P=x+(_^(O|~b))+A[6]+2734768916&4294967295,x=O+(P<<15&4294967295|P>>>17),P=b+(O^(x|~_))+A[13]+1309151649&4294967295,b=x+(P<<21&4294967295|P>>>11),P=_+(x^(b|~O))+A[4]+4149444226&4294967295,_=b+(P<<6&4294967295|P>>>26),P=O+(b^(_|~x))+A[11]+3174756917&4294967295,O=_+(P<<10&4294967295|P>>>22),P=x+(_^(O|~b))+A[2]+718787259&4294967295,x=O+(P<<15&4294967295|P>>>17),P=b+(O^(x|~_))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(x+(P<<21&4294967295|P>>>11))&4294967295,T.g[2]=T.g[2]+x&4294967295,T.g[3]=T.g[3]+O&4294967295}r.prototype.v=function(T,_){_===void 0&&(_=T.length);const b=_-this.blockSize,A=this.C;let x=this.h,O=0;for(;O<_;){if(x==0)for(;O<=b;)i(this,T,O),O+=this.blockSize;if(typeof T=="string"){for(;O<_;)if(A[x++]=T.charCodeAt(O++),x==this.blockSize){i(this,A),x=0;break}}else for(;O<_;)if(A[x++]=T[O++],x==this.blockSize){i(this,A),x=0;break}}this.h=x,this.o+=_},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;_=this.o*8;for(var b=T.length-8;b<T.length;++b)T[b]=_&255,_/=256;for(this.v(T),T=Array(16),_=0,b=0;b<4;++b)for(let A=0;A<32;A+=8)T[_++]=this.g[b]>>>A&255;return T};function s(T,_){var b=a;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=_(T)}function o(T,_){this.h=_;const b=[];let A=!0;for(let x=T.length-1;x>=0;x--){const O=T[x]|0;A&&O==_||(b[x]=O,A=!1)}this.g=b}var a={};function l(T){return-128<=T&&T<128?s(T,function(_){return new o([_|0],_<0?-1:0)}):new o([T|0],T<0?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return d;if(T<0)return R(c(-T));const _=[];let b=1;for(let A=0;T>=b;A++)_[A]=T/b|0,b*=4294967296;return new o(_,0)}function h(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return R(h(T.substring(1),_));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=c(Math.pow(_,8));let A=d;for(let O=0;O<T.length;O+=8){var x=Math.min(8,T.length-O);const P=parseInt(T.substring(O,O+x),_);x<8?(x=c(Math.pow(_,x)),A=A.j(x).add(c(P))):(A=A.j(b),A=A.add(c(P)))}return A}var d=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-R(this).m();let T=0,_=1;for(let b=0;b<this.g.length;b++){const A=this.i(b);T+=(A>=0?A:4294967296+A)*_,_*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(v(this))return"0";if(E(this))return"-"+R(this).toString(T);const _=c(Math.pow(T,6));var b=this;let A="";for(;;){const x=k(b,_).g;b=w(b,x.j(_));let O=((b.g.length>0?b.g[0]:b.h)>>>0).toString(T);if(b=x,v(b))return O+A;for(;O.length<6;)O="0"+O;A=O+A}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function v(T){if(T.h!=0)return!1;for(let _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function E(T){return T.h==-1}t.l=function(T){return T=w(this,T),E(T)?-1:v(T)?0:1};function R(T){const _=T.g.length,b=[];for(let A=0;A<_;A++)b[A]=~T.g[A];return new o(b,~T.h).add(f)}t.abs=function(){return E(this)?R(this):this},t.add=function(T){const _=Math.max(this.g.length,T.g.length),b=[];let A=0;for(let x=0;x<=_;x++){let O=A+(this.i(x)&65535)+(T.i(x)&65535),P=(O>>>16)+(this.i(x)>>>16)+(T.i(x)>>>16);A=P>>>16,O&=65535,P&=65535,b[x]=P<<16|O}return new o(b,b[b.length-1]&-2147483648?-1:0)};function w(T,_){return T.add(R(_))}t.j=function(T){if(v(this)||v(T))return d;if(E(this))return E(T)?R(this).j(R(T)):R(R(this).j(T));if(E(T))return R(this.j(R(T)));if(this.l(m)<0&&T.l(m)<0)return c(this.m()*T.m());const _=this.g.length+T.g.length,b=[];for(var A=0;A<2*_;A++)b[A]=0;for(A=0;A<this.g.length;A++)for(let x=0;x<T.g.length;x++){const O=this.i(A)>>>16,P=this.i(A)&65535,ue=T.i(x)>>>16,ge=T.i(x)&65535;b[2*A+2*x]+=P*ge,y(b,2*A+2*x),b[2*A+2*x+1]+=O*ge,y(b,2*A+2*x+1),b[2*A+2*x+1]+=P*ue,y(b,2*A+2*x+1),b[2*A+2*x+2]+=O*ue,y(b,2*A+2*x+2)}for(T=0;T<_;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=_;T<2*_;T++)b[T]=0;return new o(b,0)};function y(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function S(T,_){this.g=T,this.h=_}function k(T,_){if(v(_))throw Error("division by zero");if(v(T))return new S(d,d);if(E(T))return _=k(R(T),_),new S(R(_.g),R(_.h));if(E(_))return _=k(T,R(_)),new S(R(_.g),_.h);if(T.g.length>30){if(E(T)||E(_))throw Error("slowDivide_ only works with positive integers.");for(var b=f,A=_;A.l(T)<=0;)b=N(b),A=N(A);var x=L(b,1),O=L(A,1);for(A=L(A,2),b=L(b,2);!v(A);){var P=O.add(A);P.l(T)<=0&&(x=x.add(b),O=P),A=L(A,1),b=L(b,1)}return _=w(T,x.j(_)),new S(x,_)}for(x=d;T.l(_)>=0;){for(b=Math.max(1,Math.floor(T.m()/_.m())),A=Math.ceil(Math.log(b)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),O=c(b),P=O.j(_);E(P)||P.l(T)>0;)b-=A,O=c(b),P=O.j(_);v(O)&&(O=f),x=x.add(O),T=w(T,P)}return new S(x,T)}t.B=function(T){return k(this,T).h},t.and=function(T){const _=Math.max(this.g.length,T.g.length),b=[];for(let A=0;A<_;A++)b[A]=this.i(A)&T.i(A);return new o(b,this.h&T.h)},t.or=function(T){const _=Math.max(this.g.length,T.g.length),b=[];for(let A=0;A<_;A++)b[A]=this.i(A)|T.i(A);return new o(b,this.h|T.h)},t.xor=function(T){const _=Math.max(this.g.length,T.g.length),b=[];for(let A=0;A<_;A++)b[A]=this.i(A)^T.i(A);return new o(b,this.h^T.h)};function N(T){const _=T.g.length+1,b=[];for(let A=0;A<_;A++)b[A]=T.i(A)<<1|T.i(A-1)>>>31;return new o(b,T.h)}function L(T,_){const b=_>>5;_%=32;const A=T.g.length-b,x=[];for(let O=0;O<A;O++)x[O]=_>0?T.i(O+b)>>>_|T.i(O+b+1)<<32-_:T.i(O+b);return new o(x,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,u1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,_s=o}).apply(typeof yT<"u"?yT:typeof self<"u"?self:typeof window<"u"?window:{});var Bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var c1,iu,h1,vd,tv,d1,f1,p1;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bh=="object"&&Bh];for(var p=0;p<u.length;++p){var g=u[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var g=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var M=u[I];if(!(M in g))break e;g=g[M]}u=u[u.length-1],I=g[u],p=p(I),p!=I&&p!=null&&e(g,u,{configurable:!0,writable:!0,value:p})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(p){var g=[],I;for(I in p)Object.prototype.hasOwnProperty.call(p,I)&&g.push([I,p[I]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function l(u,p,g){return u.call.apply(u.bind,arguments)}function c(u,p,g){return c=l,c.apply(null,arguments)}function h(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var I=g.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function d(u,p){function g(){}g.prototype=p.prototype,u.Z=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.Ob=function(I,M,F){for(var W=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)W[ce-2]=arguments[ce];return p.prototype[M].apply(I,W)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function m(u){const p=u.length;if(p>0){const g=Array(p);for(let I=0;I<p;I++)g[I]=u[I];return g}return[]}function v(u,p){for(let I=1;I<arguments.length;I++){const M=arguments[I];var g=typeof M;if(g=g!="object"?g:M?Array.isArray(M)?"array":g:"null",g=="array"||g=="object"&&typeof M.length=="number"){g=u.length||0;const F=M.length||0;u.length=g+F;for(let W=0;W<F;W++)u[g+W]=M[W]}else u.push(M)}}class E{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function R(u){o.setTimeout(()=>{throw u},0)}function w(){var u=T;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class y{constructor(){this.h=this.g=null}add(p,g){const I=S.get();I.set(p,g),this.h?this.h.next=I:this.g=I,this.h=I}}var S=new E(()=>new k,u=>u.reset());class k{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let N,L=!1,T=new y,_=()=>{const u=Promise.resolve(void 0);N=()=>{u.then(b)}};function b(){for(var u;u=w();){try{u.h.call(u.g)}catch(g){R(g)}var p=S;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}L=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};o.addEventListener("test",g,p),o.removeEventListener("test",g,p)}catch{}return u}();function P(u){return/^[\s\xa0]*$/.test(u)}function ue(u,p){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}d(ue,x),ue.prototype.init=function(u,p){const g=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(g=="mouseover"?p=u.fromElement:g=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),Ne=0;function Kt(u,p,g,I,M){this.listener=u,this.proxy=null,this.src=p,this.type=g,this.capture=!!I,this.ha=M,this.key=++Ne,this.da=this.fa=!1}function z(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Z(u,p,g){for(const I in u)p.call(g,u[I],I,u)}function re(u,p){for(const g in u)p.call(void 0,u[g],g,u)}function we(u){const p={};for(const g in u)p[g]=u[g];return p}const Re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gt(u,p){let g,I;for(let M=1;M<arguments.length;M++){I=arguments[M];for(g in I)u[g]=I[g];for(let F=0;F<Re.length;F++)g=Re[F],Object.prototype.hasOwnProperty.call(I,g)&&(u[g]=I[g])}}function Je(u){this.src=u,this.g={},this.h=0}Je.prototype.add=function(u,p,g,I,M){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const W=tt(u,p,I,M);return W>-1?(p=u[W],g||(p.fa=!1)):(p=new Kt(p,this.src,F,!!I,M),p.fa=g,u.push(p)),p};function It(u,p){const g=p.type;if(g in u.g){var I=u.g[g],M=Array.prototype.indexOf.call(I,p,void 0),F;(F=M>=0)&&Array.prototype.splice.call(I,M,1),F&&(z(p),u.g[g].length==0&&(delete u.g[g],u.h--))}}function tt(u,p,g,I){for(let M=0;M<u.length;++M){const F=u[M];if(!F.da&&F.listener==p&&F.capture==!!g&&F.ha==I)return M}return-1}var Fe="closure_lm_"+(Math.random()*1e6|0),vt={};function fn(u,p,g,I,M){if(Array.isArray(p)){for(let F=0;F<p.length;F++)fn(u,p[F],g,I,M);return null}return g=Ai(g),u&&u[ge]?u.J(p,g,a(I)?!!I.capture:!1,M):zr(u,p,g,!1,I,M)}function zr(u,p,g,I,M,F){if(!p)throw Error("Invalid event type");const W=a(M)?!!M.capture:!!M;let ce=Ii(u);if(ce||(u[Fe]=ce=new Je(u)),g=ce.add(p,g,I,W,F),g.proxy)return g;if(I=Ci(),g.proxy=I,I.src=u,I.listener=g,u.addEventListener)O||(M=W),M===void 0&&(M=!1),u.addEventListener(p.toString(),I,M);else if(u.attachEvent)u.attachEvent(xn(p.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ci(){function u(g){return p.call(u.src,u.listener,g)}const p=Ms;return u}function Hn(u,p,g,I,M){if(Array.isArray(p))for(var F=0;F<p.length;F++)Hn(u,p[F],g,I,M);else I=a(I)?!!I.capture:!!I,g=Ai(g),u&&u[ge]?(u=u.i,F=String(p).toString(),F in u.g&&(p=u.g[F],g=tt(p,g,I,M),g>-1&&(z(p[g]),Array.prototype.splice.call(p,g,1),p.length==0&&(delete u.g[F],u.h--)))):u&&(u=Ii(u))&&(p=u.g[p.toString()],u=-1,p&&(u=tt(p,g,I,M)),(g=u>-1?p[u]:null)&&pr(g))}function pr(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ge])It(p.i,u);else{var g=u.type,I=u.proxy;p.removeEventListener?p.removeEventListener(g,I,u.capture):p.detachEvent?p.detachEvent(xn(g),I):p.addListener&&p.removeListener&&p.removeListener(I),(g=Ii(p))?(It(g,u),g.h==0&&(g.src=null,p[Fe]=null)):z(u)}}}function xn(u){return u in vt?vt[u]:vt[u]="on"+u}function Ms(u,p){if(u.da)u=!0;else{p=new ue(p,this);const g=u.listener,I=u.ha||u.src;u.fa&&pr(u),u=g.call(I,p)}return u}function Ii(u){return u=u[Fe],u instanceof Je?u:null}var Vs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ai(u){return typeof u=="function"?u:(u[Vs]||(u[Vs]=function(p){return u.handleEvent(p)}),u[Vs])}function Ae(){A.call(this),this.i=new Je(this),this.M=this,this.G=null}d(Ae,A),Ae.prototype[ge]=!0,Ae.prototype.removeEventListener=function(u,p,g,I){Hn(this,u,p,g,I)};function qe(u,p){var g,I=u.G;if(I)for(g=[];I;I=I.G)g.push(I);if(u=u.M,I=p.type||p,typeof p=="string")p=new x(p,u);else if(p instanceof x)p.target=p.target||u;else{var M=p;p=new x(I,u),Gt(p,M)}M=!0;let F,W;if(g)for(W=g.length-1;W>=0;W--)F=p.g=g[W],M=pn(F,I,!0,p)&&M;if(F=p.g=u,M=pn(F,I,!0,p)&&M,M=pn(F,I,!1,p)&&M,g)for(W=0;W<g.length;W++)F=p.g=g[W],M=pn(F,I,!1,p)&&M}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const g=u.g[p];for(let I=0;I<g.length;I++)z(g[I]);delete u.g[p],u.h--}}this.G=null},Ae.prototype.J=function(u,p,g,I){return this.i.add(String(u),p,!1,g,I)},Ae.prototype.K=function(u,p,g,I){return this.i.add(String(u),p,!0,g,I)};function pn(u,p,g,I){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let M=!0;for(let F=0;F<p.length;++F){const W=p[F];if(W&&!W.da&&W.capture==g){const ce=W.listener,ht=W.ha||W.src;W.fa&&It(u.i,W),M=ce.call(ht,I)!==!1&&M}}return M&&!I.defaultPrevented}function Pn(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(u,p||0)}function xi(u){u.g=Pn(()=>{u.g=null,u.i&&(u.i=!1,xi(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Fs extends A{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:xi(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qn(u){A.call(this),this.h=u,this.g={}}d(qn,A);var Bs=[];function No(u){Z(u.g,function(p,g){this.g.hasOwnProperty(g)&&pr(p)},u),u.g={}}qn.prototype.N=function(){qn.Z.N.call(this),No(this)},qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pi=o.JSON.stringify,_l=o.JSON.parse,Mo=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Vo(){}function $s(){}var Wr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ki(){x.call(this,"d")}d(ki,x);function Oe(){x.call(this,"c")}d(Oe,x);var kn={},Fo=null;function Hr(){return Fo=Fo||new Ae}kn.Ia="serverreachability";function Bo(u){x.call(this,kn.Ia,u)}d(Bo,x);function mr(u){const p=Hr();qe(p,new Bo(p))}kn.STAT_EVENT="statevent";function $o(u,p){x.call(this,kn.STAT_EVENT,u),this.stat=p}d($o,x);function Y(u){const p=Hr();qe(p,new $o(p,u))}kn.Ja="timingevent";function ze(u,p){x.call(this,kn.Ja,u),this.size=p}d(ze,x);function _t(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},p)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function gr(u,p,g,I,M,F){u.info(function(){if(u.g)if(F){var W="",ce=F.split("&");for(let De=0;De<ce.length;De++){var ht=ce[De].split("=");if(ht.length>1){const wt=ht[0];ht=ht[1];const wr=wt.split("_");W=wr.length>=2&&wr[1]=="type"?W+(wt+"="+ht+"&"):W+(wt+"=redacted&")}}}else W=null;else W=F;return"XMLHTTP REQ ("+I+") [attempt "+M+"]: "+p+`
`+g+`
`+W})}function jo(u,p,g,I,M,F,W){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+M+"]: "+p+`
`+g+`
`+F+" "+W})}function qr(u,p,g,I){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Wc(u,g)+(I?" "+I:"")})}function em(u,p){u.info(function(){return"TIMEOUT: "+p})}Kn.prototype.info=function(){};function Wc(u,p){if(!u.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var g=F[u];if(!(g.length<2)){var I=g[1];if(Array.isArray(I)&&!(I.length<1)){var M=I[0];if(M!="noop"&&M!="stop"&&M!="close")for(let W=1;W<I.length;W++)I[W]=""}}}}return Pi(F)}catch{return p}}var Uo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hc;function zo(){}d(zo,Vo),zo.prototype.g=function(){return new XMLHttpRequest},Hc=new zo;function js(u){return encodeURIComponent(String(u))}function qc(u){var p=1;u=u.split(":");const g=[];for(;p>0&&u.length;)g.push(u.shift()),p--;return u.length&&g.push(u.join(":")),g}function yr(u,p,g,I){this.j=u,this.i=p,this.l=g,this.S=I||1,this.V=new qn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Us}function Us(){this.i=null,this.g="",this.h=!1}var zs={},Wo={};function Sl(u,p,g){u.M=1,u.A=Ws(gn(p)),u.u=g,u.R=!0,El(u,null)}function El(u,p){u.F=Date.now(),G(u),u.B=gn(u.A);var g=u.B,I=u.S;Array.isArray(I)||(I=[String(I)]),Ll(g.i,"t",I),u.C=0,g=u.j.L,u.h=new Us,u.g=LS(u.j,g?p:null,!u.u),u.P>0&&(u.O=new Fs(c(u.Y,u,u.g),u.P)),p=u.V,g=u.g,I=u.ba;var M="readystatechange";Array.isArray(M)||(M&&(Bs[0]=M.toString()),M=Bs);for(let F=0;F<M.length;F++){const W=fn(g,M[F],I||p.handleEvent,!1,p.h||p);if(!W)break;p.g[W.key]=W}p=u.J?we(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),mr(),gr(u.i,u.v,u.B,u.l,u.S,u.u)}yr.prototype.ba=function(u){u=u.target;const p=this.O;p&&Bi(u)==3?p.j():this.Y(u)},yr.prototype.Y=function(u){try{if(u==this.g)e:{const ce=Bi(this.g),ht=this.g.ya(),De=this.g.ca();if(!(ce<3)&&(ce!=3||this.g&&(this.h.h||this.g.la()||TS(this.g)))){this.K||ce!=4||ht==7||(ht==8||De<=0?mr(3):mr(2)),mn(this);var p=this.g.ca();this.X=p;var g=tm(this);if(this.o=p==200,jo(this.i,this.v,this.B,this.l,this.S,ce,p),this.o){if(this.U&&!this.L){t:{if(this.g){var I,M=this.g;if((I=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(I)){var F=I;break t}}F=null}if(u=F)qr(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ho(this,u);else{this.o=!1,this.m=3,Y(12),vr(this),Di(this);break e}}if(this.R){u=!0;let wt;for(;!this.K&&this.C<g.length;)if(wt=Kc(this,g),wt==Wo){ce==4&&(this.m=4,Y(14),u=!1),qr(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==zs){this.m=4,Y(15),qr(this.i,this.l,g,"[Invalid Chunk]"),u=!1;break}else qr(this.i,this.l,wt,null),Ho(this,wt);if(Oi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ce!=4||g.length!=0||this.h.h||(this.m=1,Y(16),u=!1),this.o=this.o&&u,!u)qr(this.i,this.l,g,"[Invalid Chunked Response]"),vr(this),Di(this);else if(g.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),im(W),W.P=!0,Y(11))}}else qr(this.i,this.l,g,null),Ho(this,g);ce==4&&vr(this),this.o&&!this.K&&(ce==4?PS(this.j,this):(this.o=!1,G(this)))}else fO(this.g),p==400&&g.indexOf("Unknown SID")>0?(this.m=3,Y(12)):(this.m=0,Y(13)),vr(this),Di(this)}}}catch{}finally{}};function tm(u){if(!Oi(u))return u.g.la();const p=TS(u.g);if(p==="")return"";let g="";const I=p.length,M=Bi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vr(u),Di(u),"";u.h.i=new o.TextDecoder}for(let F=0;F<I;F++)u.h.h=!0,g+=u.h.i.decode(p[F],{stream:!(M&&F==I-1)});return p.length=0,u.h.g+=g,u.C=0,u.h.g}function Oi(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Kc(u,p){var g=u.C,I=p.indexOf(`
`,g);return I==-1?Wo:(g=Number(p.substring(g,I)),isNaN(g)?zs:(I+=1,I+g>p.length?Wo:(p=p.slice(I,I+g),u.C=I+g,p)))}yr.prototype.cancel=function(){this.K=!0,vr(this)};function G(u){u.T=Date.now()+u.H,Gc(u,u.H)}function Gc(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=_t(c(u.aa,u),p)}function mn(u){u.D&&(o.clearTimeout(u.D),u.D=null)}yr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(em(this.i,this.B),this.M!=2&&(mr(),Y(17)),vr(this),this.m=2,Di(this)):Gc(this,this.T-u)};function Di(u){u.j.I==0||u.K||PS(u.j,u)}function vr(u){mn(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,No(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function Ho(u,p){try{var g=u.j;if(g.I!=0&&(g.g==u||qo(g.h,u))){if(!u.L&&qo(g.h,u)&&g.I==3){try{var I=g.Ba.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var M=I;if(M[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<u.F)ch(g),lh(g);else break e;rm(g),Y(18)}}else g.xa=M[1],0<g.xa-g.K&&M[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=_t(c(g.Va,g),6e3));Rl(g.h)<=1&&g.ta&&(g.ta=void 0)}else Ks(g,11)}else if((u.L||g.g==u)&&ch(g),!P(p))for(M=g.Ba.g.parse(p),p=0;p<M.length;p++){let De=M[p];const wt=De[0];if(!(wt<=g.K))if(g.K=wt,De=De[1],g.I==2)if(De[0]=="c"){g.M=De[1],g.ba=De[2];const wr=De[3];wr!=null&&(g.ka=wr,g.j.info("VER="+g.ka));const Gs=De[4];Gs!=null&&(g.za=Gs,g.j.info("SVER="+g.za));const $i=De[5];$i!=null&&typeof $i=="number"&&$i>0&&(I=1.5*$i,g.O=I,g.j.info("backChannelRequestTimeoutMs_="+I)),I=g;const ji=u.g;if(ji){const dh=ji.g?ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dh){var F=I.h;F.g||dh.indexOf("spdy")==-1&&dh.indexOf("quic")==-1&&dh.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ko(F,F.h),F.h=null))}if(I.G){const sm=ji.g?ji.g.getResponseHeader("X-HTTP-Session-Id"):null;sm&&(I.wa=sm,ke(I.J,I.G,sm))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-u.F,g.j.info("Handshake RTT: "+g.T+"ms")),I=g;var W=u;if(I.na=DS(I,I.L?I.ba:null,I.W),W.L){Cl(I.h,W);var ce=W,ht=I.O;ht&&(ce.H=ht),ce.D&&(mn(ce),G(ce)),I.g=W}else AS(I);g.i.length>0&&uh(g)}else De[0]!="stop"&&De[0]!="close"||Ks(g,7);else g.I==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Ks(g,7):nm(g):De[0]!="noop"&&g.l&&g.l.qa(De),g.A=0)}}mr(4)}catch{}}var Qc=class{constructor(u,p){this.g=u,this.map=p}};function Tl(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Rl(u){return u.h?1:u.g?u.g.size:0}function qo(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Ko(u,p){u.g?u.g.add(p):u.h=p}function Cl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Tl.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Il(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const g of u.g.values())p=p.concat(g.G);return p}return m(u.i)}var Al=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xc(u,p){if(u){u=u.split("&");for(let g=0;g<u.length;g++){const I=u[g].indexOf("=");let M,F=null;I>=0?(M=u[g].substring(0,I),F=u[g].substring(I+1)):M=u[g],p(M,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof Gn?(this.l=u.l,Li(this,u.j),this.o=u.o,this.g=u.g,Ni(this,u.u),this.h=u.h,Go(this,Nl(u.i)),this.m=u.m):u&&(p=String(u).match(Al))?(this.l=!1,Li(this,p[1]||"",!0),this.o=Mi(p[2]||""),this.g=Mi(p[3]||"",!0),Ni(this,p[4]),this.h=Mi(p[5]||"",!0),Go(this,p[6]||"",!0),this.m=Mi(p[7]||"")):(this.l=!1,this.i=new Fi(null,this.l))}Gn.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(Vi(p,Pl,!0),":");var g=this.g;return(g||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Vi(p,Pl,!0),"@"),u.push(js(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&u.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Vi(g,g.charAt(0)=="/"?Jc:Yc,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Vi(g,eh)),u.join("")},Gn.prototype.resolve=function(u){const p=gn(this);let g=!!u.j;g?Li(p,u.j):g=!!u.o,g?p.o=u.o:g=!!u.g,g?p.g=u.g:g=u.u!=null;var I=u.h;if(g)Ni(p,u.u);else if(g=!!u.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var M=p.h.lastIndexOf("/");M!=-1&&(I=p.h.slice(0,M+1)+I)}if(M=I,M==".."||M==".")I="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){I=M.lastIndexOf("/",0)==0,M=M.split("/");const F=[];for(let W=0;W<M.length;){const ce=M[W++];ce=="."?I&&W==M.length&&F.push(""):ce==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),I&&W==M.length&&F.push("")):(F.push(ce),I=!0)}I=F.join("/")}else I=M}return g?p.h=I:g=u.i.toString()!=="",g?Go(p,Nl(u.i)):g=!!u.m,g&&(p.m=u.m),p};function gn(u){return new Gn(u)}function Li(u,p,g){u.j=g?Mi(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Ni(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Go(u,p,g){p instanceof Fi?(u.i=p,th(u.i,u.l)):(g||(p=Vi(p,Zc)),u.i=new Fi(p,u.l))}function ke(u,p,g){u.i.set(p,g)}function Ws(u){return ke(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Mi(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vi(u,p,g){return typeof u=="string"?(u=encodeURI(u).replace(p,xl),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Pl=/[#\/\?@]/g,Yc=/[#\?:]/g,Jc=/[#\?]/g,Zc=/[#\?@]/g,eh=/#/g;function Fi(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function _r(u){u.g||(u.g=new Map,u.h=0,u.i&&Xc(u.i,function(p,g){u.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=Fi.prototype,t.add=function(u,p){_r(this),this.i=null,u=Kr(this,u);let g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(p),this.h+=1,this};function kl(u,p){_r(u),p=Kr(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Ol(u,p){return _r(u),p=Kr(u,p),u.g.has(p)}t.forEach=function(u,p){_r(this),this.g.forEach(function(g,I){g.forEach(function(M){u.call(p,M,I,this)},this)},this)};function Dl(u,p){_r(u);let g=[];if(typeof p=="string")Ol(u,p)&&(g=g.concat(u.g.get(Kr(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)g=g.concat(u[p]);return g}t.set=function(u,p){return _r(this),this.i=null,u=Kr(this,u),Ol(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=Dl(this,u),u.length>0?String(u[0]):p):p};function Ll(u,p,g){kl(u,p),g.length>0&&(u.i=null,u.g.set(Kr(u,p),m(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let I=0;I<p.length;I++){var g=p[I];const M=js(g);g=Dl(this,g);for(let F=0;F<g.length;F++){let W=M;g[F]!==""&&(W+="="+js(g[F])),u.push(W)}}return this.i=u.join("&")};function Nl(u){const p=new Fi;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function Kr(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function th(u,p){p&&!u.j&&(_r(u),u.i=null,u.g.forEach(function(g,I){const M=I.toLowerCase();I!=M&&(kl(this,I),Ll(this,M,g))},u)),u.j=p}function nh(u,p){const g=new Kn;if(o.Image){const I=new Image;I.onload=h(Qn,g,"TestLoadImage: loaded",!0,p,I),I.onerror=h(Qn,g,"TestLoadImage: error",!1,p,I),I.onabort=h(Qn,g,"TestLoadImage: abort",!1,p,I),I.ontimeout=h(Qn,g,"TestLoadImage: timeout",!1,p,I),o.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else p(!1)}function rh(u,p){const g=new Kn,I=new AbortController,M=setTimeout(()=>{I.abort(),Qn(g,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:I.signal}).then(F=>{clearTimeout(M),F.ok?Qn(g,"TestPingServer: ok",!0,p):Qn(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),Qn(g,"TestPingServer: error",!1,p)})}function Qn(u,p,g,I,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),I(g)}catch{}}function ih(){this.g=new Mo}function Qo(u){this.i=u.Sb||null,this.h=u.ab||!1}d(Qo,Vo),Qo.prototype.g=function(){return new Hs(this.i,this.h)};function Hs(u,p){Ae.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Hs,Ae),t=Hs.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,qs(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qs(this)),this.g&&(this.readyState=3,qs(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ml(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ml(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Gr(this):qs(this),this.readyState==3&&Ml(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Gr(this))},t.Na=function(u){this.g&&(this.response=u,Gr(this))},t.ga=function(){this.g&&Gr(this)};function Gr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qs(u)}t.setRequestHeader=function(u,p){this.A.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=p.next();return u.join(`\r
`)};function qs(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vl(u){let p="";return Z(u,function(g,I){p+=I,p+=":",p+=g,p+=`\r
`}),p}function Xo(u,p,g){e:{for(I in g){var I=!1;break e}I=!0}I||(g=Vl(g),typeof u=="string"?g!=null&&js(g):ke(u,p,g))}function Be(u){Ae.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Be,Ae);var sh=/^https?$/i,oh=["POST","PUT"];t=Be.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,p,g,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hc.g(),this.g.onreadystatechange=f(c(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(F){wS(this,F);return}if(u=g||"",g=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var M in I)g.set(M,I[M]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const F of I.keys())g.set(F,I.get(F));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),M=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(oh,p,void 0)>=0)||I||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,W]of g)this.g.setRequestHeader(F,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){wS(this,F)}};function wS(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,SS(u),ah(u)}function SS(u){u.A||(u.A=!0,qe(u,"complete"),qe(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,qe(this,"complete"),qe(this,"abort"),ah(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ah(this,!0)),Be.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ES(this):this.Xa())},t.Xa=function(){ES(this)};function ES(u){if(u.h&&typeof s<"u"){if(u.v&&Bi(u)==4)setTimeout(u.Ca.bind(u),0);else if(qe(u,"readystatechange"),Bi(u)==4){u.h=!1;try{const F=u.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var I;if(I=F===0){let W=String(u.D).match(Al)[1]||null;!W&&o.self&&o.self.location&&(W=o.self.location.protocol.slice(0,-1)),I=!sh.test(W?W.toLowerCase():"")}g=I}if(g)qe(u,"complete"),qe(u,"success");else{u.o=6;try{var M=Bi(u)>2?u.g.statusText:""}catch{M=""}u.l=M+" ["+u.ca()+"]",SS(u)}}finally{ah(u)}}}}function ah(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const g=u.g;u.g=null,p||qe(u,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Bi(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Bi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),_l(p)}};function TS(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function fO(u){const p={};u=(u.g&&Bi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(P(u[I]))continue;var g=qc(u[I]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const F=p[M]||[];p[M]=F,F.push(g)}re(p,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fl(u,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||p}function bS(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fl("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fl("baseRetryDelayMs",5e3,u),this.Za=Fl("retryDelaySeedMs",1e4,u),this.Ta=Fl("forwardChannelMaxRetries",2,u),this.va=Fl("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Tl(u&&u.concurrentRequestLimit),this.Ba=new ih,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=bS.prototype,t.ka=8,t.I=1,t.connect=function(u,p,g,I){Y(0),this.W=u,this.H=p||{},g&&I!==void 0&&(this.H.OSID=g,this.H.OAID=I),this.F=this.X,this.J=DS(this,null,this.W),uh(this)};function nm(u){if(RS(u),u.I==3){var p=u.V++,g=gn(u.J);if(ke(g,"SID",u.M),ke(g,"RID",p),ke(g,"TYPE","terminate"),Bl(u,g),p=new yr(u,u.j,p),p.M=2,p.A=Ws(gn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=p.A,g=!0),g||(p.g=LS(p.j,null),p.g.ea(p.A)),p.F=Date.now(),G(p)}OS(u)}function lh(u){u.g&&(im(u),u.g.cancel(),u.g=null)}function RS(u){lh(u),u.v&&(o.clearTimeout(u.v),u.v=null),ch(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function uh(u){if(!bl(u.h)&&!u.m){u.m=!0;var p=u.Ea;N||_(),L||(N(),L=!0),T.add(p,u),u.D=0}}function pO(u,p){return Rl(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=_t(c(u.Ea,u,p),kS(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const M=new yr(this,this.j,u);let F=this.o;if(this.U&&(F?(F=we(F),Gt(F,this.U)):F=this.U),this.u!==null||this.R||(M.J=F,F=null),this.S)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var I=this.i[g];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,p>4096){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=IS(this,M,p),g=gn(this.J),ke(g,"RID",u),ke(g,"CVER",22),this.G&&ke(g,"X-HTTP-Session-Id",this.G),Bl(this,g),F&&(this.R?p="headers="+js(Vl(F))+"&"+p:this.u&&Xo(g,this.u,F)),Ko(this.h,M),this.Ra&&ke(g,"TYPE","init"),this.S?(ke(g,"$req",p),ke(g,"SID","null"),M.U=!0,Sl(M,g,null)):Sl(M,g,p),this.I=2}}else this.I==3&&(u?CS(this,u):this.i.length==0||bl(this.h)||CS(this))};function CS(u,p){var g;p?g=p.l:g=u.V++;const I=gn(u.J);ke(I,"SID",u.M),ke(I,"RID",g),ke(I,"AID",u.K),Bl(u,I),u.u&&u.o&&Xo(I,u.u,u.o),g=new yr(u,u.j,g,u.D+1),u.u===null&&(g.J=u.o),p&&(u.i=p.G.concat(u.i)),p=IS(u,g,1e3),g.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ko(u.h,g),Sl(g,I,p)}function Bl(u,p){u.H&&Z(u.H,function(g,I){ke(p,I,g)}),u.l&&Z({},function(g,I){ke(p,I,g)})}function IS(u,p,g){g=Math.min(u.i.length,g);const I=u.l?c(u.l.Ka,u.l,u):null;e:{var M=u.i;let ce=-1;for(;;){const ht=["count="+g];ce==-1?g>0?(ce=M[0].g,ht.push("ofs="+ce)):ce=0:ht.push("ofs="+ce);let De=!0;for(let wt=0;wt<g;wt++){var F=M[wt].g;const wr=M[wt].map;if(F-=ce,F<0)ce=Math.max(0,M[wt].g-100),De=!1;else try{F="req"+F+"_"||"";try{var W=wr instanceof Map?wr:Object.entries(wr);for(const[Gs,$i]of W){let ji=$i;a($i)&&(ji=Pi($i)),ht.push(F+Gs+"="+encodeURIComponent(ji))}}catch(Gs){throw ht.push(F+"type="+encodeURIComponent("_badmap")),Gs}}catch{I&&I(wr)}}if(De){W=ht.join("&");break e}}W=void 0}return u=u.i.splice(0,g),p.G=u,W}function AS(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;N||_(),L||(N(),L=!0),T.add(p,u),u.A=0}}function rm(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=_t(c(u.Da,u),kS(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,xS(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=_t(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Y(10),lh(this),xS(this))};function im(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function xS(u){u.g=new yr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=gn(u.na);ke(p,"RID","rpc"),ke(p,"SID",u.M),ke(p,"AID",u.K),ke(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&ke(p,"TO",u.ia),ke(p,"TYPE","xmlhttp"),Bl(u,p),u.u&&u.o&&Xo(p,u.u,u.o),u.O&&(u.g.H=u.O);var g=u.g;u=u.ba,g.M=1,g.A=Ws(gn(p)),g.u=null,g.R=!0,El(g,u)}t.Va=function(){this.C!=null&&(this.C=null,lh(this),rm(this),Y(19))};function ch(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function PS(u,p){var g=null;if(u.g==p){ch(u),im(u),u.g=null;var I=2}else if(qo(u.h,p))g=p.G,Cl(u.h,p),I=1;else return;if(u.I!=0){if(p.o)if(I==1){g=p.u?p.u.length:0,p=Date.now()-p.F;var M=u.D;I=Hr(),qe(I,new ze(I,g)),uh(u)}else AS(u);else if(M=p.m,M==3||M==0&&p.X>0||!(I==1&&pO(u,p)||I==2&&rm(u)))switch(g&&g.length>0&&(p=u.h,p.i=p.i.concat(g)),M){case 1:Ks(u,5);break;case 4:Ks(u,10);break;case 3:Ks(u,6);break;default:Ks(u,2)}}}function kS(u,p){let g=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(g*=2),g*p}function Ks(u,p){if(u.j.info("Error code "+p),p==2){var g=c(u.bb,u),I=u.Ua;const M=!I;I=new Gn(I||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Li(I,"https"),Ws(I),M?nh(I.toString(),g):rh(I.toString(),g)}else Y(2);u.I=0,u.l&&u.l.pa(p),OS(u),RS(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Y(2)):(this.j.info("Failed to ping google.com"),Y(1))};function OS(u){if(u.I=0,u.ja=[],u.l){const p=Il(u.h);(p.length!=0||u.i.length!=0)&&(v(u.ja,p),v(u.ja,u.i),u.h.i.length=0,m(u.i),u.i.length=0),u.l.oa()}}function DS(u,p,g){var I=g instanceof Gn?gn(g):new Gn(g);if(I.g!="")p&&(I.g=p+"."+I.g),Ni(I,I.u);else{var M=o.location;I=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;const F=new Gn(null);I&&Li(F,I),p&&(F.g=p),M&&Ni(F,M),g&&(F.h=g),I=F}return g=u.G,p=u.wa,g&&p&&ke(I,g,p),ke(I,"VER",u.ka),Bl(u,I),I}function LS(u,p,g){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new Be(new Qo({ab:g})):new Be(u.ma),p.Fa(u.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function NS(){}t=NS.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hh(){}hh.prototype.g=function(u,p){return new yn(u,p)};function yn(u,p){Ae.call(this),this.g=new bS(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!P(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!P(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Yo(this)}d(yn,Ae),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){nm(this.g)},yn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.v&&(g={},g.__data__=Pi(u),u=g);p.i.push(new Qc(p.Ya++,u)),p.I==3&&uh(p)},yn.prototype.N=function(){this.g.l=null,delete this.j,nm(this.g),delete this.g,yn.Z.N.call(this)};function MS(u){ki.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const g in p){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}d(MS,ki);function VS(){Oe.call(this),this.status=1}d(VS,Oe);function Yo(u){this.g=u}d(Yo,NS),Yo.prototype.ra=function(){qe(this.g,"a")},Yo.prototype.qa=function(u){qe(this.g,new MS(u))},Yo.prototype.pa=function(u){qe(this.g,new VS)},Yo.prototype.oa=function(){qe(this.g,"b")},hh.prototype.createWebChannel=hh.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,p1=function(){return new hh},f1=function(){return Hr()},d1=kn,tv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Uo.NO_ERROR=0,Uo.TIMEOUT=8,Uo.HTTP_ERROR=6,vd=Uo,wl.COMPLETE="complete",h1=wl,$s.EventType=Wr,Wr.OPEN="a",Wr.CLOSE="b",Wr.ERROR="c",Wr.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,iu=$s,Be.prototype.listenOnce=Be.prototype.K,Be.prototype.getLastError=Be.prototype.Ha,Be.prototype.getLastErrorCode=Be.prototype.ya,Be.prototype.getStatus=Be.prototype.ca,Be.prototype.getResponseJson=Be.prototype.La,Be.prototype.getResponseText=Be.prototype.la,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Fa,c1=Be}).apply(typeof Bh<"u"?Bh:typeof self<"u"?self:typeof window<"u"?window:{});const vT="@firebase/firestore",_T="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new sw("@firebase/firestore");function ia(){return To.logLevel}function K(t,...e){if(To.logLevel<=ye.DEBUG){const n=e.map(lw);To.debug(`Firestore (${ul}): ${t}`,...n)}}function yi(t,...e){if(To.logLevel<=ye.ERROR){const n=e.map(lw);To.error(`Firestore (${ul}): ${t}`,...n)}}function Ga(t,...e){if(To.logLevel<=ye.WARN){const n=e.map(lw);To.warn(`Firestore (${ul}): ${t}`,...n)}}function lw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,m1(t,r,n)}function m1(t,e,n){let r=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw yi(r),new Error(r)}function xe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||m1(e,i,r)}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class Gj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Qj{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ui,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ui)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new g1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new jt(e)}}class Xj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Yj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Xj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Zj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function nv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return ug(i)===ug(s)?ve(i,s):ug(i)?1:-1}return ve(t.length,e.length)}const eU=55296,tU=57343;function ug(t){const e=t.charCodeAt(0);return e>=eU&&e<=tU}function Qa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="__name__";class Rr{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Rr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ve(e.length,n.length)}static compareSegments(e,n){const r=Rr.isNumericId(e),i=Rr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Rr.extractNumericId(e).compare(Rr.extractNumericId(n)):nv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _s.fromString(e.substring(4,e.length-2))}}class Me extends Rr{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const nU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends Rr{construct(e,n,r){return new Ot(e,n,r)}static isValidIdentifier(e){return nU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ST}static keyField(){return new Ot([ST])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new q(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new q(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(n)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Me.fromString(e))}static fromName(e){return new ne(Me.fromString(e).popFirst(5))}static empty(){return new ne(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Me(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t,e,n){if(!n)throw new q(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rU(t,e,n,r){if(e===!0&&r===!0)throw new q(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ET(t){if(!ne.isDocumentKey(t))throw new q(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TT(t){if(ne.isDocumentKey(t))throw new q(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function v1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Tp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tp(t);throw new q(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t,e){const n={typeString:t};return e&&(n.value=e),n}function Pc(t,e){if(!v1(t))throw new q(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new q(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=-62135596800,RT=1e6;class je{static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*RT);return new je(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bT)throw new q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RT}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pc(e,je._jsonSchema))return new je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}je._jsonSchemaVersion="firestore/timestamp/1.0",je._jsonSchema={type:ut("string",je._jsonSchemaVersion),seconds:ut("number"),nanoseconds:ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new je(0,0))}static max(){return new ae(new je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=-1;function iU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new je(n+1,0):new je(n,r));return new Ts(i,ne.empty(),e)}function sU(t){return new Ts(t.readTime,t.key,uc)}class Ts{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ts(ae.min(),ne.empty(),uc)}static max(){return new Ts(ae.max(),ne.empty(),uc)}}function oU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==aU)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function uU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=-1;function Rp(t){return t==null}function Sf(t){return t===0&&1/t==-1/0}function cU(t){return typeof t=="number"&&Number.isInteger(t)&&!Sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="";function hU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=CT(e)),e=dU(t.get(n),e);return CT(e)}function dU(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case _1:n+="";break;default:n+=s}}return n}function CT(t){return t+_1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Os(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function w1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $h(this.root,e,this.comparator,!1)}getReverseIterator(){return new $h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $h(this.root,e,this.comparator,!0)}}class $h{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??kt.RED,this.left=i??kt.EMPTY,this.right=s??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new kt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AT(this.data.getIterator())}getIteratorFrom(e){return new AT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class AT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new bn([])}unionWith(e){let n=new yt(Ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new S1("Invalid base64 string: "+s):s}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const fU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=fU.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rs(t){return typeof t=="string"?Nt.fromBase64String(t):Nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="server_timestamp",T1="__type__",b1="__previous_value__",R1="__local_write_time__";function hw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[T1])==null?void 0:r.stringValue)===E1}function Cp(t){const e=t.mapValue.fields[b1];return hw(e)?Cp(e):e}function cc(t){const e=bs(t.mapValue.fields[R1].timestampValue);return new je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,n,r,i,s,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const Ef="(default)";class hc{constructor(e,n){this.projectId=e,this.database=n||Ef}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database===Ef}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="__type__",mU="__max__",jh={mapValue:{}},I1="__vector__",Tf="value";function Cs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hw(t)?4:yU(t)?9007199254740991:gU(t)?10:11:se(28295,{value:t})}function jr(t,e){if(t===e)return!0;const n=Cs(t);if(n!==Cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cc(t).isEqual(cc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=bs(i.timestampValue),a=bs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Rs(i.bytesValue).isEqual(Rs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return nt(i.geoPointValue.latitude)===nt(s.geoPointValue.latitude)&&nt(i.geoPointValue.longitude)===nt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return nt(i.integerValue)===nt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=nt(i.doubleValue),a=nt(s.doubleValue);return o===a?Sf(o)===Sf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Qa(t.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(IT(o)!==IT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!jr(o[l],a[l])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function dc(t,e){return(t.values||[]).find(n=>jr(n,e))!==void 0}function Xa(t,e){if(t===e)return 0;const n=Cs(t),r=Cs(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=nt(s.integerValue||s.doubleValue),l=nt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return xT(t.timestampValue,e.timestampValue);case 4:return xT(cc(t),cc(e));case 5:return nv(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Rs(s),l=Rs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=ve(a[c],l[c]);if(h!==0)return h}return ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ve(nt(s.latitude),nt(o.latitude));return a!==0?a:ve(nt(s.longitude),nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return PT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var f,m,v,E;const a=s.fields||{},l=o.fields||{},c=(f=a[Tf])==null?void 0:f.arrayValue,h=(m=l[Tf])==null?void 0:m.arrayValue,d=ve(((v=c==null?void 0:c.values)==null?void 0:v.length)||0,((E=h==null?void 0:h.values)==null?void 0:E.length)||0);return d!==0?d:PT(c,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===jh.mapValue&&o===jh.mapValue)return 0;if(s===jh.mapValue)return 1;if(o===jh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=nv(l[d],h[d]);if(f!==0)return f;const m=Xa(a[l[d]],c[h[d]]);if(m!==0)return m}return ve(l.length,h.length)}(t.mapValue,e.mapValue);default:throw se(23264,{he:n})}}function xT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=bs(t),r=bs(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function PT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Xa(n[i],r[i]);if(s)return s}return ve(n.length,r.length)}function Ya(t){return rv(t)}function rv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=rv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${rv(n.fields[o])}`;return i+"}"}(t.mapValue):se(61005,{value:t})}function _d(t){switch(Cs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cp(t);return e?16+_d(e):16;case 5:return 2*t.stringValue.length;case 6:return Rs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+_d(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Os(r.fields,(s,o)=>{i+=s.length+_d(o)}),i}(t.mapValue);default:throw se(13486,{value:t})}}function kT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function iv(t){return!!t&&"integerValue"in t}function dw(t){return!!t&&"arrayValue"in t}function OT(t){return!!t&&"nullValue"in t}function DT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wd(t){return!!t&&"mapValue"in t}function gU(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[C1])==null?void 0:r.stringValue)===I1}function ku(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Os(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ku(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ku(t.arrayValue.values[n]);return e}return{...t}}function yU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ku(n)}setAll(e){let n=Ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ku(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Os(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new an(ku(this.value))}}function A1(t){const e=[];return Os(t.fields,(n,r)=>{const i=new Ot([n]);if(wd(r)){const s=A1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,ae.min(),ae.min(),ae.min(),an.empty(),0)}static newFoundDocument(e,n,r,i){return new zt(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new zt(e,2,n,ae.min(),ae.min(),an.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,ae.min(),ae.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.position=e,this.inclusive=n}}function LT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Xa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function NT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n="asc"){this.field=e,this.dir=n}}function vU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{}class lt extends x1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wU(e,n,r):n==="array-contains"?new TU(e,r):n==="in"?new bU(e,r):n==="not-in"?new RU(e,r):n==="array-contains-any"?new CU(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new SU(e,r):new EU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xa(n,this.value)):n!==null&&Cs(this.value)===Cs(n)&&this.matchesComparison(Xa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends x1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hr(e,n)}matches(e){return P1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P1(t){return t.op==="and"}function k1(t){return _U(t)&&P1(t)}function _U(t){for(const e of t.filters)if(e instanceof hr)return!1;return!0}function sv(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+Ya(t.value);if(k1(t))return t.filters.map(e=>sv(e)).join(",");{const e=t.filters.map(n=>sv(n)).join(",");return`${t.op}(${e})`}}function O1(t,e){return t instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&jr(r.value,i.value)}(t,e):t instanceof hr?function(r,i){return i instanceof hr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&O1(o,i.filters[a]),!0):!1}(t,e):void se(19439)}function D1(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ya(n.value)}`}(t):t instanceof hr?function(n){return n.op.toString()+" {"+n.getFilters().map(D1).join(" ,")+"}"}(t):"Filter"}class wU extends lt{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class SU extends lt{constructor(e,n){super(e,"in",n),this.keys=L1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class EU extends lt{constructor(e,n){super(e,"not-in",n),this.keys=L1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function L1(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class TU extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dw(n)&&dc(n.arrayValue,this.value)}}class bU extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dc(this.value.arrayValue,n)}}class RU extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dc(this.value.arrayValue,n)}}class CU extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function MT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new IU(t,e,n,r,i,s,o)}function fw(t){const e=le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Rp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ya(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ya(r)).join(",")),e.Te=n}return e.Te}function pw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!O1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NT(t.startAt,e.startAt)&&NT(t.endAt,e.endAt)}function ov(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AU(t,e,n,r,i,s,o,a){return new kc(t,e,n,r,i,s,o,a)}function mw(t){return new kc(t)}function VT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function N1(t){return t.collectionGroup!==null}function Ou(t){const e=le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new yt(Ot.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Rf(s,r))}),n.has(Ot.keyField().canonicalString())||e.Ie.push(new Rf(Ot.keyField(),r))}return e.Ie}function Nr(t){const e=le(t);return e.Ee||(e.Ee=xU(e,Ou(t))),e.Ee}function xU(t,e){if(t.limitType==="F")return MT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Rf(i.field,s)});const n=t.endAt?new bf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bf(t.startAt.position,t.startAt.inclusive):null;return MT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function av(t,e){const n=t.filters.concat([e]);return new kc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lv(t,e,n){return new kc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ip(t,e){return pw(Nr(t),Nr(e))&&t.limitType===e.limitType}function M1(t){return`${fw(Nr(t))}|lt:${t.limitType}`}function sa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>D1(i)).join(", ")}]`),Rp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ya(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ya(i)).join(",")),`Target(${r})`}(Nr(t))}; limitType=${t.limitType})`}function Ap(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ou(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=LT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ou(r),i)||r.endAt&&!function(o,a,l){const c=LT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ou(r),i))}(t,e)}function PU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function V1(t){return(e,n)=>{let r=!1;for(const i of Ou(t)){const s=kU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function kU(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Xa(l,c):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return w1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=new Ye(ne.comparator);function vi(){return OU}const F1=new Ye(ne.comparator);function su(...t){let e=F1;for(const n of t)e=e.insert(n.key,n);return e}function B1(t){let e=F1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function uo(){return Du()}function $1(){return Du()}function Du(){return new Oo(t=>t.toString(),(t,e)=>t.isEqual(e))}const DU=new Ye(ne.comparator),LU=new yt(ne.comparator);function _e(...t){let e=LU;for(const n of t)e=e.add(n);return e}const NU=new yt(ve);function MU(){return NU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(e)?"-0":e}}function j1(t){return{integerValue:""+t}}function VU(t,e){return cU(e)?j1(e):gw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(){this._=void 0}}function FU(t,e,n){return t instanceof Cf?function(i,s){const o={fields:{[T1]:{stringValue:E1},[R1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&hw(s)&&(s=Cp(s)),s&&(o.fields[b1]=s),{mapValue:o}}(n,e):t instanceof fc?z1(t,e):t instanceof pc?W1(t,e):function(i,s){const o=U1(i,s),a=FT(o)+FT(i.Ae);return iv(o)&&iv(i.Ae)?j1(a):gw(i.serializer,a)}(t,e)}function BU(t,e,n){return t instanceof fc?z1(t,e):t instanceof pc?W1(t,e):n}function U1(t,e){return t instanceof If?function(r){return iv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Cf extends xp{}class fc extends xp{constructor(e){super(),this.elements=e}}function z1(t,e){const n=H1(e);for(const r of t.elements)n.some(i=>jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class pc extends xp{constructor(e){super(),this.elements=e}}function W1(t,e){let n=H1(e);for(const r of t.elements)n=n.filter(i=>!jr(i,r));return{arrayValue:{values:n}}}class If extends xp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function FT(t){return nt(t.integerValue||t.doubleValue)}function H1(t){return dw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $U(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof fc&&i instanceof fc||r instanceof pc&&i instanceof pc?Qa(r.elements,i.elements,jr):r instanceof If&&i instanceof If?jr(r.Ae,i.Ae):r instanceof Cf&&i instanceof Cf}(t.transform,e.transform)}class jU{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pp{}function q1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yw(t.key,jn.none()):new Oc(t.key,t.data,jn.none());{const n=t.data,r=an.empty();let i=new yt(Ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ds(t.key,r,new bn(i.toArray()),jn.none())}}function UU(t,e,n){t instanceof Oc?function(i,s,o){const a=i.value.clone(),l=$T(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ds?function(i,s,o){if(!Sd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=$T(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(K1(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Lu(t,e,n,r){return t instanceof Oc?function(s,o,a,l){if(!Sd(s.precondition,o))return a;const c=s.value.clone(),h=jT(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ds?function(s,o,a,l){if(!Sd(s.precondition,o))return a;const c=jT(s.fieldTransforms,l,o),h=o.data;return h.setAll(K1(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Sd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function zU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=U1(r.transform,i||null);s!=null&&(n===null&&(n=an.empty()),n.set(r.field,s))}return n||null}function BT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qa(r,i,(s,o)=>$U(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Oc extends Pp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ds extends Pp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function K1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $T(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,BU(o,a,n[i]))}return r}function jT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,FU(s,o,e))}return r}class yw extends Pp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WU extends Pp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&UU(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=q1(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,(n,r)=>BT(n,r))&&Qa(this.baseMutations,e.baseMutations,(n,r)=>BT(n,r))}}class vw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return DU}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new vw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Se;function GU(t){switch(t){case B.OK:return se(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function G1(t){if(t===void 0)return yi("GRPC error has no .code"),B.UNKNOWN;switch(t){case st.OK:return B.OK;case st.CANCELLED:return B.CANCELLED;case st.UNKNOWN:return B.UNKNOWN;case st.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case st.INTERNAL:return B.INTERNAL;case st.UNAVAILABLE:return B.UNAVAILABLE;case st.UNAUTHENTICATED:return B.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case st.NOT_FOUND:return B.NOT_FOUND;case st.ALREADY_EXISTS:return B.ALREADY_EXISTS;case st.PERMISSION_DENIED:return B.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case st.ABORTED:return B.ABORTED;case st.OUT_OF_RANGE:return B.OUT_OF_RANGE;case st.UNIMPLEMENTED:return B.UNIMPLEMENTED;case st.DATA_LOSS:return B.DATA_LOSS;default:return se(39323,{code:t})}}(Se=st||(st={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=new _s([4294967295,4294967295],0);function UT(t){const e=QU().encode(t),n=new u1;return n.update(e),new Uint8Array(n.digest())}function zT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _s([n,r],0),new _s([i,s],0)]}class _w{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ou(`Invalid padding: ${n}`);if(r<0)throw new ou(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ou(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_s.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(_s.fromNumber(r)));return i.compare(XU)===1&&(i=new _s([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=UT(e),[r,i]=zT(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new _w(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=UT(e),[r,i]=zT(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Dc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kp(ae.min(),i,new Ye(ve),vi(),_e())}}class Dc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dc(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Q1{constructor(e,n){this.targetId=e,this.Ce=n}}class X1{constructor(e,n,r=Nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class WT{constructor(){this.ve=0,this.Fe=HT(),this.Me=Nt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=_e(),n=_e(),r=_e();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se(38017,{changeType:s})}}),new Dc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=HT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class YU{constructor(e){this.Ge=e,this.ze=new Map,this.je=vi(),this.Je=Uh(),this.He=Uh(),this.Ye=new Ye(ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(ov(s))if(r===0){const o=new ne(s.path);this.et(n,o,zt.newNoDocument(o,ae.min()))}else xe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Rs(r).toUint8Array()}catch(l){if(l instanceof S1)return Ga("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new _w(o,i,s)}catch(l){return Ga(l instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&ov(a.target)){const l=new ne(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,zt.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=_e();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new kp(e,n,this.Ye,this.je,r);return this.je=vi(),this.Je=Uh(),this.He=Uh(),this.Ye=new Ye(ve),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new WT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new yt(ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new yt(ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new WT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Uh(){return new Ye(ne.comparator)}function HT(){return new Ye(ne.comparator)}const JU={asc:"ASCENDING",desc:"DESCENDING"},ZU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e3={and:"AND",or:"OR"};class t3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function uv(t,e){return t.useProto3Json||Rp(e)?e:{value:e}}function Af(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function n3(t,e){return Af(t,e.toTimestamp())}function Mr(t){return xe(!!t,49232),ae.fromTimestamp(function(n){const r=bs(n);return new je(r.seconds,r.nanos)}(t))}function ww(t,e){return cv(t,e).canonicalString()}function cv(t,e){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function J1(t){const e=Me.fromString(t);return xe(rx(e),10190,{key:e.toString()}),e}function hv(t,e){return ww(t.databaseId,e.path)}function cg(t,e){const n=J1(e);if(n.get(1)!==t.databaseId.projectId)throw new q(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(ex(n))}function Z1(t,e){return ww(t.databaseId,e)}function r3(t){const e=J1(t);return e.length===4?Me.emptyPath():ex(e)}function dv(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ex(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function qT(t,e,n){return{name:hv(t,e),fields:n.value.mapValue.fields}}function i3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:se(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(xe(h===void 0||typeof h=="string",58123),Nt.fromBase64String(h||"")):(xe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Nt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?B.UNKNOWN:G1(c.code);return new q(h,c.message||"")}(o);n=new X1(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=cg(t,r.document.name),s=Mr(r.document.updateTime),o=r.document.createTime?Mr(r.document.createTime):ae.min(),a=new an({mapValue:{fields:r.document.fields}}),l=zt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Ed(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=cg(t,r.document),s=r.readTime?Mr(r.readTime):ae.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ed([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=cg(t,r.document),s=r.removedTargetIds||[];n=new Ed([],s,i,null)}else{if(!("filter"in e))return se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new KU(i,s),a=r.targetId;n=new Q1(a,o)}}return n}function s3(t,e){let n;if(e instanceof Oc)n={update:qT(t,e.key,e.value)};else if(e instanceof yw)n={delete:hv(t,e.key)};else if(e instanceof Ds)n={update:qT(t,e.key,e.data),updateMask:p3(e.fieldMask)};else{if(!(e instanceof WU))return se(16599,{Vt:e.type});n={verify:hv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Cf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof fc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof If)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:n3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se(27497)}(t,e.precondition)),n}function o3(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Mr(i.updateTime):Mr(s);return o.isEqual(ae.min())&&(o=Mr(s)),new jU(o,i.transformResults||[])}(n,e))):[]}function a3(t,e){return{documents:[Z1(t,e.path)]}}function l3(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Z1(t,i);const s=function(c){if(c.length!==0)return nx(hr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:oa(f.field),direction:h3(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=uv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function u3(t){let e=r3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xe(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=tx(d);return f instanceof hr&&k1(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(v){return new Rf(aa(v.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Rp(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,m=d.values||[];return new bf(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,m=d.values||[];return new bf(m,f)}(n.endAt)),AU(e,i,o,s,a,"F",l,c)}function c3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=aa(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=aa(n.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=aa(n.unaryFilter.field);return lt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=aa(n.unaryFilter.field);return lt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return lt.create(aa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hr.create(n.compositeFilter.filters.map(r=>tx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function h3(t){return JU[t]}function d3(t){return ZU[t]}function f3(t){return e3[t]}function oa(t){return{fieldPath:t.canonicalString()}}function aa(t){return Ot.fromServerFormat(t.fieldPath)}function nx(t){return t instanceof lt?function(n){if(n.op==="=="){if(DT(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NAN"}};if(OT(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DT(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NOT_NAN"}};if(OT(n.value))return{unaryFilter:{field:oa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oa(n.field),op:d3(n.op),value:n.value}}}(t):t instanceof hr?function(n){const r=n.getFilters().map(i=>nx(i));return r.length===1?r[0]:{compositeFilter:{op:f3(n.op),filters:r}}}(t):se(54877,{filter:t})}function p3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=Nt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.yt=e}}function g3(t){const e=u3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.Cn=new v3}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Ts.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class v3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yt(Me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ix=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(ix,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="LruGarbageCollector",_3=1048576;function QT([t,e],[n,r]){const i=ve(t,n);return i===0?ve(e,r):i}class w3{constructor(e){this.Ir=e,this.buffer=new yt(QT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();QT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class S3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){K(GT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hl(n)?K(GT,"Ignoring IndexedDB error during garbage collection: ",n):await cl(n)}await this.Vr(3e5)})}}class E3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(bp.ce);const r=new w3(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(KT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),ia()<=ye.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function T3(t,e){return new E3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(){this.changes=new Oo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Lu(r.mutation,i,bn.empty(),je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=uo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=su();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=uo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=vi();const o=Du(),a=function(){return Du()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Ds)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Lu(h.mutation,c,h.mutation.getFieldMask(),je.now())):o.set(c.key,bn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new R3(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Du();let i=new Ye((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||bn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||_e()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=$1();h.forEach(f=>{if(!s.has(f)){const m=q1(n.get(f),r.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):N1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(uo());let a=uc,l=s;return o.next(c=>$.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,_e())).next(h=>({batchId:a,changes:B1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=su();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=su();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const c=function(d,f){return new kc(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,zt.newInvalidDocument(h)))});let a=su();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Lu(h.mutation,c,bn.empty(),je.now()),Ap(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Mr(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:g3(i.bundledQuery),readTime:Mr(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(){this.overlays=new Ye(ne.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=uo();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=uo(),s=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ye((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=uo(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=uo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return $.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new qU(n,r));let s=this.qr.get(n);s===void 0&&(s=_e(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.Qr=new yt(Tt.$r),this.Ur=new yt(Tt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Tt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ne(new Me([])),r=new Tt(n,e),i=new Tt(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ne(new Me([])),r=new Tt(n,e),i=new Tt(n,e+1);let s=_e();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ne.comparator(e.key,n.key)||ve(e.Yr,n.Yr)}static Kr(e,n){return ve(e.Yr,n.Yr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new yt(Tt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new HU(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?cw:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(ve);return n.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new ne(s),0);let a=new yt(ve);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},o),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,i=>{const s=new Tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Tt(n,0),i=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.ri=e,this.docs=function(){return new Ye(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=vi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=vi();const o=n.path,a=new ne(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||oU(sU(h),r)<=0||(i.has(h.key)||Ap(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new O3(this)}getSize(e){return $.resolve(this.size)}}class O3 extends b3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.persistence=e,this.si=new Oo(n=>fw(n),pw),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Sw,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ja(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n){this.ui={},this.overlays={},this.ci=new bp(0),this.li=!1,this.li=!0,this.hi=new x3,this.referenceDelegate=e(this),this.Pi=new D3(this),this.indexManager=new y3,this.remoteDocumentCache=function(i){return new k3(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new m3(n),this.Ii=new I3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new A3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new P3(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new L3(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class L3 extends lU{constructor(e){super(),this.currentSequenceNumber=e}}class Ew{constructor(e){this.persistence=e,this.Ri=new Sw,this.Vi=null}static mi(e){return new Ew(e)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const i=ne.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xf{constructor(e,n){this.persistence=e,this.pi=new Oo(r=>hU(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=T3(this,n)}static mi(e,n){return new xf(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?$.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ae.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_d(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Tw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return I$()?8:uU(qt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new N3;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(ia()<=ye.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",sa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(ia()<=ye.DEBUG&&K("QueryEngine","Query:",sa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ia()<=ye.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",sa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(n))):$.resolve())}ys(e,n){if(VT(n))return $.resolve(null);let r=Nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lv(n,null,"F"),r=Nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,lv(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return VT(n)||i.isEqual(ae.min())?$.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?$.resolve(null):(ia()<=ye.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sa(n)),this.vs(e,o,n,iU(i,uc)).next(a=>a))})}Ds(e,n){let r=new yt(V1(e));return n.forEach((i,s)=>{Ap(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return ia()<=ye.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",sa(n)),this.ps.getDocumentsMatchingQuery(e,n,Ts.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="LocalStore",V3=3e8;class F3{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Ye(ve),this.xs=new Oo(s=>fw(s),pw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function B3(t,e,n,r){return new F3(t,e,n,r)}async function ox(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=_e();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function $3(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,f=d.keys();let m=$.resolve();return f.forEach(v=>{m=m.next(()=>h.getEntry(l,v)).next(E=>{const R=c.docVersions.get(v);xe(R!==null,48541),E.version.compareTo(R)<0&&(d.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),h.addEntry(E)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=_e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ax(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function j3(t,e){const n=le(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,d)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Nt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(d,m),function(E,R,w){return E.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=V3?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,m,h)&&a.push(n.Pi.updateTargetData(s,m))});let l=vi(),c=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(U3(s,o,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!r.isEqual(ae.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(d=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=i,s))}function U3(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=vi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K(bw,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function z3(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function W3(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new as(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function fv(t,e,n){const r=le(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!hl(o))throw o;K(bw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function XT(t,e,n){const r=le(t);let i=ae.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=le(l),f=d.xs.get(h);return f!==void 0?$.resolve(d.Ms.get(f)):d.Pi.getTargetData(c,h)}(r,o,Nr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:_e())).next(a=>(H3(r,PU(e),a),{documents:a,Qs:s})))}function H3(t,e,n){let r=t.Os.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class YT{constructor(){this.activeTargetIds=MU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class q3{constructor(){this.Mo=new YT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new YT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="ConnectivityMonitor";class ZT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){K(JT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){K(JT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh=null;function pv(){return zh===null?zh=function(){return 268435456+Math.round(2147483648*Math.random())}():zh++,"0x"+zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="RestConnection",G3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Ef?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=pv(),a=this.zo(e,n.toUriEncodedString());K(hg,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(a),h=al(c);return this.Jo(e,a,l,r,h).then(d=>(K(hg,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Ga(hg,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ul}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=G3[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class Y3 extends Q3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=pv();return new Promise((a,l)=>{const c=new c1;c.setWithCredentials(!0),c.listenOnce(h1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case vd.NO_ERROR:const d=c.getResponseJson();K(Bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case vd.TIMEOUT:K(Bt,`RPC '${e}' ${o} timed out`),l(new q(B.DEADLINE_EXCEEDED,"Request time out"));break;case vd.HTTP_ERROR:const f=c.getStatus();if(K(Bt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const E=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(y)>=0?y:B.UNKNOWN}(v.status);l(new q(E,v.message))}else l(new q(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new q(B.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{K(Bt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);K(Bt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(e,n,r){const i=pv(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=p1(),a=f1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");K(Bt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let f=!1,m=!1;const v=new X3({Yo:R=>{m?K(Bt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(f||(K(Bt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),K(Bt,`RPC '${e}' stream ${i} sending:`,R),d.send(R))},Zo:()=>d.close()}),E=(R,w,y)=>{R.listen(w,S=>{try{y(S)}catch(k){setTimeout(()=>{throw k},0)}})};return E(d,iu.EventType.OPEN,()=>{m||(K(Bt,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),E(d,iu.EventType.CLOSE,()=>{m||(m=!0,K(Bt,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(d))}),E(d,iu.EventType.ERROR,R=>{m||(m=!0,Ga(Bt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),v.a_(new q(B.UNAVAILABLE,"The operation could not be completed")))}),E(d,iu.EventType.MESSAGE,R=>{var w;if(!m){const y=R.data[0];xe(!!y,16349);const S=y,k=(S==null?void 0:S.error)||((w=S[0])==null?void 0:w.error);if(k){K(Bt,`RPC '${e}' stream ${i} received error:`,k);const N=k.status;let L=function(b){const A=st[b];if(A!==void 0)return G1(A)}(N),T=k.message;L===void 0&&(L=B.INTERNAL,T="Unknown error status: "+N+" with message "+k.message),m=!0,v.a_(new q(L,T)),d.close()}else K(Bt,`RPC '${e}' stream ${i} received:`,y),v.u_(y)}}),E(a,d1.STAT_EVENT,R=>{R.stat===tv.PROXY?K(Bt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===tv.NOPROXY&&K(Bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function dg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(t){return new t3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="PersistentStream";class ux{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(yi(n.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new q(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return K(eb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(K(eb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class J3 extends ux{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=i3(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?Mr(o.readTime):ae.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=dv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ov(l)?{documents:a3(s,l)}:{query:l3(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Y1(s,o.resumeToken);const c=uv(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=Af(s,o.snapshotVersion.toTimestamp());const c=uv(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=c3(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=dv(this.serializer),n.removeTarget=e,this.q_(n)}}class Z3 extends ux{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=o3(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=dv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>s3(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{}class t6 extends e6{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new q(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,cv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(B.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,cv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class n6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yi(n),this.aa=!1):K("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="RemoteStore";class r6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Do(this)&&(K(bo,"Restarting streams for network reachability change."),await async function(l){const c=le(l);c.Ea.add(4),await Lc(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Dp(c)}(this))})}),this.Ra=new n6(r,i)}}async function Dp(t){if(Do(t))for(const e of t.da)await e(!0)}async function Lc(t){for(const e of t.da)await e(!1)}function cx(t,e){const n=le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Aw(n)?Iw(n):dl(n).O_()&&Cw(n,e))}function Rw(t,e){const n=le(t),r=dl(n);n.Ia.delete(e),r.O_()&&hx(n,e),n.Ia.size===0&&(r.O_()?r.L_():Do(n)&&n.Ra.set("Unknown"))}function Cw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dl(t).Y_(e)}function hx(t,e){t.Va.Ue(e),dl(t).Z_(e)}function Iw(t){t.Va=new YU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),dl(t).start(),t.Ra.ua()}function Aw(t){return Do(t)&&!dl(t).x_()&&t.Ia.size>0}function Do(t){return le(t).Ea.size===0}function dx(t){t.Va=void 0}async function i6(t){t.Ra.set("Online")}async function s6(t){t.Ia.forEach((e,n)=>{Cw(t,e)})}async function o6(t,e){dx(t),Aw(t)?(t.Ra.ha(e),Iw(t)):t.Ra.set("Unknown")}async function a6(t,e,n){if(t.Ra.set("Online"),e instanceof X1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){K(bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pf(t,r)}else if(e instanceof Ed?t.Va.Ze(e):e instanceof Q1?t.Va.st(e):t.Va.tt(e),!n.isEqual(ae.min()))try{const r=await ax(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.Ia.get(l);if(!h)return;s.Ia.set(l,h.withResumeToken(Nt.EMPTY_BYTE_STRING,h.snapshotVersion)),hx(s,l);const d=new as(h.target,l,c,h.sequenceNumber);Cw(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K(bo,"Failed to raise snapshot:",r),await Pf(t,r)}}async function Pf(t,e,n){if(!hl(e))throw e;t.Ea.add(1),await Lc(t),t.Ra.set("Offline"),n||(n=()=>ax(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(bo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Dp(t)})}function fx(t,e){return e().catch(n=>Pf(t,n,e))}async function Lp(t){const e=le(t),n=Is(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cw;for(;l6(e);)try{const i=await z3(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,u6(e,i)}catch(i){await Pf(e,i)}px(e)&&mx(e)}function l6(t){return Do(t)&&t.Ta.length<10}function u6(t,e){t.Ta.push(e);const n=Is(t);n.O_()&&n.X_&&n.ea(e.mutations)}function px(t){return Do(t)&&!Is(t).x_()&&t.Ta.length>0}function mx(t){Is(t).start()}async function c6(t){Is(t).ra()}async function h6(t){const e=Is(t);for(const n of t.Ta)e.ea(n.mutations)}async function d6(t,e,n){const r=t.Ta.shift(),i=vw.from(r,e,n);await fx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Lp(t)}async function f6(t,e){e&&Is(t).X_&&await async function(r,i){if(function(o){return GU(o)&&o!==B.ABORTED}(i.code)){const s=r.Ta.shift();Is(r).B_(),await fx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Lp(r)}}(t,e),px(t)&&mx(t)}async function tb(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),K(bo,"RemoteStore received new credentials");const r=Do(n);n.Ea.add(3),await Lc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dp(n)}async function p6(t,e){const n=le(t);e?(n.Ea.delete(2),await Dp(n)):e||(n.Ea.add(2),await Lc(n),n.Ra.set("Unknown"))}function dl(t){return t.ma||(t.ma=function(n,r,i){const s=le(n);return s.sa(),new J3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:i6.bind(null,t),t_:s6.bind(null,t),r_:o6.bind(null,t),H_:a6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Aw(t)?Iw(t):t.Ra.set("Unknown")):(await t.ma.stop(),dx(t))})),t.ma}function Is(t){return t.fa||(t.fa=function(n,r,i){const s=le(n);return s.sa(),new Z3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:c6.bind(null,t),r_:f6.bind(null,t),ta:h6.bind(null,t),na:d6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Lp(t)):(await t.fa.stop(),t.Ta.length>0&&(K(bo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new xw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pw(t,e){if(yi("AsyncQueue",`${e}: ${t}`),hl(t))return new q(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{static emptySet(e){return new La(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=su(),this.sortedSet=new Ye(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof La)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new La;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.ga=new Ye(ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Za{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Za(e,n,La.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ip(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class g6{constructor(){this.queries=rb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=le(n),s=i.queries;i.queries=rb(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new q(B.ABORTED,"Firestore shutting down"))}}function rb(){return new Oo(t=>M1(t),Ip)}async function gx(t,e){const n=le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new m6,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Pw(o,`Initialization of query '${sa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&kw(n)}async function yx(t,e){const n=le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function y6(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&kw(n)}function v6(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function kw(t){t.Ca.forEach(e=>{e.next()})}var mv,ib;(ib=mv||(mv={})).Ma="default",ib.Cache="cache";class vx{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.key=e}}class wx{constructor(e){this.key=e}}class _6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=_e(),this.mutatedKeys=_e(),this.eu=V1(e),this.tu=new La(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new nb,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),m=Ap(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),E=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let R=!1;f&&m?f.data.isEqual(m.data)?v!==E&&(r.track({type:3,doc:m}),R=!0):this.su(f,m)||(r.track({type:2,doc:m}),R=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),R=!0):f&&!m&&(r.track({type:1,doc:f}),R=!0,(l||c)&&(a=!0)),R&&(m?(o=o.add(m),s=E?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,d)=>function(m,v){const E=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:R})}};return E(m)-E(v)}(h.type,d.type)||this.eu(h.doc,d.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Za(this.query,e.tu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=_e(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new wx(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new _x(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=_e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ow="SyncEngine";class w6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class S6{constructor(e){this.key=e,this.hu=!1}}class E6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Oo(a=>M1(a),Ip),this.Iu=new Map,this.Eu=new Set,this.du=new Ye(ne.comparator),this.Au=new Map,this.Ru=new Sw,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function T6(t,e,n=!0){const r=Cx(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Sx(r,e,n,!0),i}async function b6(t,e){const n=Cx(t);await Sx(n,e,!0,!1)}async function Sx(t,e,n,r){const i=await W3(t.localStore,Nr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await R6(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&cx(t.remoteStore,i),a}async function R6(t,e,n,r,i){t.pu=(d,f,m)=>async function(E,R,w,y){let S=R.view.ru(w);S.Cs&&(S=await XT(E.localStore,R.query,!1).then(({documents:T})=>R.view.ru(T,S)));const k=y&&y.targetChanges.get(R.targetId),N=y&&y.targetMismatches.get(R.targetId)!=null,L=R.view.applyChanges(S,E.isPrimaryClient,k,N);return ob(E,R.targetId,L.au),L.snapshot}(t,d,f,m);const s=await XT(t.localStore,e,!0),o=new _6(e,s.Qs),a=o.ru(s.documents),l=Dc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);ob(t,n,c.au);const h=new w6(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function C6(t,e,n){const r=le(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Ip(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Rw(r.remoteStore,i.targetId),gv(r,i.targetId)}).catch(cl)):(gv(r,i.targetId),await fv(r.localStore,i.targetId,!0))}async function I6(t,e){const n=le(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rw(n.remoteStore,r.targetId))}async function A6(t,e,n){const r=N6(t);try{const i=await function(o,a){const l=le(o),c=je.now(),h=a.reduce((m,v)=>m.add(v.key),_e());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=vi(),E=_e();return l.Ns.getEntries(m,h).next(R=>{v=R,v.forEach((w,y)=>{y.isValidDocument()||(E=E.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(R=>{d=R;const w=[];for(const y of a){const S=zU(y,d.get(y.key).overlayedDocument);S!=null&&w.push(new Ds(y.key,S,A1(S.value.mapValue),jn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,w,a)}).next(R=>{f=R;const w=R.applyToLocalDocumentSet(d,E);return l.documentOverlayCache.saveOverlays(m,R.batchId,w)})}).then(()=>({batchId:f.batchId,changes:B1(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Ye(ve)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await Nc(r,i.changes),await Lp(r.remoteStore)}catch(i){const s=Pw(i,"Failed to persist write");n.reject(s)}}async function Ex(t,e){const n=le(t);try{const r=await j3(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?xe(o.hu,14607):i.removedDocuments.size>0&&(xe(o.hu,42227),o.hu=!1))}),await Nc(n,r,e)}catch(r){await cl(r)}}function sb(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=le(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const f of d.Sa)f.va(a)&&(c=!0)}),c&&kw(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function x6(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Ye(ne.comparator);o=o.insert(s,zt.newNoDocument(s,ae.min()));const a=_e().add(s),l=new kp(ae.min(),new Map,new Ye(ve),o,a);await Ex(r,l),r.du=r.du.remove(s),r.Au.delete(e),Dw(r)}else await fv(r.localStore,e,!1).then(()=>gv(r,e,n)).catch(cl)}async function P6(t,e){const n=le(t),r=e.batch.batchId;try{const i=await $3(n.localStore,e);bx(n,r,null),Tx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nc(n,i)}catch(i){await cl(i)}}async function k6(t,e,n){const r=le(t);try{const i=await function(o,a){const l=le(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(xe(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);bx(r,e,n),Tx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nc(r,i)}catch(i){await cl(i)}}function Tx(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function bx(t,e,n){const r=le(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function gv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Rx(t,r)})}function Rx(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Rw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Dw(t))}function ob(t,e,n){for(const r of n)r instanceof _x?(t.Ru.addReference(r.key,e),O6(t,r)):r instanceof wx?(K(Ow,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Rx(t,r.key)):se(19791,{wu:r})}function O6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(K(Ow,"New document in limbo: "+n),t.Eu.add(r),Dw(t))}function Dw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ne(Me.fromString(e)),r=t.fu.next();t.Au.set(r,new S6(n)),t.du=t.du.insert(n,r),cx(t.remoteStore,new as(Nr(mw(n.path)),r,"TargetPurposeLimboResolution",bp.ce))}}async function Nc(t,e,n){const r=le(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=Tw.As(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,c){const h=le(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>$.forEach(c,f=>$.forEach(f.Es,m=>h.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>$.forEach(f.ds,m=>h.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!hl(d))throw d;K(bw,"Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const m=h.Ms.get(f),v=m.snapshotVersion,E=m.withLastLimboFreeSnapshotVersion(v);h.Ms=h.Ms.insert(f,E)}}}(r.localStore,s))}async function D6(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){K(Ow,"User change. New user:",e.toKey());const r=await ox(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new q(B.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nc(n,r.Ls)}}function L6(t,e){const n=le(t),r=n.Au.get(e);if(r&&r.hu)return _e().add(r.key);{let i=_e();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function Cx(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ex.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x6.bind(null,e),e.Pu.H_=y6.bind(null,e.eventManager),e.Pu.yu=v6.bind(null,e.eventManager),e}function N6(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k6.bind(null,e),e}class kf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Op(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return B3(this.persistence,new M3,e.initialUser,this.serializer)}Cu(e){return new sx(Ew.mi,this.serializer)}Du(e){return new q3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kf.provider={build:()=>new kf};class M6 extends kf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xe(this.persistence.referenceDelegate instanceof xf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new S3(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new sx(r=>xf.mi(r,n),this.serializer)}}class yv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=D6.bind(null,this.syncEngine),await p6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new g6}()}createDatastore(e){const n=Op(e.databaseInfo.databaseId),r=function(s){return new Y3(s)}(e.databaseInfo);return function(s,o,a,l){return new t6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new r6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>sb(this.syncEngine,n,0),function(){return ZT.v()?new ZT:new K3}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new E6(i,s,o,a,l,c);return h&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=le(i);K(bo,"RemoteStore shutting down."),s.Ea.add(5),await Lc(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}yv.provider={build:()=>new yv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class V6{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jt.UNAUTHENTICATED,this.clientId=uw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{K(As,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K(As,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fg(t,e){t.asyncQueue.verifyOperationInProgress(),K(As,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ox(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ab(t,e){t.asyncQueue.verifyOperationInProgress();const n=await F6(t);K(As,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>tb(e.remoteStore,i)),t._onlineComponents=e}async function F6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(As,"Using user provided OfflineComponentProvider");try{await fg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ga("Error using user provided cache. Falling back to memory cache: "+n),await fg(t,new kf)}}else K(As,"Using default OfflineComponentProvider"),await fg(t,new M6(void 0));return t._offlineComponents}async function Ax(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(As,"Using user provided OnlineComponentProvider"),await ab(t,t._uninitializedComponentsProvider._online)):(K(As,"Using default OnlineComponentProvider"),await ab(t,new yv))),t._onlineComponents}function B6(t){return Ax(t).then(e=>e.syncEngine)}async function xx(t){const e=await Ax(t),n=e.eventManager;return n.onListen=T6.bind(null,e.syncEngine),n.onUnlisten=C6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=I6.bind(null,e.syncEngine),n}function $6(t,e,n={}){const r=new ui;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new Ix({next:f=>{h.Nu(),o.enqueueAndForget(()=>yx(s,d));const m=f.docs.has(a);!m&&f.fromCache?c.reject(new q(B.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new q(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new vx(mw(a.path),h,{includeMetadataChanges:!0,qa:!0});return gx(s,d)}(await xx(t),t.asyncQueue,e,n,r)),r.promise}function j6(t,e,n={}){const r=new ui;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new Ix({next:f=>{h.Nu(),o.enqueueAndForget(()=>yx(s,d)),f.fromCache&&l.source==="server"?c.reject(new q(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new vx(a,h,{includeMetadataChanges:!0,qa:!0});return gx(s,d)}(await xx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="firestore.googleapis.com",ub=!0;class cb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kx,this.ssl=ub}else this.host=e.host,this.ssl=e.ssl??ub;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ix;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_3)throw new q(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Px(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Np{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Kj;switch(r.type){case"firstParty":return new Yj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lb.get(n);r&&(K("ComponentProvider","Removing Datastore"),lb.delete(n),r.terminate())}(this),Promise.resolve()}}function U6(t,e,n,r={}){var c;t=cr(t,Np);const i=al(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(t1(`https://${a}`),n1("Firestore",!0)),s.host!==kx&&s.host!==a&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!So(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=jt.MOCK_USER;else{h=v$(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new q(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new jt(f)}t._authCredentials=new Gj(new g1(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fl(this.firestore,e,this._query)}}class it{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new it(this.firestore,e,this._key)}toJSON(){return{type:it._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Pc(n,it._jsonSchema))return new it(e,r||null,new ne(Me.fromString(n.referencePath)))}}it._jsonSchemaVersion="firestore/documentReference/1.0",it._jsonSchema={type:ut("string",it._jsonSchemaVersion),referencePath:ut("string")};class ws extends fl{constructor(e,n,r){super(e,n,mw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new it(this.firestore,null,new ne(e))}withConverter(e){return new ws(this.firestore,e,this._path)}}function Lw(t,e,...n){if(t=Ct(t),y1("collection","path",e),t instanceof Np){const r=Me.fromString(e,...n);return TT(r),new ws(t,null,r)}{if(!(t instanceof it||t instanceof ws))throw new q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return TT(r),new ws(t.firestore,null,r)}}function pl(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=uw.newId()),y1("doc","path",e),t instanceof Np){const r=Me.fromString(e,...n);return ET(r),new it(t,null,new ne(r))}{if(!(t instanceof it||t instanceof ws))throw new q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return ET(r),new it(t.firestore,t instanceof ws?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="AsyncQueue";class db{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lx(this,"async_queue_retry"),this._c=()=>{const r=dg();r&&K(hb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=dg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=dg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ui;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hl(e))throw e;K(hb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,yi("INTERNAL UNHANDLED ERROR: ",fb(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=xw.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&se(47125,{Pc:fb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function fb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Lo extends Np{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new db,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new db(e),this._firestoreClient=void 0,await e}}}function z6(t,e){const n=typeof t=="object"?t:o1(),r=typeof t=="string"?t:Ef,i=aw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=g$("firestore");s&&U6(i,...s)}return i}function Nw(t){if(t._terminated)throw new q(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||W6(t),t._firestoreClient}function W6(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,c,h){return new pU(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Px(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new V6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Nt.fromBase64String(e))}catch(n){throw new q(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mn(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pc(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:ut("string",Mn._jsonSchemaVersion),bytes:ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vr._jsonSchemaVersion}}static fromJSON(e){if(Pc(e,Vr._jsonSchema))return new Vr(e.latitude,e.longitude)}}Vr._jsonSchemaVersion="firestore/geoPoint/1.0",Vr._jsonSchema={type:ut("string",Vr._jsonSchemaVersion),latitude:ut("number"),longitude:ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Fr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pc(e,Fr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Fr(e.vectorValues);throw new q(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fr._jsonSchemaVersion="firestore/vectorValue/1.0",Fr._jsonSchema={type:ut("string",Fr._jsonSchemaVersion),vectorValues:ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=/^__.*__$/;class q6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oc(e,this.data,n,this.fieldTransforms)}}class Ox{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Dx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:t})}}class Vw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Of(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Dx(this.Ac)&&H6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class K6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Op(e)}Cc(e,n,r,i=!1){return new Vw({Ac:e,methodName:n,Dc:r,path:Ot.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vp(t){const e=t._freezeSettings(),n=Op(t._databaseId);return new K6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Lx(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);Fw("Data must be an object, but it was:",o,r);const a=Nx(r,o);let l,c;if(s.merge)l=new bn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=vv(e,d,n);if(!o.contains(f))throw new q(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Vx(h,f)||h.push(f)}l=new bn(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new q6(new an(a),l,c)}class Fp extends Mw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fp}}function G6(t,e,n,r){const i=t.Cc(1,e,n);Fw("Data must be an object, but it was:",i,r);const s=[],o=an.empty();Os(r,(l,c)=>{const h=Bw(e,l,n);c=Ct(c);const d=i.yc(h);if(c instanceof Fp)s.push(h);else{const f=Mc(c,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new bn(s);return new Ox(o,a,i.fieldTransforms)}function Q6(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[vv(e,r,n)],l=[i];if(s.length%2!=0)throw new q(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(vv(e,s[f])),l.push(s[f+1]);const c=[],h=an.empty();for(let f=a.length-1;f>=0;--f)if(!Vx(c,a[f])){const m=a[f];let v=l[f];v=Ct(v);const E=o.yc(m);if(v instanceof Fp)c.push(m);else{const R=Mc(v,E);R!=null&&(c.push(m),h.set(m,R))}}const d=new bn(c);return new Ox(h,d,o.fieldTransforms)}function X6(t,e,n,r=!1){return Mc(n,t.Cc(r?4:3,e))}function Mc(t,e){if(Mx(t=Ct(t)))return Fw("Unsupported field value:",e,t),Nx(t,e);if(t instanceof Mw)return function(r,i){if(!Dx(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Mc(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=je.fromDate(r);return{timestampValue:Af(i.serializer,s)}}if(r instanceof je){const s=new je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Af(i.serializer,s)}}if(r instanceof Vr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:Y1(i.serializer,r._byteString)};if(r instanceof it){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ww(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fr)return function(o,a){return{mapValue:{fields:{[C1]:{stringValue:I1},[Tf]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return gw(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Tp(r)}`)}(t,e)}function Nx(t,e){const n={};return w1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(t,(r,i)=>{const s=Mc(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Mx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof je||t instanceof Vr||t instanceof Mn||t instanceof it||t instanceof Mw||t instanceof Fr)}function Fw(t,e,n){if(!Mx(n)||!v1(n)){const r=Tp(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function vv(t,e,n){if((e=Ct(e))instanceof Mp)return e._internalPath;if(typeof e=="string")return Bw(t,e);throw Of("Field path arguments must be of type string or ",t,!1,void 0,n)}const Y6=new RegExp("[~\\*/\\[\\]]");function Bw(t,e,n){if(e.search(Y6)>=0)throw Of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mp(...e.split("."))._internalPath}catch{throw Of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Of(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new q(B.INVALID_ARGUMENT,a+t+l)}function Vx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new it(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J6 extends Fx{data(){return super.data()}}function Bx(t,e){return typeof e=="string"?Bw(t,e):e instanceof Mp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $w{}class e9 extends $w{}function $x(t,e,...n){let r=[];e instanceof $w&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Uw).length,a=s.filter(l=>l instanceof jw).length;if(o>1||o>0&&a>0)throw new q(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class jw extends e9{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jw(e,n,r)}_apply(e){const n=this._parse(e);return jx(e._query,n),new fl(e.firestore,e.converter,av(e._query,n))}_parse(e){const n=Vp(e.firestore);return function(s,o,a,l,c,h,d){let f;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new q(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){mb(d,h);const v=[];for(const E of d)v.push(pb(l,s,E));f={arrayValue:{values:v}}}else f=pb(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||mb(d,h),f=X6(a,o,d,h==="in"||h==="not-in");return lt.create(c,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Uw extends $w{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Uw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)jx(o,l),o=av(o,l)}(e._query,n),new fl(e.firestore,e.converter,av(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function pb(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new q(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!N1(e)&&n.indexOf("/")!==-1)throw new q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!ne.isDocumentKey(r))throw new q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kT(t,new ne(r))}if(n instanceof it)return kT(t,n._key);throw new q(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tp(n)}.`)}function mb(t,e){if(!Array.isArray(t)||t.length===0)throw new q(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jx(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class t9{convertValue(e,n="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Os(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Tf].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>nt(o.doubleValue));return new Fr(n)}convertGeoPoint(e){return new Vr(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cc(e));default:return null}}convertTimestamp(e){const n=bs(e);return new je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);xe(rx(r),9688,{name:e});const i=new hc(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||yi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class au{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mo extends Fx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=mo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",mo._jsonSchema={type:ut("string",mo._jsonSchemaVersion),bundleSource:ut("string","DocumentSnapshot"),bundleName:ut("string"),bundle:ut("string")};class Td extends mo{data(e={}){return super.data(e)}}class Na{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new au(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Td(this._firestore,this._userDataWriter,r.key,r,new au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Td(i._firestore,i._userDataWriter,a.doc.key,a.doc,new au(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Td(i._firestore,i._userDataWriter,a.doc.key,a.doc,new au(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:n9(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=uw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function n9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(t){t=cr(t,it);const e=cr(t.firestore,Lo);return $6(Nw(e),t._key).then(n=>a9(e,t,n))}Na._jsonSchemaVersion="firestore/querySnapshot/1.0",Na._jsonSchema={type:ut("string",Na._jsonSchemaVersion),bundleSource:ut("string","QuerySnapshot"),bundleName:ut("string"),bundle:ut("string")};class zx extends t9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new it(this.firestore,null,n)}}function Wx(t){t=cr(t,fl);const e=cr(t.firestore,Lo),n=Nw(e),r=new zx(e);return Z6(t._query),j6(n,t._query).then(i=>new Na(e,r,t,i))}function Hx(t,e,n){t=cr(t,it);const r=cr(t.firestore,Lo),i=Ux(t.converter,e,n);return Bp(r,[Lx(Vp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,jn.none())])}function i9(t,e,n,...r){t=cr(t,it);const i=cr(t.firestore,Lo),s=Vp(i);let o;return o=typeof(e=Ct(e))=="string"||e instanceof Mp?Q6(s,"updateDoc",t._key,e,n,r):G6(s,"updateDoc",t._key,e),Bp(i,[o.toMutation(t._key,jn.exists(!0))])}function s9(t){return Bp(cr(t.firestore,Lo),[new yw(t._key,jn.none())])}function o9(t,e){const n=cr(t.firestore,Lo),r=pl(t),i=Ux(t.converter,e);return Bp(n,[Lx(Vp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,jn.exists(!1))]).then(()=>r)}function Bp(t,e){return function(r,i){const s=new ui;return r.asyncQueue.enqueueAndForget(async()=>A6(await B6(r),i,s)),s.promise}(Nw(t),e)}function a9(t,e,n){const r=n.docs.get(e._key),i=new zx(t);return new mo(t,i,e._key,r,new au(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ul=i})(ll),Ka(new Eo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Lo(new Qj(r.getProvider("auth-internal")),new Jj(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(c.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),vs(vT,_T,e),vs(vT,_T,"esm2020")})();function qx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l9=qx,Kx=new Ac("auth","Firebase",qx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new sw("@firebase/auth");function u9(t,...e){Df.logLevel<=ye.WARN&&Df.warn(`Auth (${ll}): ${t}`,...e)}function bd(t,...e){Df.logLevel<=ye.ERROR&&Df.error(`Auth (${ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,...e){throw zw(t,...e)}function Br(t,...e){return zw(t,...e)}function Gx(t,e,n){const r={...l9(),[e]:n};return new Ac("auth","Firebase",r).create(e,{appName:t.name})}function ci(t){return Gx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Kx.create(t,...e)}function ie(t,e,...n){if(!t)throw zw(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bd(e),new Error(e)}function _i(t,e){t||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function c9(){return gb()==="http:"||gb()==="https:"}function gb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c9()||b$()||"connection"in navigator)?navigator.onLine:!0}function d9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,_i(n>e,"Short delay should be less than long delay!"),this.isMobile=S$()||R$()}get(){return h9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t,e){_i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],m9=new Vc(3e4,6e4);function bi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ri(t,e,n,r,i={}){return Xx(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=xc({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return T$()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&al(t.emulatorConfig.host)&&(c.credentials="include"),Qx.fetch()(await Yx(t,t.config.apiHost,n,a),c)})}async function Xx(t,e,n){t._canInitEmulator=!1;const r={...f9,...e};try{const i=new y9(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Wh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Wh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Wh(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Gx(t,h,c);dr(t,h)}}catch(i){if(i instanceof Ti)throw i;dr(t,"network-request-failed",{message:String(i)})}}async function Fc(t,e,n,r,i={}){const s=await Ri(t,e,n,r,i);return"mfaPendingCredential"in s&&dr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Yx(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Ww(t.config,i):`${t.config.apiScheme}://${i}`;return p9.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function g9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class y9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Br(this.auth,"network-request-failed")),m9.get())})}}function Wh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Br(t,e,r);return i.customData._tokenResponse=n,i}function yb(t){return t!==void 0&&t.enterprise!==void 0}class v9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return g9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _9(t,e){return Ri(t,"GET","/v2/recaptchaConfig",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(t,e){return Ri(t,"POST","/v1/accounts:delete",e)}async function Lf(t,e){return Ri(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function S9(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),i=Hw(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Nu(pg(i.auth_time)),issuedAtTime:Nu(pg(i.iat)),expirationTime:Nu(pg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function pg(t){return Number(t)*1e3}function Hw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bd("JWT malformed, contained fewer than 3 sections"),null;try{const i=YA(n);return i?JSON.parse(i):(bd("Failed to decode base64 JWT payload"),null)}catch(i){return bd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function vb(t){const e=Hw(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ti&&E9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function E9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nf(t){var d;const e=t.auth,n=await t.getIdToken(),r=await mc(t,Lf(e,{idToken:n}));ie(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?Jx(i.providerUserInfo):[],o=R9(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new wv(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function b9(t){const e=Ct(t);await Nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function R9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Jx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(t,e){const n=await Xx(t,{},async()=>{const r=xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await Yx(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&al(t.emulatorConfig.host)&&(l.credentials="include"),Qx.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function I9(t,e){return Ri(t,"POST","/v2/accounts:revokeToken",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=vb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await C9(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ma;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ma,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new T9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await mc(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return S9(this,e)}reload(){return b9(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Nf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(ci(this.auth));const e=await this.getIdToken();return await mc(this,w9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:m,providerData:v,stsTokenManager:E}=n;ie(d&&E,e,"internal-error");const R=Ma.fromJSON(this.name,E);ie(typeof d=="string",e,"internal-error"),qi(r,e.name),qi(i,e.name),ie(typeof f=="boolean",e,"internal-error"),ie(typeof m=="boolean",e,"internal-error"),qi(s,e.name),qi(o,e.name),qi(a,e.name),qi(l,e.name),qi(c,e.name),qi(h,e.name);const w=new sr({uid:d,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:R,createdAt:c,lastLoginAt:h});return v&&Array.isArray(v)&&(w.providerData=v.map(y=>({...y}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ma;i.updateFromServerResponse(n);const s=new sr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Nf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Jx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ma;a.updateFromIdToken(r);const l=new sr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new wv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new Map;function si(t){_i(t instanceof Function,"Expected a class definition");let e=_b.get(t);return e?(_i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_b.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Zx.type="NONE";const wb=Zx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t,e,n){return`firebase:${t}:${e}:${n}`}class Va{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Rd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Rd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lf(this.auth,{idToken:e}).catch(()=>{});return n?sr._fromGetAccountInfoResponse(this.auth,n,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Va(si(wb),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||si(wb);const o=Rd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let d;if(typeof h=="string"){const f=await Lf(e,{idToken:h}).catch(()=>{});if(!f)break;d=await sr._fromGetAccountInfoResponse(e,f,h)}else d=sr._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Va(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Va(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sP(e))return"Blackberry";if(oP(e))return"Webos";if(tP(e))return"Safari";if((e.includes("chrome/")||nP(e))&&!e.includes("edge/"))return"Chrome";if(iP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eP(t=qt()){return/firefox\//i.test(t)}function tP(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nP(t=qt()){return/crios\//i.test(t)}function rP(t=qt()){return/iemobile/i.test(t)}function iP(t=qt()){return/android/i.test(t)}function sP(t=qt()){return/blackberry/i.test(t)}function oP(t=qt()){return/webos/i.test(t)}function qw(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function A9(t=qt()){var e;return qw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function x9(){return C$()&&document.documentMode===10}function aP(t=qt()){return qw(t)||iP(t)||oP(t)||sP(t)||/windows phone/i.test(t)||rP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(t,e=[]){let n;switch(t){case"Browser":n=Sb(qt());break;case"Worker":n=`${Sb(qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(t,e={}){return Ri(t,"GET","/v2/passwordPolicy",bi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=6;class D9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??O9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eb(this),this.idTokenSubscription=new Eb(this),this.beforeStateQueue=new P9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Va.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lf(this,{idToken:e}),r=await sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Nn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(ci(this));const n=e?Ct(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await k9(this),n=new D9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ac("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await I9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&si(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&u9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ls(t){return Ct(t)}class Eb{constructor(e){this.auth=e,this.observer=null,this.addObserver=L$(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N9(t){$p=t}function uP(t){return $p.loadJS(t)}function M9(){return $p.recaptchaEnterpriseScript}function V9(){return $p.gapiScript}function F9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class B9{constructor(){this.enterprise=new $9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const j9="recaptcha-enterprise",cP="NO_RECAPTCHA";class U9{constructor(e){this.type=j9,this.auth=Ls(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{_9(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new v9(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;yb(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(cP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new B9().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&yb(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=M9();l.length!==0&&(l+=a),uP(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Tb(t,e,n,r=!1,i=!1){const s=new U9(t);let o;if(i)o=cP;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Mf(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Tb(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Tb(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(t,e){const n=aw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(So(s,e??{}))return i;dr(i,"already-initialized")}return n.initialize({options:e})}function W9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(si);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function H9(t,e,n){const r=Ls(t);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=hP(e),{host:o,port:a}=q9(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(So(c,r.config.emulator)&&So(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,al(o)?(t1(`${s}//${o}${l}`),n1("Auth",!0)):K9()}function hP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function q9(t){const e=hP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:bb(o)}}}function bb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function K9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function G9(t,e){return Ri(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(t,e){return Fc(t,"POST","/v1/accounts:signInWithPassword",bi(t,e))}async function X9(t,e){return Ri(t,"POST","/v1/accounts:sendOobCode",bi(t,e))}async function Y9(t,e){return X9(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J9(t,e){return Fc(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))}async function Z9(t,e){return Fc(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends Kw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new gc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mf(e,n,"signInWithPassword",Q9);case"emailLink":return J9(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mf(e,r,"signUpPassword",G9);case"emailLink":return Z9(e,{idToken:n,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(t,e){return Fc(t,"POST","/v1/accounts:signInWithIdp",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5="http://localhost";class Ro extends Kw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Ro(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Fa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fa(e,n)}buildRequest(){const e={requestUri:e5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n5(t){const e=nu(ru(t)).link,n=e?nu(ru(e)).deep_link_id:null,r=nu(ru(t)).deep_link_id;return(r?nu(ru(r)).link:null)||r||n||e||t}class Gw{constructor(e){const n=nu(ru(e)),r=n.apiKey??null,i=n.oobCode??null,s=t5(n.mode??null);ie(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=n5(e);try{return new Gw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.providerId=ml.PROVIDER_ID}static credential(e,n){return gc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gw.parseLink(n);return ie(r,"argument-error"),gc._fromEmailAndCode(e,r.code,r.tenantId)}}ml.PROVIDER_ID="password";ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends dP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Bc{constructor(){super("facebook.com")}static credential(e){return Ro._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ro._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ns.credential(n,r)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Bc{constructor(){super("github.com")}static credential(e){return Ro._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Bc{constructor(){super("twitter.com")}static credential(e,n){return Ro._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return is.credential(n,r)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r5(t,e){return Fc(t,"POST","/v1/accounts:signUp",bi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await sr._fromIdTokenResponse(e,r,i),o=Rb(r);return new Co({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Rb(r);return new Co({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Rb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends Ti{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vf(e,n,r,i)}}function fP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Vf._fromErrorAndOperation(t,s,e,r):s})}async function i5(t,e,n=!1){const r=await mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Co._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s5(t,e,n=!1){const{auth:r}=t;if(Nn(r.app))return Promise.reject(ci(r));const i="reauthenticate";try{const s=await mc(t,fP(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=Hw(s.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),Co._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(t,e,n=!1){if(Nn(t.app))return Promise.reject(ci(t));const r="signIn",i=await fP(t,r,e),s=await Co._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function o5(t,e){return pP(Ls(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(t){const e=Ls(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function a5(t,e,n){const r=Ls(t);await Mf(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Y9)}async function l5(t,e,n){if(Nn(t.app))return Promise.reject(ci(t));const r=Ls(t),o=await Mf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",r5).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&mP(t),l}),a=await Co._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function u5(t,e,n){return Nn(t.app)?Promise.reject(ci(t)):o5(Ct(t),ml.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&mP(t),r})}function c5(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function h5(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function d5(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function f5(t){return Ct(t).signOut()}const Ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ff,"1"),this.storage.removeItem(Ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=1e3,m5=10;class yP extends gP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);x9()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,m5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},p5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yP.type="LOCAL";const g5=yP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP extends gP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vP.type="SESSION";const _P=vP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await y5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Qw("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return window}function _5(t){$r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function w5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function E5(){return wP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="firebaseLocalStorageDb",T5=1,Bf="firebaseLocalStorage",EP="fbase_key";class $c{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Up(t,e){return t.transaction([Bf],e?"readwrite":"readonly").objectStore(Bf)}function b5(){const t=indexedDB.deleteDatabase(SP);return new $c(t).toPromise()}function Sv(){const t=indexedDB.open(SP,T5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bf,{keyPath:EP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bf)?e(r):(r.close(),await b5(),e(await Sv()))})})}async function Cb(t,e,n){const r=Up(t,!0).put({[EP]:e,value:n});return new $c(r).toPromise()}async function R5(t,e){const n=Up(t,!1).get(e),r=await new $c(n).toPromise();return r===void 0?null:r.value}function Ib(t,e){const n=Up(t,!0).delete(e);return new $c(n).toPromise()}const C5=800,I5=3;class TP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>I5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jp._getInstance(E5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await w5(),!this.activeServiceWorker)return;this.sender=new v5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sv();return await Cb(e,Ff,"1"),await Ib(e,Ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Cb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>R5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ib(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Up(i,!1).getAll();return new $c(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TP.type="LOCAL";const A5=TP;new Vc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t,e){return e?si(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw extends Kw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function P5(t){return pP(t.auth,new Xw(t),t.bypassAuthState)}function k5(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),s5(n,new Xw(t),t.bypassAuthState)}async function O5(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),i5(n,new Xw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P5;case"linkViaPopup":case"linkViaRedirect":return O5;case"reauthViaPopup":case"reauthViaRedirect":return k5;default:dr(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=new Vc(2e3,1e4);class Ta extends bP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ta.currentPopupAction&&Ta.currentPopupAction.cancel(),Ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=Qw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,D5.get())};e()}}Ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="pendingRedirect",Cd=new Map;class N5 extends bP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cd.get(this.auth._key());if(!e){try{const r=await M5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M5(t,e){const n=B5(e),r=F5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function V5(t,e){Cd.set(t._key(),e)}function F5(t){return si(t._redirectPersistence)}function B5(t){return Rd(L5,t.config.apiKey,t.name)}async function $5(t,e,n=!1){if(Nn(t.app))return Promise.reject(ci(t));const r=Ls(t),i=x5(r,e),o=await new N5(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=10*60*1e3;class U5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!RP(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Br(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=j5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ab(e))}saveEventToCache(e){this.cachedEventUids.add(Ab(e)),this.lastProcessedEventTime=Date.now()}}function Ab(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function z5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W5(t,e={}){return Ri(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q5=/^https?/;async function K5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await W5(t);for(const n of e)try{if(G5(n))return}catch{}dr(t,"unauthorized-domain")}function G5(t){const e=_v(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!q5.test(n))return!1;if(H5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=new Vc(3e4,6e4);function xb(){const t=$r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function X5(t){return new Promise((e,n)=>{var i,s,o;function r(){xb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xb(),n(Br(t,"network-request-failed"))},timeout:Q5.get()})}if((s=(i=$r().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=$r().gapi)!=null&&o.load)r();else{const a=F9("iframefcb");return $r()[a]=()=>{gapi.load?r():n(Br(t,"network-request-failed"))},uP(`${V9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Id=null,e})}let Id=null;function Y5(t){return Id=Id||X5(t),Id}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=new Vc(5e3,15e3),Z5="__/auth/iframe",ez="emulator/auth/iframe",tz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rz(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ww(e,ez):`https://${t.config.authDomain}/${Z5}`,r={apiKey:e.apiKey,appName:t.name,v:ll},i=nz.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xc(r).slice(1)}`}async function iz(t){const e=await Y5(t),n=$r().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:rz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tz,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Br(t,"network-request-failed"),a=$r().setTimeout(()=>{s(o)},J5.get());function l(){$r().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oz=500,az=600,lz="_blank",uz="http://localhost";class Pb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cz(t,e,n,r=oz,i=az){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...sz,width:r.toString(),height:i.toString(),top:s,left:o},c=qt().toLowerCase();n&&(a=nP(c)?lz:n),eP(c)&&(e=e||uz,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[m,v])=>`${f}${m}=${v},`,"");if(A9(c)&&a!=="_self")return hz(e||"",a),new Pb(null);const d=window.open(e||"",a,h);ie(d,t,"popup-blocked");try{d.focus()}catch{}return new Pb(d)}function hz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz="__/auth/handler",fz="emulator/auth/handler",pz=encodeURIComponent("fac");async function kb(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ll,eventId:i};if(e instanceof dP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",D$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Bc){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${pz}=${encodeURIComponent(l)}`:"";return`${mz(t)}?${xc(a).slice(1)}${c}`}function mz({config:t}){return t.emulator?Ww(t,fz):`https://${t.authDomain}/${dz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="webStorageSupport";class gz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_P,this._completeRedirectFn=$5,this._overrideRedirectResult=V5}async _openPopup(e,n,r,i){var o;_i((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await kb(e,n,r,_v(),i);return cz(e,s,Qw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await kb(e,n,r,_v(),i);return _5(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(_i(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await iz(e),r=new U5(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mg,{type:mg},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[mg];s!==void 0&&n(!!s),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=K5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aP()||tP()||qw()}}const yz=gz;var Ob="@firebase/auth",Db="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wz(t){Ka(new Eo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lP(t)},c=new L9(r,i,s,l);return W9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ka(new Eo("auth-internal",e=>{const n=Ls(e.getProvider("auth").getImmediate());return(r=>new vz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(Ob,Db,_z(t)),vs(Ob,Db,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=5*60,Ez=e1("authIdTokenMaxAge")||Sz;let Lb=null;const Tz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ez)return;const i=n==null?void 0:n.token;Lb!==i&&(Lb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function bz(t=o1()){const e=aw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=z9(t,{popupRedirectResolver:yz,persistence:[A5,g5,_P]}),r=e1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Tz(s.toString());h5(n,o,()=>o(n.currentUser)),c5(n,a=>o(a))}}const i=JA("auth");return i&&H9(n,`http://${i}`),n}function Rz(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}N9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Br("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Rz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wz("Browser");const Cz={apiKey:"AIzaSyBbUnVpOyU1eSSFrQi79ztijFjT0bvMosc",authDomain:"pocket-stylist-3c0fe.firebaseapp.com",projectId:"pocket-stylist-3c0fe",storageBucket:"pocket-stylist-3c0fe.firebasestorage.app",messagingSenderId:"274246899324",appId:"1:274246899324:web:845c91cdaab06299df1bf9"},CP=s1(Cz),gl=bz(CP),Ns=z6(CP),Iz=(t,e)=>u5(gl,t,e),Az=(t,e)=>l5(gl,t,e),xz=()=>f5(gl),Pz=t=>a5(gl,t),IP=C.createContext();function AP(){return C.useContext(IP)}function kz({children:t}){const[e,n]=C.useState(null),[r,i]=C.useState(!0);C.useEffect(()=>d5(gl,a=>{n(a),i(!1)}),[]);const s={currentUser:e,loading:r};return D.jsx(IP.Provider,{value:s,children:!r&&t})}const Oz="Left",Dz="Right",Lz="Up",Nz="Down",ba={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Ev={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},Nb="mousemove",Mb="mouseup",Mz="touchend",Vz="touchmove",Fz="touchstart";function Bz(t,e,n,r){return t>e?n>0?Dz:Oz:r>0?Nz:Lz}function Vb(t,e){if(e===0)return t;const n=Math.PI/180*e,r=t[0]*Math.cos(n)+t[1]*Math.sin(n),i=t[1]*Math.cos(n)-t[0]*Math.sin(n);return[r,i]}function $z(t,e){const n=h=>{const d="touches"in h;d&&h.touches.length>1||t((f,m)=>{m.trackMouse&&!d&&(document.addEventListener(Nb,r),document.addEventListener(Mb,o));const{clientX:v,clientY:E}=d?h.touches[0]:h,R=Vb([v,E],m.rotationAngle);return m.onTouchStartOrOnMouseDown&&m.onTouchStartOrOnMouseDown({event:h}),Object.assign(Object.assign(Object.assign({},f),Ev),{initial:R.slice(),xy:R,start:h.timeStamp||0})})},r=h=>{t((d,f)=>{const m="touches"in h;if(m&&h.touches.length>1)return d;if(h.timeStamp-d.start>f.swipeDuration)return d.swiping?Object.assign(Object.assign({},d),{swiping:!1}):d;const{clientX:v,clientY:E}=m?h.touches[0]:h,[R,w]=Vb([v,E],f.rotationAngle),y=R-d.xy[0],S=w-d.xy[1],k=Math.abs(y),N=Math.abs(S),L=(h.timeStamp||0)-d.start,T=Math.sqrt(k*k+N*N)/(L||1),_=[y/(L||1),S/(L||1)],b=Bz(k,N,y,S),A=typeof f.delta=="number"?f.delta:f.delta[b.toLowerCase()]||ba.delta;if(k<A&&N<A&&!d.swiping)return d;const x={absX:k,absY:N,deltaX:y,deltaY:S,dir:b,event:h,first:d.first,initial:d.initial,velocity:T,vxvy:_};x.first&&f.onSwipeStart&&f.onSwipeStart(x),f.onSwiping&&f.onSwiping(x);let O=!1;return(f.onSwiping||f.onSwiped||f[`onSwiped${b}`])&&(O=!0),O&&f.preventScrollOnSwipe&&f.trackTouch&&h.cancelable&&h.preventDefault(),Object.assign(Object.assign({},d),{first:!1,eventData:x,swiping:!0})})},i=h=>{t((d,f)=>{let m;if(d.swiping&&d.eventData){if(h.timeStamp-d.start<f.swipeDuration){m=Object.assign(Object.assign({},d.eventData),{event:h}),f.onSwiped&&f.onSwiped(m);const v=f[`onSwiped${m.dir}`];v&&v(m)}}else f.onTap&&f.onTap({event:h});return f.onTouchEndOrOnMouseUp&&f.onTouchEndOrOnMouseUp({event:h}),Object.assign(Object.assign(Object.assign({},d),Ev),{eventData:m})})},s=()=>{document.removeEventListener(Nb,r),document.removeEventListener(Mb,o)},o=h=>{s(),i(h)},a=(h,d)=>{let f=()=>{};if(h&&h.addEventListener){const m=Object.assign(Object.assign({},ba.touchEventOptions),d.touchEventOptions),v=[[Fz,n,m],[Vz,r,Object.assign(Object.assign({},m),d.preventScrollOnSwipe?{passive:!1}:{})],[Mz,i,m]];v.forEach(([E,R,w])=>h.addEventListener(E,R,w)),f=()=>v.forEach(([E,R])=>h.removeEventListener(E,R))}return f},c={ref:h=>{h!==null&&t((d,f)=>{if(d.el===h)return d;const m={};return d.el&&d.el!==h&&d.cleanUpTouch&&(d.cleanUpTouch(),m.cleanUpTouch=void 0),f.trackTouch&&h&&(m.cleanUpTouch=a(h,f)),Object.assign(Object.assign(Object.assign({},d),{el:h}),m)})}};return e.trackMouse&&(c.onMouseDown=n),[c,a]}function jz(t,e,n,r){return!e.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?e.preventScrollOnSwipe!==n.preventScrollOnSwipe||e.touchEventOptions.passive!==n.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})}function Uz(t){const{trackMouse:e}=t,n=C.useRef(Object.assign({},Ev)),r=C.useRef(Object.assign({},ba)),i=C.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},ba),t);let s;for(s in ba)r.current[s]===void 0&&(r.current[s]=ba[s]);const[o,a]=C.useMemo(()=>$z(l=>n.current=l(n.current,r.current),{trackMouse:e}),[e]);return n.current=jz(n.current,r.current,i.current,a),o}var xP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Fb=ot.createContext&&ot.createContext(xP),zz=["attr","size","title"];function Wz(t,e){if(t==null)return{};var n=Hz(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $f(){return $f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$f.apply(this,arguments)}function Bb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bb(Object(n),!0).forEach(function(r){qz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qz(t,e,n){return e=Kz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kz(t){var e=Gz(t,"string");return typeof e=="symbol"?e:e+""}function Gz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PP(t){return t&&t.map((e,n)=>ot.createElement(e.tag,jf({key:n},e.attr),PP(e.child)))}function Qz(t){return e=>ot.createElement(Xz,$f({attr:jf({},t.attr)},e),PP(t.child))}function Xz(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=Wz(t,zz),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ot.createElement("svg",$f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:jf(jf({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ot.createElement("title",null,s),t.children)};return Fb!==void 0?ot.createElement(Fb.Consumer,null,n=>e(n)):e(xP)}function Yz(t){return Qz({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}const Jz=""+new URL("banner-CuJgjCV8.png",import.meta.url).href;function Zz(){return D.jsxs(Q,{style:$b.container,children:[D.jsx(H,{style:$b.title,children:"Pocket Stylist"}),D.jsx(H,{children:"Welcome to your personal style assistant."})]})}const $b=Ie.create({container:{flex:1,padding:20,alignItems:"center",justifyContent:"center"},title:{fontSize:24,fontWeight:"bold",marginBottom:10}}),eW=async(t,e)=>{const n=pl(Ns,"users",t);await Hx(n,e,{merge:!0})},tW=async t=>{const e=pl(Ns,"users",t),n=r9(e);return(await n).exists()?(await n).data():null},nW=async(t,e)=>{const n=Lw(Ns,"users",t,"closet"),r=await o9(n,e);return{...e,id:r.id}},rW=async t=>{const e=Lw(Ns,"users",t,"closet"),n=$x(e);return(await Wx(n)).docs.map(i=>({id:i.id,...i.data()}))},jb=async(t,e,n)=>{const r=pl(Ns,"users",t,"closet",e);await i9(r,n)},iW=async(t,e)=>{const n=pl(Ns,"users",t,"closet",e);await s9(n)},sW=async(t,e,n)=>{const r=pl(Ns,"users",t,"schedule",e);await Hx(r,{date:e,...n},{merge:!0})},oW=async t=>{const e=Lw(Ns,"users",t,"schedule"),n=$x(e),r=await Wx(n),i={};return r.forEach(s=>{i[s.id]=s.data()}),i},kP=C.createContext();function zp(){return C.useContext(kP)}function aW({children:t}){const{currentUser:e}=AP(),[n,r]=C.useState([]),[i,s]=C.useState({}),[o,a]=C.useState(!0);C.useEffect(()=>{e?(async()=>{try{const R=await rW(e.uid);r(R);const w=await oW(e.uid);s(w)}catch(R){console.error("Error fetching data:",R)}finally{a(!1)}})():(r([]),s({}),a(!1))},[e]);const v={items:n,schedule:i,loading:o,addItem:async E=>{if(e)try{const R=await nW(e.uid,{...E,rating:3,wearCount:0,createdAt:new Date().toISOString()});r(w=>[...w,R])}catch(R){console.error("Error adding item:",R)}},updateItem:async(E,R)=>{if(e)try{await jb(e.uid,E,R),r(w=>w.map(y=>y.id===E?{...y,...R}:y))}catch(w){console.error("Error updating item:",w)}},deleteItem:async E=>{if(e)try{await iW(e.uid,E),r(R=>R.filter(w=>w.id!==E))}catch(R){console.error("Error deleting item:",R)}},addToSchedule:async(E,R)=>{if(e)try{await sW(e.uid,E,R),s(w=>({...w,[E]:R}))}catch(w){console.error("Error saving schedule:",w)}},markAsWorn:async(E,R=new Date)=>{if(!e)return;const w=new Date(R).toISOString();r(y=>y.map(S=>E.includes(S.id)?{...S,lastWorn:w,wearCount:(S.wearCount||0)+1}:S));for(const y of E){const S=n.find(k=>k.id===y);S&&await jb(e.uid,y,{lastWorn:w,wearCount:(S.wearCount||0)+1})}},isItemAvailable:E=>{if(!E.lastWorn)return!0;const R=new Date(E.lastWorn),w=new Date(R);return w.setDate(R.getDate()+(E.refreshCycle||1)),new Date>=w}};return D.jsx(kP.Provider,{value:v,children:t})}const OP=2,lW=df.get("window").width,uW=(lW-40)/OP;function cW(){const{items:t,isItemAvailable:e,deleteItem:n,updateItem:r}=zp(),i=ol(),[s,o]=C.useState(!1),[a,l]=C.useState(!1),[c,h]=C.useState(null),d=C.useRef(null),f=C.useRef(null),m=y=>{const S=y.target.files[0];if(S){o(!1);const k=new FileReader;k.onloadend=()=>{i("/camera",{state:{image:k.result}})},k.readAsDataURL(S)}},v=y=>{h(y),l(!0)},E=async()=>{confirm("Are you sure you want to delete this item?")&&(await n(c.id),l(!1))},R=async y=>{await r(c.id,{rating:y}),h(S=>({...S,rating:y}))},w=({item:y})=>{const S=e(y);return D.jsx(Ee,{onPress:()=>v(y),children:D.jsxs(Q,{style:[pe.itemContainer,!S&&pe.unavailableItem],children:[D.jsx(ur,{source:{uri:y.imageUri},style:pe.image,resizeMode:"cover"}),D.jsxs(Q,{style:pe.infoContainer,children:[D.jsx(H,{style:pe.itemType,children:y.type}),!S&&D.jsx(H,{style:pe.unavailableText,children:"In Wash"})]})]})})};return D.jsxs(Q,{style:pe.container,children:[D.jsxs(Q,{style:pe.header,children:[D.jsx(H,{style:pe.title,children:"Virtual Closet"}),D.jsx(Ee,{style:pe.addButton,onPress:()=>o(!0),children:D.jsx(H,{style:pe.addButtonText,children:"+ Add"})}),D.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:d,style:{display:"none"},onChange:m}),D.jsx("input",{type:"file",accept:"image/*",ref:f,style:{display:"none"},onChange:m})]}),D.jsx(GF,{data:t,renderItem:w,keyExtractor:y=>y.id,numColumns:OP,contentContainerStyle:pe.listContent}),D.jsx(oc,{animationType:"fade",transparent:!0,visible:s,onRequestClose:()=>o(!1),children:D.jsxs(Q,{style:pe.modalOverlay,children:[D.jsx(Ee,{style:pe.modalBackdrop,onPress:()=>o(!1)}),D.jsxs(Q,{style:pe.modalContent,children:[D.jsx(H,{style:pe.modalTitle,children:"Add New Item"}),D.jsx(Ee,{style:pe.modalButton,onPress:()=>{o(!1),d.current.click()},children:D.jsx(H,{style:pe.modalButtonText,children:"Take Photo"})}),D.jsx(Ee,{style:pe.modalButton,onPress:()=>{o(!1),f.current.click()},children:D.jsx(H,{style:pe.modalButtonText,children:"Choose from Library"})}),D.jsx(Ee,{style:[pe.modalButton,pe.cancelButton],onPress:()=>o(!1),children:D.jsx(H,{style:pe.cancelButtonText,children:"Cancel"})})]})]})}),D.jsx(oc,{animationType:"slide",visible:a,onRequestClose:()=>l(!1),children:D.jsx(Q,{style:pe.detailContainer,children:c&&D.jsxs(ir,{children:[D.jsx(ur,{source:{uri:c.imageUri},style:pe.detailImage,resizeMode:"contain"}),D.jsxs(Q,{style:pe.detailInfo,children:[D.jsx(H,{style:pe.detailTitle,children:c.type}),D.jsxs(H,{style:pe.detailText,children:["Color: ",c.color]}),D.jsxs(H,{style:pe.detailText,children:["Style: ",c.style]}),D.jsxs(H,{style:pe.detailText,children:["Worn: ",c.wearCount||0," times"]}),D.jsx(H,{style:pe.sectionTitle,children:"Rating"}),D.jsx(Q,{style:pe.ratingContainer,children:[1,2,3,4,5].map(y=>D.jsx(Ee,{onPress:()=>R(y),children:D.jsx(H,{style:[pe.star,(c.rating||0)>=y?pe.starFilled:pe.starEmpty],children:""})},y))}),D.jsx(Ee,{style:pe.deleteButton,onPress:E,children:D.jsx(H,{style:pe.deleteButtonText,children:"Delete Item"})}),D.jsx(Ee,{style:pe.closeDetailButton,onPress:()=>l(!1),children:D.jsx(H,{style:pe.closeDetailButtonText,children:"Close"})})]})]})})})]})}const pe=Ie.create({container:{flex:1,padding:10,backgroundColor:"#fff"},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingHorizontal:10},title:{fontSize:24,fontWeight:"bold"},addButton:{backgroundColor:"#007AFF",paddingVertical:8,paddingHorizontal:15,borderRadius:20},addButtonText:{color:"#fff",fontWeight:"bold"},listContent:{paddingBottom:20},itemContainer:{width:uW,margin:5,backgroundColor:"#f9f9f9",borderRadius:10,overflow:"hidden",elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:1.41},unavailableItem:{opacity:.5,backgroundColor:"#eee"},image:{width:"100%",height:150},infoContainer:{padding:10},itemType:{textTransform:"capitalize",fontWeight:"bold"},unavailableText:{color:"red",fontSize:12,marginTop:5},modalOverlay:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)"},modalBackdrop:{...Ie.absoluteFillObject},modalContent:{width:"80%",maxWidth:300,backgroundColor:"white",borderRadius:20,padding:20,alignItems:"center",elevation:5},modalTitle:{fontSize:18,fontWeight:"bold",marginBottom:20},modalButton:{width:"100%",padding:15,backgroundColor:"#f0f0f0",borderRadius:10,marginBottom:10,alignItems:"center"},modalButtonText:{fontSize:16,color:"#007AFF"},cancelButton:{backgroundColor:"transparent",marginTop:5},cancelButtonText:{fontSize:16,color:"#FF3B30",fontWeight:"bold"},detailContainer:{flex:1,backgroundColor:"#fff"},detailImage:{width:"100%",height:400,backgroundColor:"#f0f0f0"},detailInfo:{padding:20},detailTitle:{fontSize:28,fontWeight:"bold",marginBottom:10,textTransform:"capitalize"},detailText:{fontSize:16,marginBottom:5,color:"#333"},sectionTitle:{fontSize:18,fontWeight:"bold",marginTop:20,marginBottom:10},ratingContainer:{flexDirection:"row",marginBottom:20},star:{fontSize:30,marginRight:5},starFilled:{color:"#FFD700"},starEmpty:{color:"#ddd"},deleteButton:{backgroundColor:"#FF3B30",padding:15,borderRadius:10,alignItems:"center",marginTop:20},deleteButtonText:{color:"#fff",fontWeight:"bold",fontSize:16},closeDetailButton:{padding:15,alignItems:"center",marginTop:10},closeDetailButtonText:{color:"#007AFF",fontSize:16}});function oe(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}function V(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}let DP=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return DP=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function Tv(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const bv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class te extends Error{}class Mt extends te{constructor(e,n,r,i){super(`${Mt.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.requestID=i==null?void 0:i.get("x-request-id"),this.error=n;const s=n;this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Wp({message:r,cause:bv(n)});const s=n==null?void 0:n.error;return e===400?new LP(e,s,r,i):e===401?new NP(e,s,r,i):e===403?new MP(e,s,r,i):e===404?new VP(e,s,r,i):e===409?new FP(e,s,r,i):e===422?new BP(e,s,r,i):e===429?new $P(e,s,r,i):e>=500?new jP(e,s,r,i):new Mt(e,s,r,i)}}class Fn extends Mt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Wp extends Mt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Yw extends Wp{constructor({message:e}={}){super({message:e??"Request timed out."})}}class LP extends Mt{}class NP extends Mt{}class MP extends Mt{}class VP extends Mt{}class FP extends Mt{}class BP extends Mt{}class $P extends Mt{}class jP extends Mt{}class UP extends te{constructor(){super("Could not parse response content as the length limit was reached")}}class zP extends te{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class lu extends Error{constructor(e){super(e)}}const hW=/^[a-z][a-z0-9+.-]*:/i,dW=t=>hW.test(t);let sn=t=>(sn=Array.isArray,sn(t)),Ub=sn;function WP(t){return typeof t!="object"?{}:t??{}}function fW(t){if(!t)return!0;for(const e in t)return!1;return!0}function pW(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function gg(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const mW=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new te(`${t} must be an integer`);if(e<0)throw new te(`${t} must be a positive integer`);return e},gW=t=>{try{return JSON.parse(t)}catch{return}},jc=t=>new Promise(e=>setTimeout(e,t)),la="6.10.0",yW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function vW(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const _W=()=>{var n;const t=vW();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":la,"X-Stainless-OS":Wb(Deno.build.os),"X-Stainless-Arch":zb(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":la,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":la,"X-Stainless-OS":Wb(globalThis.process.platform??"unknown"),"X-Stainless-Arch":zb(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=wW();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":la,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":la,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function wW(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const zb=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Wb=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Hb;const SW=()=>Hb??(Hb=_W());function EW(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function HP(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function qP(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return HP({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)==null?void 0:n.call(e))}})}function KP(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function TW(t){var r,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(r=t[Symbol.asyncIterator]()).return)==null?void 0:i.call(r));return}const e=t.getReader(),n=e.cancel();e.releaseLock(),await n}const bW=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),GP="RFC3986",QP=t=>String(t),qb={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:QP},RW="RFC1738";let Rv=(t,e)=>(Rv=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Rv(t,e));const Er=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),yg=1024,CW=(t,e,n,r,i)=>{if(t.length===0)return t;let s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let o="";for(let a=0;a<s.length;a+=yg){const l=s.length>=yg?s.slice(a,a+yg):s,c=[];for(let h=0;h<l.length;++h){let d=l.charCodeAt(h);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||i===RW&&(d===40||d===41)){c[c.length]=l.charAt(h);continue}if(d<128){c[c.length]=Er[d];continue}if(d<2048){c[c.length]=Er[192|d>>6]+Er[128|d&63];continue}if(d<55296||d>=57344){c[c.length]=Er[224|d>>12]+Er[128|d>>6&63]+Er[128|d&63];continue}h+=1,d=65536+((d&1023)<<10|l.charCodeAt(h)&1023),c[c.length]=Er[240|d>>18]+Er[128|d>>12&63]+Er[128|d>>6&63]+Er[128|d&63]}o+=c.join("")}return o};function IW(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Kb(t,e){if(sn(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const XP={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},YP=function(t,e){Array.prototype.push.apply(t,sn(e)?e:[e])};let Gb;const ft={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:CW,encodeValuesOnly:!1,format:GP,formatter:QP,indices:!1,serializeDate(t){return(Gb??(Gb=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function AW(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const vg={};function JP(t,e,n,r,i,s,o,a,l,c,h,d,f,m,v,E,R,w){let y=t,S=w,k=0,N=!1;for(;(S=S.get(vg))!==void 0&&!N;){const A=S.get(t);if(k+=1,typeof A<"u"){if(A===k)throw new RangeError("Cyclic object value");N=!0}typeof S.get(vg)>"u"&&(k=0)}if(typeof c=="function"?y=c(e,y):y instanceof Date?y=f==null?void 0:f(y):n==="comma"&&sn(y)&&(y=Kb(y,function(A){return A instanceof Date?f==null?void 0:f(A):A})),y===null){if(s)return l&&!E?l(e,ft.encoder,R,"key",m):e;y=""}if(AW(y)||IW(y)){if(l){const A=E?e:l(e,ft.encoder,R,"key",m);return[(v==null?void 0:v(A))+"="+(v==null?void 0:v(l(y,ft.encoder,R,"value",m)))]}return[(v==null?void 0:v(e))+"="+(v==null?void 0:v(String(y)))]}const L=[];if(typeof y>"u")return L;let T;if(n==="comma"&&sn(y))E&&l&&(y=Kb(y,l)),T=[{value:y.length>0?y.join(",")||null:void 0}];else if(sn(c))T=c;else{const A=Object.keys(y);T=h?A.sort(h):A}const _=a?String(e).replace(/\./g,"%2E"):String(e),b=r&&sn(y)&&y.length===1?_+"[]":_;if(i&&sn(y)&&y.length===0)return b+"[]";for(let A=0;A<T.length;++A){const x=T[A],O=typeof x=="object"&&typeof x.value<"u"?x.value:y[x];if(o&&O===null)continue;const P=d&&a?x.replace(/\./g,"%2E"):x,ue=sn(y)?typeof n=="function"?n(b,P):b:b+(d?"."+P:"["+P+"]");w.set(t,k);const ge=new WeakMap;ge.set(vg,w),YP(L,JP(O,ue,n,r,i,s,o,a,n==="comma"&&E&&sn(y)?null:l,c,h,d,f,m,v,E,R,ge))}return L}function xW(t=ft){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||ft.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=GP;if(typeof t.format<"u"){if(!Rv(qb,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=qb[n];let i=ft.filter;(typeof t.filter=="function"||sn(t.filter))&&(i=t.filter);let s;if(t.arrayFormat&&t.arrayFormat in XP?s=t.arrayFormat:"indices"in t?s=t.indices?"indices":"repeat":s=ft.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:ft.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:ft.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:ft.allowEmptyArrays,arrayFormat:s,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:ft.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?ft.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:ft.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:ft.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:ft.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:ft.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:ft.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:ft.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:ft.strictNullHandling}}function PW(t,e={}){let n=t;const r=xW(e);let i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):sn(r.filter)&&(s=r.filter,i=s);const o=[];if(typeof n!="object"||n===null)return"";const a=XP[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const c=new WeakMap;for(let f=0;f<i.length;++f){const m=i[f];r.skipNulls&&n[m]===null||YP(o,JP(n[m],m,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}const h=o.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),h.length>0?d+h:""}function kW(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Qb;function Jw(t){let e;return(Qb??(e=new globalThis.TextEncoder,Qb=e.encode.bind(e)))(t)}let Xb;function Yb(t){let e;return(Xb??(e=new globalThis.TextDecoder,Xb=e.decode.bind(e)))(t)}var vn,_n;class Hp{constructor(){vn.set(this,void 0),_n.set(this,void 0),oe(this,vn,new Uint8Array),oe(this,_n,null)}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Jw(e):e;oe(this,vn,kW([V(this,vn,"f"),n]));const r=[];let i;for(;(i=OW(V(this,vn,"f"),V(this,_n,"f")))!=null;){if(i.carriage&&V(this,_n,"f")==null){oe(this,_n,i.index);continue}if(V(this,_n,"f")!=null&&(i.index!==V(this,_n,"f")+1||i.carriage)){r.push(Yb(V(this,vn,"f").subarray(0,V(this,_n,"f")-1))),oe(this,vn,V(this,vn,"f").subarray(V(this,_n,"f"))),oe(this,_n,null);continue}const s=V(this,_n,"f")!==null?i.preceding-1:i.preceding,o=Yb(V(this,vn,"f").subarray(0,s));r.push(o),oe(this,vn,V(this,vn,"f").subarray(i.index)),oe(this,_n,null)}return r}flush(){return V(this,vn,"f").length?this.decode(`
`):[]}}vn=new WeakMap,_n=new WeakMap;Hp.NEWLINE_CHARS=new Set([`
`,"\r"]);Hp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function OW(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function DW(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const Uf={off:0,error:200,warn:300,info:400,debug:500},Jb=(t,e,n)=>{if(t){if(pW(Uf,t))return t;xt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Uf))}`)}};function uu(){}function Hh(t,e,n){return!e||Uf[t]>Uf[n]?uu:e[t].bind(e)}const LW={error:uu,warn:uu,info:uu,debug:uu};let Zb=new WeakMap;function xt(t){const e=t.logger,n=t.logLevel??"off";if(!e)return LW;const r=Zb.get(e);if(r&&r[0]===n)return r[1];const i={error:Hh("error",e,n),warn:Hh("warn",e,n),info:Hh("info",e,n),debug:Hh("debug",e,n)};return Zb.set(e,[n,i]),i}const to=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var Xl;class kr{constructor(e,n,r){this.iterator=e,Xl.set(this,void 0),this.controller=n,oe(this,Xl,r)}static fromSSEResponse(e,n,r){let i=!1;const s=r?xt(r):console;async function*o(){if(i)throw new te("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(const l of NW(e,n))if(!a){if(l.data.startsWith("[DONE]")){a=!0;continue}if(l.event===null||!l.event.startsWith("thread.")){let c;try{c=JSON.parse(l.data)}catch(h){throw s.error("Could not parse message into JSON:",l.data),s.error("From chunk:",l.raw),h}if(c&&c.error)throw new Mt(void 0,c.error,void 0,e.headers);yield c}else{let c;try{c=JSON.parse(l.data)}catch(h){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),h}if(l.event=="error")throw new Mt(void 0,c.error,c.message,void 0);yield{event:l.event,data:c}}}a=!0}catch(l){if(Tv(l))return;throw l}finally{a||n.abort()}}return new kr(o,n,r)}static fromReadableStream(e,n,r){let i=!1;async function*s(){const a=new Hp,l=KP(e);for await(const c of l)for(const h of a.decode(c))yield h;for(const c of a.flush())yield c}async function*o(){if(i)throw new te("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let a=!1;try{for await(const l of s())a||l&&(yield JSON.parse(l));a=!0}catch(l){if(Tv(l))return;throw l}finally{a||n.abort()}}return new kr(o,n,r)}[(Xl=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new kr(()=>i(e),this.controller,V(this,Xl,"f")),new kr(()=>i(n),this.controller,V(this,Xl,"f"))]}toReadableStream(){const e=this;let n;return HP({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const o=Jw(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*NW(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new te("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new te("Attempted to iterate over a response with no body");const n=new VW,r=new Hp,i=KP(t.body);for await(const s of MW(i))for(const o of r.decode(s)){const a=n.decode(o);a&&(yield a)}for(const s of r.flush()){const o=n.decode(s);o&&(yield o)}}async function*MW(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Jw(n):n;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let s;for(;(s=DW(e))!==-1;)yield e.slice(0,s),e=e.slice(s)}e.length>0&&(yield e)}class VW{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=FW(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function FW(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function ZP(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,o=await(async()=>{var d;if(e.options.stream)return xt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):kr.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const a=n.headers.get("content-type"),l=(d=a==null?void 0:a.split(";")[0])==null?void 0:d.trim();if((l==null?void 0:l.includes("application/json"))||(l==null?void 0:l.endsWith("+json"))){const f=await n.json();return ek(f,n)}return await n.text()})();return xt(t).debug(`[${r}] response parsed`,to({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}function ek(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var cu;class qp extends Promise{constructor(e,n,r=ZP){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,cu.set(this,void 0),oe(this,cu,e)}_thenUnwrap(e){return new qp(V(this,cu,"f"),this.responsePromise,async(n,r)=>ek(e(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(V(this,cu,"f"),e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}cu=new WeakMap;var qh;class Zw{constructor(e,n,r,i){qh.set(this,void 0),oe(this,qh,e),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new te("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await V(this,qh,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(qh=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class BW extends qp{constructor(e,n,r){super(e,n,async(i,s)=>new r(i,s.response,await ZP(i,s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}class Kp extends Zw{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class ct extends Zw{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const e=this.getPaginatedItems(),n=(r=e[e.length-1])==null?void 0:r.id;return n?{...this.options,query:{...WP(this.options.query),after:n}}:null}}class zf extends Zw{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...WP(this.options.query),after:e}}:null}}const tk=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)==null?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Mu(t,e,n){return tk(),new File(t,e??"unknown_file",n)}function Ad(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const eS=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",eR=async(t,e)=>Cv(t.body)?{...t,body:await nk(t.body,e)}:t,Io=async(t,e)=>({...t,body:await nk(t.body,e)}),tR=new WeakMap;function $W(t){const e=typeof t=="function"?t:t.fetch,n=tR.get(e);if(n)return n;const r=(async()=>{try{const i="Response"in e?e.Response:(await e("data:,")).constructor,s=new FormData;return s.toString()!==await new i(s).text()}catch{return!0}})();return tR.set(e,r),r}const nk=async(t,e)=>{if(!await $W(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(t||{}).map(([r,i])=>Iv(n,r,i))),n},rk=t=>t instanceof Blob&&"name"in t,jW=t=>typeof t=="object"&&t!==null&&(t instanceof Response||eS(t)||rk(t)),Cv=t=>{if(jW(t))return!0;if(Array.isArray(t))return t.some(Cv);if(t&&typeof t=="object"){for(const e in t)if(Cv(t[e]))return!0}return!1},Iv=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(n instanceof Response)t.append(e,Mu([await n.blob()],Ad(n)));else if(eS(n))t.append(e,Mu([await new Response(qP(n)).blob()],Ad(n)));else if(rk(n))t.append(e,n,Ad(n));else if(Array.isArray(n))await Promise.all(n.map(r=>Iv(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>Iv(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},ik=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",UW=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&ik(t),zW=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function WW(t,e,n){if(tk(),t=await t,UW(t))return t instanceof File?t:Mu([await t.arrayBuffer()],t.name);if(zW(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Mu(await Av(i),e,n)}const r=await Av(t);if(e||(e=Ad(t)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n={...n,type:i})}return Mu(r,e,n)}async function Av(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(ik(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(eS(t))for await(const r of t)e.push(...await Av(r));else{const r=(n=t==null?void 0:t.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof t}${r?`; constructor: ${r}`:""}${HW(t)}`)}return e}function HW(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class ee{constructor(e){this._client=e}}function sk(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const nR=Object.freeze(Object.create(null)),qW=(t=sk)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],o=n.reduce((h,d,f)=>{var E;/[?#]/.test(d)&&(i=!0);const m=r[f];let v=(i?encodeURIComponent:t)(""+m);return f!==r.length&&(m==null||typeof m=="object"&&m.toString===((E=Object.getPrototypeOf(Object.getPrototypeOf(m.hasOwnProperty??nR)??nR))==null?void 0:E.toString))&&(v=m+"",s.push({start:h.length+d.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(m).slice(8,-1)} is not a valid path parameter`})),h+d+(f===r.length?"":v)},""),a=o.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(a))!==null;)s.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(s.sort((h,d)=>h.start-d.start),s.length>0){let h=0;const d=s.reduce((f,m)=>{const v=" ".repeat(m.start-h),E="^".repeat(m.length);return h=m.start+m.length,f+v+E},"");throw new te(`Path parameters result in path with invalid segments:
${s.map(f=>f.error).join(`
`)}
${o}
${d}`)}return o},j=qW(sk);let ok=class extends ee{list(e,n={},r){return this._client.getAPIList(j`/chat/completions/${e}/messages`,ct,{query:n,...r})}};function Wf(t){return t!==void 0&&"function"in t&&t.function!==void 0}function tS(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function Uc(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function KW(t,e){return!e||!ak(e)?{...t,choices:t.choices.map(n=>(lk(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:nS(t,e)}function nS(t,e){const n=t.choices.map(r=>{var i;if(r.finish_reason==="length")throw new UP;if(r.finish_reason==="content_filter")throw new zP;return lk(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(s=>QW(e,s)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?GW(e,r.message.content):null}}});return{...t,choices:n}}function GW(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function QW(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return Wf(i)&&((s=i.function)==null?void 0:s.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Uc(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function XW(t,e){var r;if(!t||!("tools"in t)||!t.tools)return!1;const n=(r=t.tools)==null?void 0:r.find(i=>{var s;return Wf(i)&&((s=i.function)==null?void 0:s.name)===e.function.name});return Wf(n)&&(Uc(n)||(n==null?void 0:n.function.strict)||!1)}function ak(t){var e;return tS(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>Uc(n)||n.type==="function"&&n.function.strict===!0))??!1}function lk(t){for(const e of t||[])if(e.type!=="function")throw new te(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function YW(t){for(const e of t??[]){if(e.type!=="function")throw new te(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new te(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Hf=t=>(t==null?void 0:t.role)==="assistant",uk=t=>(t==null?void 0:t.role)==="tool";var xv,xd,Pd,hu,du,kd,fu,Yr,pu,qf,Kf,ua,ck;class rS{constructor(){xv.add(this),this.controller=new AbortController,xd.set(this,void 0),Pd.set(this,()=>{}),hu.set(this,()=>{}),du.set(this,void 0),kd.set(this,()=>{}),fu.set(this,()=>{}),Yr.set(this,{}),pu.set(this,!1),qf.set(this,!1),Kf.set(this,!1),ua.set(this,!1),oe(this,xd,new Promise((e,n)=>{oe(this,Pd,e,"f"),oe(this,hu,n,"f")})),oe(this,du,new Promise((e,n)=>{oe(this,kd,e,"f"),oe(this,fu,n,"f")})),V(this,xd,"f").catch(()=>{}),V(this,du,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},V(this,xv,"m",ck).bind(this))},0)}_connected(){this.ended||(V(this,Pd,"f").call(this),this._emit("connect"))}get ended(){return V(this,pu,"f")}get errored(){return V(this,qf,"f")}get aborted(){return V(this,Kf,"f")}abort(){this.controller.abort()}on(e,n){return(V(this,Yr,"f")[e]||(V(this,Yr,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=V(this,Yr,"f")[e];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(V(this,Yr,"f")[e]||(V(this,Yr,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{oe(this,ua,!0),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){oe(this,ua,!0),await V(this,du,"f")}_emit(e,...n){if(V(this,pu,"f"))return;e==="end"&&(oe(this,pu,!0),V(this,kd,"f").call(this));const r=V(this,Yr,"f")[e];if(r&&(V(this,Yr,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!V(this,ua,"f")&&!(r!=null&&r.length)&&Promise.reject(i),V(this,hu,"f").call(this,i),V(this,fu,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!V(this,ua,"f")&&!(r!=null&&r.length)&&Promise.reject(i),V(this,hu,"f").call(this,i),V(this,fu,"f").call(this,i),this._emit("end")}}_emitFinal(){}}xd=new WeakMap,Pd=new WeakMap,hu=new WeakMap,du=new WeakMap,kd=new WeakMap,fu=new WeakMap,Yr=new WeakMap,pu=new WeakMap,qf=new WeakMap,Kf=new WeakMap,ua=new WeakMap,xv=new WeakSet,ck=function(e){if(oe(this,qf,!0),e instanceof Error&&e.name==="AbortError"&&(e=new Fn),e instanceof Fn)return oe(this,Kf,!0),this._emit("abort",e);if(e instanceof te)return this._emit("error",e);if(e instanceof Error){const n=new te(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new te(String(e)))};function JW(t){return typeof t.parse=="function"}var Qt,Pv,Gf,kv,Ov,Dv,hk,dk;const ZW=10;class fk extends rS{constructor(){super(...arguments),Qt.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),uk(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Hf(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new te("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),V(this,Qt,"m",Pv).call(this)}async finalMessage(){return await this.done(),V(this,Qt,"m",Gf).call(this)}async finalFunctionToolCall(){return await this.done(),V(this,Qt,"m",kv).call(this)}async finalFunctionToolCallResult(){return await this.done(),V(this,Qt,"m",Ov).call(this)}async totalUsage(){return await this.done(),V(this,Qt,"m",Dv).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=V(this,Qt,"m",Gf).call(this);n&&this._emit("finalMessage",n);const r=V(this,Qt,"m",Pv).call(this);r&&this._emit("finalContent",r);const i=V(this,Qt,"m",kv).call(this);i&&this._emit("finalFunctionToolCall",i);const s=V(this,Qt,"m",Ov).call(this);s!=null&&this._emit("finalFunctionToolCallResult",s),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",V(this,Qt,"m",Dv).call(this))}async _createChatCompletion(e,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),V(this,Qt,"m",hk).call(this,n);const s=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(nS(s,n))}async _runChatCompletion(e,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,n,r)}async _runTools(e,n,r){var m,v,E;const i="tool",{tool_choice:s="auto",stream:o,...a}=n,l=typeof s!="string"&&s.type==="function"&&((m=s==null?void 0:s.function)==null?void 0:m.name),{maxChatCompletions:c=ZW}=r||{},h=n.tools.map(R=>{if(Uc(R)){if(!R.$callback)throw new te("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:R.$callback,name:R.function.name,description:R.function.description||"",parameters:R.function.parameters,parse:R.$parseRaw,strict:!0}}}return R}),d={};for(const R of h)R.type==="function"&&(d[R.function.name||R.function.function.name]=R.function);const f="tools"in n?h.map(R=>R.type==="function"?{type:"function",function:{name:R.function.name||R.function.function.name,parameters:R.function.parameters,description:R.function.description,strict:R.function.strict}}:R):void 0;for(const R of n.messages)this._addMessage(R,!1);for(let R=0;R<c;++R){const y=(v=(await this._createChatCompletion(e,{...a,tool_choice:s,tools:f,messages:[...this.messages]},r)).choices[0])==null?void 0:v.message;if(!y)throw new te("missing message in ChatCompletion response");if(!((E=y.tool_calls)!=null&&E.length))return;for(const S of y.tool_calls){if(S.type!=="function")continue;const k=S.id,{name:N,arguments:L}=S.function,T=d[N];if(T){if(l&&l!==N){const x=`Invalid tool_call: ${JSON.stringify(N)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:k,content:x});continue}}else{const x=`Invalid tool_call: ${JSON.stringify(N)}. Available options are: ${Object.keys(d).map(O=>JSON.stringify(O)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:k,content:x});continue}let _;try{_=JW(T)?await T.parse(L):L}catch(x){const O=x instanceof Error?x.message:String(x);this._addMessage({role:i,tool_call_id:k,content:O});continue}const b=await T.function(_,this),A=V(this,Qt,"m",dk).call(this,b);if(this._addMessage({role:i,tool_call_id:k,content:A}),l)return}}}}Qt=new WeakSet,Pv=function(){return V(this,Qt,"m",Gf).call(this).content??null},Gf=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Hf(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new te("stream ended without producing a ChatCompletionMessage with role=assistant")},kv=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(Hf(i)&&((e=i==null?void 0:i.tool_calls)!=null&&e.length))return(n=i.tool_calls.filter(s=>s.type==="function").at(-1))==null?void 0:n.function}},Ov=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(uk(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},Dv=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},hk=function(e){if(e.n!=null&&e.n>1)throw new te("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},dk=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class iS extends fk{static runTools(e,n,r){const i=new iS,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}_addMessage(e,n=!0){super._addMessage(e,n),Hf(e)&&e.content&&this._emit("content",e.content)}}const pk=1,mk=2,gk=4,yk=8,vk=16,_k=32,wk=64,Sk=128,Ek=256,Tk=Sk|Ek,bk=vk|_k|Tk|wk,Rk=pk|mk|bk,Ck=gk|yk,e8=Rk|Ck,Et={STR:pk,NUM:mk,ARR:gk,OBJ:yk,NULL:vk,BOOL:_k,NAN:wk,INFINITY:Sk,MINUS_INFINITY:Ek,INF:Tk,SPECIAL:bk,ATOM:Rk,COLLECTION:Ck,ALL:e8};class t8 extends Error{}class n8 extends Error{}function r8(t,e=Et.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return i8(t.trim(),e)}const i8=(t,e)=>{const n=t.length;let r=0;const i=f=>{throw new t8(`${f} at position ${r}`)},s=f=>{throw new n8(`${f} at position ${r}`)},o=()=>(d(),r>=n&&i("Unexpected end of input"),t[r]==='"'?a():t[r]==="{"?l():t[r]==="["?c():t.substring(r,r+4)==="null"||Et.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||Et.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||Et.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||Et.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||Et.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||Et.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):h()),a=()=>{const f=r;let m=!1;for(r++;r<n&&(t[r]!=='"'||m&&t[r-1]==="\\");)m=t[r]==="\\"?!m:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(f,++r-Number(m)))}catch(v){s(String(v))}else if(Et.STR&e)try{return JSON.parse(t.substring(f,r-Number(m))+'"')}catch{return JSON.parse(t.substring(f,t.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},l=()=>{r++,d();const f={};try{for(;t[r]!=="}";){if(d(),r>=n&&Et.OBJ&e)return f;const m=a();d(),r++;try{const v=o();Object.defineProperty(f,m,{value:v,writable:!0,enumerable:!0,configurable:!0})}catch(v){if(Et.OBJ&e)return f;throw v}d(),t[r]===","&&r++}}catch{if(Et.OBJ&e)return f;i("Expected '}' at end of object")}return r++,f},c=()=>{r++;const f=[];try{for(;t[r]!=="]";)f.push(o()),d(),t[r]===","&&r++}catch{if(Et.ARR&e)return f;i("Expected ']' at end of array")}return r++,f},h=()=>{if(r===0){t==="-"&&Et.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t)}catch(m){if(Et.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}s(String(m))}}const f=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(Et.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(t.substring(f,r))}catch{t.substring(f,r)==="-"&&Et.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(t.substring(f,t.lastIndexOf("e")))}catch(v){s(String(v))}}},d=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return o()},rR=t=>r8(t,Et.ALL^Et.NUM);var dt,Xr,ea,Ki,_g,Kh,wg,Sg,Eg,Gh,Tg,iR;class yc extends fk{constructor(e){super(),dt.add(this),Xr.set(this,void 0),ea.set(this,void 0),Ki.set(this,void 0),oe(this,Xr,e),oe(this,ea,[])}get currentChatCompletionSnapshot(){return V(this,Ki,"f")}static fromReadableStream(e){const n=new yc(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const i=new yc(n);return i._run(()=>i._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,n,r){var o;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),V(this,dt,"m",_g).call(this);const s=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of s)V(this,dt,"m",wg).call(this,a);if((o=s.controller.signal)!=null&&o.aborted)throw new Fn;return this._addChatCompletion(V(this,dt,"m",Gh).call(this))}async _fromReadableStream(e,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),V(this,dt,"m",_g).call(this),this._connected();const i=kr.fromReadableStream(e,this.controller);let s;for await(const a of i)s&&s!==a.id&&this._addChatCompletion(V(this,dt,"m",Gh).call(this)),V(this,dt,"m",wg).call(this,a),s=a.id;if((o=i.controller.signal)!=null&&o.aborted)throw new Fn;return this._addChatCompletion(V(this,dt,"m",Gh).call(this))}[(Xr=new WeakMap,ea=new WeakMap,Ki=new WeakMap,dt=new WeakSet,_g=function(){this.ended||oe(this,Ki,void 0)},Kh=function(n){let r=V(this,ea,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},V(this,ea,"f")[n.index]=r,r)},wg=function(n){var i,s,o,a,l,c,h,d,f,m,v,E,R,w,y;if(this.ended)return;const r=V(this,dt,"m",iR).call(this,n);this._emit("chunk",n,r);for(const S of n.choices){const k=r.choices[S.index];S.delta.content!=null&&((i=k.message)==null?void 0:i.role)==="assistant"&&((s=k.message)!=null&&s.content)&&(this._emit("content",S.delta.content,k.message.content),this._emit("content.delta",{delta:S.delta.content,snapshot:k.message.content,parsed:k.message.parsed})),S.delta.refusal!=null&&((o=k.message)==null?void 0:o.role)==="assistant"&&((a=k.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:S.delta.refusal,snapshot:k.message.refusal}),((l=S.logprobs)==null?void 0:l.content)!=null&&((c=k.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(h=S.logprobs)==null?void 0:h.content,snapshot:((d=k.logprobs)==null?void 0:d.content)??[]}),((f=S.logprobs)==null?void 0:f.refusal)!=null&&((m=k.message)==null?void 0:m.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(v=S.logprobs)==null?void 0:v.refusal,snapshot:((E=k.logprobs)==null?void 0:E.refusal)??[]});const N=V(this,dt,"m",Kh).call(this,k);k.finish_reason&&(V(this,dt,"m",Eg).call(this,k),N.current_tool_call_index!=null&&V(this,dt,"m",Sg).call(this,k,N.current_tool_call_index));for(const L of S.delta.tool_calls??[])N.current_tool_call_index!==L.index&&(V(this,dt,"m",Eg).call(this,k),N.current_tool_call_index!=null&&V(this,dt,"m",Sg).call(this,k,N.current_tool_call_index)),N.current_tool_call_index=L.index;for(const L of S.delta.tool_calls??[]){const T=(R=k.message.tool_calls)==null?void 0:R[L.index];T!=null&&T.type&&((T==null?void 0:T.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(w=T.function)==null?void 0:w.name,index:L.index,arguments:T.function.arguments,parsed_arguments:T.function.parsed_arguments,arguments_delta:((y=L.function)==null?void 0:y.arguments)??""}):(T==null||T.type,void 0))}}},Sg=function(n,r){var o,a,l;if(V(this,dt,"m",Kh).call(this,n).done_tool_calls.has(r))return;const s=(o=n.message.tool_calls)==null?void 0:o[r];if(!s)throw new Error("no tool call snapshot");if(!s.type)throw new Error("tool call snapshot missing `type`");if(s.type==="function"){const c=(l=(a=V(this,Xr,"f"))==null?void 0:a.tools)==null?void 0:l.find(h=>Wf(h)&&h.function.name===s.function.name);this._emit("tool_calls.function.arguments.done",{name:s.function.name,index:r,arguments:s.function.arguments,parsed_arguments:Uc(c)?c.$parseRaw(s.function.arguments):c!=null&&c.function.strict?JSON.parse(s.function.arguments):null})}else s.type},Eg=function(n){var i,s;const r=V(this,dt,"m",Kh).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=V(this,dt,"m",Tg).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(i=n.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(s=n.logprobs)!=null&&s.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Gh=function(){if(this.ended)throw new te("stream has ended, this shouldn't happen");const n=V(this,Ki,"f");if(!n)throw new te("request ended without sending any chunks");return oe(this,Ki,void 0),oe(this,ea,[]),s8(n,V(this,Xr,"f"))},Tg=function(){var r;const n=(r=V(this,Xr,"f"))==null?void 0:r.response_format;return tS(n)?n:null},iR=function(n){var r,i,s,o;let a=V(this,Ki,"f");const{choices:l,...c}=n;a?Object.assign(a,c):a=oe(this,Ki,{...c,choices:[]});for(const{delta:h,finish_reason:d,index:f,logprobs:m=null,...v}of n.choices){let E=a.choices[f];if(E||(E=a.choices[f]={finish_reason:d,index:f,message:{},logprobs:m,...v}),m)if(!E.logprobs)E.logprobs=Object.assign({},m);else{const{content:L,refusal:T,..._}=m;Object.assign(E.logprobs,_),L&&((r=E.logprobs).content??(r.content=[]),E.logprobs.content.push(...L)),T&&((i=E.logprobs).refusal??(i.refusal=[]),E.logprobs.refusal.push(...T))}if(d&&(E.finish_reason=d,V(this,Xr,"f")&&ak(V(this,Xr,"f")))){if(d==="length")throw new UP;if(d==="content_filter")throw new zP}if(Object.assign(E,v),!h)continue;const{content:R,refusal:w,function_call:y,role:S,tool_calls:k,...N}=h;if(Object.assign(E.message,N),w&&(E.message.refusal=(E.message.refusal||"")+w),S&&(E.message.role=S),y&&(E.message.function_call?(y.name&&(E.message.function_call.name=y.name),y.arguments&&((s=E.message.function_call).arguments??(s.arguments=""),E.message.function_call.arguments+=y.arguments)):E.message.function_call=y),R&&(E.message.content=(E.message.content||"")+R,!E.message.refusal&&V(this,dt,"m",Tg).call(this)&&(E.message.parsed=rR(E.message.content))),k){E.message.tool_calls||(E.message.tool_calls=[]);for(const{index:L,id:T,type:_,function:b,...A}of k){const x=(o=E.message.tool_calls)[L]??(o[L]={});Object.assign(x,A),T&&(x.id=T),_&&(x.type=_),b&&(x.function??(x.function={name:b.name??"",arguments:""})),b!=null&&b.name&&(x.function.name=b.name),b!=null&&b.arguments&&(x.function.arguments+=b.arguments,XW(V(this,Xr,"f"),x)&&(x.function.parsed_arguments=rR(x.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new kr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function s8(t,e){const{id:n,choices:r,created:i,model:s,system_fingerprint:o,...a}=t,l={...a,id:n,choices:r.map(({message:c,finish_reason:h,index:d,logprobs:f,...m})=>{if(!h)throw new te(`missing finish_reason for choice ${d}`);const{content:v=null,function_call:E,tool_calls:R,...w}=c,y=c.role;if(!y)throw new te(`missing role for choice ${d}`);if(E){const{arguments:S,name:k}=E;if(S==null)throw new te(`missing function_call.arguments for choice ${d}`);if(!k)throw new te(`missing function_call.name for choice ${d}`);return{...m,message:{content:v,function_call:{arguments:S,name:k},role:y,refusal:c.refusal??null},finish_reason:h,index:d,logprobs:f}}return R?{...m,index:d,finish_reason:h,logprobs:f,message:{...w,role:y,content:v,refusal:c.refusal??null,tool_calls:R.map((S,k)=>{const{function:N,type:L,id:T,..._}=S,{arguments:b,name:A,...x}=N||{};if(T==null)throw new te(`missing choices[${d}].tool_calls[${k}].id
${Qh(t)}`);if(L==null)throw new te(`missing choices[${d}].tool_calls[${k}].type
${Qh(t)}`);if(A==null)throw new te(`missing choices[${d}].tool_calls[${k}].function.name
${Qh(t)}`);if(b==null)throw new te(`missing choices[${d}].tool_calls[${k}].function.arguments
${Qh(t)}`);return{..._,id:T,type:L,function:{...x,name:A,arguments:b}}})}}:{...m,message:{...w,content:v,role:y,refusal:c.refusal??null},finish_reason:h,index:d,logprobs:f}}),created:i,model:s,object:"chat.completion",...o?{system_fingerprint:o}:{}};return KW(l,e)}function Qh(t){return JSON.stringify(t)}class Qf extends yc{static fromReadableStream(e){const n=new Qf(null);return n._run(()=>n._fromReadableStream(e)),n}static runTools(e,n,r){const i=new Qf(n),s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}}let sS=class extends ee{constructor(){super(...arguments),this.messages=new ok(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(j`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(j`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/chat/completions",ct,{query:e,...n})}delete(e,n){return this._client.delete(j`/chat/completions/${e}`,n)}parse(e,n){return YW(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>nS(r,e))}runTools(e,n){return e.stream?Qf.runTools(this._client,e,n):iS.runTools(this._client,e,n)}stream(e,n){return yc.createChatCompletion(this._client,e,n)}};sS.Messages=ok;class oS extends ee{constructor(){super(...arguments),this.completions=new sS(this._client)}}oS.Completions=sS;const Ik=Symbol("brand.privateNullableHeaders");function*o8(t){if(!t)return;if(Ik in t){const{values:r,nulls:i}=t;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Ub(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=Ub(r[1])?r[1]:[r[1]];let o=!1;for(const a of s)a!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,a])}}const J=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[s,o]of o8(r)){const a=s.toLowerCase();i.has(a)||(e.delete(s),i.add(a)),o===null?(e.delete(s),n.add(a)):(e.append(s,o),n.delete(a))}}return{[Ik]:!0,values:e,nulls:n}};class Ak extends ee{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:J([{Accept:"application/octet-stream"},n==null?void 0:n.headers]),__binaryResponse:!0})}}class xk extends ee{create(e,n){return this._client.post("/audio/transcriptions",Io({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class Pk extends ee{create(e,n){return this._client.post("/audio/translations",Io({body:e,...n,__metadata:{model:e.model}},this._client))}}class zc extends ee{constructor(){super(...arguments),this.transcriptions=new xk(this._client),this.translations=new Pk(this._client),this.speech=new Ak(this._client)}}zc.Transcriptions=xk;zc.Translations=Pk;zc.Speech=Ak;class kk extends ee{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(j`/batches/${e}`,n)}list(e={},n){return this._client.getAPIList("/batches",ct,{query:e,...n})}cancel(e,n){return this._client.post(j`/batches/${e}/cancel`,n)}}class Ok extends ee{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:J([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get(j`/assistants/${e}`,{...n,headers:J([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post(j`/assistants/${e}`,{body:n,...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e={},n){return this._client.getAPIList("/assistants",ct,{query:e,...n,headers:J([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete(j`/assistants/${e}`,{...n,headers:J([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let Dk=class extends ee{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:J([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}};class Lk extends ee{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:J([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let Gp=class extends ee{constructor(){super(...arguments),this.sessions=new Dk(this._client),this.transcriptionSessions=new Lk(this._client)}};Gp.Sessions=Dk;Gp.TranscriptionSessions=Lk;class Nk extends ee{create(e,n){return this._client.post("/chatkit/sessions",{body:e,...n,headers:J([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}cancel(e,n){return this._client.post(j`/chatkit/sessions/${e}/cancel`,{...n,headers:J([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}}let Mk=class extends ee{retrieve(e,n){return this._client.get(j`/chatkit/threads/${e}`,{...n,headers:J([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}list(e={},n){return this._client.getAPIList("/chatkit/threads",zf,{query:e,...n,headers:J([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete(j`/chatkit/threads/${e}`,{...n,headers:J([{"OpenAI-Beta":"chatkit_beta=v1"},n==null?void 0:n.headers])})}listItems(e,n={},r){return this._client.getAPIList(j`/chatkit/threads/${e}/items`,zf,{query:n,...r,headers:J([{"OpenAI-Beta":"chatkit_beta=v1"},r==null?void 0:r.headers])})}};class Qp extends ee{constructor(){super(...arguments),this.sessions=new Nk(this._client),this.threads=new Mk(this._client)}}Qp.Sessions=Nk;Qp.Threads=Mk;class Vk extends ee{create(e,n,r){return this._client.post(j`/threads/${e}/messages`,{body:n,...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{thread_id:i}=n;return this._client.get(j`/threads/${i}/messages/${e}`,{...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{thread_id:i,...s}=n;return this._client.post(j`/threads/${i}/messages/${e}`,{body:s,...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList(j`/threads/${e}/messages`,ct,{query:n,...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n,r){const{thread_id:i}=n;return this._client.delete(j`/threads/${i}/messages/${e}`,{...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Fk extends ee{retrieve(e,n,r){const{thread_id:i,run_id:s,...o}=n;return this._client.get(j`/threads/${i}/runs/${s}/steps/${e}`,{query:o,...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n,r){const{thread_id:i,...s}=n;return this._client.getAPIList(j`/threads/${i}/runs/${e}/steps`,ct,{query:s,...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}const a8=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return Array.from(new Float32Array(r.buffer))}};var bg={};const ta=t=>{var e,n,r,i;if(typeof globalThis.process<"u")return((e=bg==null?void 0:bg[t])==null?void 0:e.trim())??void 0;if(typeof globalThis.Deno<"u")return(i=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};var Pt,co,Lv,Cr,Od,tr,ho,Ra,no,Xf,wn,Dd,Ld,Vu,mu,gu,sR,oR,aR,lR,uR,cR,hR;class Fu extends rS{constructor(){super(...arguments),Pt.add(this),Lv.set(this,[]),Cr.set(this,{}),Od.set(this,{}),tr.set(this,void 0),ho.set(this,void 0),Ra.set(this,void 0),no.set(this,void 0),Xf.set(this,void 0),wn.set(this,void 0),Dd.set(this,void 0),Ld.set(this,void 0),Vu.set(this,void 0)}[(Lv=new WeakMap,Cr=new WeakMap,Od=new WeakMap,tr=new WeakMap,ho=new WeakMap,Ra=new WeakMap,no=new WeakMap,Xf=new WeakMap,wn=new WeakMap,Dd=new WeakMap,Ld=new WeakMap,Vu=new WeakMap,Pt=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new co;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=kr.fromReadableStream(e,this.controller);for await(const o of i)V(this,Pt,"m",mu).call(this,o);if((s=i.controller.signal)!=null&&s.aborted)throw new Fn;return this._addRun(V(this,Pt,"m",gu).call(this))}toReadableStream(){return new kr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,i){const s=new co;return s._run(()=>s._runToolAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createToolAssistantStream(e,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await e.submitToolOutputs(n,o,{...i,signal:this.controller.signal});this._connected();for await(const c of a)V(this,Pt,"m",mu).call(this,c);if((l=a.controller.signal)!=null&&l.aborted)throw new Fn;return this._addRun(V(this,Pt,"m",gu).call(this))}static createThreadAssistantStream(e,n,r){const i=new co;return i._run(()=>i._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,n,r,i){const s=new co;return s._run(()=>s._runAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return V(this,Dd,"f")}currentRun(){return V(this,Ld,"f")}currentMessageSnapshot(){return V(this,tr,"f")}currentRunStepSnapshot(){return V(this,Vu,"f")}async finalRunSteps(){return await this.done(),Object.values(V(this,Cr,"f"))}async finalMessages(){return await this.done(),Object.values(V(this,Od,"f"))}async finalRun(){if(await this.done(),!V(this,ho,"f"))throw Error("Final run was not received.");return V(this,ho,"f")}async _createThreadAssistantStream(e,n,r){var a;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},o=await e.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const l of o)V(this,Pt,"m",mu).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new Fn;return this._addRun(V(this,Pt,"m",gu).call(this))}async _createAssistantStream(e,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await e.create(n,o,{...i,signal:this.controller.signal});this._connected();for await(const c of a)V(this,Pt,"m",mu).call(this,c);if((l=a.controller.signal)!=null&&l.aborted)throw new Fn;return this._addRun(V(this,Pt,"m",gu).call(this))}static accumulateDelta(e,n){for(const[r,i]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let s=e[r];if(s==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(gg(s)&&gg(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(o=>typeof o=="string"||typeof o=="number")){s.push(...i);continue}for(const o of i){if(!gg(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const a=o.index;if(a==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=s[a];l==null?s.push(o):s[a]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);e[r]=s}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,i){return await this._createAssistantStream(n,e,r,i)}async _runToolAssistantStream(e,n,r,i){return await this._createToolAssistantStream(n,e,r,i)}}co=Fu,mu=function(e){if(!this.ended)switch(oe(this,Dd,e),V(this,Pt,"m",aR).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":V(this,Pt,"m",hR).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":V(this,Pt,"m",oR).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":V(this,Pt,"m",sR).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},gu=function(){if(this.ended)throw new te("stream has ended, this shouldn't happen");if(!V(this,ho,"f"))throw Error("Final run has not been received");return V(this,ho,"f")},sR=function(e){const[n,r]=V(this,Pt,"m",uR).call(this,e,V(this,tr,"f"));oe(this,tr,n),V(this,Od,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,o=n.content[i.index];if(o&&o.type=="text")this._emit("textDelta",s,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=V(this,Ra,"f")){if(V(this,no,"f"))switch(V(this,no,"f").type){case"text":this._emit("textDone",V(this,no,"f").text,V(this,tr,"f"));break;case"image_file":this._emit("imageFileDone",V(this,no,"f").image_file,V(this,tr,"f"));break}oe(this,Ra,i.index)}oe(this,no,n.content[i.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(V(this,Ra,"f")!==void 0){const i=e.data.content[V(this,Ra,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,V(this,tr,"f"));break;case"text":this._emit("textDone",i.text,V(this,tr,"f"));break}}V(this,tr,"f")&&this._emit("messageDone",e.data),oe(this,tr,void 0)}},oR=function(e){const n=V(this,Pt,"m",lR).call(this,e);switch(oe(this,Vu,n),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==V(this,Xf,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(V(this,wn,"f")&&this._emit("toolCallDone",V(this,wn,"f")),oe(this,Xf,s.index),oe(this,wn,n.step_details.tool_calls[s.index]),V(this,wn,"f")&&this._emit("toolCallCreated",V(this,wn,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":oe(this,Vu,void 0),e.data.step_details.type=="tool_calls"&&V(this,wn,"f")&&(this._emit("toolCallDone",V(this,wn,"f")),oe(this,wn,void 0)),this._emit("runStepDone",e.data,n);break}},aR=function(e){V(this,Lv,"f").push(e),this._emit("event",e)},lR=function(e){switch(e.event){case"thread.run.step.created":return V(this,Cr,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=V(this,Cr,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=co.accumulateDelta(n,r.delta);V(this,Cr,"f")[e.data.id]=i}return V(this,Cr,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":V(this,Cr,"f")[e.data.id]=e.data;break}if(V(this,Cr,"f")[e.data.id])return V(this,Cr,"f")[e.data.id];throw new Error("No snapshot available")},uR=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let o=n.content[s.index];n.content[s.index]=V(this,Pt,"m",cR).call(this,s,o)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},cR=function(e,n){return co.accumulateDelta(n,e)},hR=function(e){switch(oe(this,Ld,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":oe(this,ho,e.data),V(this,wn,"f")&&(this._emit("toolCallDone",V(this,wn,"f")),oe(this,wn,void 0));break}};let aS=class extends ee{constructor(){super(...arguments),this.steps=new Fk(this._client)}create(e,n,r){const{include:i,...s}=n;return this._client.post(j`/threads/${e}/runs`,{query:{include:i},body:s,...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}retrieve(e,n,r){const{thread_id:i}=n;return this._client.get(j`/threads/${i}/runs/${e}`,{...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{thread_id:i,...s}=n;return this._client.post(j`/threads/${i}/runs/${e}`,{body:s,...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList(j`/threads/${e}/runs`,ct,{query:n,...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(e,n,r){const{thread_id:i}=n;return this._client.post(j`/threads/${i}/runs/${e}/cancel`,{...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(i.id,{thread_id:e},r)}createAndStream(e,n,r){return Fu.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){var s;const i=J([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((s=r==null?void 0:r.pollIntervalMs)==null?void 0:s.toString())??void 0}]);for(;;){const{data:o,response:a}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const c=a.headers.get("openai-poll-after-ms");if(c){const h=parseInt(c);isNaN(h)||(l=h)}}await jc(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(e,n,r){return Fu.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r){const{thread_id:i,...s}=n;return this._client.post(j`/threads/${i}/runs/${e}/submit_tool_outputs`,{body:s,...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(e,n,r){const i=await this.submitToolOutputs(e,n,r);return await this.poll(i.id,n,r)}submitToolOutputsStream(e,n,r){return Fu.createToolAssistantStream(e,this._client.beta.threads.runs,n,r)}};aS.Steps=Fk;class Xp extends ee{constructor(){super(...arguments),this.runs=new aS(this._client),this.messages=new Vk(this._client)}create(e={},n){return this._client.post("/threads",{body:e,...n,headers:J([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get(j`/threads/${e}`,{...n,headers:J([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post(j`/threads/${e}`,{body:n,...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n){return this._client.delete(j`/threads/${e}`,{...n,headers:J([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:J([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(e,n){return Fu.createThreadAssistantStream(e,this._client.beta.threads,n)}}Xp.Runs=aS;Xp.Messages=Vk;class yl extends ee{constructor(){super(...arguments),this.realtime=new Gp(this._client),this.chatkit=new Qp(this._client),this.assistants=new Ok(this._client),this.threads=new Xp(this._client)}}yl.Realtime=Gp;yl.ChatKit=Qp;yl.Assistants=Ok;yl.Threads=Xp;class Bk extends ee{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class $k extends ee{retrieve(e,n,r){const{container_id:i}=n;return this._client.get(j`/containers/${i}/files/${e}/content`,{...r,headers:J([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}}let lS=class extends ee{constructor(){super(...arguments),this.content=new $k(this._client)}create(e,n,r){return this._client.post(j`/containers/${e}/files`,Io({body:n,...r},this._client))}retrieve(e,n,r){const{container_id:i}=n;return this._client.get(j`/containers/${i}/files/${e}`,r)}list(e,n={},r){return this._client.getAPIList(j`/containers/${e}/files`,ct,{query:n,...r})}delete(e,n,r){const{container_id:i}=n;return this._client.delete(j`/containers/${i}/files/${e}`,{...r,headers:J([{Accept:"*/*"},r==null?void 0:r.headers])})}};lS.Content=$k;class uS extends ee{constructor(){super(...arguments),this.files=new lS(this._client)}create(e,n){return this._client.post("/containers",{body:e,...n})}retrieve(e,n){return this._client.get(j`/containers/${e}`,n)}list(e={},n){return this._client.getAPIList("/containers",ct,{query:e,...n})}delete(e,n){return this._client.delete(j`/containers/${e}`,{...n,headers:J([{Accept:"*/*"},n==null?void 0:n.headers])})}}uS.Files=lS;class jk extends ee{create(e,n,r){const{include:i,...s}=n;return this._client.post(j`/conversations/${e}/items`,{query:{include:i},body:s,...r})}retrieve(e,n,r){const{conversation_id:i,...s}=n;return this._client.get(j`/conversations/${i}/items/${e}`,{query:s,...r})}list(e,n={},r){return this._client.getAPIList(j`/conversations/${e}/items`,zf,{query:n,...r})}delete(e,n,r){const{conversation_id:i}=n;return this._client.delete(j`/conversations/${i}/items/${e}`,r)}}class cS extends ee{constructor(){super(...arguments),this.items=new jk(this._client)}create(e={},n){return this._client.post("/conversations",{body:e,...n})}retrieve(e,n){return this._client.get(j`/conversations/${e}`,n)}update(e,n,r){return this._client.post(j`/conversations/${e}`,{body:n,...r})}delete(e,n){return this._client.delete(j`/conversations/${e}`,n)}}cS.Items=jk;class Uk extends ee{create(e,n){const r=!!e.encoding_format;let i=r?e.encoding_format:"base64";r&&xt(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const s=this._client.post("/embeddings",{body:{...e,encoding_format:i},...n});return r?s:(xt(this._client).debug("embeddings/decoding base64 embeddings from base64"),s._thenUnwrap(o=>(o&&o.data&&o.data.forEach(a=>{const l=a.embedding;a.embedding=a8(l)}),o)))}}class zk extends ee{retrieve(e,n,r){const{eval_id:i,run_id:s}=n;return this._client.get(j`/evals/${i}/runs/${s}/output_items/${e}`,r)}list(e,n,r){const{eval_id:i,...s}=n;return this._client.getAPIList(j`/evals/${i}/runs/${e}/output_items`,ct,{query:s,...r})}}class hS extends ee{constructor(){super(...arguments),this.outputItems=new zk(this._client)}create(e,n,r){return this._client.post(j`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){const{eval_id:i}=n;return this._client.get(j`/evals/${i}/runs/${e}`,r)}list(e,n={},r){return this._client.getAPIList(j`/evals/${e}/runs`,ct,{query:n,...r})}delete(e,n,r){const{eval_id:i}=n;return this._client.delete(j`/evals/${i}/runs/${e}`,r)}cancel(e,n,r){const{eval_id:i}=n;return this._client.post(j`/evals/${i}/runs/${e}`,r)}}hS.OutputItems=zk;class dS extends ee{constructor(){super(...arguments),this.runs=new hS(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(j`/evals/${e}`,n)}update(e,n,r){return this._client.post(j`/evals/${e}`,{body:n,...r})}list(e={},n){return this._client.getAPIList("/evals",ct,{query:e,...n})}delete(e,n){return this._client.delete(j`/evals/${e}`,n)}}dS.Runs=hS;let Wk=class extends ee{create(e,n){return this._client.post("/files",Io({body:e,...n},this._client))}retrieve(e,n){return this._client.get(j`/files/${e}`,n)}list(e={},n){return this._client.getAPIList("/files",ct,{query:e,...n})}delete(e,n){return this._client.delete(j`/files/${e}`,n)}content(e,n){return this._client.get(j`/files/${e}/content`,{...n,headers:J([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let o=await this.retrieve(e);for(;!o.status||!i.has(o.status);)if(await jc(n),o=await this.retrieve(e),Date.now()-s>r)throw new Yw({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return o}};class Hk extends ee{}let qk=class extends ee{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class fS extends ee{constructor(){super(...arguments),this.graders=new qk(this._client)}}fS.Graders=qk;class Kk extends ee{create(e,n,r){return this._client.getAPIList(j`/fine_tuning/checkpoints/${e}/permissions`,Kp,{body:n,method:"post",...r})}retrieve(e,n={},r){return this._client.get(j`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}delete(e,n,r){const{fine_tuned_model_checkpoint:i}=n;return this._client.delete(j`/fine_tuning/checkpoints/${i}/permissions/${e}`,r)}}let pS=class extends ee{constructor(){super(...arguments),this.permissions=new Kk(this._client)}};pS.Permissions=Kk;class Gk extends ee{list(e,n={},r){return this._client.getAPIList(j`/fine_tuning/jobs/${e}/checkpoints`,ct,{query:n,...r})}}class mS extends ee{constructor(){super(...arguments),this.checkpoints=new Gk(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(j`/fine_tuning/jobs/${e}`,n)}list(e={},n){return this._client.getAPIList("/fine_tuning/jobs",ct,{query:e,...n})}cancel(e,n){return this._client.post(j`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return this._client.getAPIList(j`/fine_tuning/jobs/${e}/events`,ct,{query:n,...r})}pause(e,n){return this._client.post(j`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(j`/fine_tuning/jobs/${e}/resume`,n)}}mS.Checkpoints=Gk;class vl extends ee{constructor(){super(...arguments),this.methods=new Hk(this._client),this.jobs=new mS(this._client),this.checkpoints=new pS(this._client),this.alpha=new fS(this._client)}}vl.Methods=Hk;vl.Jobs=mS;vl.Checkpoints=pS;vl.Alpha=fS;class Qk extends ee{}class gS extends ee{constructor(){super(...arguments),this.graderModels=new Qk(this._client)}}gS.GraderModels=Qk;class Xk extends ee{createVariation(e,n){return this._client.post("/images/variations",Io({body:e,...n},this._client))}edit(e,n){return this._client.post("/images/edits",Io({body:e,...n,stream:e.stream??!1},this._client))}generate(e,n){return this._client.post("/images/generations",{body:e,...n,stream:e.stream??!1})}}class Yk extends ee{retrieve(e,n){return this._client.get(j`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Kp,e)}delete(e,n){return this._client.delete(j`/models/${e}`,n)}}class Jk extends ee{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class Zk extends ee{accept(e,n,r){return this._client.post(j`/realtime/calls/${e}/accept`,{body:n,...r,headers:J([{Accept:"*/*"},r==null?void 0:r.headers])})}hangup(e,n){return this._client.post(j`/realtime/calls/${e}/hangup`,{...n,headers:J([{Accept:"*/*"},n==null?void 0:n.headers])})}refer(e,n,r){return this._client.post(j`/realtime/calls/${e}/refer`,{body:n,...r,headers:J([{Accept:"*/*"},r==null?void 0:r.headers])})}reject(e,n={},r){return this._client.post(j`/realtime/calls/${e}/reject`,{body:n,...r,headers:J([{Accept:"*/*"},r==null?void 0:r.headers])})}}class eO extends ee{create(e,n){return this._client.post("/realtime/client_secrets",{body:e,...n})}}class Yp extends ee{constructor(){super(...arguments),this.clientSecrets=new eO(this._client),this.calls=new Zk(this._client)}}Yp.ClientSecrets=eO;Yp.Calls=Zk;function l8(t,e){return!e||!c8(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:tO(t,e)}function tO(t,e){const n=t.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:f8(e,i)};if(i.type==="message"){const s=i.content.map(o=>o.type==="output_text"?{...o,parsed:u8(e,o.text)}:o);return{...i,content:s}}return i}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||Nv(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const i of r.output)if(i.type==="message"){for(const s of i.content)if(s.type==="output_text"&&s.parsed!==null)return s.parsed}return null}}),r}function u8(t,e){var n,r,i,s;return((r=(n=t.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((i=t.text)==null?void 0:i.format)?((s=t.text)==null?void 0:s.format).$parseRaw(e):JSON.parse(e)}function c8(t){var e;return!!tS((e=t.text)==null?void 0:e.format)}function h8(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function d8(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function f8(t,e){const n=d8(t.tools??[],e.name);return{...e,...e,parsed_arguments:h8(n)?n.$parseRaw(e.arguments):n!=null&&n.strict?JSON.parse(e.arguments):null}}function Nv(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}var na,Xh,Gi,Yh,dR,fR,pR,mR;class yS extends rS{constructor(e){super(),na.add(this),Xh.set(this,void 0),Gi.set(this,void 0),Yh.set(this,void 0),oe(this,Xh,e)}static createResponse(e,n,r){const i=new yS(n);return i._run(()=>i._createOrRetrieveResponse(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(e,n,r){var a;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),V(this,na,"m",dR).call(this);let s,o=null;"response_id"in n?(s=await e.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),o=n.starting_after??null):s=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const l of s)V(this,na,"m",fR).call(this,l,o);if((a=s.controller.signal)!=null&&a.aborted)throw new Fn;return V(this,na,"m",pR).call(this)}[(Xh=new WeakMap,Gi=new WeakMap,Yh=new WeakMap,na=new WeakSet,dR=function(){this.ended||oe(this,Gi,void 0)},fR=function(n,r){if(this.ended)return;const i=(o,a)=>{(r==null||a.sequence_number>r)&&this._emit(o,a)},s=V(this,na,"m",mR).call(this,n);switch(i("event",n),n.type){case"response.output_text.delta":{const o=s.output[n.output_index];if(!o)throw new te(`missing output at index ${n.output_index}`);if(o.type==="message"){const a=o.content[n.content_index];if(!a)throw new te(`missing content at index ${n.content_index}`);if(a.type!=="output_text")throw new te(`expected content to be 'output_text', got ${a.type}`);i("response.output_text.delta",{...n,snapshot:a.text})}break}case"response.function_call_arguments.delta":{const o=s.output[n.output_index];if(!o)throw new te(`missing output at index ${n.output_index}`);o.type==="function_call"&&i("response.function_call_arguments.delta",{...n,snapshot:o.arguments});break}default:i(n.type,n);break}},pR=function(){if(this.ended)throw new te("stream has ended, this shouldn't happen");const n=V(this,Gi,"f");if(!n)throw new te("request ended without sending any events");oe(this,Gi,void 0);const r=p8(n,V(this,Xh,"f"));return oe(this,Yh,r),r},mR=function(n){var i;let r=V(this,Gi,"f");if(!r){if(n.type!=="response.created")throw new te(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=oe(this,Gi,n.response),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new te(`missing output at index ${n.output_index}`);const o=s.type,a=n.part;o==="message"&&a.type!=="reasoning_text"?s.content.push(a):o==="reasoning"&&a.type==="reasoning_text"&&(s.content||(s.content=[]),s.content.push(a));break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new te(`missing output at index ${n.output_index}`);if(s.type==="message"){const o=s.content[n.content_index];if(!o)throw new te(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new te(`expected content to be 'output_text', got ${o.type}`);o.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new te(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.reasoning_text.delta":{const s=r.output[n.output_index];if(!s)throw new te(`missing output at index ${n.output_index}`);if(s.type==="reasoning"){const o=(i=s.content)==null?void 0:i[n.content_index];if(!o)throw new te(`missing content at index ${n.content_index}`);if(o.type!=="reasoning_text")throw new te(`expected content to be 'reasoning_text', got ${o.type}`);o.text+=n.delta}break}case"response.completed":{oe(this,Gi,n.response);break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=V(this,Yh,"f");if(!e)throw new te("stream ended without producing a ChatCompletion");return e}}function p8(t,e){return l8(t,e)}class nO extends ee{list(e,n={},r){return this._client.getAPIList(j`/responses/${e}/input_items`,ct,{query:n,...r})}}class rO extends ee{count(e={},n){return this._client.post("/responses/input_tokens",{body:e,...n})}}class Jp extends ee{constructor(){super(...arguments),this.inputItems=new nO(this._client),this.inputTokens=new rO(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Nv(r),r))}retrieve(e,n={},r){return this._client.get(j`/responses/${e}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&Nv(i),i))}delete(e,n){return this._client.delete(j`/responses/${e}`,{...n,headers:J([{Accept:"*/*"},n==null?void 0:n.headers])})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>tO(r,e))}stream(e,n){return yS.createResponse(this._client,e,n)}cancel(e,n){return this._client.post(j`/responses/${e}/cancel`,n)}compact(e={},n){return this._client.post("/responses/compact",{body:e,...n})}}Jp.InputItems=nO;Jp.InputTokens=rO;class iO extends ee{create(e,n,r){return this._client.post(j`/uploads/${e}/parts`,Io({body:n,...r},this._client))}}class vS extends ee{constructor(){super(...arguments),this.parts=new iO(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(j`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(j`/uploads/${e}/complete`,{body:n,...r})}}vS.Parts=iO;const m8=async t=>{const e=await Promise.allSettled(t),n=e.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};class sO extends ee{create(e,n,r){return this._client.post(j`/vector_stores/${e}/file_batches`,{body:n,...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{vector_store_id:i}=n;return this._client.get(j`/vector_stores/${i}/file_batches/${e}`,{...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(e,n,r){const{vector_store_id:i}=n;return this._client.post(j`/vector_stores/${i}/file_batches/${e}/cancel`,{...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const i=await this.create(e,n);return await this.poll(e,i.id,r)}listFiles(e,n,r){const{vector_store_id:i,...s}=n;return this._client.getAPIList(j`/vector_stores/${i}/file_batches/${e}/files`,ct,{query:s,...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async poll(e,n,r){var s;const i=J([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((s=r==null?void 0:r.pollIntervalMs)==null?void 0:s.toString())??void 0}]);for(;;){const{data:o,response:a}=await this.retrieve(n,{vector_store_id:e},{...r,headers:i}).withResponse();switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const c=a.headers.get("openai-poll-after-ms");if(c){const h=parseInt(c);isNaN(h)||(l=h)}}await jc(l);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},i){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const s=(i==null?void 0:i.maxConcurrency)??5,o=Math.min(s,n.length),a=this._client,l=n.values(),c=[...r];async function h(f){for(let m of f){const v=await a.files.create({file:m,purpose:"assistants"},i);c.push(v.id)}}const d=Array(o).fill(l).map(h);return await m8(d),await this.createAndPoll(e,{file_ids:c})}}class oO extends ee{create(e,n,r){return this._client.post(j`/vector_stores/${e}/files`,{body:n,...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(e,n,r){const{vector_store_id:i}=n;return this._client.get(j`/vector_stores/${i}/files/${e}`,{...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(e,n,r){const{vector_store_id:i,...s}=n;return this._client.post(j`/vector_stores/${i}/files/${e}`,{body:s,...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e,n={},r){return this._client.getAPIList(j`/vector_stores/${e}/files`,ct,{query:n,...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(e,n,r){const{vector_store_id:i}=n;return this._client.delete(j`/vector_stores/${i}/files/${e}`,{...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}async poll(e,n,r){var s;const i=J([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((s=r==null?void 0:r.pollIntervalMs)==null?void 0:s.toString())??void 0}]);for(;;){const o=await this.retrieve(n,{vector_store_id:e},{...r,headers:i}).withResponse(),a=o.data;switch(a.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const c=o.response.headers.get("openai-poll-after-ms");if(c){const h=parseInt(c);isNaN(h)||(l=h)}}await jc(l);break;case"failed":case"completed":return a}}}async upload(e,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,n,r){const i=await this.upload(e,n,r);return await this.poll(e,i.id,r)}content(e,n,r){const{vector_store_id:i}=n;return this._client.getAPIList(j`/vector_stores/${i}/files/${e}/content`,Kp,{...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Zp extends ee{constructor(){super(...arguments),this.files=new oO(this._client),this.fileBatches=new sO(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:J([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(e,n){return this._client.get(j`/vector_stores/${e}`,{...n,headers:J([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(e,n,r){return this._client.post(j`/vector_stores/${e}`,{body:n,...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(e={},n){return this._client.getAPIList("/vector_stores",ct,{query:e,...n,headers:J([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(e,n){return this._client.delete(j`/vector_stores/${e}`,{...n,headers:J([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}search(e,n,r){return this._client.getAPIList(j`/vector_stores/${e}/search`,Kp,{body:n,method:"post",...r,headers:J([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}Zp.Files=oO;Zp.FileBatches=sO;class aO extends ee{create(e,n){return this._client.post("/videos",eR({body:e,...n},this._client))}retrieve(e,n){return this._client.get(j`/videos/${e}`,n)}list(e={},n){return this._client.getAPIList("/videos",zf,{query:e,...n})}delete(e,n){return this._client.delete(j`/videos/${e}`,n)}downloadContent(e,n={},r){return this._client.get(j`/videos/${e}/content`,{query:n,...r,headers:J([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}remix(e,n,r){return this._client.post(j`/videos/${e}/remix`,eR({body:n,...r},this._client))}}var ca,lO,Nd;class uO extends ee{constructor(){super(...arguments),ca.add(this)}async unwrap(e,n,r=this._client.webhookSecret,i=300){return await this.verifySignature(e,n,r,i),JSON.parse(e)}async verifySignature(e,n,r=this._client.webhookSecret,i=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");V(this,ca,"m",lO).call(this,r);const s=J([n]).values,o=V(this,ca,"m",Nd).call(this,s,"webhook-signature"),a=V(this,ca,"m",Nd).call(this,s,"webhook-timestamp"),l=V(this,ca,"m",Nd).call(this,s,"webhook-id"),c=parseInt(a,10);if(isNaN(c))throw new lu("Invalid webhook timestamp format");const h=Math.floor(Date.now()/1e3);if(h-c>i)throw new lu("Webhook timestamp is too old");if(c>h+i)throw new lu("Webhook timestamp is too new");const d=o.split(" ").map(E=>E.startsWith("v1,")?E.substring(3):E),f=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),m=l?`${l}.${a}.${e}`:`${a}.${e}`,v=await crypto.subtle.importKey("raw",f,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const E of d)try{const R=Buffer.from(E,"base64");if(await crypto.subtle.verify("HMAC",v,R,new TextEncoder().encode(m)))return}catch{continue}throw new lu("The given webhook signature does not match the expected signature")}}ca=new WeakSet,lO=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Nd=function(e,n){if(!e)throw new Error("Headers are required");const r=e.get(n);if(r==null)throw new Error(`Missing required header: ${n}`);return r};var Mv,_S,Md,cO;class fe{constructor({baseURL:e=ta("OPENAI_BASE_URL"),apiKey:n=ta("OPENAI_API_KEY"),organization:r=ta("OPENAI_ORG_ID")??null,project:i=ta("OPENAI_PROJECT_ID")??null,webhookSecret:s=ta("OPENAI_WEBHOOK_SECRET")??null,...o}={}){if(Mv.add(this),Md.set(this,void 0),this.completions=new Bk(this),this.chat=new oS(this),this.embeddings=new Uk(this),this.files=new Wk(this),this.images=new Xk(this),this.audio=new zc(this),this.moderations=new Jk(this),this.models=new Yk(this),this.fineTuning=new vl(this),this.graders=new gS(this),this.vectorStores=new Zp(this),this.webhooks=new uO(this),this.beta=new yl(this),this.batches=new kk(this),this.uploads=new vS(this),this.responses=new Jp(this),this.realtime=new Yp(this),this.conversations=new cS(this),this.evals=new dS(this),this.containers=new uS(this),this.videos=new aO(this),n===void 0)throw new te("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const a={apiKey:n,organization:r,project:i,webhookSecret:s,...o,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&yW())throw new te(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=a.baseURL,this.timeout=a.timeout??_S.DEFAULT_TIMEOUT,this.logger=a.logger??console;const l="warn";this.logLevel=l,this.logLevel=Jb(a.logLevel,"ClientOptions.logLevel",this)??Jb(ta("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??l,this.fetchOptions=a.fetchOptions,this.maxRetries=a.maxRetries??2,this.fetch=a.fetch??EW(),oe(this,Md,bW),this._options=a,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=r,this.project=i,this.webhookSecret=s}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){}async authHeaders(e){return J([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return PW(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${la}`}defaultIdempotencyKey(){return`stainless-node-retry-${DP()}`}makeStatusError(e,n,r,i){return Mt.generate(e,n,r,i)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let n;try{n=await e()}catch(r){throw r instanceof te?r:new te(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof n!="string"||!n)throw new te(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(e,n,r){const i=!V(this,Mv,"m",cO).call(this)&&r||this.baseURL,s=dW(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return fW(o)||(n={...o,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>({method:e,path:n,...i})))}request(e,n=null){return new qp(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var w,y;const i=await e,s=i.maxRetries??this.maxRetries;n==null&&(n=s),await this.prepareOptions(i);const{req:o,url:a,timeout:l}=await this.buildRequest(i,{retryCount:s-n});await this.prepareRequest(o,{url:a,options:i});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=r===void 0?"":`, retryOf: ${r}`,d=Date.now();if(xt(this).debug(`[${c}] sending request`,to({retryOfRequestLogID:r,method:i.method,url:a,options:i,headers:o.headers})),(w=i.signal)!=null&&w.aborted)throw new Fn;const f=new AbortController,m=await this.fetchWithTimeout(a,o,l,f).catch(bv),v=Date.now();if(m instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if((y=i.signal)!=null&&y.aborted)throw new Fn;const k=Tv(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(n)return xt(this).info(`[${c}] connection ${k?"timed out":"failed"} - ${S}`),xt(this).debug(`[${c}] connection ${k?"timed out":"failed"} (${S})`,to({retryOfRequestLogID:r,url:a,durationMs:v-d,message:m.message})),this.retryRequest(i,n,r??c);throw xt(this).info(`[${c}] connection ${k?"timed out":"failed"} - error; no more retries left`),xt(this).debug(`[${c}] connection ${k?"timed out":"failed"} (error; no more retries left)`,to({retryOfRequestLogID:r,url:a,durationMs:v-d,message:m.message})),k?new Yw:new Wp({cause:m})}const E=[...m.headers.entries()].filter(([S])=>S==="x-request-id").map(([S,k])=>", "+S+": "+JSON.stringify(k)).join(""),R=`[${c}${h}${E}] ${o.method} ${a} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${v-d}ms`;if(!m.ok){const S=await this.shouldRetry(m);if(n&&S){const b=`retrying, ${n} attempts remaining`;return await TW(m.body),xt(this).info(`${R} - ${b}`),xt(this).debug(`[${c}] response error (${b})`,to({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,durationMs:v-d})),this.retryRequest(i,n,r??c,m.headers)}const k=S?"error; no more retries left":"error; not retryable";xt(this).info(`${R} - ${k}`);const N=await m.text().catch(b=>bv(b).message),L=gW(N),T=L?void 0:N;throw xt(this).debug(`[${c}] response error (${k})`,to({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,message:T,durationMs:Date.now()-d})),this.makeStatusError(m.status,L,T,m.headers)}return xt(this).info(R),xt(this).debug(`[${c}] response start`,to({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,durationMs:v-d})),{response:m,options:i,controller:f,requestLogID:c,retryOfRequestLogID:r,startTime:d}}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}requestAPIList(e,n){const r=this.makeRequest(n,null,void 0);return new BW(this,r,e)}async fetchWithTimeout(e,n,r,i){const{signal:s,method:o,...a}=n||{};s&&s.addEventListener("abort",()=>i.abort());const l=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||typeof a.body=="object"&&a.body!==null&&Symbol.asyncIterator in a.body,h={signal:i.signal,...c?{duplex:"half"}:{},method:"GET",...a};o&&(h.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(l)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){let s;const o=i==null?void 0:i.get("retry-after-ms");if(o){const l=parseFloat(o);Number.isNaN(l)||(s=l)}const a=i==null?void 0:i.get("retry-after");if(a&&!s){const l=parseFloat(a);Number.isNaN(l)?s=Date.parse(a)-Date.now():s=l*1e3}if(!(s&&0<=s&&s<60*1e3)){const l=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,l)}return await jc(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,o=Math.min(.5*Math.pow(2,s),8),a=1-Math.random()*.25;return o*a*1e3}async buildRequest(e,{retryCount:n=0}={}){const r={...e},{method:i,path:s,query:o,defaultBaseURL:a}=r,l=this.buildURL(s,o,a);"timeout"in r&&mW("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:c,body:h}=this.buildBody({options:r}),d=await this.buildHeaders({options:e,method:i,bodyHeaders:c,retryCount:n});return{req:{method:i,headers:d,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"},...h&&{body:h},...this.fetchOptions??{},...r.fetchOptions??{}},url:l,timeout:r.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const o=J([s,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...SW(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,r,e.headers]);return this.validateHeaders(o),o.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=J([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:qP(e)}:V(this,Md,"f").call(this,{body:e,headers:r})}}_S=fe,Md=new WeakMap,Mv=new WeakSet,cO=function(){return this.baseURL!=="https://api.openai.com/v1"};fe.OpenAI=_S;fe.DEFAULT_TIMEOUT=6e5;fe.OpenAIError=te;fe.APIError=Mt;fe.APIConnectionError=Wp;fe.APIConnectionTimeoutError=Yw;fe.APIUserAbortError=Fn;fe.NotFoundError=VP;fe.ConflictError=FP;fe.RateLimitError=$P;fe.BadRequestError=LP;fe.AuthenticationError=NP;fe.InternalServerError=jP;fe.PermissionDeniedError=MP;fe.UnprocessableEntityError=BP;fe.InvalidWebhookSignatureError=lu;fe.toFile=WW;fe.Completions=Bk;fe.Chat=oS;fe.Embeddings=Uk;fe.Files=Wk;fe.Images=Xk;fe.Audio=zc;fe.Moderations=Jk;fe.Models=Yk;fe.FineTuning=vl;fe.Graders=gS;fe.VectorStores=Zp;fe.Webhooks=uO;fe.Beta=yl;fe.Batches=kk;fe.Uploads=vS;fe.Responses=Jp;fe.Realtime=Yp;fe.Conversations=cS;fe.Evals=dS;fe.Containers=uS;fe.Videos=aO;const g8=()=>localStorage.getItem("openai_api_key"),hO=()=>{const t=g8();if(!t)throw new Error("OpenAI API Key not found. Please add it in the Account settings.");return new fe({apiKey:t,dangerouslyAllowBrowser:!0})};async function y8(t){try{const n=await hO().chat.completions.create({model:"gpt-4o",messages:[{role:"user",content:[{type:"text",text:"Analyze this clothing item. Return a JSON object with the following fields: 'type' (e.g., shirt, pants, dress), 'color' (primary color), 'style' (e.g., casual, formal, sporty), 'tags' (array of 3-5 descriptive keywords), and 'refreshCycle' (suggested number of days before re-wearing, e.g., 1 for underwear, 7 for shirts, 14 for pants)."},{type:"image_url",image_url:{url:t}}]}],response_format:{type:"json_object"}});return JSON.parse(n.choices[0].message.content)}catch(e){return console.error("Error analyzing image:",e),{type:"unknown",color:"unknown",style:"unknown",tags:["manual-entry"],refreshCycle:7}}}async function dO(t,e){try{const n=t.map(a=>({id:a.id,type:a.type,color:a.color,tags:a.tags,style:a.style,rating:a.rating||3,wearCount:a.wearCount||0})),r=`
      I need 3 outfit suggestions from the following wardrobe items:
      ${JSON.stringify(n)}

      Criteria:
      - Destination: ${e.destination}
      - Temperature: ${e.temperature}
      - Style Preference: ${e.style}

      Rules:
      1. Prioritize items with higher 'rating'.
      2. Consider 'wearCount' - if an item has a high rating but low wear count, suggest it more.
      3. Ensure the outfits are appropriate for the temperature and destination.

      Please select 3 distinct outfits. For each outfit, provide:
      1. A short summary explaining why it fits the criteria.
      2. The list of item IDs used in the outfit.
      
      Return the result as a JSON object with a key "outfits" containing an array of the 3 suggestions.
    `,s=await hO().chat.completions.create({model:"gpt-4o",messages:[{role:"system",content:"You are a helpful fashion stylist assistant."},{role:"user",content:r}],response_format:{type:"json_object"}});return JSON.parse(s.choices[0].message.content).outfits}catch(n){return console.error("Error generating outfits:",n),[]}}function v8(){const[t,e]=C.useState(null),[n,r]=C.useState(!1),[i,s]=C.useState(null),o=C.useRef(null),{addItem:a}=zp(),l=ol(),c=Ur();C.useEffect(()=>{var v;(v=c.state)!=null&&v.image&&(e(c.state.image),d(c.state.image))},[]);const h=v=>{const E=v.target.files[0];if(E){const R=new FileReader;R.onloadend=()=>{e(R.result),d(R.result)},R.readAsDataURL(E)}},d=async v=>{r(!0);try{const E=await y8(v);s(E)}catch(E){console.error("Analysis failed",E),alert("Failed to analyze image. Please try again.")}finally{r(!1)}},f=()=>{t&&i&&(a({imageUri:t,...i,lastWorn:null}),l("/closet"))},m=()=>{e(null),s(null)};return D.jsxs(ir,{contentContainerStyle:We.container,children:[D.jsx(H,{style:We.title,children:"Add New Item"}),t?D.jsxs(Q,{style:We.previewContainer,children:[D.jsx(ur,{source:{uri:t},style:We.previewImage}),n?D.jsxs(Q,{style:We.loadingContainer,children:[D.jsx(bc,{size:"large",color:"#007AFF"}),D.jsx(H,{style:We.loadingText,children:"Analyzing your item..."})]}):i?D.jsxs(Q,{style:We.formContainer,children:[D.jsx(H,{style:We.label,children:"Type:"}),D.jsx(Lr,{style:We.input,value:i.type,onChangeText:v=>s({...i,type:v})}),D.jsx(H,{style:We.label,children:"Color:"}),D.jsx(Lr,{style:We.input,value:i.color,onChangeText:v=>s({...i,color:v})}),D.jsx(H,{style:We.label,children:"Style:"}),D.jsx(Lr,{style:We.input,value:i.style,onChangeText:v=>s({...i,style:v})}),D.jsx(H,{style:We.label,children:"Tags:"}),D.jsx(H,{style:We.tags,children:i.tags.join(", ")}),D.jsxs(Q,{style:We.buttonGroup,children:[D.jsx(Ee,{style:[We.button,We.secondaryButton],onPress:m,children:D.jsx(H,{style:We.secondaryButtonText,children:"Retake"})}),D.jsx(Ee,{style:We.button,onPress:f,children:D.jsx(H,{style:We.buttonText,children:"Save to Closet"})})]})]}):null]}):D.jsxs(Q,{style:We.uploadContainer,children:[D.jsx(Ee,{style:We.button,onPress:()=>o.current.click(),children:D.jsx(H,{style:We.buttonText,children:"Take Photo / Upload"})}),D.jsx("input",{type:"file",accept:"image/*",capture:"environment",ref:o,style:{display:"none"},onChange:h})]})]})}const We=Ie.create({container:{flexGrow:1,padding:20,alignItems:"center"},title:{fontSize:24,fontWeight:"bold",marginBottom:20},uploadContainer:{flex:1,justifyContent:"center",alignItems:"center",width:"100%"},previewContainer:{width:"100%",alignItems:"center"},previewImage:{width:300,height:300,borderRadius:10,marginBottom:20},loadingContainer:{alignItems:"center"},loadingText:{marginTop:10,color:"#666"},formContainer:{width:"100%"},label:{fontWeight:"bold",marginTop:10,marginBottom:5},input:{borderWidth:1,borderColor:"#ddd",padding:10,borderRadius:5,backgroundColor:"#fff"},tags:{fontStyle:"italic",color:"#666",marginBottom:20},buttonGroup:{flexDirection:"row",justifyContent:"space-between",marginTop:20},button:{backgroundColor:"#007AFF",padding:15,borderRadius:10,alignItems:"center",flex:1,marginHorizontal:5},buttonText:{color:"#fff",fontWeight:"bold"},secondaryButton:{backgroundColor:"#fff",borderWidth:1,borderColor:"#007AFF"},secondaryButtonText:{color:"#007AFF",fontWeight:"bold"}});function _8(){const{items:t,isItemAvailable:e,addToSchedule:n}=zp(),r=ol(),[i,s]=C.useState(""),[o,a]=C.useState(""),[l,c]=C.useState(""),[h,d]=C.useState(!1),[f,m]=C.useState([]),[v,E]=C.useState(null),[R,w]=C.useState(!1),[y,S]=C.useState(new Date().toISOString().split("T")[0]),k=async()=>{if(!i||!o||!l){alert("Please fill in all fields");return}d(!0);const _=t.filter(e);try{const b=await dO(_,{destination:i,temperature:o,style:l});m(b)}catch(b){console.error("Failed to generate outfits",b),alert("Failed to generate suggestions. Please try again.")}finally{d(!1)}},N=_=>{E(_),w(!0)},L=()=>{v&&y&&(n(y,v.items),w(!1),E(null),alert("Outfit scheduled!"),r("/schedule"))},T=_=>t.find(b=>b.id===_);return D.jsxs(ir,{contentContainerStyle:Ce.container,children:[D.jsx(H,{style:Ce.title,children:"Virtual Dressing Room"}),D.jsxs(Q,{style:Ce.form,children:[D.jsx(H,{style:Ce.label,children:"Destination / Occasion"}),D.jsx(Lr,{style:Ce.input,placeholder:"e.g. Work, Date Night, Gym",value:i,onChangeText:s}),D.jsx(H,{style:Ce.label,children:"Temperature"}),D.jsx(Lr,{style:Ce.input,placeholder:"e.g. 75F, Cold, Rainy",value:o,onChangeText:a}),D.jsx(H,{style:Ce.label,children:"Style Preference"}),D.jsx(Lr,{style:Ce.input,placeholder:"e.g. Casual, Chic, Edgy",value:l,onChangeText:c}),D.jsx(Ee,{style:[Ce.button,h&&Ce.disabledButton],onPress:k,disabled:h,children:h?D.jsx(bc,{color:"#fff"}):D.jsx(H,{style:Ce.buttonText,children:"Generate Outfits"})})]}),f.length>0&&D.jsxs(Q,{style:Ce.results,children:[D.jsx(H,{style:Ce.subtitle,children:"Suggestions"}),f.map((_,b)=>D.jsxs(Q,{style:Ce.outfitCard,children:[D.jsx(H,{style:Ce.outfitSummary,children:_.summary}),D.jsx(ir,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:Ce.itemsRow,children:_.items.map(A=>{const x=T(A);return x?D.jsxs(Q,{style:Ce.itemPreview,children:[D.jsx(ur,{source:{uri:x.imageUri},style:Ce.itemImage}),D.jsx(H,{style:Ce.itemType,children:x.type})]},A):null})}),D.jsx(Ee,{style:Ce.scheduleButton,onPress:()=>N(_),children:D.jsx(H,{style:Ce.scheduleButtonText,children:"Schedule This Outfit"})})]},b))]}),D.jsx(oc,{visible:R,transparent:!0,animationType:"slide",children:D.jsx(Q,{style:Ce.modalContainer,children:D.jsxs(Q,{style:Ce.modalContent,children:[D.jsx(H,{style:Ce.modalTitle,children:"Select Date"}),D.jsx("input",{type:"date",value:y,onChange:_=>S(_.target.value),style:Ce.dateInput}),D.jsxs(Q,{style:Ce.modalButtons,children:[D.jsx(Ee,{style:[Ce.button,Ce.cancelButton],onPress:()=>w(!1),children:D.jsx(H,{style:Ce.cancelButtonText,children:"Cancel"})}),D.jsx(Ee,{style:Ce.button,onPress:L,children:D.jsx(H,{style:Ce.buttonText,children:"Confirm"})})]})]})})})]})}const Ce=Ie.create({container:{flexGrow:1,padding:20},title:{fontSize:24,fontWeight:"bold",marginBottom:20,textAlign:"center"},form:{backgroundColor:"#fff",padding:20,borderRadius:10,marginBottom:20,elevation:2},label:{fontWeight:"bold",marginBottom:5,color:"#333"},input:{borderWidth:1,borderColor:"#ddd",padding:10,borderRadius:5,marginBottom:15,backgroundColor:"#f9f9f9"},button:{backgroundColor:"#007AFF",padding:15,borderRadius:10,alignItems:"center"},disabledButton:{backgroundColor:"#99c9ff"},buttonText:{color:"#fff",fontWeight:"bold",fontSize:16},results:{marginTop:10,paddingBottom:40},subtitle:{fontSize:20,fontWeight:"bold",marginBottom:15},outfitCard:{backgroundColor:"#fff",padding:15,borderRadius:10,marginBottom:15,elevation:2},outfitSummary:{fontSize:16,marginBottom:10,lineHeight:22},itemsRow:{flexDirection:"row",marginTop:10,marginBottom:15},itemPreview:{marginRight:15,alignItems:"center"},itemImage:{width:80,height:80,borderRadius:5,marginBottom:5},itemType:{fontSize:12,color:"#666",textTransform:"capitalize"},scheduleButton:{backgroundColor:"#34C759",padding:10,borderRadius:5,alignItems:"center"},scheduleButtonText:{color:"#fff",fontWeight:"bold"},modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.5)"},modalContent:{backgroundColor:"#fff",padding:20,borderRadius:10,width:"80%",alignItems:"center"},modalTitle:{fontSize:18,fontWeight:"bold",marginBottom:20},dateInput:{padding:10,fontSize:16,marginBottom:20,width:"100%",border:"1px solid #ddd",borderRadius:5},modalButtons:{flexDirection:"row",justifyContent:"space-between",width:"100%"},cancelButton:{backgroundColor:"#fff",borderWidth:1,borderColor:"#ddd",marginRight:10},cancelButtonText:{color:"#333"}}),Rg=async(t,e)=>{try{const r=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${e}&daily=temperature_2m_max,temperature_2m_min,weathercode&temperature_unit=fahrenheit&timezone=auto`)).json(),i={};return r.daily.time.forEach((s,o)=>{i[s]={max:Math.round(r.daily.temperature_2m_max[o]),min:Math.round(r.daily.temperature_2m_min[o]),code:r.daily.weathercode[o]}}),i}catch(n){return console.error("Error fetching weather:",n),null}},gR=t=>({0:"Clear sky",1:"Mainly clear",2:"Partly cloudy",3:"Overcast",45:"Fog",48:"Depositing rime fog",51:"Light drizzle",53:"Moderate drizzle",55:"Dense drizzle",61:"Slight rain",63:"Moderate rain",65:"Heavy rain",71:"Slight snow",73:"Moderate snow",75:"Heavy snow",95:"Thunderstorm"})[t]||"Variable";function w8(){const{schedule:t,items:e,markAsWorn:n,addToSchedule:r,isItemAvailable:i}=zp(),[s,o]=C.useState({}),[a,l]=C.useState(!1),[c,h]=C.useState(null),[d,f]=C.useState(!1),[m,v]=C.useState([]),[E,R]=C.useState({destination:"Casual",style:"Casual"});C.useEffect(()=>{(async()=>{if(navigator.geolocation)navigator.geolocation.getCurrentPosition(async x=>{const O=await Rg(x.coords.latitude,x.coords.longitude);O&&o(O)},async()=>{const x=await Rg(40.7128,-74.006);x&&o(x)});else{const x=await Rg(40.7128,-74.006);x&&o(x)}})()},[]);const w=()=>{const _=[];for(let b=0;b<7;b++){const A=new Date;A.setDate(A.getDate()+b),_.push(A.toISOString().split("T")[0])}return _},y=_=>e.find(b=>b.id===_),S=(_,b)=>{confirm("Mark this outfit as worn? Items will be unavailable for their refresh cycle.")&&n(b,_)},k=_=>{h(_),v([]),l(!0)},N=async()=>{f(!0);try{const _=s[c],b=_?`${_.max}F / ${_.min}F`:"Unknown",A=e.filter(i),x=await dO(A,{destination:E.destination,temperature:b,style:E.style});x&&x.outfits&&v(x.outfits)}catch(_){console.error("Generation failed",_),alert("Failed to generate outfits. Check your API key.")}finally{f(!1)}},L=_=>{r(c,_.itemIds),l(!1)},T=w();return D.jsxs(ir,{contentContainerStyle:Te.container,children:[D.jsx(H,{style:Te.title,children:"Outfit Schedule"}),T.map(_=>{const b=t[_],A=new Date(_),x=A.toLocaleDateString("en-US",{weekday:"long"}),O=A.toLocaleDateString("en-US",{month:"short",day:"numeric"}),P=s[_];return D.jsxs(Q,{style:Te.dayCard,children:[D.jsxs(Q,{style:Te.dateHeader,children:[D.jsxs(Q,{children:[D.jsx(H,{style:Te.dayName,children:x}),D.jsx(H,{style:Te.dateText,children:O})]}),P&&D.jsxs(Q,{style:Te.weatherContainer,children:[D.jsxs(H,{style:Te.weatherTemp,children:[P.max," / ",P.min,""]}),D.jsx(H,{style:Te.weatherDesc,children:gR(P.code)})]})]}),b?D.jsxs(Q,{children:[D.jsx(ir,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:Te.itemsRow,children:b.map(ue=>{const ge=y(ue);return ge?D.jsxs(Q,{style:Te.itemPreview,children:[D.jsx(ur,{source:{uri:ge.imageUri},style:Te.itemImage}),D.jsx(H,{style:Te.itemType,children:ge.type})]},ue):null})}),D.jsx(Ee,{style:Te.wearButton,onPress:()=>S(_,b),children:D.jsx(H,{style:Te.wearButtonText,children:"Wear This Outfit"})})]}):D.jsx(Ee,{style:Te.generateButton,onPress:()=>k(_),children:D.jsx(H,{style:Te.generateButtonText,children:"+ Generate Outfit"})})]},_)}),D.jsx(oc,{visible:a,animationType:"slide",onRequestClose:()=>l(!1),children:D.jsxs(Q,{style:Te.modalContainer,children:[D.jsxs(H,{style:Te.modalTitle,children:["Generate for ",c]}),s[c]&&D.jsxs(H,{style:Te.modalWeather,children:["Forecast: ",s[c].max," / ",s[c].min," - ",gR(s[c].code)]}),m.length===0?D.jsxs(Q,{style:Te.criteriaForm,children:[D.jsx(Ee,{style:Te.genButton,onPress:N,disabled:d,children:d?D.jsx(bc,{color:"#fff"}):D.jsx(H,{style:Te.genButtonText,children:"Generate 3 Outfits"})}),D.jsx(Ee,{style:Te.closeButton,onPress:()=>l(!1),children:D.jsx(H,{style:Te.closeButtonText,children:"Cancel"})})]}):D.jsxs(ir,{style:Te.suggestionsList,children:[m.map((_,b)=>D.jsxs(Q,{style:Te.suggestionCard,children:[D.jsx(H,{style:Te.suggestionSummary,children:_.summary}),D.jsx(ir,{horizontal:!0,children:_.itemIds.map(A=>{const x=y(A);return x?D.jsx(ur,{source:{uri:x.imageUri},style:Te.smallImage},A):null})}),D.jsx(Ee,{style:Te.selectButton,onPress:()=>L(_),children:D.jsx(H,{style:Te.selectButtonText,children:"Select This Outfit"})})]},b)),D.jsx(Ee,{style:Te.closeButton,onPress:()=>l(!1),children:D.jsx(H,{style:Te.closeButtonText,children:"Close"})})]})]})})]})}const Te=Ie.create({container:{flexGrow:1,padding:20,paddingBottom:80},title:{fontSize:24,fontWeight:"bold",marginBottom:20,textAlign:"center"},dayCard:{backgroundColor:"#fff",borderRadius:10,padding:15,marginBottom:15,elevation:2},dateHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},weatherContainer:{alignItems:"flex-end"},weatherTemp:{fontSize:16,fontWeight:"bold"},weatherDesc:{fontSize:12,color:"#666"},generateButton:{backgroundColor:"#f0f0f0",padding:15,borderRadius:8,alignItems:"center",borderWidth:1,borderColor:"#ddd",borderStyle:"dashed"},generateButtonText:{color:"#007AFF",fontSize:16},modalContainer:{flex:1,padding:20,backgroundColor:"#fff"},modalTitle:{fontSize:22,fontWeight:"bold",marginBottom:10,textAlign:"center"},modalWeather:{textAlign:"center",marginBottom:20,color:"#666"},genButton:{backgroundColor:"#007AFF",padding:15,borderRadius:10,alignItems:"center",marginBottom:10},genButtonText:{color:"#fff",fontWeight:"bold",fontSize:16},suggestionCard:{borderWidth:1,borderColor:"#ddd",borderRadius:10,padding:15,marginBottom:20},suggestionSummary:{marginBottom:10,fontStyle:"italic"},smallImage:{width:60,height:60,borderRadius:5,marginRight:5},selectButton:{backgroundColor:"#34C759",padding:10,borderRadius:5,alignItems:"center",marginTop:10},selectButtonText:{color:"#fff",fontWeight:"bold"},closeButton:{padding:15,alignItems:"center"},closeButtonText:{color:"red"},dayName:{fontSize:18,fontWeight:"bold"},dateText:{color:"#666"},itemsRow:{flexDirection:"row",marginBottom:10},itemPreview:{marginRight:10,alignItems:"center"},itemImage:{width:80,height:80,borderRadius:8,marginBottom:5},itemType:{fontSize:12},wearButton:{backgroundColor:"#007AFF",padding:10,borderRadius:5,alignItems:"center"},wearButtonText:{color:"#fff",fontWeight:"bold"},emptyText:{textAlign:"center",color:"#999",fontStyle:"italic",padding:10}});function S8(){const[t,e]=C.useState(""),[n,r]=C.useState(""),[i,s]=C.useState(!0),[o,a]=C.useState(!1),[l,c]=C.useState(""),[h,d]=C.useState(!1),[f,m]=C.useState(""),v=async()=>{c(""),m(""),a(!0);try{h?(await Pz(t),m("Check your email for password reset instructions."),d(!1)):i?await Iz(t,n):await Az(t,n)}catch(E){c(E.message.replace("Firebase: ",""))}finally{a(!1)}};return D.jsxs(Q,{style:nn.container,children:[D.jsx(ur,{source:{uri:"/pwa-192x192.png"},style:{width:100,height:100,marginBottom:20,alignSelf:"center"}}),D.jsxs(Q,{style:nn.card,children:[D.jsx(H,{style:nn.title,children:h?"Reset Password":i?"Pocket Stylist Login":"Create Account"}),l?D.jsx(H,{style:nn.error,children:l}):null,f?D.jsx(H,{style:nn.success,children:f}):null,D.jsx(Lr,{style:nn.input,placeholder:"Email",value:t,onChangeText:e,autoCapitalize:"none",keyboardType:"email-address"}),!h&&D.jsx(Lr,{style:nn.input,placeholder:"Password",value:n,onChangeText:r,secureTextEntry:!0}),D.jsx(Ee,{style:nn.button,onPress:v,disabled:o,children:o?D.jsx(bc,{color:"#fff"}):D.jsx(H,{style:nn.buttonText,children:h?"Send Reset Email":i?"Log In":"Sign Up"})}),D.jsx(Q,{style:nn.footer,children:h?D.jsx(Ee,{onPress:()=>d(!1),children:D.jsx(H,{style:nn.link,children:"Back to Login"})}):D.jsxs(D.Fragment,{children:[D.jsx(Ee,{onPress:()=>s(!i),children:D.jsx(H,{style:nn.link,children:i?"Need an account? Sign Up":"Have an account? Log In"})}),D.jsx(Ee,{onPress:()=>d(!0),children:D.jsx(H,{style:[nn.link,nn.forgotLink],children:"Forgot Password?"})})]})})]})]})}const nn=Ie.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5",padding:20,height:"100vh"},card:{backgroundColor:"#fff",padding:30,borderRadius:15,width:"100%",maxWidth:400,elevation:5,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4},title:{fontSize:24,fontWeight:"bold",marginBottom:20,textAlign:"center",color:"#333"},input:{backgroundColor:"#f9f9f9",padding:15,borderRadius:8,marginBottom:15,borderWidth:1,borderColor:"#eee"},button:{backgroundColor:"#007AFF",padding:15,borderRadius:8,alignItems:"center",marginTop:10},buttonText:{color:"#fff",fontWeight:"bold",fontSize:16},error:{color:"red",marginBottom:15,textAlign:"center"},success:{color:"green",marginBottom:15,textAlign:"center"},footer:{marginTop:20,alignItems:"center"},link:{color:"#007AFF",marginTop:10},forgotLink:{color:"#666",fontSize:12}});function E8(){const t=ol(),e=Ur(),n=[{name:"Home",path:"/"},{name:"Closet",path:"/closet"},{name:"Style",path:"/outfits"},{name:"Plan",path:"/schedule"}];return D.jsx(Q,{style:Yl.navBar,children:n.map(r=>{const i=e.pathname===r.path;return D.jsx(Ee,{style:[Yl.tab,i&&Yl.activeTab],onPress:()=>t(r.path),children:D.jsx(H,{style:[Yl.tabText,i&&Yl.activeTabText],children:r.name})},r.name)})})}const Yl=Ie.create({navBar:{flexDirection:"row",justifyContent:"space-around",backgroundColor:"#fff",borderTopWidth:1,borderTopColor:"#eee",paddingBottom:20,paddingTop:10,position:"absolute",bottom:0,left:0,right:0},tab:{alignItems:"center",padding:10},activeTab:{borderBottomWidth:2,borderBottomColor:"#007AFF"},tabText:{fontSize:12,color:"#888"},activeTabText:{color:"#007AFF",fontWeight:"bold"}});function T8({visible:t,onClose:e}){const n=gl.currentUser,[r,i]=C.useState("");C.useEffect(()=>{n&&tW(n.uid).then(a=>{if(a!=null&&a.openai_api_key)i(a.openai_api_key),localStorage.setItem("openai_api_key",a.openai_api_key);else{const l=localStorage.getItem("openai_api_key");l&&i(l)}})},[n,t]);const s=async()=>{n&&(await eW(n.uid,{openai_api_key:r}),localStorage.setItem("openai_api_key",r),alert("API Key saved to account!"))},o=async()=>{try{await xz(),e()}catch(a){console.error("Failed to log out",a)}};return D.jsx(oc,{visible:t,transparent:!0,animationType:"fade",onRequestClose:e,children:D.jsxs(Q,{style:$t.overlay,children:[D.jsx(Ee,{style:Ie.absoluteFill,activeOpacity:1,onPress:e}),D.jsxs(Q,{style:$t.modalContent,children:[D.jsx(H,{style:$t.title,children:"Account"}),D.jsxs(Q,{style:$t.info,children:[D.jsx(H,{style:$t.label,children:"Email"}),D.jsx(H,{style:$t.value,children:n==null?void 0:n.email})]}),D.jsxs(Q,{style:$t.section,children:[D.jsx(H,{style:$t.label,children:"OpenAI API Key"}),D.jsx("input",{type:"password",style:{width:"100%",padding:10,marginBottom:10,border:"1px solid #ddd",borderRadius:8,fontSize:16,boxSizing:"border-box"},placeholder:"sk-...",value:r,onChange:a=>i(a.target.value)}),D.jsx(Ee,{style:$t.saveButton,onPress:s,children:D.jsx(H,{style:$t.saveButtonText,children:"Save Key"})})]}),D.jsx(Ee,{style:$t.refreshButton,onPress:()=>window.location.reload(),children:D.jsx(H,{style:$t.refreshButtonText,children:"Refresh App"})}),D.jsx(Ee,{style:$t.logoutButton,onPress:o,children:D.jsx(H,{style:$t.logoutText,children:"Log Out"})}),D.jsx(Ee,{style:$t.closeButton,onPress:e,children:D.jsx(H,{style:$t.closeText,children:"Close"})})]})]})})}const $t=Ie.create({overlay:{flex:1,backgroundColor:"rgba(0,0,0,0.5)",justifyContent:"center",alignItems:"center"},modalContent:{backgroundColor:"#fff",width:"80%",maxWidth:300,borderRadius:15,padding:20,alignItems:"center",elevation:5},title:{fontSize:20,fontWeight:"bold",marginBottom:20},info:{marginBottom:20,alignItems:"center"},section:{width:"100%",marginBottom:20},label:{color:"#666",fontSize:12,marginBottom:5},value:{fontSize:16,fontWeight:"500"},input:{borderWidth:1,borderColor:"#ddd",borderRadius:8,padding:10,marginBottom:10,width:"100%"},saveButton:{backgroundColor:"#007AFF",padding:10,borderRadius:8,alignItems:"center"},saveButtonText:{color:"#fff",fontWeight:"bold"},refreshButton:{backgroundColor:"#34C759",paddingVertical:12,paddingHorizontal:30,borderRadius:25,marginBottom:10,width:"100%",alignItems:"center"},refreshButtonText:{color:"#fff",fontWeight:"bold"},logoutButton:{backgroundColor:"#FF3B30",paddingVertical:12,paddingHorizontal:30,borderRadius:25,marginBottom:10,width:"100%",alignItems:"center"},logoutText:{color:"#fff",fontWeight:"bold"},closeButton:{padding:10},closeText:{color:"#007AFF"}});function b8(){const{currentUser:t}=AP(),[e,n]=C.useState(!1),r=ol(),i=Ur(),s=["/","/closet","/outfits","/schedule"],o=Uz({onSwipedLeft:()=>{const a=s.indexOf(i.pathname);a<s.length-1&&r(s[a+1])},onSwipedRight:()=>{const a=s.indexOf(i.pathname);a>0&&r(s[a-1])},preventScrollOnSwipe:!1,trackMouse:!0,delta:50});return t?D.jsxs(Q,{style:Cg.container,children:[D.jsxs(Q,{style:Cg.header,children:[D.jsx(Q,{style:{flexDirection:"row",alignItems:"center",flex:1},children:D.jsx(ur,{source:{uri:Jz},style:{width:200,height:40,resizeMode:"contain"}})}),D.jsx(Ee,{onPress:()=>n(!0),children:D.jsx(Yz,{size:28,color:"#007AFF"})})]}),D.jsx(Q,{style:Cg.content,...o,children:D.jsxs(xB,{children:[D.jsx(ra,{path:"/",element:D.jsx(Zz,{})}),D.jsx(ra,{path:"/closet",element:D.jsx(cW,{})}),D.jsx(ra,{path:"/camera",element:D.jsx(v8,{})}),D.jsx(ra,{path:"/outfits",element:D.jsx(_8,{})}),D.jsx(ra,{path:"/schedule",element:D.jsx(w8,{})})]})}),D.jsx(E8,{}),D.jsx(T8,{visible:e,onClose:()=>n(!1)})]}):D.jsx(S8,{})}function R8(){return D.jsx(JB,{children:D.jsx(b8,{})})}const Cg=Ie.create({container:{flex:1,height:"100vh",maxHeight:"100dvh",backgroundColor:"#f5f5f5",overflow:"hidden",position:"fixed",top:0,left:0,right:0,bottom:0},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:15,backgroundColor:"#fff",borderBottomWidth:1,borderBottomColor:"#eee",paddingTop:15,zIndex:10,height:70},headerTitle:{fontSize:18,fontWeight:"bold"},accountButton:{color:"#007AFF",fontWeight:"500"},content:{flex:1,paddingBottom:60,overflow:"hidden"}});Ig.createRoot(document.getElementById("root")).render(D.jsx(ot.StrictMode,{children:D.jsx(kz,{children:D.jsx(aW,{children:D.jsx(R8,{})})})}));
